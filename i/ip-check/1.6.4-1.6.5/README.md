# Comparing `tmp/ip_check-1.6.4-py3-none-any.whl.zip` & `tmp/ip_check-1.6.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,32 @@
-Zip file size: 39783 bytes, number of entries: 30
--rw-rw-r--  2.0 unx     2989 b- defN 24-May-23 02:58 ipcheck/__init__.py
+Zip file size: 39907 bytes, number of entries: 30
+-rw-rw-r--  2.0 unx     3075 b- defN 24-May-24 07:33 ipcheck/__init__.py
 -rw-rw-r--  2.0 unx     2842 b- defN 24-May-23 03:28 ipcheck/geoinfo.py
 -rw-rw-r--  2.0 unx    10896 b- defN 24-May-23 03:26 ipcheck/main.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-14 08:04 ipcheck/app/__init__.py
 -rw-rw-r--  2.0 unx      726 b- defN 24-Mar-14 08:04 ipcheck/app/base_config.py
 -rw-rw-r--  2.0 unx      462 b- defN 24-Apr-11 06:34 ipcheck/app/common_config.py
--rw-rw-r--  2.0 unx     6252 b- defN 24-May-22 07:26 ipcheck/app/config.py
+-rw-rw-r--  2.0 unx     6407 b- defN 24-May-24 07:35 ipcheck/app/config.py
 -rw-rw-r--  2.0 unx     3013 b- defN 24-May-23 01:48 ipcheck/app/gen_ip_utils.py
 -rw-rw-r--  2.0 unx     3544 b- defN 24-May-23 02:53 ipcheck/app/geo_utils.py
 -rw-rw-r--  2.0 unx     2054 b- defN 24-May-23 01:35 ipcheck/app/ip_info.py
 -rw-rw-r--  2.0 unx     2546 b- defN 24-Mar-14 08:04 ipcheck/app/rtt_test.py
 -rw-rw-r--  2.0 unx      222 b- defN 24-May-23 01:35 ipcheck/app/rtt_test_config.py
--rw-rw-r--  2.0 unx     5656 b- defN 24-Apr-09 08:53 ipcheck/app/speed_test.py
+-rw-rw-r--  2.0 unx     5697 b- defN 24-May-24 07:37 ipcheck/app/speed_test.py
 -rw-rw-r--  2.0 unx      223 b- defN 24-Mar-14 08:04 ipcheck/app/speed_test_config.py
 -rw-rw-r--  2.0 unx     3350 b- defN 24-May-07 02:00 ipcheck/app/utils.py
--rw-rw-r--  2.0 unx     3765 b- defN 24-Apr-11 01:20 ipcheck/app/valid_test.py
+-rw-rw-r--  2.0 unx     3806 b- defN 24-May-24 07:36 ipcheck/app/valid_test.py
 -rw-rw-r--  2.0 unx      362 b- defN 24-Apr-09 08:53 ipcheck/app/valid_test_config.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Apr-09 08:53 ipcheck/app/ipparser/__init__.py
 -rw-rw-r--  2.0 unx     1186 b- defN 24-May-22 08:12 ipcheck/app/ipparser/base_parser.py
 -rw-rw-r--  2.0 unx      776 b- defN 24-May-22 07:40 ipcheck/app/ipparser/ip_cidr_parser.py
 -rw-rw-r--  2.0 unx      835 b- defN 24-May-22 07:25 ipcheck/app/ipparser/ip_dir_parser.py
 -rw-rw-r--  2.0 unx     1138 b- defN 24-May-22 07:25 ipcheck/app/ipparser/ip_file_parser.py
 -rw-rw-r--  2.0 unx      526 b- defN 24-May-22 06:58 ipcheck/app/ipparser/ip_parser.py
 -rw-rw-r--  2.0 unx     1318 b- defN 24-May-22 08:12 ipcheck/app/ipparser/ip_port_parser.py
--rw-rw-r--  2.0 unx    35148 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/LICENSE
--rw-rw-r--  2.0 unx     6885 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/WHEEL
--rw-r--r--  2.0 unx      201 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        8 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2504 b- defN 24-May-23 03:42 ip_check-1.6.4.dist-info/RECORD
-30 files, 99519 bytes uncompressed, 35749 bytes compressed:  64.1%
+-rw-rw-r--  2.0 unx    35148 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     6935 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx      201 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        8 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2504 b- defN 24-May-24 07:53 ip_check-1.6.5.dist-info/RECORD
+30 files, 99892 bytes uncompressed, 35873 bytes compressed:  64.1%
```

## zipnote {}

```diff
@@ -66,26 +66,26 @@
 
 Filename: ipcheck/app/ipparser/ip_parser.py
 Comment: 
 
 Filename: ipcheck/app/ipparser/ip_port_parser.py
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/LICENSE
+Filename: ip_check-1.6.5.dist-info/LICENSE
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/METADATA
+Filename: ip_check-1.6.5.dist-info/METADATA
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/WHEEL
+Filename: ip_check-1.6.5.dist-info/WHEEL
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/entry_points.txt
+Filename: ip_check-1.6.5.dist-info/entry_points.txt
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/top_level.txt
+Filename: ip_check-1.6.5.dist-info/top_level.txt
 Comment: 
 
-Filename: ip_check-1.6.4.dist-info/RECORD
+Filename: ip_check-1.6.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## ipcheck/__init__.py

```diff
@@ -28,14 +28,16 @@
 user_agent = False
 # 可用性检测路径, 固定的，取决于cloudflare
 path = /cdn-cgi/trace
 # 可用性测试多线程数量
 thread_num = 64
 # 可用性测试时的网络请求重试次数
 max_retry = 4
+# retry, backoff_factor
+retry_factor = 0.3
 # 可用性测试的网络请求timeout, 单位 s
 timeout = 3.5
 # 可用性测试检测的key
 check_key = h
 # 是否检测地区信息
 get_loc = True
 
@@ -69,14 +71,16 @@
 host_name = cloudflaremirrors.com
 # 使用user-agent
 user_agent = False
 # 测试下载文件的路径
 file_path = /archlinux/iso/latest/archlinux-x86_64.iso
 # 测试下载文件的重试次数
 max_retry = 10
+# retry, backoff_factor
+retry_factor = 0.3
 # 下载测试网络请求timeout, 单位 s
 timeout = 5
 # 下载时长限制, 单位 s
 download_time = 10
 # 最小达标速度, 单位 kB/s
 download_speed = 5000
 # 是否执行快速测速开关
```

## ipcheck/app/config.py

```diff
@@ -62,14 +62,16 @@
         self.vt_user_agent = False
         # 可用性检测路径, 固定的，取决于cloudflare
         self.vt_path = '/cdn-cgi/trace'
         # 可用性测试多线程数量
         self.vt_thread_num = 64
         # 可用性测试时的网络请求重试次数
         self.vt_max_retry = 4
+        # 可用性测试retry 间隔因子
+        self.vt_retry_factor = 0.3
         # 可用性测试的网络请求timeout, 单位 s
         self.vt_timeout = 3.5
         # 可用性测试检测的key
         self.vt_check_key = 'h'
         # 是否检测地区信息
         self.vt_get_loc = True
 
@@ -101,14 +103,16 @@
         self.st_host_name = 'cloudflaremirrors.com'
         # 是否使用user-agent
         self.st_user_agent = False
         # 测试下载文件的路径
         self.st_file_path = '/archlinux/iso/latest/archlinux-x86_64.iso'
         # 下载测试时网络请求的重试次数
         self.st_max_retry = 10
+        # 下载测试retry 间隔因子
+        self.st_retry_factor = 0.3
         # 下载测试网络请求timeout, 单位 s
         self.st_timeout = 5
         # 下载时长限制, 单位 s
         self.st_download_time = 10
         # 最小达标速度, 单位 kB/s
         self.st_download_speed = 5000
         # 是否执行快速测速开关
```

## ipcheck/app/speed_test.py

```diff
@@ -77,15 +77,15 @@
             try:
                 r = pool.urlopen('GET', self.config.file_path,
                                  redirect=True,
                                  headers=headers,
                                  assert_same_host=False,
                                  timeout=self.config.timeout,
                                  preload_content=False,
-                                 retries=urllib3.util.Retry(self.config.max_retry))
+                                 retries=urllib3.util.Retry(self.config.max_retry, backoff_factor=self.config.retry_factor))
                 nonlocal size
                 for chunk in r.stream():
                     size += len(chunk)
                     if stop_signal:
                         break
                 r.release_conn()
             except:
```

## ipcheck/app/valid_test.py

```diff
@@ -58,15 +58,15 @@
         headers = {
             'Host': self.config.host_name,
         }
         if self.config.user_agent:
             headers.update({'User-Agent': random.choice(USER_AGENTS)})
         try:
             r: urllib3.response = pool.urlopen('GET', self.config.path,
-                                               retries=urllib3.util.Retry(self.config.max_retry),
+                                               retries=urllib3.util.Retry(self.config.max_retry, backoff_factor=self.config.retry_factor),
                                                headers=headers,
                                                assert_same_host=False,
                                                timeout=self.config.timeout,
                                                preload_content=False,
                                                redirect=True)
             if self.config.get_loc:
                 req_dict = {}
```

## Comparing `ip_check-1.6.4.dist-info/LICENSE` & `ip_check-1.6.5.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `ip_check-1.6.4.dist-info/METADATA` & `ip_check-1.6.5.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ip-check
-Version: 1.6.4
+Version: 1.6.5
 Summary: Powerful cdn network speed test utils.
 Author: nobitaqaq
 Author-email: xiaoleigs@gmail.com
 Keywords: cdn,speed test,network speed
 Requires-Python: >=3.8
 Description-Content-Type: text/markdown
 License-File: LICENSE
@@ -134,15 +134,15 @@
 ip-check test.txt -r 500
 ```
 
 以上所有可选选项可联合使用达到最终效果。
 
 ## Others
 
-使用geo 信息需要自我下载`GeoLite2-City.mmdb` 和 `GeoLite2-ASN.mmdb`，可通过igeo-db 输入url 下载。
+使用geo 信息需要自我下载`GeoLite2-City.mmdb` 和 `GeoLite2-ASN.mmdb`，可通过`igeo-dl` 输入url 下载。
 
 ### igeo-info
 
 查看ip 归属地信息的工具
 
 ```shell
 igeo-info -h
@@ -190,14 +190,16 @@
 
 ## License
 
 [GNU General Public License, version 3](https://www.gnu.org/licenses/gpl-3.0.html)
 
 ## Release Note
 
+- V1.6.5
+  - 重试间隔可通过config 控制
 - V1.6.4
   - 代码结构调整
 - V1.6.3
   - igeo-info 增加支持文本格式
 - V1.6.2
   - 修复-po 传递参数带空格无法筛选到ip 的问题
 - V1.6.1
```

## Comparing `ip_check-1.6.4.dist-info/RECORD` & `ip_check-1.6.5.dist-info/RECORD`

 * *Files 26% similar despite different names*

```diff
@@ -1,30 +1,30 @@
-ipcheck/__init__.py,sha256=WKKqRZUGe6DKz0haVhX3VT3C-2WfP2BbfLg1UE5y-wY,2989
+ipcheck/__init__.py,sha256=Yyo4_cxw9E0Y6FUpbvw11Cnb88yoKg7eaz8NZX6WWEE,3075
 ipcheck/geoinfo.py,sha256=6dE2K5TruzbMdJbOE4MNcZUOCm4z7jMWlj8gRpTbb78,2842
 ipcheck/main.py,sha256=b74FO6Kz14x2fDGL_yZ13PcsndGcR4KyvE_KVPsvRHQ,10896
 ipcheck/app/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ipcheck/app/base_config.py,sha256=PxNW4PXHagvULNc9FgDwMtu7aCn91RYx2SqBYd4-nd4,726
 ipcheck/app/common_config.py,sha256=mCaZ6Hc46WQZFuaWSf2wY8s6ux0V7e7nPyomrp0jW6k,462
-ipcheck/app/config.py,sha256=_3Gp4mtt3UCO5jB5hRs7k6pLf6MZRelZ9SXAKu5ReYs,6252
+ipcheck/app/config.py,sha256=xvwzjA9ohUXCn51jf8QoqX-c7MnNvx8ftJVCaWMZBuA,6407
 ipcheck/app/gen_ip_utils.py,sha256=OP5QpbRvW4qN-GVlXf7xT2rXJlLo3EVw53dZj4sjB-A,3013
 ipcheck/app/geo_utils.py,sha256=nkfEGrlcGv_kUk4HpyQ7bUJFfVzinnbjGmdAvwklfBo,3544
 ipcheck/app/ip_info.py,sha256=YoKv4fNdXE3mAfDQtBGrrPQLXjFKgzdovXlJluGTg3Y,2054
 ipcheck/app/rtt_test.py,sha256=d1_iC3OFeqBAFqqHBdRN_IH5jlRgtd5USn0vV0_CM8M,2546
 ipcheck/app/rtt_test_config.py,sha256=eYtvoagKvK1xaAxbcVGoHSF-N2cpkTzRJYUsYZRJHdU,222
-ipcheck/app/speed_test.py,sha256=LKolSAPbkIkDrfJyW5fVHlMzWuGXaPOckat6S8kqebY,5656
+ipcheck/app/speed_test.py,sha256=JzLmNEeKy_UiR_7JtvbTPTTWIduWZCGcIYX3tG7JrMg,5697
 ipcheck/app/speed_test_config.py,sha256=Ji1jUEqSjAIqkzUzeE1BBHPfoJ2E-JeG36DJiHJ3CYA,223
 ipcheck/app/utils.py,sha256=ExFjmLywBzUXu3SBttL_d4-oYf4uWzjWn2fsdmSbJvE,3350
-ipcheck/app/valid_test.py,sha256=BIrC1P8_B1fATRzueWRRaQPWFmuFcPT_uDXOEfLuJzs,3765
+ipcheck/app/valid_test.py,sha256=uFzoJnpbXtkjvSVokF0LyGtu_-lHszeuQiYdgJuZYhQ,3806
 ipcheck/app/valid_test_config.py,sha256=akRLXfL1XAFVwIQKvszMRj9TfdI1oQkob3HUEr_grvQ,362
 ipcheck/app/ipparser/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 ipcheck/app/ipparser/base_parser.py,sha256=FGMCMmb9UydTdVYozZ2n9ZKf5ss9XZebZCd3iKJ1VBo,1186
 ipcheck/app/ipparser/ip_cidr_parser.py,sha256=nEJkxt5YfeRes9PZiqn_rjfF3xpc-bPVzY-hxV0-GKg,776
 ipcheck/app/ipparser/ip_dir_parser.py,sha256=KZnmBh5JArVVuumb9WoIt-iYp6LAYeqbOmmFVUFaop8,835
 ipcheck/app/ipparser/ip_file_parser.py,sha256=HFt7gPZz5miGtX5TGoT5GuJTOagdSCA5TJuNeiV60Xg,1138
 ipcheck/app/ipparser/ip_parser.py,sha256=gE5mLxEMzoEkMKn9n_QIalIrkGCbw9tm9XdKbOtnZWs,526
 ipcheck/app/ipparser/ip_port_parser.py,sha256=c8dhqfv6AIOjAfdah1pUWMuM_v4eoilefBpuvBKkA5s,1318
-ip_check-1.6.4.dist-info/LICENSE,sha256=ixuiBLtpoK3iv89l7ylKkg9rs2GzF9ukPH7ynZYzK5s,35148
-ip_check-1.6.4.dist-info/METADATA,sha256=G4zVw24IiuFK5_QGHljxAIhqjNkiHmOTk9-fvFge9xE,6885
-ip_check-1.6.4.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-ip_check-1.6.4.dist-info/entry_points.txt,sha256=LbstGY5z6sejWLCwyd9pTq4qRdfCsligLhJHjwp-Pd0,201
-ip_check-1.6.4.dist-info/top_level.txt,sha256=24binHFMOV_-4WIWZrtgRz4y7uY3vUxlJBq2UXMMfvY,8
-ip_check-1.6.4.dist-info/RECORD,,
+ip_check-1.6.5.dist-info/LICENSE,sha256=ixuiBLtpoK3iv89l7ylKkg9rs2GzF9ukPH7ynZYzK5s,35148
+ip_check-1.6.5.dist-info/METADATA,sha256=5V2UYLxbsrq_4DK-58h_Dh49Fne0Cxwfus5bEYhaRWw,6935
+ip_check-1.6.5.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+ip_check-1.6.5.dist-info/entry_points.txt,sha256=LbstGY5z6sejWLCwyd9pTq4qRdfCsligLhJHjwp-Pd0,201
+ip_check-1.6.5.dist-info/top_level.txt,sha256=24binHFMOV_-4WIWZrtgRz4y7uY3vUxlJBq2UXMMfvY,8
+ip_check-1.6.5.dist-info/RECORD,,
```

