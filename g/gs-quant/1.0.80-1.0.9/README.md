# Comparing `tmp/gs_quant-1.0.80.tar.gz` & `tmp/gs_quant-1.0.9.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/gs_quant-1.0.80.tar", last modified: Fri May 24 16:59:46 2024, max compression
+gzip compressed data, was "dist/gs_quant-1.0.9.tar", last modified: Thu Jun 29 13:45:18 2023, max compression
```

## Comparing `gs_quant-1.0.80.tar` & `gs_quant-1.0.9.tar`

### file list

```diff
@@ -1,442 +1,423 @@
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/
--rw-r--r--   0 runner    (1001) docker     (127)      363 2024-05-24 16:59:34.000000 gs_quant-1.0.80/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (127)     2296 2024-05-24 16:59:46.000000 gs_quant-1.0.80/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)     1236 2024-05-24 16:59:34.000000 gs_quant-1.0.80/README.md
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/
--rw-r--r--   0 runner    (1001) docker     (127)     1259 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      498 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/_version.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/common/
--rw-r--r--   0 runner    (1001) docker     (127)      614 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/common/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     1331 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/common/constants.py
--rw-r--r--   0 runner    (1001) docker     (127)      667 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/common/enumerators.py
--rw-r--r--   0 runner    (1001) docker     (127)     3116 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/common/helpers.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/core/
--rw-r--r--   0 runner    (1001) docker     (127)      599 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/core/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    18717 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/core/processor.py
--rw-r--r--   0 runner    (1001) docker     (127)      740 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/core/processor_result.py
--rw-r--r--   0 runner    (1001) docker     (127)     5016 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/core/query_helpers.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/
--rw-r--r--   0 runner    (1001) docker     (127)      722 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     3635 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/data_cell.py
--rw-r--r--   0 runner    (1001) docker     (127)     6053 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/data_column.py
--rw-r--r--   0 runner    (1001) docker     (127)     7603 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/data_row.py
--rw-r--r--   0 runner    (1001) docker     (127)    31289 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/datagrid.py
--rw-r--r--   0 runner    (1001) docker     (127)      882 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/serializers.py
--rw-r--r--   0 runner    (1001) docker     (127)     3036 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/datagrid/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/processors/
--rw-r--r--   0 runner    (1001) docker     (127)     1405 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2338 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/analysis_processors.py
--rw-r--r--   0 runner    (1001) docker     (127)    15660 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/econometrics_processors.py
--rw-r--r--   0 runner    (1001) docker     (127)     7837 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/scale_processors.py
--rw-r--r--   0 runner    (1001) docker     (127)     3882 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/special_processors.py
--rw-r--r--   0 runner    (1001) docker     (127)    21852 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/statistics_processors.py
--rw-r--r--   0 runner    (1001) docker     (127)    16176 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/processors/utility_processors.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/analytics/workspaces/
--rw-r--r--   0 runner    (1001) docker     (127)      869 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/workspaces/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    25146 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/workspaces/components.py
--rw-r--r--   0 runner    (1001) docker     (127)    24692 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/analytics/workspaces/workspace.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/api/
--rw-r--r--   0 runner    (1001) docker     (127)      579 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2635 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/api_cache.py
--rw-r--r--   0 runner    (1001) docker     (127)     1613 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/api_session.py
--rw-r--r--   0 runner    (1001) docker     (127)     4495 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/data.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/api/fred/
--rw-r--r--   0 runner    (1001) docker     (127)      848 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/fred/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     5648 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/fred/data.py
--rw-r--r--   0 runner    (1001) docker     (127)     1137 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/fred/fred_query.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/api/gs/
--rw-r--r--   0 runner    (1001) docker     (127)      578 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    18067 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/assets.py
--rw-r--r--   0 runner    (1001) docker     (127)     6229 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/backtests.py
--rw-r--r--   0 runner    (1001) docker     (127)     6293 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/base_screener.py
--rw-r--r--   0 runner    (1001) docker     (127)     4196 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/carbon.py
--rw-r--r--   0 runner    (1001) docker     (127)     5510 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/content.py
--rw-r--r--   0 runner    (1001) docker     (127)     2660 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/countries.py
--rw-r--r--   0 runner    (1001) docker     (127)    52253 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/data.py
--rw-r--r--   0 runner    (1001) docker     (127)     5810 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/data_screen.py
--rw-r--r--   0 runner    (1001) docker     (127)     2556 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/datagrid.py
--rw-r--r--   0 runner    (1001) docker     (127)     2235 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/esg.py
--rw-r--r--   0 runner    (1001) docker     (127)     3531 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/groups.py
--rw-r--r--   0 runner    (1001) docker     (127)    11394 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/hedges.py
--rw-r--r--   0 runner    (1001) docker     (127)     6413 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/indices.py
--rw-r--r--   0 runner    (1001) docker     (127)     2709 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/monitors.py
--rw-r--r--   0 runner    (1001) docker     (127)     1202 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/parser.py
--rw-r--r--   0 runner    (1001) docker     (127)     2123 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/plots.py
--rw-r--r--   0 runner    (1001) docker     (127)    16328 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/portfolios.py
--rw-r--r--   0 runner    (1001) docker     (127)     1376 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/price.py
--rw-r--r--   0 runner    (1001) docker     (127)    10850 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/reports.py
--rw-r--r--   0 runner    (1001) docker     (127)    14111 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/risk.py
--rw-r--r--   0 runner    (1001) docker     (127)     8994 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/risk_models.py
--rw-r--r--   0 runner    (1001) docker     (127)     4516 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/scenarios.py
--rw-r--r--   0 runner    (1001) docker     (127)     2103 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/screens.py
--rw-r--r--   0 runner    (1001) docker     (127)    19863 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/secmaster.py
--rw-r--r--   0 runner    (1001) docker     (127)     2345 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/thematics.py
--rw-r--r--   0 runner    (1001) docker     (127)     1977 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/users.py
--rw-r--r--   0 runner    (1001) docker     (127)     2536 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/gs/workspaces.py
--rw-r--r--   0 runner    (1001) docker     (127)    14834 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/risk.py
--rw-r--r--   0 runner    (1001) docker     (127)     2746 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/api/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/backtests/
--rw-r--r--   0 runner    (1001) docker     (127)      691 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     1425 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/action_handler.py
--rw-r--r--   0 runner    (1001) docker     (127)     8329 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/actions.py
--rw-r--r--   0 runner    (1001) docker     (127)      863 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/backtest_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)    16419 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/backtest_objects.py
--rw-r--r--   0 runner    (1001) docker     (127)     2007 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/backtest_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     1605 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/core.py
--rw-r--r--   0 runner    (1001) docker     (127)     2984 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/data_handler.py
--rw-r--r--   0 runner    (1001) docker     (127)     7393 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/data_sources.py
--rw-r--r--   0 runner    (1001) docker     (127)      812 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/decorator.py
--rw-r--r--   0 runner    (1001) docker     (127)    14178 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/equity_vol_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)     1248 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/event.py
--rw-r--r--   0 runner    (1001) docker     (127)     1619 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/execution_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)    44313 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/generic_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)     7972 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/order.py
--rw-r--r--   0 runner    (1001) docker     (127)    10298 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/predefined_asset_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)     1736 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/strategy.py
--rw-r--r--   0 runner    (1001) docker     (127)     6915 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/strategy_systematic.py
--rw-r--r--   0 runner    (1001) docker     (127)    18138 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/backtests/triggers.py
--rw-r--r--   0 runner    (1001) docker     (127)    21930 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/base.py
--rw-r--r--   0 runner    (1001) docker     (127)     3561 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/common.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/config/
--rw-r--r--   0 runner    (1001) docker     (127)      585 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/config/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      892 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/config/options.py
--rw-r--r--   0 runner    (1001) docker     (127)      734 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/config.ini
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/content/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/content/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/content/reports_and_screens/
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/content/reports_and_screens/00_fx/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/content/reports_and_screens/00_fx/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     3066 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/content/reports_and_screens/00_fx/vol_screen_app.py
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/content/reports_and_screens/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     5144 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/context_base.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/data/
--rw-r--r--   0 runner    (1001) docker     (127)      775 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     8929 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/coordinate.py
--rw-r--r--   0 runner    (1001) docker     (127)     3962 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/core.py
--rw-r--r--   0 runner    (1001) docker     (127)    22375 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/dataset.py
--rw-r--r--   0 runner    (1001) docker     (127)     6277 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/fields.py
--rw-r--r--   0 runner    (1001) docker     (127)     1022 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/log.py
--rw-r--r--   0 runner    (1001) docker     (127)     1897 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/query.py
--rw-r--r--   0 runner    (1001) docker     (127)     1135 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/stream.py
--rw-r--r--   0 runner    (1001) docker     (127)    12528 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/data/utilities.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/datetime/
--rw-r--r--   0 runner    (1001) docker     (127)      671 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    10989 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/date.py
--rw-r--r--   0 runner    (1001) docker     (127)     4760 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/gscalendar.py
--rw-r--r--   0 runner    (1001) docker     (127)    11678 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/point.py
--rw-r--r--   0 runner    (1001) docker     (127)     9651 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/relative_date.py
--rw-r--r--   0 runner    (1001) docker     (127)     9136 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/rules.py
--rw-r--r--   0 runner    (1001) docker     (127)     2681 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/datetime/time.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/docs/
--rw-r--r--   0 runner    (1001) docker     (127)    10879 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.business_day_count.html
--rw-r--r--   0 runner    (1001) docker     (127)    11059 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.business_day_offset.html
--rw-r--r--   0 runner    (1001) docker     (127)    11209 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.date_range.html
--rw-r--r--   0 runner    (1001) docker     (127)    10403 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.is_business_day.html
--rw-r--r--   0 runner    (1001) docker     (127)     9984 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.prev_business_date.html
--rw-r--r--   0 runner    (1001) docker     (127)     8161 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.point.point_sort_order.html
--rw-r--r--   0 runner    (1001) docker     (127)    11930 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.abs_.html
--rw-r--r--   0 runner    (1001) docker     (127)    14066 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.add.html
--rw-r--r--   0 runner    (1001) docker     (127)    10248 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.and_.html
--rw-r--r--   0 runner    (1001) docker     (127)    11754 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.ceil.html
--rw-r--r--   0 runner    (1001) docker     (127)    14106 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.divide.html
--rw-r--r--   0 runner    (1001) docker     (127)    11393 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.exp.html
--rw-r--r--   0 runner    (1001) docker     (127)    13221 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.filter_.html
--rw-r--r--   0 runner    (1001) docker     (127)    11788 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.floor.html
--rw-r--r--   0 runner    (1001) docker     (127)    13898 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.floordiv.html
--rw-r--r--   0 runner    (1001) docker     (127)    11096 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.if_.html
--rw-r--r--   0 runner    (1001) docker     (127)    11416 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.log.html
--rw-r--r--   0 runner    (1001) docker     (127)    14126 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.multiply.html
--rw-r--r--   0 runner    (1001) docker     (127)    10247 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.not_.html
--rw-r--r--   0 runner    (1001) docker     (127)    10249 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.or_.html
--rw-r--r--   0 runner    (1001) docker     (127)    11654 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.power.html
--rw-r--r--   0 runner    (1001) docker     (127)    10879 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.repeat.html
--rw-r--r--   0 runner    (1001) docker     (127)    11620 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.smooth_spikes.html
--rw-r--r--   0 runner    (1001) docker     (127)    11648 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.sqrt.html
--rw-r--r--   0 runner    (1001) docker     (127)    14183 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.subtract.html
--rw-r--r--   0 runner    (1001) docker     (127)    11852 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.weighted_sum.html
--rw-r--r--   0 runner    (1001) docker     (127)     9329 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.count.html
--rw-r--r--   0 runner    (1001) docker     (127)     9727 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.diff.html
--rw-r--r--   0 runner    (1001) docker     (127)     9322 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.first.html
--rw-r--r--   0 runner    (1001) docker     (127)    10915 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.lag.html
--rw-r--r--   0 runner    (1001) docker     (127)     9362 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.last.html
--rw-r--r--   0 runner    (1001) docker     (127)     9446 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.last_value.html
--rw-r--r--   0 runner    (1001) docker     (127)     3806 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.weighted_sum.html
--rw-r--r--   0 runner    (1001) docker     (127)    10208 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.backtesting.basket.html
--rw-r--r--   0 runner    (1001) docker     (127)    13116 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.align.html
--rw-r--r--   0 runner    (1001) docker     (127)    11783 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.date_range.html
--rw-r--r--   0 runner    (1001) docker     (127)    10482 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.day.html
--rw-r--r--   0 runner    (1001) docker     (127)    12769 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.interpolate.html
--rw-r--r--   0 runner    (1001) docker     (127)    10482 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.month.html
--rw-r--r--   0 runner    (1001) docker     (127)    10804 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.prepend.html
--rw-r--r--   0 runner    (1001) docker     (127)    10541 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.quarter.html
--rw-r--r--   0 runner    (1001) docker     (127)    10693 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.union.html
--rw-r--r--   0 runner    (1001) docker     (127)    12057 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.value.html
--rw-r--r--   0 runner    (1001) docker     (127)    10532 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.weekday.html
--rw-r--r--   0 runner    (1001) docker     (127)    10483 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.year.html
--rw-r--r--   0 runner    (1001) docker     (127)    11584 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.annualize.html
--rw-r--r--   0 runner    (1001) docker     (127)    13874 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.beta.html
--rw-r--r--   0 runner    (1001) docker     (127)    10365 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.change.html
--rw-r--r--   0 runner    (1001) docker     (127)    13613 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.correlation.html
--rw-r--r--   0 runner    (1001) docker     (127)    10460 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.excess_returns_.html
--rw-r--r--   0 runner    (1001) docker     (127)    10720 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.index.html
--rw-r--r--   0 runner    (1001) docker     (127)    10995 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.max_drawdown.html
--rw-r--r--   0 runner    (1001) docker     (127)    12717 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.prices.html
--rw-r--r--   0 runner    (1001) docker     (127)    12282 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.returns.html
--rw-r--r--   0 runner    (1001) docker     (127)    12191 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.sharpe_ratio.html
--rw-r--r--   0 runner    (1001) docker     (127)    14325 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.volatility.html
--rw-r--r--   0 runner    (1001) docker     (127)    14645 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.cov.html
--rw-r--r--   0 runner    (1001) docker     (127)    14370 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.exponential_std.html
--rw-r--r--   0 runner    (1001) docker     (127)    12083 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.generate_series.html
--rw-r--r--   0 runner    (1001) docker     (127)    13669 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.max_.html
--rw-r--r--   0 runner    (1001) docker     (127)    14083 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.mean.html
--rw-r--r--   0 runner    (1001) docker     (127)    13491 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.median.html
--rw-r--r--   0 runner    (1001) docker     (127)    13624 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.min_.html
--rw-r--r--   0 runner    (1001) docker     (127)    13107 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.mode.html
--rw-r--r--   0 runner    (1001) docker     (127)    12906 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.percentile.html
--rw-r--r--   0 runner    (1001) docker     (127)    14158 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.percentiles.html
--rw-r--r--   0 runner    (1001) docker     (127)    13132 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.product.html
--rw-r--r--   0 runner    (1001) docker     (127)    13118 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.range_.html
--rw-r--r--   0 runner    (1001) docker     (127)    13766 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.std.html
--rw-r--r--   0 runner    (1001) docker     (127)    13622 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.sum_.html
--rw-r--r--   0 runner    (1001) docker     (127)    13834 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.var.html
--rw-r--r--   0 runner    (1001) docker     (127)    14110 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.winsorize.html
--rw-r--r--   0 runner    (1001) docker     (127)    13566 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.zscores.html
--rw-r--r--   0 runner    (1001) docker     (127)    11992 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.bollinger_bands.html
--rw-r--r--   0 runner    (1001) docker     (127)    11628 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_moving_average.html
--rw-r--r--   0 runner    (1001) docker     (127)    11440 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_spread_volatility.html
--rw-r--r--   0 runner    (1001) docker     (127)    11474 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_volatility.html
--rw-r--r--   0 runner    (1001) docker     (127)    11114 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.moving_average.html
--rw-r--r--   0 runner    (1001) docker     (127)    10863 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.relative_strength_index.html
--rw-r--r--   0 runner    (1001) docker     (127)    11220 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.smoothed_moving_average.html
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/entities/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/entities/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    21932 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/entities/entitlements.py
--rw-r--r--   0 runner    (1001) docker     (127)    51512 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/entities/entity.py
--rw-r--r--   0 runner    (1001) docker     (127)     1905 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/entities/entity_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     8997 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/entities/tree_entity.py
--rw-r--r--   0 runner    (1001) docker     (127)     1434 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/errors.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/instrument/
--rw-r--r--   0 runner    (1001) docker     (127)      751 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/instrument/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    13570 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/instrument/core.py
--rw-r--r--   0 runner    (1001) docker     (127)      561 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/instrument/overrides.py
--rw-r--r--   0 runner    (1001) docker     (127)     6635 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/json_convertors.py
--rw-r--r--   0 runner    (1001) docker     (127)     1253 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/json_encoder.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/markets/
--rw-r--r--   0 runner    (1001) docker     (127)      728 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    44869 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/baskets.py
--rw-r--r--   0 runner    (1001) docker     (127)    27164 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/core.py
--rw-r--r--   0 runner    (1001) docker     (127)     9388 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/factor.py
--rw-r--r--   0 runner    (1001) docker     (127)    41479 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/hedge.py
--rw-r--r--   0 runner    (1001) docker     (127)     9303 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/historical.py
--rw-r--r--   0 runner    (1001) docker     (127)    21307 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/index.py
--rw-r--r--   0 runner    (1001) docker     (127)    20789 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/indices_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     9995 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/markets.py
--rw-r--r--   0 runner    (1001) docker     (127)    42134 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/optimizer.py
--rw-r--r--   0 runner    (1001) docker     (127)    25794 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/portfolio.py
--rw-r--r--   0 runner    (1001) docker     (127)    26341 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/portfolio_manager.py
--rw-r--r--   0 runner    (1001) docker     (127)    12973 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/portfolio_manager_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)    55601 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/position_set.py
--rw-r--r--   0 runner    (1001) docker     (127)     5421 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/position_set_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)    78444 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/report.py
--rw-r--r--   0 runner    (1001) docker     (127)     1836 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/report_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)    17140 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/scenario.py
--rw-r--r--   0 runner    (1001) docker     (127)    16440 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/screens.py
--rw-r--r--   0 runner    (1001) docker     (127)    70546 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/markets/securities.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/models/
--rw-r--r--   0 runner    (1001) docker     (127)      560 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    29649 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/models/epidemiology.py
--rw-r--r--   0 runner    (1001) docker     (127)   132426 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/models/risk_model.py
--rw-r--r--   0 runner    (1001) docker     (127)    21067 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/models/risk_model_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     5214 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/priceable.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/quote_reports/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/quote_reports/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     3294 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/quote_reports/core.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/risk/
--rw-r--r--   0 runner    (1001) docker     (127)     1030 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    20321 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/core.py
--rw-r--r--   0 runner    (1001) docker     (127)     3132 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/measures.py
--rw-r--r--   0 runner    (1001) docker     (127)    19927 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/result_handlers.py
--rw-r--r--   0 runner    (1001) docker     (127)    40197 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/results.py
--rw-r--r--   0 runner    (1001) docker     (127)     2316 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/scenario_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     2606 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/scenarios.py
--rw-r--r--   0 runner    (1001) docker     (127)     3024 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/risk/transform.py
--rw-r--r--   0 runner    (1001) docker     (127)    33438 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/session.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/target/
--rw-r--r--   0 runner    (1001) docker     (127)      581 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    30313 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/assets.py
--rw-r--r--   0 runner    (1001) docker     (127)    11832 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/assets_screener.py
--rw-r--r--   0 runner    (1001) docker     (127)    30231 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/backtests.py
--rw-r--r--   0 runner    (1001) docker     (127)     3455 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/base_screener.py
--rw-r--r--   0 runner    (1001) docker     (127)    17060 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/charts.py
--rw-r--r--   0 runner    (1001) docker     (127)   286289 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/common.py
--rw-r--r--   0 runner    (1001) docker     (127)    15857 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/content.py
--rw-r--r--   0 runner    (1001) docker     (127)     3177 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/coordinates.py
--rw-r--r--   0 runner    (1001) docker     (127)     3283 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/countries.py
--rw-r--r--   0 runner    (1001) docker     (127)    37665 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/data.py
--rw-r--r--   0 runner    (1001) docker     (127)     1937 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/data_screen.py
--rw-r--r--   0 runner    (1001) docker     (127)     4476 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/groups.py
--rw-r--r--   0 runner    (1001) docker     (127)    23783 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/hedge.py
--rw-r--r--   0 runner    (1001) docker     (127)    34658 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/indices.py
--rw-r--r--   0 runner    (1001) docker     (127)   172231 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/instrument.py
--rw-r--r--   0 runner    (1001) docker     (127)    28487 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/measures.py
--rw-r--r--   0 runner    (1001) docker     (127)    15456 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/monitor.py
--rw-r--r--   0 runner    (1001) docker     (127)    10670 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/portfolios.py
--rw-r--r--   0 runner    (1001) docker     (127)     2899 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/positions_v2_pricing.py
--rw-r--r--   0 runner    (1001) docker     (127)     6515 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/price.py
--rw-r--r--   0 runner    (1001) docker     (127)    11362 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/reports.py
--rw-r--r--   0 runner    (1001) docker     (127)    44601 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/risk.py
--rw-r--r--   0 runner    (1001) docker     (127)    17261 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/risk_models.py
--rw-r--r--   0 runner    (1001) docker     (127)     4412 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/scenarios.py
--rw-r--r--   0 runner    (1001) docker     (127)     3847 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/screens.py
--rw-r--r--   0 runner    (1001) docker     (127)    20350 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/secmaster.py
--rw-r--r--   0 runner    (1001) docker     (127)    11676 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/trades.py
--rw-r--r--   0 runner    (1001) docker     (127)    11462 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/workflow_quote.py
--rw-r--r--   0 runner    (1001) docker     (127)    19491 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/target/workspaces_markets.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/analytics/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/analytics/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     3827 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/analytics/test_datagrid.py
--rw-r--r--   0 runner    (1001) docker     (127)     5979 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/analytics/test_sorting_and_filtering.py
--rw-r--r--   0 runner    (1001) docker     (127)     5043 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/analytics/test_workspace.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/api/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     8424 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_assets.py
--rw-r--r--   0 runner    (1001) docker     (127)     4973 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_backtests.py
--rw-r--r--   0 runner    (1001) docker     (127)     7969 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_base_screener.py
--rw-r--r--   0 runner    (1001) docker     (127)     8129 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_cache.py
--rw-r--r--   0 runner    (1001) docker     (127)     7261 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_carbon.py
--rw-r--r--   0 runner    (1001) docker     (127)     3606 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_content.py
--rw-r--r--   0 runner    (1001) docker     (127)    21325 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_data.py
--rw-r--r--   0 runner    (1001) docker     (127)     6945 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_data_screen.py
--rw-r--r--   0 runner    (1001) docker     (127)     4956 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_esg.py
--rw-r--r--   0 runner    (1001) docker     (127)     5958 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_fred.py
--rw-r--r--   0 runner    (1001) docker     (127)     3940 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_groups.py
--rw-r--r--   0 runner    (1001) docker     (127)     6159 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_index.py
--rw-r--r--   0 runner    (1001) docker     (127)     1102 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_instruments.py
--rw-r--r--   0 runner    (1001) docker     (127)     2067 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_json.py
--rw-r--r--   0 runner    (1001) docker     (127)     6127 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_monitor.py
--rw-r--r--   0 runner    (1001) docker     (127)    12381 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_portfolios.py
--rw-r--r--   0 runner    (1001) docker     (127)    12023 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_reports.py
--rw-r--r--   0 runner    (1001) docker     (127)     8939 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_risk.py
--rw-r--r--   0 runner    (1001) docker     (127)    30272 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_risk_models.py
--rw-r--r--   0 runner    (1001) docker     (127)     6409 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_scenarios.py
--rw-r--r--   0 runner    (1001) docker     (127)     1887 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_target.py
--rw-r--r--   0 runner    (1001) docker     (127)     1388 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_thread_manager.py
--rw-r--r--   0 runner    (1001) docker     (127)     5394 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/api/test_users.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/backtest/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    34964 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_eq_vol_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)     5181 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_flow_vol.py
--rw-r--r--   0 runner    (1001) docker     (127)     8293 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_predefined.py
--rw-r--r--   0 runner    (1001) docker     (127)    20533 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/test_generic_engine.py
--rw-r--r--   0 runner    (1001) docker     (127)     4026 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/backtest/test_triggers.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/data/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/data/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     5915 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/data/test_data_caching.py
--rw-r--r--   0 runner    (1001) docker     (127)     2835 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/data/test_data_coordinate.py
--rw-r--r--   0 runner    (1001) docker     (127)    16267 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/data/test_dataset.py
--rw-r--r--   0 runner    (1001) docker     (127)     3263 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/data/test_query.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/datetime_/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2583 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/test_date.py
--rw-r--r--   0 runner    (1001) docker     (127)     1769 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/test_gscalendar.py
--rw-r--r--   0 runner    (1001) docker     (127)     1521 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/test_point.py
--rw-r--r--   0 runner    (1001) docker     (127)     9973 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/test_relative_date.py
--rw-r--r--   0 runner    (1001) docker     (127)     2973 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/datetime_/test_time.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/fixtures/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/fixtures/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2953 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/fixtures/content.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/markets/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    12137 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_baskets.py
--rw-r--r--   0 runner    (1001) docker     (127)   180924 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_hedger.py
--rw-r--r--   0 runner    (1001) docker     (127)     1406 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_instrument.py
--rw-r--r--   0 runner    (1001) docker     (127)    17017 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_portfolio.py
--rw-r--r--   0 runner    (1001) docker     (127)   106961 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_portfolio_manager.py
--rw-r--r--   0 runner    (1001) docker     (127)    26809 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_position_set.py
--rw-r--r--   0 runner    (1001) docker     (127)    15146 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_pricing_context.py
--rw-r--r--   0 runner    (1001) docker     (127)    22924 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_report.py
--rw-r--r--   0 runner    (1001) docker     (127)     4396 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_scenarios.py
--rw-r--r--   0 runner    (1001) docker     (127)    62477 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/markets/test_securities.py
--rw-r--r--   0 runner    (1001) docker     (127)     2188 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/mock_data_test_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/models/
--rw-r--r--   0 runner    (1001) docker     (127)      561 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     6579 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/models/test_epidemiology.py
--rw-r--r--   0 runner    (1001) docker     (127)    63252 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/models/test_risk_model.py
--rw-r--r--   0 runner    (1001) docker     (127)     2969 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/models/test_risk_model_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     2771 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/test_base.py
--rw-r--r--   0 runner    (1001) docker     (127)      824 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/test_session.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/timeseries/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2325 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/test_commod.py
--rw-r--r--   0 runner    (1001) docker     (127)     1905 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/test_measure_registry.py
--rw-r--r--   0 runner    (1001) docker     (127)    23694 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_algebra.py
--rw-r--r--   0 runner    (1001) docker     (127)     6748 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_analysis.py
--rw-r--r--   0 runner    (1001) docker     (127)    19817 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_backtesting.py
--rw-r--r--   0 runner    (1001) docker     (127)    17659 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_datetime.py
--rw-r--r--   0 runner    (1001) docker     (127)    17631 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_econometrics.py
--rw-r--r--   0 runner    (1001) docker     (127)     9989 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_helper.py
--rw-r--r--   0 runner    (1001) docker     (127)   248786 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures.py
--rw-r--r--   0 runner    (1001) docker     (127)     2345 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_countries.py
--rw-r--r--   0 runner    (1001) docker     (127)    22706 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_fx_vol.py
--rw-r--r--   0 runner    (1001) docker     (127)    14577 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_inflation.py
--rw-r--r--   0 runner    (1001) docker     (127)    18767 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_portfolios.py
--rw-r--r--   0 runner    (1001) docker     (127)    58767 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_rates.py
--rw-r--r--   0 runner    (1001) docker     (127)    45907 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_reports.py
--rw-r--r--   0 runner    (1001) docker     (127)    10777 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_risk_models.py
--rw-r--r--   0 runner    (1001) docker     (127)    14552 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_xccy.py
--rw-r--r--   0 runner    (1001) docker     (127)     2134 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_rolling.py
--rw-r--r--   0 runner    (1001) docker     (127)    29833 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_statistics.py
--rw-r--r--   0 runner    (1001) docker     (127)     1689 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_tca.py
--rw-r--r--   0 runner    (1001) docker     (127)    10237 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_technicals.py
--rw-r--r--   0 runner    (1001) docker     (127)     5038 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/test_timeseries.py
--rw-r--r--   0 runner    (1001) docker     (127)     2273 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/timeseries/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/test/utils/
--rw-r--r--   0 runner    (1001) docker     (127)       50 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     1056 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/datagrid_test_utils.py
--rw-r--r--   0 runner    (1001) docker     (127)     4379 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/mock_calc.py
--rw-r--r--   0 runner    (1001) docker     (127)     2569 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/mock_data.py
--rw-r--r--   0 runner    (1001) docker     (127)    10937 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/mock_request.py
--rw-r--r--   0 runner    (1001) docker     (127)     4595 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/test/utils/test_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/timeseries/
--rw-r--r--   0 runner    (1001) docker     (127)     1108 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)    26416 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/algebra.py
--rw-r--r--   0 runner    (1001) docker     (127)    11209 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/analysis.py
--rw-r--r--   0 runner    (1001) docker     (127)    19785 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/backtesting.py
--rw-r--r--   0 runner    (1001) docker     (127)    21687 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/datetime.py
--rw-r--r--   0 runner    (1001) docker     (127)    27165 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/econometrics.py
--rw-r--r--   0 runner    (1001) docker     (127)    13757 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/helper.py
--rw-r--r--   0 runner    (1001) docker     (127)     2245 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measure_registry.py
--rw-r--r--   0 runner    (1001) docker     (127)   235556 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures.py
--rw-r--r--   0 runner    (1001) docker     (127)     3179 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_countries.py
--rw-r--r--   0 runner    (1001) docker     (127)    29319 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_fx_vol.py
--rw-r--r--   0 runner    (1001) docker     (127)     1863 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_helper.py
--rw-r--r--   0 runner    (1001) docker     (127)    16985 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_inflation.py
--rw-r--r--   0 runner    (1001) docker     (127)     9034 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_portfolios.py
--rw-r--r--   0 runner    (1001) docker     (127)   113295 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_rates.py
--rw-r--r--   0 runner    (1001) docker     (127)    23138 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_reports.py
--rw-r--r--   0 runner    (1001) docker     (127)     8050 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_risk_models.py
--rw-r--r--   0 runner    (1001) docker     (127)    22814 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/measures_xccy.py
--rw-r--r--   0 runner    (1001) docker     (127)    55497 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/statistics.py
--rw-r--r--   0 runner    (1001) docker     (127)     2381 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/tca.py
--rw-r--r--   0 runner    (1001) docker     (127)    20144 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/timeseries/technicals.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/tracing/
--rw-r--r--   0 runner    (1001) docker     (127)      607 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/tracing/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     8325 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/tracing/tracing.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant/workflow/
--rw-r--r--   0 runner    (1001) docker     (127)      631 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/workflow/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      969 2024-05-24 16:59:34.000000 gs_quant-1.0.80/gs_quant/workflow/workflow.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/
--rw-r--r--   0 runner    (1001) docker     (127)     2296 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)    15420 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (127)      843 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (127)        9 2024-05-24 16:59:46.000000 gs_quant-1.0.80/gs_quant.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (127)      364 2024-05-24 16:59:46.000000 gs_quant-1.0.80/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (127)     3697 2024-05-24 16:59:34.000000 gs_quant-1.0.80/setup.py
--rw-r--r--   0 runner    (1001) docker     (127)    83669 2024-05-24 16:59:34.000000 gs_quant-1.0.80/versioneer.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/
+-rw-r--r--   0 runner    (1001) docker     (123)      363 2023-06-29 13:44:59.000000 gs_quant-1.0.9/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)     2279 2023-06-29 13:45:18.000000 gs_quant-1.0.9/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     1220 2023-06-29 13:44:59.000000 gs_quant-1.0.9/README.md
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/
+-rw-r--r--   0 runner    (1001) docker     (123)     1122 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      497 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/_version.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/common/
+-rw-r--r--   0 runner    (1001) docker     (123)      614 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/common/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1331 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/common/constants.py
+-rw-r--r--   0 runner    (1001) docker     (123)      667 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/common/enumerators.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3116 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/common/helpers.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/core/
+-rw-r--r--   0 runner    (1001) docker     (123)      599 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/core/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18717 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/core/processor.py
+-rw-r--r--   0 runner    (1001) docker     (123)      740 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/core/processor_result.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5016 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/core/query_helpers.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/
+-rw-r--r--   0 runner    (1001) docker     (123)      722 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3635 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/data_cell.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6053 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/data_column.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7603 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/data_row.py
+-rw-r--r--   0 runner    (1001) docker     (123)    31289 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/datagrid.py
+-rw-r--r--   0 runner    (1001) docker     (123)      882 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/serializers.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3036 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/datagrid/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/processors/
+-rw-r--r--   0 runner    (1001) docker     (123)     1405 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2338 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/analysis_processors.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15660 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/econometrics_processors.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7837 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/scale_processors.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3882 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/special_processors.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21852 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/statistics_processors.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16176 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/processors/utility_processors.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/analytics/workspaces/
+-rw-r--r--   0 runner    (1001) docker     (123)      869 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/workspaces/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    25146 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/workspaces/components.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24692 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/analytics/workspaces/workspace.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/api/
+-rw-r--r--   0 runner    (1001) docker     (123)      579 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4392 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/data.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/api/fred/
+-rw-r--r--   0 runner    (1001) docker     (123)      848 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/fred/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5582 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/fred/data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1137 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/fred/fred_query.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/api/gs/
+-rw-r--r--   0 runner    (1001) docker     (123)      578 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16576 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/assets.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6229 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/backtests.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6293 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/base_screener.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4196 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/carbon.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5510 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/content.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2660 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/countries.py
+-rw-r--r--   0 runner    (1001) docker     (123)    38524 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5810 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/data_screen.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2556 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/datagrid.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2235 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/esg.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3531 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/groups.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11394 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/hedges.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5835 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/indices.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2709 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/monitors.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1202 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/parser.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2123 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/plots.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16331 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/portfolios.py
+-rw-r--r--   0 runner    (1001) docker     (123)      932 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/price.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11222 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/reports.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12074 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/risk.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8390 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/risk_models.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2098 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/screens.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2345 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/thematics.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1961 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/users.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2531 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/gs/workspaces.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12505 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/risk.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2322 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/api/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/backtests/
+-rw-r--r--   0 runner    (1001) docker     (123)      691 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1394 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/action_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10179 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/actions.py
+-rw-r--r--   0 runner    (1001) docker     (123)      863 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/backtest_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16840 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/backtest_objects.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2007 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/backtest_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1605 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/core.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2980 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/data_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6958 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/data_sources.py
+-rw-r--r--   0 runner    (1001) docker     (123)      812 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14179 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/equity_vol_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1248 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/event.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1619 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/execution_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)    41680 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/generic_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7972 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/order.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10300 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/predefined_asset_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1741 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/strategy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6766 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/strategy_systematic.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18799 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/backtests/triggers.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19105 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3744 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/common.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/config/
+-rw-r--r--   0 runner    (1001) docker     (123)      585 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/config/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      892 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/config/options.py
+-rw-r--r--   0 runner    (1001) docker     (123)      587 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/config.ini
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/content/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/content/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/content/reports_and_screens/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/content/reports_and_screens/00_fx/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/content/reports_and_screens/00_fx/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3081 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/content/reports_and_screens/00_fx/vol_screen_app.py
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/content/reports_and_screens/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5144 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/context_base.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/data/
+-rw-r--r--   0 runner    (1001) docker     (123)      761 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8929 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/coordinate.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3962 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/core.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16777 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/dataset.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5796 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/fields.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1022 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/log.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1897 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/query.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1135 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/data/stream.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/datetime/
+-rw-r--r--   0 runner    (1001) docker     (123)      671 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10979 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/date.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4755 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/gscalendar.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11678 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/point.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9651 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/relative_date.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9136 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/rules.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2681 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/datetime/time.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/docs/
+-rw-r--r--   0 runner    (1001) docker     (123)    10879 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.business_day_count.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11059 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.business_day_offset.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11209 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.date_range.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10403 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.is_business_day.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9984 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.prev_business_date.html
+-rw-r--r--   0 runner    (1001) docker     (123)     8161 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.point.point_sort_order.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11930 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.abs_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14066 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.add.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10248 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.and_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11754 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.ceil.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14106 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.divide.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11393 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.exp.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13221 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.filter_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11788 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.floor.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13898 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.floordiv.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11096 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.if_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11416 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.log.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14126 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.multiply.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10247 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.not_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10249 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.or_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11654 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.power.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10879 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.repeat.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11620 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.smooth_spikes.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11648 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.sqrt.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14183 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.subtract.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11852 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.weighted_sum.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9329 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.count.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9727 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.diff.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9322 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.first.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10915 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.lag.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9362 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.last.html
+-rw-r--r--   0 runner    (1001) docker     (123)     9446 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.last_value.html
+-rw-r--r--   0 runner    (1001) docker     (123)     3806 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.weighted_sum.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10208 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.backtesting.basket.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13116 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.align.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11783 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.date_range.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10482 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.day.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12769 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.interpolate.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10482 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.month.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10804 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.prepend.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10541 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.quarter.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10693 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.union.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12057 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.value.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10532 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.weekday.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10483 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.year.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11584 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.annualize.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13874 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.beta.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10365 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.change.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13613 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.correlation.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10460 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.excess_returns_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10720 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.index.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10995 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.max_drawdown.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12717 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.prices.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12282 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.returns.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12191 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.sharpe_ratio.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14325 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.volatility.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14645 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.cov.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14370 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.exponential_std.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12083 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.generate_series.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13669 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.max_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14083 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.mean.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13491 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.median.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13624 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.min_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13107 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.mode.html
+-rw-r--r--   0 runner    (1001) docker     (123)    12906 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.percentile.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14158 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.percentiles.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13132 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.product.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13118 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.range_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13766 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.std.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13622 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.sum_.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13834 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.var.html
+-rw-r--r--   0 runner    (1001) docker     (123)    14110 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.winsorize.html
+-rw-r--r--   0 runner    (1001) docker     (123)    13566 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.zscores.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11992 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.bollinger_bands.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11628 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_moving_average.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11440 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_spread_volatility.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11474 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_volatility.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11114 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.moving_average.html
+-rw-r--r--   0 runner    (1001) docker     (123)    10863 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.relative_strength_index.html
+-rw-r--r--   0 runner    (1001) docker     (123)    11220 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.smoothed_moving_average.html
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/entities/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/entities/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21932 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/entities/entitlements.py
+-rw-r--r--   0 runner    (1001) docker     (123)    42474 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/entities/entity.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8997 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/entities/tree_entity.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1434 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/errors.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/instrument/
+-rw-r--r--   0 runner    (1001) docker     (123)      751 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/instrument/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13457 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/instrument/core.py
+-rw-r--r--   0 runner    (1001) docker     (123)      561 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/instrument/overrides.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5894 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/json_convertors.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1253 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/json_encoder.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/markets/
+-rw-r--r--   0 runner    (1001) docker     (123)      728 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    39137 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/baskets.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26457 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/core.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8621 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/factor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    41479 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/hedge.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8978 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/historical.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21287 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/index.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20789 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/indices_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9782 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/markets.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30382 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/optimizer.py
+-rw-r--r--   0 runner    (1001) docker     (123)    25417 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/portfolio.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23216 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/portfolio_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12977 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/portfolio_manager_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29065 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/position_set.py
+-rw-r--r--   0 runner    (1001) docker     (123)    69442 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1836 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/report_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16415 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/screens.py
+-rw-r--r--   0 runner    (1001) docker     (123)    69225 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/markets/securities.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      560 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29649 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/models/epidemiology.py
+-rw-r--r--   0 runner    (1001) docker     (123)    96403 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/models/risk_model.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17012 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/models/risk_model_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5214 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/priceable.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/quote_reports/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/quote_reports/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2116 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/quote_reports/core.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/risk/
+-rw-r--r--   0 runner    (1001) docker     (123)     1030 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20021 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/core.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3132 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/measures.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16256 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/result_handlers.py
+-rw-r--r--   0 runner    (1001) docker     (123)    39946 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/results.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2316 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/scenario_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2606 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/scenarios.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3023 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/risk/transform.py
+-rw-r--r--   0 runner    (1001) docker     (123)    28088 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/session.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/target/
+-rw-r--r--   0 runner    (1001) docker     (123)      581 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30269 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/assets.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11832 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/assets_screener.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30119 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/backtests.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3455 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/base_screener.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16824 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/charts.py
+-rw-r--r--   0 runner    (1001) docker     (123)   241626 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/common.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15206 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/content.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3177 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/coordinates.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3283 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/countries.py
+-rw-r--r--   0 runner    (1001) docker     (123)    36466 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1937 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/data_screen.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4001 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/groups.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23131 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/hedge.py
+-rw-r--r--   0 runner    (1001) docker     (123)    28594 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/indices.py
+-rw-r--r--   0 runner    (1001) docker     (123)   158854 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/instrument.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26039 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/measures.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15365 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/monitor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10446 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/portfolios.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2469 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/positions_v2_pricing.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6424 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/price.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10604 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/reports.py
+-rw-r--r--   0 runner    (1001) docker     (123)    37770 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/risk.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13042 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/risk_models.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3847 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/screens.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17024 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/secmaster.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11520 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/trades.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9483 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/workflow_quote.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19404 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/target/workspaces_markets.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/analytics/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/analytics/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3827 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/analytics/test_datagrid.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5979 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/analytics/test_sorting_and_filtering.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5043 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/analytics/test_workspace.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/api/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8424 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_assets.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4973 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_backtests.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7969 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_base_screener.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8027 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_cache.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7261 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_carbon.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3606 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_content.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19594 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6945 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_data_screen.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4956 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_esg.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5958 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_fred.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3940 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_groups.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6159 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_index.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1102 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_instruments.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2080 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_json.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6127 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_monitor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12381 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_portfolios.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12054 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_reports.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8938 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_risk.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30272 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_risk_models.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1887 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_target.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1388 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_thread_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5394 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/api/test_users.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/backtest/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34874 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_eq_vol_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5181 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_flow_vol.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8293 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_predefined.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20499 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/test_generic_engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4026 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/backtest/test_triggers.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/data/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/data/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2835 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/data/test_data_coordinate.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13830 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/data/test_dataset.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/datetime_/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2583 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/test_date.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1769 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/test_gscalendar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1521 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/test_point.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9973 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/test_relative_date.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2973 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/datetime_/test_time.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/fixtures/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/fixtures/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2953 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/fixtures/content.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/markets/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12018 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_baskets.py
+-rw-r--r--   0 runner    (1001) docker     (123)   180924 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_hedger.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1406 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_instrument.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17017 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_portfolio.py
+-rw-r--r--   0 runner    (1001) docker     (123)    59098 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_portfolio_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14328 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_pricing_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22924 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)    62477 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/markets/test_securities.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      561 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6579 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/models/test_epidemiology.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30540 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/models/test_risk_model.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1219 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/test_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      824 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/test_session.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/timeseries/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2325 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/test_commod.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1905 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/test_measure_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22374 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_algebra.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6748 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_analysis.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19817 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_backtesting.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17659 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_datetime.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17631 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_econometrics.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9989 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_helper.py
+-rw-r--r--   0 runner    (1001) docker     (123)   238697 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2345 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_countries.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22551 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_fx_vol.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14577 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_inflation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3500 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_portfolios.py
+-rw-r--r--   0 runner    (1001) docker     (123)    58767 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_rates.py
+-rw-r--r--   0 runner    (1001) docker     (123)    37614 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_reports.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10574 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_risk_models.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14552 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_xccy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2134 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_rolling.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29280 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_statistics.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1689 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_tca.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10202 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_technicals.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5038 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/test_timeseries.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2273 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/timeseries/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/test/utils/
+-rw-r--r--   0 runner    (1001) docker     (123)       50 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1056 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/datagrid_test_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4310 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/mock_calc.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2657 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/mock_data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3834 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/mock_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3738 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/test/utils/test_utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/timeseries/
+-rw-r--r--   0 runner    (1001) docker     (123)     1108 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26107 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/algebra.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10377 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/analysis.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19824 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/backtesting.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21728 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/datetime.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27160 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/econometrics.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13757 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/helper.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2245 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measure_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)   227438 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3179 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_countries.py
+-rw-r--r--   0 runner    (1001) docker     (123)    31461 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_fx_vol.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1863 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_helper.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16985 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_inflation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3165 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_portfolios.py
+-rw-r--r--   0 runner    (1001) docker     (123)   100015 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_rates.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17635 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_reports.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8014 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_risk_models.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20096 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/measures_xccy.py
+-rw-r--r--   0 runner    (1001) docker     (123)    54899 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/statistics.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2381 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/tca.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20055 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/timeseries/technicals.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant/tracing/
+-rw-r--r--   0 runner    (1001) docker     (123)      607 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/tracing/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4504 2023-06-29 13:44:59.000000 gs_quant-1.0.9/gs_quant/tracing/tracing.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)     2279 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)    14814 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      856 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        9 2023-06-29 13:45:18.000000 gs_quant-1.0.9/gs_quant.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      364 2023-06-29 13:45:18.000000 gs_quant-1.0.9/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)     3692 2023-06-29 13:44:59.000000 gs_quant-1.0.9/setup.py
+-rw-r--r--   0 runner    (1001) docker     (123)    83669 2023-06-29 13:44:59.000000 gs_quant-1.0.9/versioneer.py
```

### Comparing `gs_quant-1.0.80/PKG-INFO` & `gs_quant-1.0.9/PKG-INFO`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gs_quant
-Version: 1.0.80
+Version: 1.0.9
 Summary: Goldman Sachs Quant
 Home-page: https://marquee.gs.com
 Author: Goldman Sachs
 Author-email: developer@gs.com
 License: http://www.apache.org/licenses/LICENSE-2.0
 Description: # GS Quant
         
@@ -27,15 +27,15 @@
         
         ## Examples
         
         You can find examples, guides and tutorials in the respective folders as well as on [Goldman Sachs Developer](https://developer.gs.com/docs/gsquant/).
         
         ## Contributions
         
-        Contributions are encouraged! Please see [CONTRIBUTING](CONTRIBUTING.md) for more details.
+        Contributions are encouraged! Please see CONTRIBUTING.MD for more details.
         
         ## Help
         
         Please reach out to `gs-quant@gs.com` with any questions, comments or feedback.
         
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

### Comparing `gs_quant-1.0.80/README.md` & `gs_quant-1.0.9/README.md`

 * *Files 16% similar despite different names*

```diff
@@ -19,12 +19,12 @@
 
 ## Examples
 
 You can find examples, guides and tutorials in the respective folders as well as on [Goldman Sachs Developer](https://developer.gs.com/docs/gsquant/).
 
 ## Contributions
 
-Contributions are encouraged! Please see [CONTRIBUTING](CONTRIBUTING.md) for more details.
+Contributions are encouraged! Please see CONTRIBUTING.MD for more details.
 
 ## Help
 
 Please reach out to `gs-quant@gs.com` with any questions, comments or feedback.
```

### Comparing `gs_quant-1.0.80/gs_quant/__init__.py` & `gs_quant-1.0.9/gs_quant/__init__.py`

 * *Files 14% similar despite different names*

```diff
@@ -34,13 +34,7 @@
     from IPython import get_ipython
     ipython = get_ipython()
     if ipython and 'IPKernelApp' in get_ipython().config:
         import nest_asyncio
         nest_asyncio.apply()
 except ImportError:
     pass
-
-# Setup tracing for Jupyter
-try:
-    from gs_quant.tracing import tracing  # pylint: disable=unused-import
-except ImportError:
-    pass
```

### Comparing `gs_quant-1.0.80/gs_quant/analytics/common/__init__.py` & `gs_quant-1.0.9/gs_quant/analytics/common/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/common/constants.py` & `gs_quant-1.0.9/gs_quant/analytics/common/constants.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/common/enumerators.py` & `gs_quant-1.0.9/gs_quant/analytics/common/enumerators.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/common/helpers.py` & `gs_quant-1.0.9/gs_quant/analytics/common/helpers.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/core/__init__.py` & `gs_quant-1.0.9/gs_quant/analytics/core/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/core/processor.py` & `gs_quant-1.0.9/gs_quant/analytics/core/processor.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/core/processor_result.py` & `gs_quant-1.0.9/gs_quant/analytics/core/processor_result.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/core/query_helpers.py` & `gs_quant-1.0.9/gs_quant/analytics/core/query_helpers.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/__init__.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/data_cell.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/data_cell.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/data_column.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/data_column.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/data_row.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/data_row.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/datagrid.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/datagrid.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/serializers.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/serializers.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/datagrid/utils.py` & `gs_quant-1.0.9/gs_quant/analytics/datagrid/utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/__init__.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/analysis_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/analysis_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/econometrics_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/econometrics_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/scale_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/scale_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/special_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/special_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/statistics_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/statistics_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/processors/utility_processors.py` & `gs_quant-1.0.9/gs_quant/analytics/processors/utility_processors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/workspaces/__init__.py` & `gs_quant-1.0.9/gs_quant/analytics/workspaces/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/workspaces/components.py` & `gs_quant-1.0.9/gs_quant/analytics/workspaces/components.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/analytics/workspaces/workspace.py` & `gs_quant-1.0.9/gs_quant/analytics/workspaces/workspace.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/__init__.py` & `gs_quant-1.0.9/gs_quant/api/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/data.py` & `gs_quant-1.0.9/gs_quant/api/data.py`

 * *Files 3% similar despite different names*

```diff
@@ -17,24 +17,23 @@
 import logging
 from abc import ABCMeta
 from typing import Optional, Union, List
 
 import inflection
 import pandas as pd
 
-from gs_quant.api.api_session import ApiWithCustomSession
 from gs_quant.api.fred.fred_query import FredQuery
 from gs_quant.base import Base
 from gs_quant.target.coordinates import MDAPIDataQuery
 from gs_quant.target.data import DataQuery
 
 _logger = logging.getLogger(__name__)
 
 
-class DataApi(ApiWithCustomSession, metaclass=ABCMeta):
+class DataApi(metaclass=ABCMeta):
     @classmethod
     def query_data(cls, query: Union[DataQuery, FredQuery], dataset_id: str = None) -> Union[list, tuple]:
         raise NotImplementedError('Must implement get_data')
 
     @classmethod
     def last_data(cls, query: DataQuery, dataset_id: str = None) -> Union[list, tuple]:
         raise NotImplementedError('Must implement last_data')
@@ -45,15 +44,15 @@
 
     @classmethod
     def time_field(cls, dataset_id: str) -> str:
         raise NotImplementedError('Must implement time_field')
 
     @classmethod
     def construct_dataframe_with_types(cls, dataset_id: str, data: Union[Base, list, tuple, pd.Series],
-                                       schema_varies=False, standard_fields=False) -> pd.DataFrame:
+                                       schema_varies=False) -> pd.DataFrame:
         raise NotImplementedError('Must implement time_field')
 
     @staticmethod
     def build_query(
             start: Optional[Union[dt.date, dt.datetime]] = None,
             end: Optional[Union[dt.date, dt.datetime]] = None,
             as_of: Optional[dt.datetime] = None,
```

### Comparing `gs_quant-1.0.80/gs_quant/api/fred/__init__.py` & `gs_quant-1.0.9/gs_quant/api/fred/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/fred/data.py` & `gs_quant-1.0.9/gs_quant/api/fred/data.py`

 * *Files 2% similar despite different names*

```diff
@@ -71,15 +71,15 @@
         :param since: Request data since
         :param fields: DataSet fields to include
         :param kwargs: Extra query arguments
         :return: a url string of the requested data
         """
 
         if start is not None and end is not None:
-            if type(start) is not type(end):
+            if type(start) != type(end):
                 raise ValueError('Start and end types must match!')
 
         request = FredQuery(observation_start=start, observation_end=end, realtime_end=as_of, realtime_start=since)
         return request
 
     def query_data(self, query: FredQuery, dataset_id: str, asset_id_type: str = None) -> pd.Series:
         """
@@ -126,16 +126,15 @@
         data = data[data.value != '.']
         data['date'] = pd.to_datetime(data['date'])
         data['value'] = data['value'].astype(float)
         data = data.set_index('date')['value']
         data = data.sort_index()
         return data
 
-    def construct_dataframe_with_types(self, dataset_id: str, data: pd.Series, schema_varies=False,
-                                       standard_fields=False) -> pd.DataFrame:
+    def construct_dataframe_with_types(self, dataset_id: str, data: pd.Series, schema_varies=False) -> pd.DataFrame:
         """
         Constructs a dataframe with correct date types.
 
         :param data: Data to convert with correct types
         :return: Dataframe with correct types
         """
         if len(data) and isinstance(data, pd.Series):
```

### Comparing `gs_quant-1.0.80/gs_quant/api/fred/fred_query.py` & `gs_quant-1.0.9/gs_quant/api/fred/fred_query.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/__init__.py` & `gs_quant-1.0.9/gs_quant/api/gs/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/assets.py` & `gs_quant-1.0.9/gs_quant/api/gs/assets.py`

 * *Files 4% similar despite different names*

```diff
@@ -161,35 +161,14 @@
     ) -> Union[Tuple[GsAsset, ...], Tuple[dict, ...]]:
         query = cls.__create_query(fields, as_of, limit, order_by=order_by, **kwargs)
         response = await GsSession.current._post_async('/assets/query', payload=query, cls=return_type)
         return response['results']
 
     @classmethod
     @_cached
-    def get_many_assets_scroll(
-            cls,
-            scroll: str = '1m',
-            fields: IdList = None,
-            as_of: dt.datetime = None,
-            limit: int = 1000,
-            return_type: Optional[type] = GsAsset,
-            order_by: List[str] = None,
-            **kwargs
-    ) -> Union[Tuple[GsAsset, ...], Tuple[dict, ...]]:
-        query = cls.__create_query(fields, as_of, limit, scroll, order_by=order_by, **kwargs)
-        response = GsSession.current._post('/assets/query', payload=query, cls=return_type)
-        results = get(response, 'results')
-        while (has(response, 'scrollId') and len(get(response, 'results'))):
-            query = cls.__create_query(fields, as_of, limit, scroll, get(response, 'scrollId'), **kwargs)
-            response = GsSession.current._post('/assets/query', payload=query, cls=return_type)
-            results += get(response, 'results')
-        return results
-
-    @classmethod
-    @_cached
     def get_many_assets_data(
             cls,
             fields: IdList = None,
             as_of: dt.datetime = None,
             limit: int = None,
             **kwargs
     ) -> dict:
@@ -227,28 +206,14 @@
             **kwargs
     ) -> Tuple[dict, ...]:
         where = dict(identifier=identifier, **kwargs)
         query = dict(where=where, limit=limit, fields=fields, asOfTime=as_of.strftime("%Y-%m-%dT%H:%M:%SZ"))
         return GsSession.current._post('/positions/resolver', payload=query)
 
     @classmethod
-    def get_many_asset_xrefs(
-            cls,
-            identifier: [str],
-            fields: IdList = [],
-            limit: int = 100,
-            as_of: dt.datetime = dt.datetime.today(),
-            **kwargs
-    ) -> Tuple[dict, ...]:
-        where = dict(identifier=identifier, **kwargs)
-        query = dict(where=where, limit=limit, fields=fields,  asOfTime=as_of.strftime("%Y-%m-%dT%H:%M:%SZ"))
-
-        return GsSession.current._post('/assets/xrefs/query', payload=query).get('results')
-
-    @classmethod
     @_cached
     def get_asset_xrefs(
             cls,
             asset_id: str
     ) -> Tuple[GsTemporalXRef, ...]:
         response = GsSession.current._get('/assets/{id}/xrefs'.format(id=asset_id))
         return tuple(GsTemporalXRef.from_dict(x) for x in response.get('xrefs', ()))
@@ -354,19 +319,19 @@
                         parameters=instrument.as_dict(as_camel_case=True))
 
         results = GsSession.current._post('/assets', asset)
         return results['id']
 
     @staticmethod
     def get_instruments_for_asset_ids(
-            asset_ids: Tuple[str, ...]
+            asset_ids: Tuple[str]
     ) -> Tuple[Optional[Union[Instrument, Security]]]:
         instrument_infos = GsSession.current._post('/assets/instruments', asset_ids, cls=AssetToInstrumentResponse)
         instrument_lookup = {i.assetId: i.instrument for i in instrument_infos if i}
-        ret: Tuple[Optional[Union[Instrument, Security]], ...] = tuple(instrument_lookup.get(a) for a in asset_ids)
+        ret: Tuple[Optional[Union[Instrument, Security]]] = tuple(instrument_lookup.get(a) for a in asset_ids)
 
         return ret
 
     @staticmethod
     def get_instruments_for_positions(
             positions: Iterable[Position]
     ) -> Tuple[Optional[Union[Instrument, Security]]]:
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/backtests.py` & `gs_quant-1.0.9/gs_quant/api/gs/backtests.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/base_screener.py` & `gs_quant-1.0.9/gs_quant/api/gs/base_screener.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/carbon.py` & `gs_quant-1.0.9/gs_quant/api/gs/carbon.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/content.py` & `gs_quant-1.0.9/gs_quant/api/gs/content.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/countries.py` & `gs_quant-1.0.9/gs_quant/api/gs/countries.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/data.py` & `gs_quant-1.0.9/gs_quant/api/gs/data.py`

 * *Files 27% similar despite different names*

```diff
@@ -10,40 +10,36 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
-import json
 import logging
 import time
-from copy import copy
 from enum import Enum
 from itertools import chain
 from typing import Iterable, List, Optional, Tuple, Union, Dict
 
 import cachetools
 import pandas as pd
 from cachetools import TTLCache
-from dateutil import parser
 
 from gs_quant.api.data import DataApi
 from gs_quant.base import Base
 from gs_quant.data.core import DataContext, DataFrequency
 from gs_quant.data.log import log_debug, log_warning
 from gs_quant.errors import MqValueError
-from gs_quant.json_encoder import JSONEncoder
 from gs_quant.markets import MarketDataCoordinate
+from gs_quant.session import GsSession
 from gs_quant.target.common import MarketDataVendor, PricingLocation, Format
 from gs_quant.target.coordinates import MDAPIDataBatchResponse, MDAPIDataQuery, MDAPIDataQueryResponse, MDAPIQueryField
 from gs_quant.target.data import DataQuery, DataQueryResponse, DataSetCatalogEntry
 from gs_quant.target.data import DataSetEntity, DataSetFieldEntity
 from .assets import GsIdType
-from ..api_cache import ApiRequestCache
 from ...target.assets import EntityQuery, FieldFilterMap
 
 _logger = logging.getLogger(__name__)
 
 
 class QueryType(Enum):
     IMPLIED_VOLATILITY = "Implied Volatility"
@@ -164,56 +160,38 @@
     RETAIL_SELL_SHARES = 'impliedRetailSellShares'
     FWD_POINTS = 'Fwd Points'
 
 
 class GsDataApi(DataApi):
     __definitions = {}
     __asset_coordinates_cache = TTLCache(10000, 86400)
-    _api_request_cache: ApiRequestCache = None
     DEFAULT_SCROLL = '30s'
 
     # DataApi interface
 
     @classmethod
-    def set_api_request_cache(cls, cache: ApiRequestCache):
-        cls._api_request_cache = cache
-
-    @classmethod
-    def _post_with_cache_check(cls, url, **kwargs):
-        session = cls.get_session()
-        if cls._api_request_cache:
-            cache_key = (url, 'POST', kwargs)
-            cached_val = cls._api_request_cache.get(session, cache_key)
-            if cached_val is not None:
-                return cached_val
-        result = session._post(url, **kwargs)
-        if cls._api_request_cache:
-            cls._api_request_cache.put(session, cache_key, result)
-        return result
-
-    @classmethod
     def query_data(cls, query: Union[DataQuery, MDAPIDataQuery], dataset_id: str = None,
                    asset_id_type: Union[GsIdType, str] = None) \
             -> Union[MDAPIDataBatchResponse, DataQueryResponse, tuple, list]:
         if isinstance(query, MDAPIDataQuery) and query.market_data_coordinates:
             # Don't use MDAPIDataBatchResponse for now - it doesn't handle quoting style correctly
             results: Union[MDAPIDataBatchResponse, dict] = cls.execute_query('coordinates', query)
             if isinstance(results, dict):
                 return results.get('responses', ())
             else:
                 return results.responses if results.responses is not None else ()
         response: Union[DataQueryResponse, dict] = cls.execute_query(dataset_id, query)
         return cls.get_results(dataset_id, response, query)
 
-    @classmethod
-    def execute_query(cls, dataset_id: str, query: Union[DataQuery, MDAPIDataQuery]):
+    @staticmethod
+    def execute_query(dataset_id: str, query: Union[DataQuery, MDAPIDataQuery]):
         kwargs = {'payload': query}
         if getattr(query, 'format', None) in (Format.MessagePack, 'MessagePack'):
             kwargs['request_headers'] = {'Accept': 'application/msgpack'}
-        return cls._post_with_cache_check('/data/{}/query'.format(dataset_id), **kwargs)
+        return GsSession.current._post('/data/{}/query'.format(dataset_id), **kwargs)
 
     @staticmethod
     def get_results(dataset_id: str, response: Union[DataQueryResponse, dict], query: DataQuery) -> \
             Union[list, Tuple[list, list]]:
         if isinstance(response, dict):
             total_pages = response.get('totalPages')
             results = response.get('data', [])
@@ -244,18 +222,18 @@
     @classmethod
     def last_data(cls, query: Union[DataQuery, MDAPIDataQuery], dataset_id: str = None, timeout: int = None) \
             -> Union[list, tuple]:
         kwargs = {}
         if timeout is not None:
             kwargs['timeout'] = timeout
         if getattr(query, 'marketDataCoordinates', None):
-            result = cls._post_with_cache_check('/data/coordinates/query/last', payload=query, **kwargs)
+            result = GsSession.current._post('/data/coordinates/query/last', payload=query, **kwargs)
             return result.get('responses', ())
         else:
-            result = cls._post_with_cache_check('/data/{}/last/query'.format(dataset_id), payload=query, **kwargs)
+            result = GsSession.current._post('/data/{}/last/query'.format(dataset_id), payload=query, **kwargs)
             return result.get('data', ())
 
     @classmethod
     def symbol_dimensions(cls, dataset_id: str) -> tuple:
         definition = cls.get_definition(dataset_id)
         return definition.dimensions.symbolDimensions
 
@@ -288,22 +266,21 @@
             scroll_id: Optional[str] = None,
             limit: int = None,
             offset: int = None,
             fields: List[str] = None,
             include_history: bool = False,
             **kwargs
     ) -> List[dict]:
-        session = cls.get_session()
         params = cls._build_params(scroll, scroll_id, limit, offset, fields, include_history, **kwargs)
-        body = session._get(f'/data/{dataset_id}/coverage', payload=params)
+        body = GsSession.current._get(f'/data/{dataset_id}/coverage', payload=params)
         results = scroll_results = body['results']
         total_results = body['totalResults']
         while len(scroll_results) and len(results) < total_results:
             params['scrollId'] = body['scrollId']
-            body = session._get(f'/data/{dataset_id}/coverage', payload=params)
+            body = GsSession.current._get(f'/data/{dataset_id}/coverage', payload=params)
             scroll_results = body['results']
             results += scroll_results
 
         return results
 
     @classmethod
     async def get_coverage_async(
@@ -313,72 +290,70 @@
             scroll_id: Optional[str] = None,
             limit: int = None,
             offset: int = None,
             fields: List[str] = None,
             include_history: bool = False,
             **kwargs
     ) -> List[dict]:
-        session = cls.get_session()
         params = cls._build_params(scroll, scroll_id, limit, offset, fields, include_history, **kwargs)
-        body = await session._get_async(f'/data/{dataset_id}/coverage', payload=params)
+        body = await GsSession.current._get_async(f'/data/{dataset_id}/coverage', payload=params)
         results = scroll_results = body['results']
         total_results = body['totalResults']
         while len(scroll_results) and len(results) < total_results:
             params['scrollId'] = body['scrollId']
-            body = await session._get_async(f'/data/{dataset_id}/coverage', payload=params)
+            body = await GsSession.current._get_async(f'/data/{dataset_id}/coverage', payload=params)
             scroll_results = body['results']
             if scroll_results:
                 results += scroll_results
         return results
 
     @classmethod
     def create(cls, definition: Union[DataSetEntity, dict]) -> DataSetEntity:
-        result = cls.get_session()._post('/data/datasets', payload=definition)
+        result = GsSession.current._post('/data/datasets', payload=definition)
         return result
 
     @classmethod
     def delete_dataset(cls, dataset_id: str) -> dict:
-        result = cls.get_session()._delete(f'/data/datasets/{dataset_id}')
+        result = GsSession.current._delete(f'/data/datasets/{dataset_id}')
         return result
 
     @classmethod
     def undelete_dataset(cls, dataset_id: str) -> dict:
-        result = cls.get_session()._put(f'/data/datasets/{dataset_id}/undelete')
+        result = GsSession.current._put(f'/data/datasets/{dataset_id}/undelete')
         return result
 
     @classmethod
     def update_definition(cls, dataset_id: str, definition: Union[DataSetEntity, dict]) -> DataSetEntity:
-        result = cls.get_session()._put('/data/datasets/{}'.format(dataset_id), payload=definition, cls=DataSetEntity)
+        result = GsSession.current._put('/data/datasets/{}'.format(dataset_id), payload=definition, cls=DataSetEntity)
         return result
 
     @classmethod
     def upload_data(cls, dataset_id: str, data: Union[pd.DataFrame, list, tuple]) -> dict:
         if isinstance(data, pd.DataFrame):
             # We require the Dataframe to return a list in the 'records' format:
             #  https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_json.html
             data = data.to_json(orient='records')
         # Don't use msgpack for MDS
-        session = cls.get_session()
-        headers = None if 'us-east' in session.domain else {'Content-Type': 'application/x-msgpack'}
-        result = session._post('/data/{}'.format(dataset_id), payload=data, request_headers=headers)
+        headers = None if 'us-east' in GsSession.current.domain else {'Content-Type': 'application/x-msgpack'}
+        result = GsSession.current._post('/data/{}'.format(dataset_id), payload=data, request_headers=headers)
         return result
 
     @classmethod
     def delete_data(cls, dataset_id: str, delete_query: Dict) -> Dict:
         """
         Delete data from dataset. You must have admin access to the dataset to delete data.
         All data deleted is not recoverable.
         """
-        return cls.get_session()._delete(f'/data/{dataset_id}', payload=delete_query, use_body=True)
+        return GsSession.current._delete(f'/data/{dataset_id}', payload=delete_query, use_body=True)
 
     @classmethod
     def get_definition(cls, dataset_id: str) -> DataSetEntity:
         definition = cls.__definitions.get(dataset_id)
         if not definition:
-            definition = cls.get_session()._get('/data/datasets/{}'.format(dataset_id), cls=DataSetEntity)
+            definition = GsSession.current._get('/data/datasets/{}'.format(dataset_id), cls=DataSetEntity)
             if not definition:
                 raise MqValueError('Unknown dataset {}'.format(dataset_id))
 
             cls.__definitions[dataset_id] = definition
 
         return definition
 
@@ -390,51 +365,50 @@
                              scroll_id: Optional[str] = None,
                              ) -> Tuple[DataSetEntity, ...]:
 
         params = dict(filter(lambda item: item[1] is not None,
                              dict(limit=limit, offset=offset, scroll=scroll, scrollId=scroll_id,
                                   enablePagination='true').items()))
 
-        body = cls.get_session()._get('/data/datasets', payload=params, cls=DataSetEntity)
+        body = GsSession.current._get('/data/datasets', payload=params, cls=DataSetEntity)
         results = scroll_results = body['results']
         total_results = body['totalResults']
 
         while len(scroll_results) and len(results) < total_results:
             params['scrollId'] = body['scrollId']
-            body = cls.get_session()._get('/data/datasets', payload=params, cls=DataSetEntity)
+            body = GsSession.current._get('/data/datasets', payload=params, cls=DataSetEntity)
             scroll_results = body['results']
             results = results + scroll_results
 
         return results
 
     @classmethod
     def get_catalog(cls,
                     dataset_ids: List[str] = None,
                     limit: int = 100,
                     offset: int = None,
                     scroll: str = DEFAULT_SCROLL,
                     scroll_id: Optional[str] = None,
-                    ) -> Tuple[DataSetCatalogEntry, ...]:
+                    ) -> Tuple[DataSetCatalogEntry]:
 
         query = f'dataSetId={"&dataSetId=".join(dataset_ids)}' if dataset_ids else ''
-        gs_session = cls.get_session()
         if len(query):
-            return gs_session._get(f'/data/catalog?{query}', cls=DataSetCatalogEntry)['results']
+            return GsSession.current._get(f'/data/catalog?{query}', cls=DataSetCatalogEntry)['results']
         else:
             params = dict(filter(lambda item: item[1] is not None,
                                  dict(limit=limit, offset=offset, scroll=scroll, scrollId=scroll_id,
                                       enablePagination='true').items()))
 
-            body = gs_session._get('/data/catalog', payload=params, cls=DataSetEntity)
+            body = GsSession.current._get('/data/catalog', payload=params, cls=DataSetEntity)
             results = scroll_results = body['results']
             total_results = body['totalResults']
 
             while len(scroll_results) and len(results) < total_results:
                 params['scrollId'] = body['scrollId']
-                body = gs_session._get('/data/catalog', payload=params, cls=DataSetEntity)
+                body = GsSession.current._get('/data/catalog', payload=params, cls=DataSetEntity)
                 scroll_results = body['results']
                 results = results + scroll_results
 
             return results
 
     @classmethod
     @cachetools.cached(__asset_coordinates_cache)
@@ -456,15 +430,15 @@
         for index, point in enumerate(mkt_point):
             setattr(where, 'mkt_point' + str(index + 1), point.upper())
 
         query = EntityQuery(
             where=where,
             limit=limit
         )
-        results = cls._post_with_cache_check('/data/mdapi/query', payload=query)['results']
+        results = GsSession.current._post('/data/mdapi/query', query)['results']
 
         if return_type is str:
             return tuple(coordinate['name'] for coordinate in results)
         elif return_type is MarketDataCoordinate:
             return tuple(
                 MarketDataCoordinate(
                     mkt_type=coordinate['dimensions']['mktType'],
@@ -472,318 +446,31 @@
                     mkt_class=coordinate['dimensions']['mktClass'],
                     mkt_point=tuple(coordinate['dimensions']['mktPoint'].values()),
                     mkt_quoting_style=coordinate['dimensions']['mktQuotingStyle']
                 ) for coordinate in results)
         else:
             raise NotImplementedError('Unsupported return type')
 
-    @classmethod
-    def _to_zulu(cls, d):
-        return d.strftime('%Y-%m-%dT%H:%M:%SZ')
-
-    @classmethod
-    def get_mxapi_curve_measure(cls, curve_type=None, curve_asset=None, curve_point=None, curve_tags=None,
-                                measure=None, start_time=None, end_time=None, request_id=None,
-                                close_location=None, real_time=None) -> pd.DataFrame:
-        real_time = real_time or isinstance(start_time, dt.datetime)
-
-        if not start_time:
-            if real_time:
-                start_time = DataContext.current.start_time
-            else:
-                start_time = DataContext.current.start_date
-
-        if not end_time:
-            if real_time:
-                end_time = DataContext.current.end_time
-            else:
-                end_time = DataContext.current.end_date
-
-        if not real_time and not close_location:
-            close_location = 'NYC'
-
-        if real_time and not isinstance(end_time, dt.date):
-            raise ValueError("Start and end need to be either both date or both time")
-
-        if real_time:
-            request_dict = {
-                'type': 'MxAPI Measure Request',
-                'modelType': curve_type,
-                'modelAsset': curve_asset,
-                'point': curve_point,
-                'tags': curve_tags,
-                'startTime': cls._to_zulu(start_time),
-                'endTime': cls._to_zulu(end_time),
-                'measureName': measure
-            }
-        else:
-            request_dict = {
-                'type': 'MxAPI Measure Request EOD',
-                'modelType': curve_type,
-                'modelAsset': curve_asset,
-                'point': curve_point,
-                'tags': curve_tags,
-                'startDate': start_time.isoformat(),
-                'endDate': end_time.isoformat(),
-                'close': close_location,
-                'measureName': measure
-            }
-
-        url = '/mxapi/mq/measure' if real_time else '/mxapi/mq/measure/eod'
-
-        start = time.perf_counter()
-        try:
-            body = cls._post_with_cache_check(url, payload=request_dict)
-        except Exception as e:
-            log_warning(request_id, _logger, f'Mxapi measure query {request_dict} failed due to {e}')
-            raise e
-        log_debug(request_id, _logger, 'MxAPI measure query (%s) with payload (%s) ran in %.3f ms',
-                  body.get('requestId'), request_dict, (time.perf_counter() - start) * 1000)
-
-        if real_time:
-            values = body['measures']
-            valuation_times = body['measureTimes']
-            timestamps = [parser.parse(s) for s in valuation_times]
-            column_name = body['measureName']
-
-            d = {column_name: values, 'timeStamp': timestamps}
-            df = MarketDataResponseFrame(pd.DataFrame(data=d))
-            df = df.set_index('timeStamp')
-            return df
-        else:
-            values = body['measures']
-            valuation_date_strings = body['measureDates']
-            valuation_dates = [dt.date.fromisoformat(s) for s in valuation_date_strings]
-            column_name = body['measureName']
-
-            d = {column_name: values, 'date': valuation_dates}
-            df = MarketDataResponseFrame(pd.DataFrame(data=d))
-            df = df.set_index('date')
-            return df
-
-    @classmethod
-    def get_mxapi_vector_measure(cls, curve_type=None, curve_asset=None, curve_point=None, curve_tags=None,
-                                 vector_measure=None, as_of_time=None, request_id=None,
-                                 close_location=None) -> pd.DataFrame:
-        if not vector_measure:
-            raise ValueError("Vector measure must be specified.")
-
-        if not as_of_time:
-            raise ValueError("As-of date or time must be specified.")
-
-        real_time = isinstance(as_of_time, dt.datetime)
-
-        if not real_time and not isinstance(as_of_time, dt.date):
-            raise ValueError("As-of date or time must be specified.")
-
-        if not real_time and not close_location:
-            close_location = 'NYC'
-
-        if real_time:
-            request_dict = {
-                'type': 'MxAPI Curve Request',
-                'modelType': curve_type,
-                'modelAsset': curve_asset,
-                'point': curve_point,
-                'tags': curve_tags,
-                'asOfTime': cls._to_zulu(as_of_time),
-                'curveName': vector_measure
-            }
-        else:
-            request_dict = {
-                'type': 'MxAPI Curve Request EOD',
-                'modelType': curve_type,
-                'modelAsset': curve_asset,
-                'point': curve_point,
-                'tags': curve_tags,
-                'asOfDate': as_of_time.isoformat(),
-                'close': close_location,
-                'curveName': vector_measure
-            }
-
-        url = '/mxapi/mq/curve' if real_time else '/mxapi/mq/curve/eod'
-
-        start = time.perf_counter()
-        try:
-            body = cls._post_with_cache_check(url, payload=request_dict)
-        except Exception as e:
-            log_warning(request_id, _logger, f'Mxapi curve query {request_dict} failed due to {e}')
-            raise e
-        log_debug(request_id, _logger, 'MxAPI curve query (%s) with payload (%s) ran in %.3f ms',
-                  body.get('requestId'), request_dict, (time.perf_counter() - start) * 1000)
-
-        values = body['curve']
-        value_col_name = body['curveName']
-        knots = body['knots']
-        column_name = body['knotType']
-
-        if len(values) == 0 and len(body['errMsg']) > 0:
-            raise RuntimeError(body['errMsg'])
-
-        d = {value_col_name: values, column_name: knots}
-        df = MarketDataResponseFrame(pd.DataFrame(data=d))
-        df = df.set_index(column_name)
-        return df
-
-    @classmethod
-    def get_mxapi_backtest_data(cls, builder, start_time=None, end_time=None, num_samples=120,
-                                csa=None, request_id=None, close_location=None, real_time=None) -> pd.DataFrame:
-        real_time = real_time or isinstance(start_time, dt.datetime)
-
-        if not start_time:
-            if real_time:
-                start_time = DataContext.current.start_time
-            else:
-                start_time = DataContext.current.start_date
-
-        if not end_time:
-            if real_time:
-                end_time = DataContext.current.end_time
-            else:
-                end_time = DataContext.current.end_date
-
-        if not csa:
-            csa = 'Default'
-
-        if not real_time and not close_location:
-            close_location = 'NYC'
-
-        if real_time and not isinstance(end_time, dt.date):
-            raise ValueError("Start and end need to be either both date or both time")
-
-        leg = builder.resolve(in_place=False)
-        leg_dict_string = json.dumps(leg, cls=JSONEncoder)
-        leg_dict = json.loads(leg_dict_string)
-
-        if real_time:
-            request_dict = {
-                'type': 'MxAPI Backtest Request MQ',
-                'builder': leg_dict,
-                'startTime': cls._to_zulu(start_time),
-                'endTime': cls._to_zulu(end_time),
-                'sampleSize': num_samples,
-                'csa': csa
-            }
-        else:
-            request_dict = {
-                'type': 'MxAPI Backtest Request MQEOD',
-                'builder': leg_dict,
-                'startDate': start_time.isoformat(),
-                'endDate': end_time.isoformat(),
-                'sampleSize': num_samples,
-                'csa': csa,
-                'close': close_location
-            }
-
-        url = '/mxapi/mq/backtest' if real_time else '/mxapi/mq/backtest/eod'
-
-        start = time.perf_counter()
-        try:
-            body = cls._post_with_cache_check(url, payload=request_dict)
-        except Exception as e:
-            log_warning(request_id, _logger, f'Mxapi backtest query {request_dict} failed due to {e}')
-            raise e
-        log_debug(request_id, _logger, 'MxAPI backtest query (%s) with payload (%s) ran in %.3f ms',
-                  body.get('requestId'), request_dict, (time.perf_counter() - start) * 1000)
-
-        if real_time:
-            values = body['valuations']
-            valuation_times = body['valuationTimes']
-            timestamps = [parser.parse(s) for s in valuation_times]
-            column_name = body['valuationName']
-
-            d = {column_name: values, 'timeStamp': timestamps}
-            df = MarketDataResponseFrame(pd.DataFrame(data=d))
-            df = df.set_index('timeStamp')
-            return df
-        else:
-            values = body['valuations']
-            valuation_date_strings = body['valuationDates']
-            valuation_dates = [dt.date.fromisoformat(s) for s in valuation_date_strings]
-            column_name = body['valuationName']
-
-            d = {column_name: values, 'date': valuation_dates}
-            df = MarketDataResponseFrame(pd.DataFrame(data=d))
-            df = df.set_index('date')
-            return df
-
     @staticmethod
-    def _get_market_data_filters(asset_ids: List[str],
-                                 query_type: Union[QueryType, str],
-                                 where: Union[FieldFilterMap, Dict] = None,
-                                 source: Union[str] = None,
-                                 real_time: bool = False,
-                                 measure='Curve',
-                                 vendor: str = ''):
+    def build_market_data_query(asset_ids: List[str],
+                                query_type: Union[QueryType, str],
+                                where: Union[FieldFilterMap, Dict] = None,
+                                source: Union[str] = None,
+                                real_time: bool = False,
+                                measure='Curve'):
         inner = {
             'entityIds': asset_ids,
             'queryType': query_type.value if isinstance(query_type, QueryType) else query_type,
             'where': where or {},
             'source': source or 'any',
             'frequency': 'Real Time' if real_time else 'End Of Day',
             'measures': [
                 measure
             ]
         }
-        if vendor != '':
-            inner['vendor'] = vendor
-        return inner
-
-    @staticmethod
-    def build_interval_chunked_market_data_queries(asset_ids: List[str],
-                                                   query_type: Union[QueryType, str],
-                                                   where: Union[FieldFilterMap, Dict] = None,
-                                                   source: Union[str] = None,
-                                                   real_time: bool = False,
-                                                   measure='Curve',
-                                                   vendor: str = '') -> List[dict]:
-        parallel_interval = 365  # chunk over a year
-
-        def chunk_time(start, end) -> tuple:
-            # chunk the time interval into 1 year chunks
-            s = start
-            while s < end:
-                e = min(s + dt.timedelta(days=parallel_interval), end)
-                yield s, e
-                s = e
-
-        queries = []
-        if real_time:
-            start, end = DataContext.current.start_time, DataContext.current.end_time
-            start_key, end_key = 'startTime', 'endTime'
-        else:
-            start, end = DataContext.current.start_date, DataContext.current.end_date
-            start_key, end_key = 'startDate', 'endDate'
-
-        for s, e in chunk_time(start, end):
-            inner = copy(GsDataApi._get_market_data_filters(asset_ids, query_type, where, source, real_time, measure,
-                                                            vendor))
-            inner[start_key], inner[end_key] = s, e
-            queries.append({
-                'queries': [inner]
-            })
-
-        log_debug("", _logger, f"Created {len(queries)} market data queries")
-
-        return queries
-
-    @staticmethod
-    def build_market_data_query(asset_ids: List[str],
-                                query_type: Union[QueryType, str],
-                                where: Union[FieldFilterMap, Dict] = None,
-                                source: Union[str] = None,
-                                real_time: bool = False,
-                                measure='Curve',
-                                parallelize_queries: bool = False,
-                                vendor: str = '') -> Union[dict, List[dict]]:
-        if parallelize_queries:
-            return GsDataApi.build_interval_chunked_market_data_queries(asset_ids, query_type, where, source, real_time,
-                                                                        measure, vendor)
-
-        inner = GsDataApi._get_market_data_filters(asset_ids, query_type, where, source, real_time, measure, vendor)
         if DataContext.current.interval is not None:
             inner['interval'] = DataContext.current.interval
         if real_time:
             inner['startTime'] = DataContext.current.start_time
             inner['endTime'] = DataContext.current.end_time
         else:
             inner['startDate'] = DataContext.current.start_date
@@ -803,15 +490,15 @@
         :return: dictionary of available data providers
 
         ** Usage **
 
         Return a dictionary containing a set of dataset providers for each available data field.
         For each field will return a dict of daily and real-time dataset providers where available.
         """
-        response = availability if availability else cls.get_session()._get(f'/data/measures/{entity_id}/availability')
+        response = availability if availability else GsSession.current._get(f'/data/measures/{entity_id}/availability')
         if 'errorMessages' in response:
             raise MqValueError(f"Data availability request {response['requestId']} "
                                f"failed: {response.get('errorMessages', '')}")
 
         if 'data' not in response:
             return {}
 
@@ -831,17 +518,18 @@
                 elif freq == 'Real Time':
                     providers[dataset_field][DataFrequency.REAL_TIME] = source['datasetId']
 
         return providers
 
     @classmethod
     def get_market_data(cls, query, request_id=None, ignore_errors: bool = False) -> pd.DataFrame:
+        GsSession.current: GsSession
         start = time.perf_counter()
         try:
-            body = cls._post_with_cache_check('/data/measures', payload=query)
+            body = GsSession.current._post('/data/measures', payload=query)
         except Exception as e:
             log_warning(request_id, _logger, f'Market data query {query} failed due to {e}')
             raise e
         log_debug(request_id, _logger, 'market data query (%s) with payload (%s) ran in %.3f ms', body.get('requestId'),
                   query, (time.perf_counter() - start) * 1000)
 
         ids = []
@@ -909,16 +597,15 @@
 
         return df
 
     @classmethod
     def _sort_coordinate_data(
             cls,
             df: pd.DataFrame,
-            by: Tuple[str, ...] = ('date', 'time', 'mktType', 'mktAsset', 'mktClass',
-                                   'mktPoint', 'mktQuotingStyle', 'value')
+            by: Tuple[str] = ('date', 'time', 'mktType', 'mktAsset', 'mktClass', 'mktPoint', 'mktQuotingStyle', 'value')
     ) -> pd.DataFrame:
         columns = df.columns
         field_order = [f for f in by if f in columns]
         field_order.extend(f for f in columns if f not in field_order)
         return df[field_order]
 
     @classmethod
@@ -1090,66 +777,43 @@
         ret = tuple(pd.Series(dtype=float) if df.empty else pd.Series(index=df.index, data=df.value.values)
                     for df in dfs)
         if isinstance(coordinates, (MarketDataCoordinate, str)):
             return ret[0]
         else:
             return ret
 
-    @classmethod
+    @staticmethod
     @cachetools.cached(TTLCache(ttl=3600, maxsize=128))
-    def get_types(cls, dataset_id: str):
-        results = cls.get_session()._get(f'/data/catalog/{dataset_id}')
+    def get_types(dataset_id: str):
+        results = GsSession.current._get(f'/data/catalog/{dataset_id}')
         fields = results.get("fields")
         if fields:
             field_types = {}
             for key, value in fields.items():
                 field_type = value.get('type')
                 field_format = value.get('format')
                 field_types[key] = field_format or field_type
             return field_types
         raise RuntimeError(f"Unable to get Dataset schema for {dataset_id}")
 
     @classmethod
-    def get_field_types(cls, field_names: Union[str, List[str]]):
-        try:
-            fields = cls.get_dataset_fields(names=field_names, limit=len(field_names))
-        except Exception:
-            return {}
-        if fields:
-            field_types = {}
-            field: DataSetFieldEntity
-            for field in fields:
-                field_name = field.name
-                field_type = field.type_
-                field_format = field.parameters.get('format') if field.parameters else None
-                field_types[field_name] = field_format or field_type
-            return field_types
-        return {}
-
-    @classmethod
     def construct_dataframe_with_types(cls, dataset_id: str, data: Union[Base, List, Tuple],
-                                       schema_varies=False, standard_fields=False) -> pd.DataFrame:
+                                       schema_varies=False) -> pd.DataFrame:
         """
         Constructs a dataframe with correct date types.
         :param dataset_id: id of the dataset
         :param data: data to convert with correct types
         :param schema_varies: if set, method will not assume that all rows have the same columns
-        :param standard_fields: if set, will use fields api instead of catalog api to get fieldTypes
         :return: dataframe with correct types
         """
         if len(data):
+            dataset_types = cls.get_types(dataset_id)
             # Use first row to infer fields from data
             sample = data if schema_varies else [data[0]]
             incoming_data_data_types = pd.DataFrame(sample).dtypes.to_dict()
-            dataset_types = cls.get_types(dataset_id) if not standard_fields \
-                else cls.get_field_types(field_names=list(incoming_data_data_types.keys()))
-
-            # fallback approach in case fields api doesn't return results
-            if dataset_types is {} and standard_fields:
-                dataset_types = cls.get_types(dataset_id)
 
             df = pd.DataFrame(data, columns={**dataset_types, **incoming_data_data_types})
 
             for field_name, type_name in dataset_types.items():
                 if df.get(field_name) is not None and type_name in ('date', 'date-time') and \
                         len(df.get(field_name).value_counts()) > 0:
                     df[field_name] = pd.to_datetime(df[field_name],
@@ -1185,15 +849,15 @@
         **Examples**
 
         >>> from gs_quant.api.gs.data import GsDataApi
         >>> fields = GsDataApi.get_dataset_fields(names = ['adjustedClosePrice', 'adjustedOpenPrice'])
         """
 
         where = dict(filter(lambda item: item[1] is not None, dict(id=ids, name=names).items()))
-        response = cls.get_session()._post('/data/fields/query',
+        response = GsSession.current._post('/data/fields/query',
                                            payload={'where': where, 'limit': limit},
                                            cls=DataSetFieldEntity)
         return response['results']
 
     @classmethod
     def create_dataset_fields(
             cls,
@@ -1213,15 +877,15 @@
         >>>     DataSetFieldEntity(name='price', type_='number', description='Price of the instrument.'),
         >>>     DataSetFieldEntity(name='strikeReference', type_='string', description='Reference for strike level.',
         >>>                        parameters={'enum': ['delta', 'spot', 'forward', 'normalized']})
         >>> ]
         >>> GsDataApi.create_dataset_fields(fields)
         """
         params = {'fields': fields}
-        response = cls.get_session()._post('/data/fields/bulk', payload=params, cls=DataSetFieldEntity)
+        response = GsSession.current._post('/data/fields/bulk', payload=params, cls=DataSetFieldEntity)
         return response['results']
 
     @classmethod
     def update_dataset_fields(
             cls,
             fields: List[DataSetFieldEntity]
     ) -> Union[Tuple[DataSetFieldEntity, ...], Tuple[dict, ...]]:
@@ -1241,15 +905,15 @@
         >>>     DataSetFieldEntity(id='FI7EFDC3SQQBMDX8', name='strikeReference', type_='string',
         >>>                        description='Reference for strike level.',
         >>>                        parameters={'enum': ['delta', 'spot', 'forward', 'normalized']})
         >>> ]
         >>> GsDataApi.update_dataset_fields(fields)
         """
         params = {'fields': fields}
-        response = cls.get_session()._put('/data/fields/bulk', payload=params, cls=DataSetFieldEntity)
+        response = GsSession.current._put('/data/fields/bulk', payload=params, cls=DataSetFieldEntity)
         return response['results']
 
 
 class MarketDataResponseFrame(pd.DataFrame):
     _internal_names = pd.DataFrame._internal_names + ['dataset_ids']
     _internal_names_set = set(_internal_names)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/data_screen.py` & `gs_quant-1.0.9/gs_quant/api/gs/data_screen.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/datagrid.py` & `gs_quant-1.0.9/gs_quant/api/gs/datagrid.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/esg.py` & `gs_quant-1.0.9/gs_quant/api/gs/esg.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/groups.py` & `gs_quant-1.0.9/gs_quant/api/gs/groups.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/hedges.py` & `gs_quant-1.0.9/gs_quant/api/gs/hedges.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/indices.py` & `gs_quant-1.0.9/gs_quant/api/gs/indices.py`

 * *Files 10% similar despite different names*

```diff
@@ -127,27 +127,7 @@
             url += '&fields='.join([''] + fields)
 
         if position_type is not None:
             url += '&type=' + position_type.value
 
         results = GsSession.current._get(url)['results']
         return results
-
-    @staticmethod
-    def get_last_positions_data(
-            asset_id: str,
-            fields: IdList = None,
-            position_type: PositionType = None,
-    ) -> List[dict]:
-        url = f'/indices/{asset_id}/positions/last/data'
-        params = ''
-        if fields is not None:
-            params += '&fields='.join([''] + fields)
-
-        if position_type is not None:
-            params += '&type=' + position_type.value
-
-        if len(params):
-            url = f'{url}?{params}'
-
-        results = GsSession.current._get(url)['results']
-        return results
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/monitors.py` & `gs_quant-1.0.9/gs_quant/api/gs/monitors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/parser.py` & `gs_quant-1.0.9/gs_quant/api/gs/parser.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/plots.py` & `gs_quant-1.0.9/gs_quant/api/gs/plots.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/portfolios.py` & `gs_quant-1.0.9/gs_quant/api/gs/portfolios.py`

 * *Files 1% similar despite different names*

```diff
@@ -22,15 +22,15 @@
 from gs_quant.common import PositionType
 from gs_quant.common import RiskRequest, Currency
 from gs_quant.instrument import Instrument
 from gs_quant.session import GsSession
 from gs_quant.target.portfolios import Portfolio, Position, PositionSet
 from gs_quant.target.reports import Report
 from gs_quant.target.risk_models import RiskModelTerm as Term
-from gs_quant.workflow import WorkflowPosition, WorkflowPositionsResponse, SaveQuoteRequest
+from gs_quant.target.workflow_quote import WorkflowPosition, WorkflowPositionsResponse, SaveQuoteRequest
 
 _logger = logging.getLogger(__name__)
 
 
 class GsPortfolioApi:
     """GS Asset API client implementation.
 
@@ -238,25 +238,25 @@
     @classmethod
     def share_workflow_quote(cls, request: SaveQuoteRequest) -> str:
         headers = {'Content-Type': 'application/x-msgpack'}
         return GsSession.current._post('/risk-internal/quote/workflow/share', tuple([request]),
                                        request_headers=headers)['results']
 
     @classmethod
-    def get_workflow_quote(cls, workflow_id: str) -> Tuple[WorkflowPosition, ...]:
+    def get_workflow_quote(cls, workflow_id: str) -> Tuple[WorkflowPosition]:
         url = f'/risk-internal/quote/workflow/{workflow_id}'
         results = GsSession.current._get(url, timeout=181)
         wf_pos_res = WorkflowPositionsResponse.from_dict(results)
         if wf_pos_res:
             return wf_pos_res.results
         else:
             return ()
 
     @classmethod
-    def get_shared_workflow_quote(cls, workflow_id: str) -> Tuple[WorkflowPosition, ...]:
+    def get_shared_workflow_quote(cls, workflow_id: str) -> Tuple[WorkflowPosition]:
         url = f'/risk-internal/quote/workflow/shared/{workflow_id}'
         results = GsSession.current._get(url, timeout=181)
         wf_pos_res = WorkflowPositionsResponse.from_dict(results)
         if wf_pos_res:
             return wf_pos_res.results
         else:
             return ()
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/price.py` & `gs_quant-1.0.9/gs_quant/test/utils/datagrid_test_utils.py`

 * *Files 26% similar despite different names*

```diff
@@ -10,30 +10,25 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-from gs_quant.session import GsSession
-from gs_quant.target.price import *
-from gs_quant.target.positions_v2_pricing import *
+import json
+import pathlib
 
+from gs_quant.markets.securities import Stock
+from gs_quant.target.common import Currency
 
-class GsPriceApi:
-    """GS Price API client implementation"""
 
-    @classmethod
-    def price_positions(cls, inputs: PositionSetPriceInput) -> PositionSetPriceResponse:
-        url = '/price/positions'
-        return GsSession.current._post(url, payload=inputs, cls=PositionSetPriceResponse)
+def _read_entity(entity):
+    with open(pathlib.Path(__file__).parents[1] / f'resources/{entity}.json') as entity:
+        return json.loads(entity.read())
 
-    @classmethod
-    def price_many_positions(cls, pricing_request: PositionsPricingRequest) -> dict:
-        url = '/positions/price/bulk'
-        GsSession.current.api_version = "v2"
-        pricing_response = GsSession.current._post(url, payload=pricing_request)
-        GsSession.current.api_version = "v1"
 
-        positions = pricing_response.get("positions")
-
-        return positions
+def get_test_entity(entity_id: str):
+    entity = _read_entity(entity_id)
+    return Stock(id_=entity_id,
+                 name=entity['name'],
+                 currency=Currency.USD,
+                 entity=entity)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/reports.py` & `gs_quant-1.0.9/gs_quant/api/gs/reports.py`

 * *Files 7% similar despite different names*

```diff
@@ -96,15 +96,15 @@
         return GsSession.current._post('/reports/{id}/schedule'.format(id=report_id), report_schedule_request)
 
     @classmethod
     def get_report_status(cls, report_id: str) -> Tuple[dict, ...]:
         return GsSession.current._get('/reports/{id}/status'.format(id=report_id))
 
     @classmethod
-    def get_report_jobs(cls, report_id: str) -> Tuple[dict, ...]:
+    def get_report_jobs(cls, report_id: str) -> Tuple[dict]:
         return GsSession.current._get('/reports/{id}/jobs'.format(id=report_id))['results']
 
     @classmethod
     def get_report_job(cls, report_job_id: str) -> dict:
         return GsSession.current._get('/reports/jobs/{report_job_id}'.format(report_job_id=report_job_id))
 
     @classmethod
@@ -174,81 +174,85 @@
             url += f'&unit={unit}'
 
         return GsSession.current._get(url)
 
     @classmethod
     def get_factor_risk_report_view(cls,
                                     risk_report_id: str,
+                                    view: str = None,
                                     factor: str = None,
                                     factor_category: str = None,
                                     currency: Currency = None,
                                     start_date: dt.date = None,
                                     end_date: dt.date = None,
                                     unit: str = None) -> dict:
 
         query_string = urllib.parse.urlencode(
             dict(filter(lambda item: item[1] is not None,
-                        dict(factor=factor, factorCategory=factor_category,
+                        dict(view=view, factor=factor, factorCategory=factor_category,
                              currency=currency, startDate=start_date, endDate=end_date, unit=unit).items())))
 
-        GsSession.current.api_version = "v2"
-        url = f'/factor/risk/{risk_report_id}/views?{query_string}'
-        response = GsSession.current._get(url)
-        GsSession.current.api_version = "v1"
-        return response
+        url = f'/risk/factors/reports/{risk_report_id}/views?{query_string}'
+        return GsSession.current._get(url)
 
     @classmethod
     def get_factor_risk_report_table(cls,
                                      risk_report_id: str,
                                      mode: FactorRiskTableMode = None,
+                                     factors: List[str] = None,
+                                     factor_categories: List[str] = None,
                                      unit: str = None,
                                      currency: Currency = None,
                                      date: dt.date = None,
                                      start_date: dt.date = None,
-                                     end_date: dt.date = None) -> dict:
-
-        GsSession.current.api_version = "v2"
-        url = f'/factor/risk/{risk_report_id}/tables?'
+                                     end_date: dt.date = None,
+                                     order_by_column: str = None,
+                                     order_type: OrderType = None) -> dict:
+        url = f'/risk/factors/reports/{risk_report_id}/tables?'
         if mode is not None:
             url += f'&mode={mode.value}'
         if unit is not None:
             url += f'&unit={unit}'
         if currency is not None:
             url += f'&currency={currency.value}'
         if date is not None:
             url += f'&date={date.strftime("%Y-%m-%d")}'
         if start_date is not None:
             url += f'&startDate={start_date.strftime("%Y-%m-%d")}'
         if end_date is not None:
             url += f'&endDate={end_date.strftime("%Y-%m-%d")}'
+        if factors is not None:
+            factors = map(urllib.parse.quote, factors)
+            url += f'&factor={"&factor=".join(factors)}'
+        if factor_categories is not None:
+            url += f'&factorCategory={"&factorCategory=".join(factor_categories)}'
+        if order_by_column is not None:
+            url += f'&orderByColumn={order_by_column}'
+        if order_type is not None:
+            url += f'&orderType={order_type}'
 
-        response = GsSession.current._get(url)
-        GsSession.current.api_version = "v1"
-        return response
+        return GsSession.current._get(url)
 
     @classmethod
     def get_brinson_attribution_results(cls,
                                         portfolio_id: str,
                                         benchmark: str = None,
                                         currency: Currency = None,
                                         include_interaction: bool = None,
                                         aggregation_type: str = None,
-                                        aggregation_category: str = None,
                                         start_date: dt.date = None,
                                         end_date: dt.date = None):
         url = f'/attribution/{portfolio_id}/brinson?'
         if benchmark is not None:
             url += f'&benchmark={benchmark}'
         if currency is not None:
             url += f'&currency={currency.value}'
         if include_interaction is not None:
             url += f'&includeInteraction={str(include_interaction).lower()}'
         if aggregation_type is not None:
             url += f'&aggregationType={aggregation_type}'
-        if aggregation_category is not None:
-            url += f'&aggregationCategory={aggregation_category}'
         if start_date is not None:
             url += f'&startDate={start_date.strftime("%Y-%m-%d")}'
         if end_date is not None:
             url += f'&endDate={end_date.strftime("%Y-%m-%d")}'
 
         return GsSession.current._get(url)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/risk.py` & `gs_quant-1.0.9/gs_quant/api/gs/risk.py`

 * *Files 11% similar despite different names*

```diff
@@ -15,39 +15,39 @@
 """
 import asyncio
 import base64
 import datetime as dt
 import json
 import logging
 import math
-import os
-import sys
-import time
+import msgpack
 from socket import gaierror
+import time
 from typing import Iterable, Optional, Union
+import sys
+import os
 
-import msgpack
-from opentracing import Span
+from opentracing import Format
 
 from gs_quant.api.risk import RiskApi
 from gs_quant.risk import RiskRequest
+from gs_quant.session import GsSession
 from gs_quant.target.risk import OptimizationRequest
 from gs_quant.tracing import Tracer
 
 _logger = logging.getLogger(__name__)
 
 
 class WebsocketUnavailable(Exception):
     pass
 
 
 class GsRiskApi(RiskApi):
     USE_MSGPACK = True
     POLL_FOR_BATCH_RESULTS = False
-    PRICING_API_VERSION = None
 
     @classmethod
     def calc_multi(cls, requests: Iterable[RiskRequest]) -> dict:
         requests = tuple(requests)
         results = cls._exec(requests)
 
         if len(results) < len(requests):
@@ -59,54 +59,48 @@
     def calc(cls, request: RiskRequest) -> Iterable:
         return cls._exec(request)
 
     @classmethod
     def _exec(cls, request: Union[RiskRequest, Iterable[RiskRequest]]) -> Union[Iterable, dict]:
         use_msgpack = cls.USE_MSGPACK and not isinstance(request, RiskRequest)
         headers = {'Content-Type': 'application/x-msgpack'} if use_msgpack else {}
-        risk_session = cls.get_session()
-        version = GsRiskApi.PRICING_API_VERSION or risk_session.api_version
-        result, request_id = risk_session._post(f'/{version}' + cls.__url(request),
-                                                request,
-                                                include_version=False,
-                                                request_headers=headers,
-                                                timeout=181,
-                                                return_request_id=True)
+        Tracer.inject(Format.HTTP_HEADERS, headers)
+        result, request_id = GsSession.current._post(cls.__url(request),
+                                                     request,
+                                                     request_headers=headers,
+                                                     timeout=181,
+                                                     return_request_id=True)
 
         for sub_request in request:
             sub_request._id = request_id
 
         return result
 
     @classmethod
     def __url(cls, request: Union[RiskRequest, Iterable[RiskRequest]]):
         is_bulk = not isinstance(request, RiskRequest)
         return '/risk/calculate{}'.format('/bulk' if is_bulk else '')
 
     @classmethod
     async def get_results(cls, responses: asyncio.Queue, results: asyncio.Queue,
-                          timeout: Optional[int] = None, span: Optional[Span] = None) -> Optional[str]:
+                          timeout: Optional[int] = None) -> Optional[str]:
         if cls.POLL_FOR_BATCH_RESULTS:
-            return await cls.__get_results_poll(responses, results, timeout=timeout, span=span)
+            return await cls.__get_results_poll(responses, results, timeout=timeout)
         else:
             try:
-                return await cls.__get_results_ws(responses, results, timeout=timeout, span=span)
+                return await cls.__get_results_ws(responses, results, timeout=timeout)
             except WebsocketUnavailable:
-                return await cls.__get_results_poll(responses, results, timeout=timeout, span=span)
+                return await cls.__get_results_poll(responses, results, timeout=timeout)
 
     @classmethod
-    async def __get_results_poll(cls, responses: asyncio.Queue, results: asyncio.Queue, timeout: Optional[int] = None,
-                                 span: Optional[Span] = None):
+    async def __get_results_poll(cls, responses: asyncio.Queue, results: asyncio.Queue, timeout: Optional[int] = None):
         run = True
         pending_requests = {}
         end_time = dt.datetime.now() + dt.timedelta(seconds=timeout) if timeout else None
 
-        if span:
-            Tracer.get_instance().scope_manager.activate(span, finish_on_close=False)
-
         while pending_requests or run:
             # Check for timeout
             if end_time is not None and dt.datetime.now() > end_time:
                 _logger.error('Fatal error: timeout while waiting for results')
                 cls.shutdown_queue_listener(results)
                 return
 
@@ -121,34 +115,30 @@
 
             if not pending_requests:
                 continue
 
             # ... poll for completed requests ...
 
             try:
-                risk_session = cls.get_session()
-                version = GsRiskApi.PRICING_API_VERSION or risk_session.api_version
-                calc_results = risk_session._post(f'/{version}/risk/calculate/results/bulk',
-                                                  list(pending_requests.keys()), include_version=False)
+                calc_results = GsSession.current._post('/risk/calculate/results/bulk', list(pending_requests.keys()))
 
                 # ... enqueue the request and result for the listener to handle ...
                 for result in calc_results:
                     if 'error' in result:
                         results.put_nowait((pending_requests.pop(result['requestId']), RuntimeError(result['error'])))
                     elif 'result' in result:
                         results.put_nowait((pending_requests.pop(result['requestId']), result['result']))
             except Exception as e:
                 error_str = f'Fatal error polling for results: {e}'
                 _logger.error(error_str)
                 cls.shutdown_queue_listener(results)
                 return error_str
 
     @classmethod
-    async def __get_results_ws(cls, responses: asyncio.Queue, results: asyncio.Queue, timeout: Optional[int] = None,
-                               span: Optional[Span] = None):
+    async def __get_results_ws(cls, responses: asyncio.Queue, results: asyncio.Queue, timeout: Optional[int] = None):
         async def handle_websocket():
             ret = ''
 
             try:
                 # If we're re-connecting then re-send any in-flight request ids
 
                 outstanding_request_ids = [i for i in pending_requests.keys() if i not in dispatched]
@@ -166,60 +156,50 @@
                     result_listener = asyncio.ensure_future(ws.recv())
                     listeners = tuple(filter(None, (request_listener, result_listener)))
 
                     # Wait for either a request or result
                     complete, pending = await asyncio.wait(listeners, return_when=asyncio.FIRST_COMPLETED)
 
                     # Check results before sending more requests. Results can be lost otherwise
+
                     if result_listener in complete:
                         # New results have been received
-                        request_id = None
                         try:
-                            raw_res = result_listener.result()
-                            parsed_res = raw_res.decode() if isinstance(raw_res, bytes) else raw_res
-                            request_id, status_result_str = parsed_res.split(';', 1)
+                            request_id, status_result_str = result_listener.result().split(';', 1)
                             status, result_str = status_result_str[0], status_result_str[1:]
                         except Exception as ee:
                             status = 'E'
                             result_str = str(ee)
 
                         if status == 'E':
                             # An error
                             result = RuntimeError(result_str)
                         else:
                             # Unpack the result
+
                             try:
                                 result = msgpack.unpackb(base64.b64decode(result_str), raw=False) \
                                     if cls.USE_MSGPACK else json.loads(result_str)
                             except Exception as ee:
                                 result = ee
-                        if request_id is None:
-                            # Certain fatal websocket errors (e.g. ConnectionClosed) that are caught above will mean
-                            # we have no request_id - In this case we abort and set the error on all results
-                            result_listener.cancel()
-                            for req in pending_requests.values():
-                                results.put_nowait((req, result))
-                            # Give up
-                            pending_requests.clear()
-                            all_requests_dispatched = True
-                        else:
-                            # Enqueue the request and result for the listener to handle
-                            results.put_nowait((pending_requests.pop(request_id), result))
+
+                        # Enqueue the request and result for the listener to handle
+                        results.put_nowait((pending_requests.pop(request_id), result))
                     else:
                         result_listener.cancel()
 
                     if request_listener:
                         if request_listener in complete:
                             # New requests have been posted ...
 
                             all_requests_dispatched, items = request_listener.result()
                             if items:
                                 if not all([isinstance(i[1], dict) for i in items]):
-                                    error_item = next(i[1] for i in items if not isinstance(i[1], dict))
-                                    raise RuntimeError(error_item[0][0][0]['errorString'])
+                                    error = next(i[1] for i in items if not isinstance(i[1], dict))
+                                    raise RuntimeError(error[0][0][0]['errorString'])
 
                                 # ... extract the request IDs ...
                                 request_ids = [i[1]['reportId'] for i in items]
 
                                 # ... update the pending requests ...
                                 pending_requests.update(zip(request_ids, (i[0] for i in items)))
 
@@ -247,25 +227,16 @@
         from websockets import ConnectionClosedError
         while attempts < max_attempts:
             if attempts > 0:
                 await asyncio.sleep(math.pow(2, attempts))
                 _logger.error(f'{error} error, retrying (attempt {attempts + 1} of {max_attempts})')
 
             try:
-                risk_session = cls.get_session()
-                api_version = GsRiskApi.PRICING_API_VERSION or risk_session.api_version
-                ws_url = f'/{api_version}/risk/calculate/results/subscribe'
-                async with risk_session._connect_websocket(ws_url, include_version=False) as ws:
-                    if span:
-                        Tracer.get_instance().scope_manager.activate(span, finish_on_close=False)
-                        with Tracer(f'wss:/{ws_url}') as scope:
-                            scope.span.set_tag('wss.host', ws.request_headers.get('host'))
-                            error = await handle_websocket()
-                    else:
-                        error = await handle_websocket()
+                async with GsSession.current._connect_websocket('/risk/calculate/results/subscribe') as ws:
+                    error = await handle_websocket()
 
                 attempts = max_attempts
             except ConnectionClosedError as cce:
                 error = 'Connection failed: ' + str(cce)
                 attempts += 1
             except asyncio.TimeoutError:
                 error = 'Timed out'
@@ -280,15 +251,15 @@
             _logger.error(f'Fatal error with websocket: {error}')
             cls.shutdown_queue_listener(results)
             return error
 
     @classmethod
     def create_pretrade_execution_optimization(cls, request: OptimizationRequest) -> str:
         try:
-            response = cls.get_session()._post(r'/risk/execution/pretrade', request)
+            response = GsSession.current._post(r'/risk/execution/pretrade', request)
             _logger.info('New optimization is created with id: {}'.format(response.get("optimizationId")))
             return response
         except Exception as e:
             error = str(e)
             _logger.error(error)
             return error
 
@@ -300,15 +271,15 @@
         results = {}
 
         while attempts < max_attempts:
             if attempts > 0:
                 time.sleep(math.pow(2, attempts))
                 _logger.error('Retrying (attempt {} of {})'.format(attempts, max_attempts))
             try:
-                results = cls.get_session()._get(url)
+                results = GsSession.current._get(url)
                 if results.get('status') == 'Running':
                     attempts += 1
                 else:
                     break
             except Exception as e:
                 error = str(e)
                 _logger.error(error)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/risk_models.py` & `gs_quant-1.0.9/gs_quant/api/gs/risk_models.py`

 * *Files 2% similar despite different names*

```diff
@@ -129,31 +129,24 @@
 
     @classmethod
     def get_risk_model_factor_data(cls,
                                    model_id: str,
                                    start_date: dt.date = None,
                                    end_date: dt.date = None,
                                    identifiers: List[str] = None,
-                                   include_performance_curve: bool = False,
-                                   factor_categories: List[str] = None,
-                                   names: List[str] = None) -> List[Dict]:
+                                   include_performance_curve: bool = False) -> List[Dict]:
         url = f'/risk/models/{model_id}/factors/data?'
         if start_date is not None:
             url += f'&startDate={start_date.strftime("%Y-%m-%d")}'
         if end_date is not None:
             url += f'&endDate={end_date.strftime("%Y-%m-%d")}'
         if identifiers is not None:
             url += '&identifiers={ids}'.format(ids='&identifiers='.join(identifiers))
         if include_performance_curve:
             url += '&includePerformanceCurve=true'
-        if names:
-            url += '&name={names}'.format(names='&name='.join(names))
-        if factor_categories:
-            url += '&factorCategory={factor_categories}'\
-                .format(factor_categories='&factorCategory='.join(factor_categories))
         return GsSession.current._get(url)['results']
 
     @classmethod
     def get_risk_model_coverage(cls,
                                 asset_ids: List[str] = None,
                                 as_of_date: dt.datetime = None,
                                 sort_by_term: RiskModelTerm = None) -> List[Dict]:
@@ -168,39 +161,34 @@
 
     @classmethod
     def upload_risk_model_data(cls,
                                model_id: str,
                                model_data: Union[Dict, RiskModelData],
                                partial_upload: bool = False,
                                target_universe_size: float = None,
-                               final_upload: bool = None,
-                               aws_upload: bool = False) -> str:
+                               final_upload: bool = None) -> str:
         url = f'/risk/models/data/{model_id}'
         if partial_upload:
             url += '?partialUpload=true'
             if target_universe_size:
                 url += f'&targetUniverseSize={target_universe_size}'
             if final_upload is not None:
                 final_upload_flag = 'true' if final_upload else 'false'
                 url += f'&finalUpload={final_upload_flag}'
-        if aws_upload:
-            url += '&awsUpload=true'
         return GsSession.current._post(url, model_data, timeout=200)
 
     @classmethod
     def get_risk_model_data(cls, model_id: str, start_date: dt.date, end_date: dt.date = None,
                             assets: RiskModelDataAssetsRequest = None, measures: List[RiskModelDataMeasure] = None,
-                            factors: list = None, limit_factors: bool = None) -> Dict:
+                            limit_factors: bool = None) -> Dict:
         end_date = cls.get_risk_model_dates(model_id)[-1] if not end_date else end_date.strftime('%Y-%m-%d')
         query = {
             'startDate': start_date.strftime('%Y-%m-%d'),
             'endDate': end_date
         }
         if assets is not None:
             query['assets'] = assets
         if measures is not None:
             query['measures'] = measures
-        if factors is not None:
-            query['factors'] = factors
         if limit_factors is not None:
             query['limitFactors'] = limit_factors
         return GsSession.current._post(f'/risk/models/data/{model_id}/query', query, timeout=200)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/screens.py` & `gs_quant-1.0.9/gs_quant/api/gs/screens.py`

 * *Files 6% similar despite different names*

```diff
@@ -23,15 +23,15 @@
 _logger = logging.getLogger(__name__)
 
 
 class GsScreenApi:
 
     @classmethod
     def get_screens(cls, screen_ids: List[str] = None, screen_names: List[str] = None, limit: int = 100) \
-            -> Tuple[Screen, ...]:
+            -> Tuple[Screen]:
         url = '/screens?'
         if screen_ids:
             url += f'&id={"&id=".join(screen_ids)}'
         if screen_names:
             url += f'&name={"&name=".join(screen_names)}'
         return GsSession.current._get(f'{url}&limit={limit}', cls=Screen)['results']
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/thematics.py` & `gs_quant-1.0.9/gs_quant/api/gs/thematics.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/users.py` & `gs_quant-1.0.9/gs_quant/api/gs/users.py`

 * *Files 4% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-from typing import List, Any, Dict
+from typing import List
 
 from pydash import get
 
 from gs_quant.session import GsSession
 from gs_quant.target.reports import User
 
 
@@ -43,15 +43,15 @@
         return GsSession.current._get(f'{url}&limit={limit}&offset={offset}', cls=User)['results']
 
     @classmethod
     def get_my_guid(cls) -> str:
         return f"guid:{GsSession.current._get('/users/self')['id']}"
 
     @classmethod
-    def get_current_user_info(cls) -> Dict[str, Any]:
+    def get_current_user_info(cls) -> List[str]:
         """
         Gets user
         :return: user
         """
         return GsSession.current._get('/users/self')
 
     @classmethod
```

### Comparing `gs_quant-1.0.80/gs_quant/api/gs/workspaces.py` & `gs_quant-1.0.9/gs_quant/api/gs/workspaces.py`

 * *Files 2% similar despite different names*

```diff
@@ -28,15 +28,15 @@
 WORKSPACES_MARKETS_HEADERS: Dict[str, str] = {'Content-Type': 'application/json;charset=utf-8'}
 
 
 class GsWorkspacesMarketsApi:
     """GS Workspaces Markets API implementation"""
 
     @classmethod
-    def get_workspaces(cls, limit: int = 10, **kwargs) -> Tuple[Workspace, ...]:
+    def get_workspaces(cls, limit: int = 10, **kwargs) -> Tuple[Workspace]:
         return GsSession.current._get(f'{API}?limit={limit}&{urllib.parse.urlencode(kwargs)}', cls=Workspace)['results']
 
     @classmethod
     def get_workspace(cls, workspace_id: str):
         return GsSession.current._get(f'{API}/{workspace_id}', cls=Workspace)
 
     @classmethod
```

### Comparing `gs_quant-1.0.80/gs_quant/api/risk.py` & `gs_quant-1.0.9/gs_quant/api/risk.py`

 * *Files 11% similar despite different names*

```diff
@@ -9,92 +9,42 @@
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
+from abc import ABCMeta, abstractmethod
 import asyncio
+from concurrent.futures import TimeoutError
 import itertools
 import logging
 import queue
 import sys
-from abc import ABCMeta, abstractmethod
-from concurrent.futures import TimeoutError
 from threading import Thread
-from typing import Iterable, Optional, Union, Tuple, Dict, Any
-
-from opentracing import Span
 from tqdm import tqdm
+from typing import Iterable, Optional, Union, Tuple
 
-from gs_quant.api.api_session import ApiWithCustomSession
-from gs_quant.base import RiskKey, Sentinel, Priceable
+from gs_quant.base import RiskKey, Sentinel
 from gs_quant.risk import ErrorValue, RiskRequest
 from gs_quant.risk.result_handlers import result_handlers
-from gs_quant.risk.results import PricingFuture
 from gs_quant.session import GsSession
 from gs_quant.tracing import Tracer
 
 _logger = logging.getLogger(__name__)
 
 
-class GenericRiskApi(ApiWithCustomSession, metaclass=ABCMeta):
-    batch_dates = True
+class RiskApi(metaclass=ABCMeta):
 
-    @classmethod
-    @abstractmethod
-    def populate_pending_futures(cls, requests: list, session: GsSession,
-                                 pending: Dict[Tuple[RiskKey, Priceable], PricingFuture]):
-        ...
-
-    @classmethod
-    @abstractmethod
-    def build_keyed_results(cls, request: RiskRequest, results: Union[Iterable, Exception]) -> \
-            Dict[Tuple[RiskKey, Priceable], Any]:
-        ...
-
-
-class RiskApi(GenericRiskApi, metaclass=ABCMeta):
     __SHUTDOWN_SENTINEL = Sentinel('QueueListenerShutdown')
 
     @classmethod
-    def populate_pending_futures(cls, requests: list, session: GsSession,
-                                 pending: Dict[Tuple[RiskKey, Priceable], PricingFuture], **kwargs):
-        results = queue.Queue()
-        done = False
-        max_concurrent, progress_bar, timeout, span, cache_impl, is_async = \
-            [kwargs.get(arg) for arg in ['max_concurrent', 'progress_bar', 'timeout', 'span', 'cache_impl', 'is_async']]
-        try:
-            with session:
-                cls.run(requests, results, max_concurrent, progress_bar,
-                        timeout=timeout, span=span)
-        except Exception as e:
-            cls.enqueue(results, ((k, e) for k in pending.keys()))
-
-        while pending and not done:
-            done, chunk_results = cls.drain_queue(results)
-            for (risk_key_, priceable_), result in chunk_results:
-                future = pending.pop((risk_key_, priceable_), None)
-                if future is not None:
-                    future.set_result(result)
-
-                    if cache_impl is not None:
-                        cache_impl.put(risk_key_, priceable_, result)
-
-        if not is_async:
-            # In async mode we can't tell if we've completed, we could be re-used
-            while pending:
-                (risk_key_, _), future = pending.popitem()
-                future.set_result(ErrorValue(risk_key_, 'No result returned'))
-
-    @classmethod
     @abstractmethod
     async def get_results(cls, responses: asyncio.Queue, results: asyncio.Queue,
-                          timeout: Optional[int] = None,
-                          span: Optional[Span] = None) -> Optional[str]:
+                          timeout: Optional[int] = None) -> Optional[str]:
         ...
 
     @classmethod
     @abstractmethod
     def calc(cls, request: RiskRequest) -> Iterable:
         ...
 
@@ -132,15 +82,15 @@
             return False, []
 
     @classmethod
     async def drain_queue_async(cls, q: asyncio.Queue, timeout: Optional[int] = None) -> Tuple[bool, list]:
         try:
             elem = await asyncio.wait_for(q.get(), timeout=timeout) if timeout else await q.get()
             return cls.__handle_queue_update(q, elem)
-        except (TimeoutError, asyncio.TimeoutError):
+        except TimeoutError:
             return False, []
 
     @classmethod
     def enqueue(cls,
                 q: Union[queue.Queue, asyncio.Queue],
                 items: Iterable,
                 loop: Optional[asyncio.AbstractEventLoop] = None,
@@ -172,15 +122,15 @@
             requests: list,
             results: queue.Queue,
             max_concurrent: int,
             progress_bar: Optional[tqdm] = None,
             timeout: Optional[int] = None,
             span: Optional[str] = None):
         def _process_results(completed: list):
-            chunk_results = tuple(itertools.chain.from_iterable(cls.build_keyed_results(request, result).items()
+            chunk_results = tuple(itertools.chain.from_iterable(cls._handle_results(request, result).items()
                                                                 for request, result in completed))
             cls.enqueue(results, chunk_results, wait=True)
 
         def process_results(unprocessed_results: queue.Queue):
             shutdown = False
 
             while not shutdown:
@@ -227,26 +177,22 @@
             loop = asyncio.get_event_loop()
             raw_results = asyncio.Queue()
             responses = asyncio.Queue() if is_async else raw_results
             outstanding_requests = queue.Queue()
             unprocessed_results = None
             results_handler = None
 
-            # determine session to use
-            session = cls.get_session()
-
             # The requests library (which we use for dispatching) is not async, so we need a thread for concurrency
             Thread(daemon=True,
                    target=execute_requests,
-                   args=(outstanding_requests, responses, raw_results, session, loop, current_span)).start()
+                   args=(outstanding_requests, responses, raw_results, GsSession.current, loop, current_span)).start()
 
             if is_async:
                 # If async we need a task to handle result subscription
-                results_handler = loop.create_task(
-                    cls.get_results(responses, raw_results, timeout=timeout, span=current_span))
+                results_handler = loop.create_task(cls.get_results(responses, raw_results, timeout=timeout))
 
             expected = sum(num_risk_jobs(r) for r in requests)
             received = 0
             chunk_size = min(max_concurrent, expected)
             result_thread = None
 
             if expected > chunk_size:
@@ -329,16 +275,15 @@
                 raise
             finally:
                 if not use_existing:
                     main_loop.close()
                     asyncio.set_event_loop(None)
 
     @classmethod
-    def build_keyed_results(cls, request: RiskRequest, results: Union[Iterable, Exception]) -> \
-            Dict[Tuple[RiskKey, Priceable], Any]:
+    def _handle_results(cls, request: RiskRequest, results: Union[Iterable, Exception]) -> dict:
         formatted_results = {}
 
         if isinstance(results, Exception):
             date_results = [
                 {'$type': 'Error', 'errorString': str(results)}] * len(request.pricing_and_market_data_as_of)
             position_results = [date_results] * len(request.positions)
             results = [position_results] * len(request.measures)
```

### Comparing `gs_quant-1.0.80/gs_quant/api/utils.py` & `gs_quant-1.0.9/gs_quant/api/utils.py`

 * *Files 16% similar despite different names*

```diff
@@ -13,23 +13,21 @@
 specific language governing permissions and limitations
 under the License.
 """
 
 import concurrent
 import socket
 from concurrent.futures.thread import ThreadPoolExecutor
-from typing import List, Callable, Optional
+from typing import List, Callable
 
 import requests
-from opentracing import Span
 
 from gs_quant.data import DataContext
 from gs_quant.errors import MqUninitialisedError
 from gs_quant.session import GsSession
-from gs_quant.tracing import Tracer
 
 
 def handle_proxy(url, params):
     try:
         internal = GsSession.current.is_internal()
     except MqUninitialisedError:
         internal = False
@@ -55,27 +53,20 @@
     @classmethod
     def run_async(cls, tasks: List[Callable]) -> List:
         if not cls.__executor:
             cls.__executor = ThreadPoolExecutor()
 
         tasks_to_idx = {}
         for i, task in enumerate(tasks):
-            tasks_to_idx[cls.__executor.submit(cls.__run,
-                                               GsSession.current,
-                                               DataContext.current,
-                                               Tracer.get_instance().active_span,
-                                               task)] = i
+            tasks_to_idx[cls.__executor.submit(cls.__run, GsSession.current, DataContext.current, task)] = i
         results = [None] * len(tasks_to_idx)
         for task in concurrent.futures.as_completed(tasks_to_idx):
             idx = tasks_to_idx[task]
             results[idx] = task.result()
 
         return results
 
     @staticmethod
-    def __run(session, data_context, span: Optional[Span], func):
-        if span:
-            Tracer.get_instance().scope_manager.activate(span, finish_on_close=False)
-
+    def __run(session, data_context, func):
         with session:
             with data_context:
                 return func()
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/__init__.py` & `gs_quant-1.0.9/gs_quant/backtests/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/action_handler.py` & `gs_quant-1.0.9/gs_quant/backtests/action_handler.py`

 * *Files 9% similar despite different names*

```diff
@@ -34,15 +34,14 @@
         return self._action
 
     @abstractmethod
     def apply_action(
             self,
             state: Union[date, Iterable[date]],
             backtest: TBaseBacktest,
-            trigger_info: Any,
     ) -> Any:
         pass
 
 
 TActionHandler = TypeVar('TActionHandler', bound='ActionHandler')
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/actions.py` & `gs_quant-1.0.9/gs_quant/backtests/actions.py`

 * *Files 27% similar despite different names*

```diff
@@ -11,221 +11,278 @@
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
 from collections import namedtuple
-import copy
-from dataclasses import dataclass, field
-from dataclasses_json import dataclass_json
-from typing import TypeVar, Callable
+from typing import TypeVar
 
 from gs_quant.backtests.backtest_utils import *
 from gs_quant.backtests.backtest_objects import ConstantTransactionModel, TransactionModel
+from gs_quant.risk.transform import Transformer
 from gs_quant.base import Priceable
-from gs_quant.common import RiskMeasure
-from gs_quant.markets.portfolio import Portfolio
 from gs_quant.markets.securities import *
-from gs_quant.risk.transform import Transformer
+from gs_quant.markets.portfolio import Portfolio
 from gs_quant.target.backtests import BacktestTradingQuantityType
 
 action_count = 1
 
 
-def default_transaction_cost(obj):
-    return field(default_factory=lambda: copy.copy(obj))
-
-
-@dataclass_json
-@dataclass
 class Action(object):
-    _needs_scaling = False
-    _calc_type = CalcType.simple
-    _risk = None
-    _transaction_cost = ConstantTransactionModel(0)
-    name = None
-
-    def __post_init__(self):
-        self.set_name(self.name)
+    def __init__(self, name: str = None):
+        self._needs_scaling = False
+        self._calc_type = CalcType.simple
+        self._risk = None
+        global action_count
+        if name is None:
+            self._name = 'Action{}'.format(action_count)
+            action_count += 1
+        else:
+            self._name = name
+        self._transaction_cost = ConstantTransactionModel(0)
 
     @property
     def calc_type(self):
         return self._calc_type
 
     @property
     def risk(self):
         return self._risk
 
-    def set_name(self, name: str):
-        global action_count
-        if self.name is None:
-            self.name = 'Action{}'.format(action_count)
-            action_count += 1
-
     @property
     def transaction_cost(self):
         return self._transaction_cost
 
-    @transaction_cost.setter
-    def transaction_cost(self, value):
-        self._transaction_cost = value
-
 
 TAction = TypeVar('TAction', bound='Action')
 
 
-@dataclass_json
-@dataclass
 class AddTradeAction(Action):
-    """
-    create an action which adds a trade when triggered.  The trades are resolved on the trigger date (state) and
-    last until the trade_duration if specified or for all future dates if not.
-    :param priceables: a priceable or a list of pricables.
-    :param trade_duration: an instrument attribute eg. 'expiration_date' or a date or a tenor or timedelta
-                           if left as None the
-                           trade will be added for all future dates
-    :param name: optional additional name to the priceable name
-    :param transaction_cost: optional a cash amount paid for each transaction, paid on both enter and exit
-    """
-
-    priceables: Union[Priceable, Iterable[Priceable]] = None
-    trade_duration: Union[str, dt.date, dt.timedelta] = None
-    name: str = None
-    transaction_cost: TransactionModel = default_transaction_cost(ConstantTransactionModel())
+    def __init__(self,
+                 priceables: Union[Priceable, Iterable[Priceable]],
+                 trade_duration: Union[str, dt.date, dt.timedelta] = None,
+                 name: str = None,
+                 transaction_cost: TransactionModel = ConstantTransactionModel(0)):
+        """
+        create an action which adds a trade when triggered.  The trades are resolved on the trigger date (state) and
+        last until the trade_duration if specified or for all future dates if not.
+        :param priceables: a priceable or a list of pricables.
+        :param trade_duration: an instrument attribute eg. 'expiration_date' or a date or a tenor or timedelta
+                               if left as None the
+                               trade will be added for all future dates
+        :param name: optional additional name to the priceable name
+        :param transaction_cost: optional a cash amount paid for each transaction, paid on both enter and exit
+        """
+        super().__init__(name)
 
-    def __post_init__(self):
+        self._priceables = []
         self._dated_priceables = {}
-        named_priceables = []
-        for i, p in enumerate(make_list(self.priceables)):
+        self._trade_duration = trade_duration
+        self._transaction_cost = transaction_cost
+        for i, p in enumerate(make_list(priceables)):
             if p.name is None:
-                named_priceables.append(p.clone(name=f'{self.name}_Priceable{i}'))
+                self._priceables.append(p.clone(name=f'{self._name}_Priceable{i}'))
             else:
-                named_priceables.append(p.clone(name=f'{self.name}_{p.name}'))
-        self.priceables = named_priceables
+                self._priceables.append(p.clone(name=f'{self._name}_{p.name}'))
+
+    @property
+    def priceables(self):
+        return self._priceables
+
+    @property
+    def trade_duration(self):
+        return self._trade_duration
 
     def set_dated_priceables(self, state, priceables):
         self._dated_priceables[state] = make_list(priceables)
 
     @property
     def dated_priceables(self):
         return self._dated_priceables
 
+    @property
+    def transaction_cost(self):
+        return self._transaction_cost
+
 
 AddTradeActionInfo = namedtuple('AddTradeActionInfo', 'scaling')
 EnterPositionQuantityScaledActionInfo = namedtuple('EnterPositionQuantityScaledActionInfo', 'not_applicable')
 HedgeActionInfo = namedtuple('HedgeActionInfo', 'not_applicable')
 ExitTradeActionInfo = namedtuple('ExitTradeActionInfo', 'not_applicable')
 RebalanceActionInfo = namedtuple('RebalanceActionInfo', 'not_applicable')
 
 
-@dataclass_json
-@dataclass
 class EnterPositionQuantityScaledAction(Action):
-    """
+    def __init__(self,
+                 priceables: Union[Priceable, Iterable[Priceable]],
+                 trade_duration: Union[str, dt.date, dt.timedelta] = None,
+                 name: str = None,
+                 trade_quantity: float = 1,
+                 trade_quantity_type: Union[BacktestTradingQuantityType, str] = BacktestTradingQuantityType.quantity):
+        """
         create an action which enters trades when triggered.  The trades are executed with specified quantity and
         last until the trade_duration if specified, or for all future dates if not.
         :param priceables: a priceable or a list of pricables.
         :param trade_duration: an instrument attribute eg. 'expiration_date' or a date or a tenor if left as None the
                                trade will be added for all future dates
         :param name: optional additional name to the priceable name
         :param trade_quantity: the amount, in units of trade_quantity_type to be traded
         :param trade_quantity_type: the quantity type used to scale trade. eg. quantity for units, notional for
                                     underlier notional
-    """
-    priceables: Union[Priceable, Iterable[Priceable]] = None
-    trade_duration: Union[str, dt.date, dt.timedelta] = None
-    name: str = None
-    trade_quantity: float = 1
-    trade_quantity_type: Union[BacktestTradingQuantityType, str] = BacktestTradingQuantityType.quantity
-
-    def __post_init__(self):
-        named_priceables = []
-        for i, p in enumerate(make_list(self.priceables)):
+        """
+        super().__init__(name)
+        self._priceables = []
+        self._trade_duration = trade_duration
+        for i, p in enumerate(make_list(priceables)):
             if p.name is None:
-                named_priceables.append(p.clone(name=f'{self.name}_Priceable{i}'))
+                self._priceables.append(p.clone(name=f'{self._name}_Priceable{i}'))
             else:
-                named_priceables.append(p.clone(name=f'{self.name}_{p.name}'))
-        self.priceables = named_priceables
+                self._priceables.append(p.clone(name=f'{self._name}_{p.name}'))
+        self._trade_quantity = trade_quantity
+        self._trade_quantity_type = trade_quantity_type
+
+    @property
+    def priceables(self):
+        return self._priceables
+
+    @property
+    def trade_duration(self):
+        return self._trade_duration
+
+    @property
+    def trade_quantity(self):
+        return self._trade_quantity
+
+    @property
+    def trade_quantity_type(self):
+        return self._trade_quantity_type
 
 
-@dataclass_json
-@dataclass
 class ExitPositionAction(Action):
-    name: str = None
+    def __init__(self, name: str = None):
+        """
+        Fully exit all held positions
+        :param name: optional name of the action
+        """
+        super().__init__(name)
 
 
-@dataclass_json
-@dataclass
 class ExitTradeAction(Action):
-    priceable_names: Union[str, Iterable[str]] = None
-    name: str = None
+    def __init__(self, priceable_names: Union[str, Iterable[str]] = None, name: str = None):
+        """
+        Fully exit all held positions
+        :param priceable_names: optional string or list of strings of priceable names
+        :param name: optional name of the action
+        """
+        super().__init__(name)
+        self._priceables_names = make_list(priceable_names)
 
-    def __post_init__(self):
-        self.priceables_names = make_list(self.priceable_names)
+    @property
+    def priceable_names(self):
+        return self._priceables_names
 
 
-@dataclass_json
-@dataclass
 class ExitAllPositionsAction(ExitTradeAction):
-    """
-    Fully exit all held positions
-    """
+    def __init__(self, name: str = None):
+        """
+        Fully exit all held positions
+        :param name: optional name of the action
+        """
+        super().__init__([], name)
 
-    def __post_init__(self):
         self._calc_type = CalcType.path_dependent
 
 
-@dataclass_json
-@dataclass
 class HedgeAction(Action):
-    risk: RiskMeasure = None
-    priceables: Optional[Priceable] = None
-    trade_duration: Union[str, dt.date, dt.timedelta] = None
-    name: str = None
-    csa_term: str = None
-    scaling_parameter: str = 'notional_amount'
-    transaction_cost: TransactionModel = default_transaction_cost(ConstantTransactionModel())
-    risk_transformation: Transformer = None
-
-    def __post_init__(self):
+    def __init__(self, risk, priceables: Priceable = None, trade_duration: str = None, name: str = None,
+                 csa_term: str = None, scaling_parameter: str = 'notional_amount',
+                 transaction_cost: TransactionModel = ConstantTransactionModel(0),
+                 risk_transformation: Transformer = None):
+        super().__init__(name)
         self._calc_type = CalcType.semi_path_dependent
-        if isinstance(self.priceables, Portfolio):
-            named_priceables = []
-            for i, priceable in enumerate(self.priceables):
+        self._priceable = priceables
+        self._risk = risk
+        self._trade_duration = trade_duration
+        self._csa_term = csa_term
+        self._scaling_parameter = scaling_parameter
+        self._transaction_cost = transaction_cost
+        self._risk_transformation = risk_transformation
+        if isinstance(priceables, Portfolio):
+            trades = []
+            for i, priceable in enumerate(priceables):
                 if priceable.name is None:
-                    named_priceables.append(priceable.clone(name=f'{self.name}_Priceable{i}'))
+                    trades.append(priceable.clone(name=f'{self._name}_Priceable{i}'))
                 else:
-                    named_priceables.append(priceable.clone(name=f'{self.name}_{priceable.name}'))
-            named_priceable = Portfolio(named_priceables)
-        elif isinstance(self.priceables, Priceable):
-            if self.priceables.name is None:
-                named_priceable = self.priceables.clone(name=f'{self.name}_Priceable0')
-            else:
-                named_priceable = self.priceables.clone(name=f'{self.name}_{self.priceables.name}')
+                    trades.append(priceable.clone(name=f'{self._name}_{priceable.name}'))
+            self._priceable = Portfolio(trades)
         else:
-            raise RuntimeError('hedge action only accepts one trade or one portfolio')
-        self.priceables = named_priceable
+            if priceables is not None:
+                if priceables.name is None:
+                    self._priceable = priceables.clone(name=f'{self._name}_Priceable0')
+                else:
+                    self._priceable = priceables.clone(name=f'{self._name}_{priceables.name}')
+
+    @property
+    def trade_duration(self):
+        return self._trade_duration
 
     @property
     def priceable(self):
-        return self.priceables
+        return self._priceable
 
+    @property
+    def risk(self):
+        return self._risk
 
-@dataclass_json
-@dataclass
-class RebalanceAction(Action):
-    priceable: Priceable = None
-    size_parameter: Union[str, float] = None
-    method: Callable = None
-    transaction_cost: TransactionModel = default_transaction_cost(ConstantTransactionModel())
-    name: str = None
+    @property
+    def csa_term(self):
+        return self._csa_term
+
+    @property
+    def scaling_parameter(self):
+        return self._scaling_parameter
+
+    @property
+    def transaction_cost(self):
+        return self._transaction_cost
 
-    def __post_init__(self):
+    @property
+    def risk_transformation(self):
+        return self._risk_transformation
+
+
+class RebalanceAction(Action):
+    def __init__(self, priceable: Priceable, size_parameter, method,
+                 transaction_cost: TransactionModel = ConstantTransactionModel(0)):
+        super().__init__()
         self._calc_type = CalcType.path_dependent
-        if self.priceable.unresolved is None:
+        self._size_parameter = size_parameter
+        self._method = method
+        self._transaction_cost = transaction_cost
+        if priceable.unresolved is None:
             raise ValueError("Please specify a resolved priceable to rebalance.")
-        if self.priceable is not None:
-            if self.priceable.name is None:
-                self.priceable = self.priceable.clone(name=f'{self.name}_Priceable0')
+        if priceable is not None:
+            if priceable.name is None:
+                self._priceable = priceable.clone(name=f'{self._name}_Priceable0')
             else:
-                self.priceable = self.priceable.clone(name=f'{self.name}_{self.priceable.name}')
+                self._priceable = priceable.clone(name=f'{self._name}_{priceable.name}')
+
+    @property
+    def priceable(self):
+        return self._priceable
+
+    @property
+    def size_parameter(self):
+        return self._size_parameter
+
+    @property
+    def method(self):
+        return self._method
+
+    @property
+    def args(self):
+        return self._args
+
+    @property
+    def transaction_cost(self):
+        return self._transaction_cost
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/backtest_engine.py` & `gs_quant-1.0.9/gs_quant/backtests/backtest_engine.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/backtest_objects.py` & `gs_quant-1.0.9/gs_quant/backtests/backtest_objects.py`

 * *Files 4% similar despite different names*

```diff
@@ -13,56 +13,47 @@
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
 from abc import ABC
 from collections import defaultdict
 from copy import deepcopy
-from dataclasses import dataclass
-from dataclasses_json import dataclass_json
 from queue import Queue as FifoQueue
 from typing import Iterable, TypeVar, Optional
 
 import numpy as np
 import pandas as pd
 
-from gs_quant.common import RiskMeasure
 from gs_quant.instrument import Cash
 from gs_quant.markets.portfolio import Portfolio
-from gs_quant.backtests.backtest_utils import make_list
 from gs_quant.backtests.core import ValuationMethod
 from gs_quant.backtests.data_handler import DataHandler
 from gs_quant.backtests.event import FillEvent
 from gs_quant.backtests.order import OrderBase, OrderCost
 from gs_quant.risk.transform import Transformer
 
 
 class BaseBacktest(ABC):
     pass
 
 
 TBaseBacktest = TypeVar('TBaseBacktest', bound='BaseBacktest')
 
 
-@dataclass_json
-@dataclass
 class BackTest(BaseBacktest):
-    strategy: object
-    states: Iterable
-    risks: Iterable[RiskMeasure]
-
-    def __post_init__(self):
+    def __init__(self, strategy, states, risks):
         self._portfolio_dict = defaultdict(Portfolio)  # portfolio by state
         self._cash_dict = {}  # cash by state
         self._hedges = defaultdict(list)  # list of Hedge by date
         self._cash_payments = defaultdict(list)  # list of cash payments (entry, unwind)
         self._transaction_costs = defaultdict(int)  # list of transaction costs by date
-        self.strategy = deepcopy(self.strategy)  # the strategy definition
+        self._strategy = deepcopy(strategy)  # the strategy definition
+        self._states = states  # list of states
         self._results = defaultdict(list)
-        self.risks = make_list(self.risks)  # list of risks to calculate
+        self._risks = tuple(risks)  # list of risks to calculate
         self._calc_calls = 0
         self._calculations = 0
 
     @property
     def cash_dict(self):
         return self._cash_dict
 
@@ -91,20 +82,28 @@
         return self._hedges
 
     @hedges.setter
     def hedges(self, hedges):
         self._hedges = hedges
 
     @property
+    def states(self):
+        return self._states
+
+    @property
     def results(self):
         return self._results
 
     def set_results(self, date, results):
         self._results[date] = results
 
+    @property
+    def risks(self):
+        return self._risks
+
     def add_results(self, date, results, replace=False):
         if date in self._results and len(self._results[date]) and not replace:
             self._results[date] += results
         else:
             self._results[date] = results
 
     @property
@@ -201,16 +200,15 @@
                              .assign(pricing_date=[date] * len(risk_res))
                              for date, risk_res in self.results.items()}
         risk_measure_table = pd.concat(risk_measure_dict.values())
         risk_measure_table = risk_measure_table.reset_index()
         risk_measure_table = risk_measure_table.rename(columns={'pricing_date': 'Pricing Date',
                                                        'instrument_name': 'Instrument Name'})
         risk_measure_table = risk_measure_table.set_index(['Pricing Date', 'Instrument Name'])
-        risk_measure_table.columns = pd.MultiIndex.from_product(
-            [['Risk Measures'], [str(col) for col in risk_measure_table.columns]])
+        risk_measure_table.columns = pd.MultiIndex.from_product([['Risk Measures'], risk_measure_table.columns])
 
         risk_and_cp_joined = risk_measure_table.join(cp_table, how='outer')
 
         static_inst_info = pd.concat(
             [info.portfolio.to_frame()
              for info in self.results.values()]
         )
@@ -258,43 +256,48 @@
                  entry_payment: CashPayment,
                  exit_payment: Optional[CashPayment]):
         self.scaling_portfolio = scaling_portfolio
         self.entry_payment = entry_payment
         self.exit_payment = exit_payment
 
 
-@dataclass_json()
-@dataclass
 class TransactionModel:
     def get_cost(self, state, backtest, info) -> float:
         pass
 
 
-@dataclass_json()
-@dataclass
 class ConstantTransactionModel(TransactionModel):
-    cost: float = 0
+    def __init__(self, cost):
+        self._cost = cost
 
     def get_cost(self, state, backtest, info) -> float:
-        return self.cost
+        return self._cost
 
 
-@dataclass_json
-@dataclass
 class PredefinedAssetBacktest(BaseBacktest):
-    data_handler: DataHandler
-    initial_value: float
+    """
+    :param data_handler: holds all the data required to run the backtest
+    :param performance: backtest values
+    :param cash_asset: currently restricted to USD non-accrual
+    :param holdings: a dictionary keyed by instruments with quantity values
+    :param historical_holdings: holdings for each backtest date
+    :param orders: a list of all the orders generated
+    :param initial_value: the initial value of the index
+    :param results: a dictionary which can be used to store intermediate results
+    """
 
-    def __post_init__(self):
+    def __init__(self, data_handler: DataHandler, initial_value: float):
+        self.data_handler = data_handler
         self.performance = pd.Series(dtype=float)
         self.cash_asset = Cash('USD')
         self.holdings = defaultdict(float)
         self.historical_holdings = pd.Series(dtype=float)
         self.historical_weights = pd.Series(dtype=float)
         self.orders = []
+        self.initial_value = initial_value
         self.results = {}
 
     def set_start_date(self, start: dt.date):
         self.performance[start] = self.initial_value
         self.holdings[self.cash_asset] = self.initial_value
 
     def record_orders(self, orders: Iterable[OrderBase]):
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/backtest_utils.py` & `gs_quant-1.0.9/gs_quant/backtests/backtest_utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/core.py` & `gs_quant-1.0.9/gs_quant/backtests/core.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/data_handler.py` & `gs_quant-1.0.9/gs_quant/backtests/data_handler.py`

 * *Files 8% similar despite different names*

```diff
@@ -71,10 +71,10 @@
 
     def get_data(self, state: Union[dt.date, dt.datetime], *key):
         self._clock.time_check(state)
         return self._data_mgr.get_data(self._utc_time(state), *key)
 
     def get_data_range(self, start: Union[dt.date, dt.datetime], end: Union[dt.date, dt.datetime], *key):
         self._clock.time_check(end)
-        if type(start) is not type(end):
+        if type(start) != type(end):
             raise RuntimeError('expect same type for start and end when asking for data range')
         return self._data_mgr.get_data_range(self._utc_time(start), self._utc_time(end), *key)
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/data_sources.py` & `gs_quant-1.0.9/gs_quant/backtests/data_sources.py`

 * *Files 9% similar despite different names*

```diff
@@ -10,16 +10,14 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-from dataclasses import dataclass
-from dataclasses_json import dataclass_json
 import datetime as dt
 from enum import Enum
 import numpy as np
 import pandas as pd
 import pytz
 from typing import Union, Iterable
 
@@ -30,124 +28,104 @@
 
 class MissingDataStrategy(Enum):
     fill_forward = 'fill_forward'
     interpolate = 'interpolate'
     fail = 'fail'
 
 
-@dataclass_json
-@dataclass
 class DataSource:
     def get_data(self, state):
         raise RuntimeError("Implemented by subclass")
 
-    def get_data_range(self, start: Union[dt.date, dt.datetime],
-                       end: Union[dt.date, dt.datetime, int]):
-        raise RuntimeError("Implemented by subclass")
 
-
-@dataclass_json
-@dataclass
 class GsDataSource(DataSource):
-    data_set: str
-    asset_id: str
-    min_date: dt.date = None
-    max_date: dt.date = None
-    value_header: str = 'rate'
-
-    def __post_init__(self):
-        self.loaded_data = None
+    def __init__(self, data_set: str, asset_id: str, min_date: dt.date = None, max_date: dt.date = None,
+                 value_header: str = 'rate'):
+        self._data_set = data_set
+        self._asset_id = asset_id
+        self._min_date = min_date
+        self._max_date = max_date
+        self._value_header = value_header
+        self._loaded_data = None
 
     def get_data(self, state: Union[dt.date, dt.datetime] = None):
-        if self.loaded_data is None:
-            ds = Dataset(self.data_set)
-            if self.min_date:
-                self.loaded_data = ds.get_data(self.min_date, self.max_date, assetId=(self.asset_id,))
-            else:
-                return ds.get_data(state, state, assetId=(self.asset_id,))[self.value_header]
-        return self.loaded_data[self.value_header].at[pd.to_datetime(state)]
-
-    def get_data_range(self, start: Union[dt.date, dt.datetime], end: Union[dt.date, dt.datetime, int]):
-        if self.loaded_data is None:
-            ds = Dataset(self.data_set)
-            if self.min_date:
-                self.loaded_data = ds.get_data(self.min_date, self.max_date, assetId=(self.asset_id,))
+        if self._loaded_data is None:
+            ds = Dataset(self._data_set)
+            if self._min_date:
+                self._loaded_data = ds.get_data(self._min_date, self._max_date, assetId=(self._asset_id,))
             else:
-                self.loaded_data = ds.get_data(start, self.max_date, assetId=(self.asset_id,))
-        if isinstance(end, int):
-            return self.loaded_data.loc[self.loaded_data.index < start].tail(end)
-        return self.loaded_data.loc[(start < self.loaded_data.index) & (self.loaded_data.index <= end)]
+                return ds.get_data(state, state, assetId=(self._asset_id,))[self._value_header]
+        return self._loaded_data[self._value_header].at[pd.to_datetime(state)]
 
 
-@dataclass_json
-@dataclass
 class GenericDataSource(DataSource):
-    """
-    A data source which holds a pandas series indexed by date or datetime
-    :param data_set: a pandas dataframe indexed by date or datetime
-    :param missing_data_strategy: MissingDataStrategy which defines behaviour if data is missing, will only take
-                                  effect if using get_data, get_data_range has no expectations of the number of
-                                  expected data points.
-    """
-    data_set: pd.Series
-    missing_data_strategy: MissingDataStrategy = MissingDataStrategy.fail
-
-    def __post_init__(self):
-        self._tz_aware = isinstance(self.data_set.index[0], dt.datetime) and self.data_set.index[0].tzinfo is not None
+    def __init__(self, data_set: pd.Series, missing_data_strategy: MissingDataStrategy = MissingDataStrategy.fail):
+        """
+        A data source which holds a pandas series indexed by date or datetime
+        :param data_set: a pandas dataframe indexed by date or datetime
+        :param missing_data_strategy: MissingDataStrategy which defines behaviour if data is missing, will only take
+                                      effect if using get_data, gat_data_range has no expectations of the number of
+                                      expected data points.
+        """
+        self._data_set = data_set
+        self._missing_data_strategy = missing_data_strategy
+        self._tz_aware = isinstance(self._data_set.index[0],
+                                    dt.datetime) and self._data_set.index[0].tzinfo is not None
+        if self._missing_data_strategy == MissingDataStrategy.interpolate:
+            self._data_set.interpolate()
+        elif self._missing_data_strategy == MissingDataStrategy.fill_forward:
+            self._data_set.ffill()
 
     def get_data(self, state: Union[dt.date, dt.datetime, Iterable]):
         """
-        Get the value of the dataset at a time or date.  If a list of dates or times is provided return list of values
+        Get the value of the dataset at a time or date.  If a list of dates or times is provided return the avg value
         :param state: a date, datetime or a list of dates or datetimes
         :return: float value
         """
         if isinstance(state, Iterable):
             return [self.get_data(i) for i in state]
 
         if self._tz_aware and (state.tzinfo is None or state.tzinfo.utcoffset(state) is None):
             state = pytz.utc.localize(state)
-        if pd.Timestamp(state) in self.data_set:
-            return self.data_set[pd.Timestamp(state)]
-        elif state in self.data_set or self.missing_data_strategy == MissingDataStrategy.fail:
-            return self.data_set[state]
+        if pd.Timestamp(state) in self._data_set:
+            return self._data_set[pd.Timestamp(state)]
+        elif state in self._data_set or self._missing_data_strategy == MissingDataStrategy.fail:
+            return self._data_set[state]
         else:
-            if isinstance(self.data_set.index, pd.DatetimeIndex):
-                self.data_set.at[pd.to_datetime(state)] = np.nan
-                self.data_set.sort_index(inplace=True)
+            if isinstance(self._data_set.index, pd.DatetimeIndex):
+                self._data_set.at[pd.to_datetime(state)] = np.nan
+                self._data_set.sort_index(inplace=True)
             else:
-                self.data_set.at[state] = np.nan
-            self.data_set.sort_index()
-            if self.missing_data_strategy == MissingDataStrategy.interpolate:
-                self.data_set = self.data_set.interpolate()
-            elif self.missing_data_strategy == MissingDataStrategy.fill_forward:
-                self.data_set = self.data_set.ffill()
+                self._data_set.at[state] = np.nan
+            self._data_set.sort_index()
+            if self._missing_data_strategy == MissingDataStrategy.interpolate:
+                self._data_set = self._data_set.interpolate()
+            elif self._missing_data_strategy == MissingDataStrategy.fill_forward:
+                self._data_set = self._data_set.ffill()
             else:
-                raise RuntimeError(f'unrecognised missing data strategy: {str(self.missing_data_strategy)}')
-            return self.data_set[pd.to_datetime(state)] if isinstance(self.data_set.index,
-                                                                      pd.DatetimeIndex) else self.data_set[state]
+                raise RuntimeError(f'unrecognised missing data strategy: {str(self._missing_data_strategy)}')
+            return self._data_set[pd.to_datetime(state)] if isinstance(self._data_set.index,
+                                                                       pd.DatetimeIndex) else self._data_set[state]
 
     def get_data_range(self, start: Union[dt.date, dt.datetime],
                        end: Union[dt.date, dt.datetime, int]):
         """
         get a range of values from the dataset.
         :param start: a date or datetime
         :param end: a date, datetime or an int.  If an int is provided we return that many data points back from the
                     start date
         :return: pd.Series
         """
-
         if isinstance(end, int):
-            return self.data_set.loc[self.data_set.index < start].tail(end)
-        return self.data_set.loc[(start < self.data_set.index) & (self.data_set.index <= end)]
+            return self._data_set.loc[self._data_set.index < start].tail(end)
+        return self._data_set.loc[(start < self._data_set.index) & (self._data_set.index <= end)]
 
 
-@dataclass_json
-@dataclass
 class DataManager:
-    def __post_init__(self):
+    def __init__(self):
         self._data_sources = {}
 
     def add_data_source(self, series: Union[pd.Series, DataSource], data_freq: DataFrequency,
                         instrument: Instrument, valuation_type: ValuationFixingType):
         if not isinstance(series, DataSource) and not len(series):
             return
         if instrument.name is None:
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/decorator.py` & `gs_quant-1.0.9/gs_quant/backtests/decorator.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/equity_vol_engine.py` & `gs_quant-1.0.9/gs_quant/backtests/equity_vol_engine.py`

 * *Files 0% similar despite different names*

```diff
@@ -31,15 +31,15 @@
 
 
 def is_synthetic_forward(priceable):
     is_portfolio = isinstance(priceable, Portfolio)
     is_syn_fwd = is_portfolio
     if is_portfolio:
         is_size_two = len(priceable) == 2
-        is_syn_fwd = is_size_two
+        is_syn_fwd &= is_size_two
         if is_size_two:
             has_two_eq_options = isinstance(priceable[0], EqOption) and isinstance(priceable[1], EqOption)
             is_syn_fwd &= has_two_eq_options
             if has_two_eq_options:
                 is_syn_fwd &= (priceable[0].underlier == priceable[1].underlier) and \
                               (priceable[0].expiration_date == priceable[1].expiration_date) and \
                               (priceable[0].strike_price == priceable[1].strike_price)
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/event.py` & `gs_quant-1.0.9/gs_quant/backtests/event.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/execution_engine.py` & `gs_quant-1.0.9/gs_quant/backtests/execution_engine.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/generic_engine.py` & `gs_quant-1.0.9/gs_quant/backtests/generic_engine.py`

 * *Files 2% similar despite different names*

```diff
@@ -10,42 +10,40 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-import copy
-import datetime as dt
-import logging
-from collections import defaultdict
-from datetime import date
-from functools import reduce
-from itertools import zip_longest
 from typing import Union, Iterable, Optional
 
 from gs_quant import risk
-from gs_quant.backtests.action_handler import ActionHandlerBaseFactory, ActionHandler
 from gs_quant.backtests.actions import Action, AddTradeAction, HedgeAction, EnterPositionQuantityScaledAction, \
     AddTradeActionInfo, HedgeActionInfo, ExitTradeAction, ExitTradeActionInfo, EnterPositionQuantityScaledActionInfo, \
     RebalanceAction, RebalanceActionInfo, ExitAllPositionsAction
+from gs_quant.backtests.action_handler import ActionHandlerBaseFactory, ActionHandler
 from gs_quant.backtests.backtest_engine import BacktestBaseEngine
-from gs_quant.backtests.backtest_objects import BackTest, ScalingPortfolio, CashPayment, Hedge
 from gs_quant.backtests.backtest_utils import make_list, CalcType, get_final_date
-from gs_quant.common import ParameterisedRiskMeasure
-from gs_quant.context_base import nullcontext
+from gs_quant.backtests.backtest_objects import BackTest, ScalingPortfolio, CashPayment, Hedge
 from gs_quant.datetime.relative_date import RelativeDateSchedule
 from gs_quant.instrument import Instrument
-from gs_quant.markets import PricingContext, HistoricalPricingContext
 from gs_quant.markets.portfolio import Portfolio
+from gs_quant.markets import PricingContext, HistoricalPricingContext
 from gs_quant.risk import Price
 from gs_quant.risk.results import PortfolioRiskResult
 from gs_quant.target.backtests import BacktestTradingQuantityType
-from gs_quant.common import AssetClass
-from gs_quant.tracing import Tracer
+from gs_quant.common import ParameterisedRiskMeasure
+from functools import reduce
+from datetime import date
+from collections import defaultdict
+from itertools import zip_longest
+import copy
+import datetime as dt
+import logging
+
 
 # priority set to contexts making requests to the pricing API (min. 1 - max. 10)
 DEFAULT_REQUEST_PRIORITY = 5
 
 
 def raiser(ex):
     raise RuntimeError(ex)
@@ -417,48 +415,40 @@
             if unwind_payment.effective_date > s >= state:
                 backtest.portfolio_dict[s].append(pos)
 
         return backtest
 
 
 class GenericEngineActionFactory(ActionHandlerBaseFactory):
-    def __init__(self, action_impl_map=None):
+    def __init__(self, action_impl_map={}):
         self.action_impl_map = {
             AddTradeAction: AddTradeActionImpl,
             EnterPositionQuantityScaledAction: EnterPositionQuantityScaledActionImpl,
             HedgeAction: HedgeActionImpl,
             ExitTradeAction: ExitTradeActionImpl,
             ExitAllPositionsAction: ExitTradeActionImpl,
-            RebalanceAction: RebalanceActionImpl,
-            **(action_impl_map or {})
+            RebalanceAction: RebalanceActionImpl
         }
+        self.action_impl_map.update(action_impl_map)
 
-    def get_action_handler(self, action: Action) -> ActionHandler:
-        def is_eq_underlier(leg):
-            if hasattr(leg, 'asset_class'):
-                return isinstance(leg.asset_class, AssetClass) and leg.asset_class == AssetClass.Equity
-            return leg.__class__.__name__.lower().startswith('eq')
-        if isinstance(action, EnterPositionQuantityScaledAction) and \
-                not all([is_eq_underlier(p) for p in action.priceables]):
-            raise RuntimeError('EnterPositionQuantityScaledAction only supported for equity underliers')
+    def get_action_handler(self, action: Action) -> Action:
         if type(action) in self.action_impl_map:
             return self.action_impl_map[type(action)](action)
         raise RuntimeError(f'Action {type(action)} not supported by engine')
 
 
 class GenericEngine(BacktestBaseEngine):
 
-    def __init__(self, action_impl_map=None, price_measure=Price):
-        self.action_impl_map = {} if action_impl_map is None else action_impl_map
+    def __init__(self, action_impl_map={}, price_measure=Price):
+        self.action_impl_map = action_impl_map
         self.price_measure = price_measure
         self._pricing_context_params = None
         self._initial_pricing_context = None
-        self._tracing_enabled = False
 
-    def get_action_handler(self, action: Action) -> ActionHandler:
+    def get_action_handler(self, action: Action) -> Action:
         handler_factory = GenericEngineActionFactory(self.action_impl_map)
         return handler_factory.get_action_handler(action)
 
     def supports_strategy(self, strategy):
         all_actions = reduce(lambda x, y: x + y, (map(lambda x: x.actions, strategy.triggers)))
         try:
             for x in all_actions:
@@ -508,39 +498,33 @@
         :param holiday_calendar for date maths - list of dates
         :param market_data_location: location for the market data
         :param is_batch: use websockets to reduce timeout issues
         :return: a backtest object containing the portfolios on each day and results which show all risks on all days
 
         """
 
-        logger.info(f'Starting Backtest: Building Date Schedule - {dt.datetime.now()}')
-        self._tracing_enabled = Tracer.get_instance().active_span is not None
+        logging.info(f'Starting Backtest: Building Date Schedule - {dt.datetime.now()}')
+
         self._pricing_context_params = {'show_progress': show_progress,
                                         'csa_term': csa_term,
                                         'visible_to_gs': visible_to_gs,
                                         'market_data_location': market_data_location,
                                         'is_batch': is_batch}
 
         with self.new_pricing_context():
             return self.__run(strategy, start, end, frequency, states, risks, initial_value,
                               result_ccy, holiday_calendar)
 
-    def _trace(self, label: str):
-        if self._tracing_enabled:
-            return Tracer(label)
-        else:
-            return nullcontext()
-
     def __run(self, strategy, start, end, frequency, states, risks, initial_value, result_ccy, holiday_calendar):
         """
         Run the backtest strategy using the ambient pricing context
         """
-        with self._trace('Relative Schedule'):
-            strategy_pricing_dates = RelativeDateSchedule(frequency, start, end).apply_rule(
-                holiday_calendar=holiday_calendar) if states is None else states
+
+        strategy_pricing_dates = RelativeDateSchedule(frequency, start, end).apply_rule(
+            holiday_calendar=holiday_calendar) if states is None else states
 
         strategy_pricing_dates.sort()
 
         strategy_start_date = strategy_pricing_dates[0]
         strategy_end_date = strategy_pricing_dates[-1]
 
         for trigger in strategy.triggers:
@@ -562,51 +546,15 @@
             else:
                 raiser(f'Unparameterised price measure: {self.price_measure}')
         else:
             price_risk = self.price_measure
 
         backtest = BackTest(strategy, strategy_pricing_dates, risks)
 
-        logger.info('Resolving initial portfolio')
-        with self._trace('Resolve initial portfolio'):
-            self._resolve_initial_portfolio(strategy, backtest, strategy_start_date,
-                                            strategy_pricing_dates)
-
-        logger.info('Building simple and semi-deterministic triggers and actions')
-        self._build_simple_and_semi_triggers_and_actions(strategy, backtest, strategy_pricing_dates)
-
-        logger.info(f'Filtering strategy calculations to run from {strategy_start_date} to {strategy_end_date}')
-        backtest.portfolio_dict = defaultdict(Portfolio, {k: backtest.portfolio_dict[k]
-                                                          for k in backtest.portfolio_dict
-                                                          if strategy_start_date <= k <= strategy_end_date})
-        backtest.hedges = defaultdict(list, {k: backtest.hedges[k]
-                                             for k in backtest.hedges
-                                             if strategy_start_date <= k <= strategy_end_date})
-
-        logger.info('Pricing simple and semi-deterministic triggers and actions')
-        with self._trace('Pricing semi-det Triggers'):
-            self._price_semi_det_triggers(backtest, risks)
-
-        logger.info('Scaling semi-determ triggers and actions and calculating path dependent triggers and actions')
-        for d in strategy_pricing_dates:
-            with self._trace('Process date') as scope:
-                if scope:
-                    scope.span.set_tag('date', str(d))
-                self._process_triggers_and_actions_for_date(d, strategy, backtest, risks)
-
-        with self._trace('Calc New Trades'):
-            self._calc_new_trades(backtest, risks)
-
-        with self._trace('Handle Cash'):
-            self._handle_cash(backtest, risks, price_risk, strategy_pricing_dates, strategy_end_date, initial_value)
-
-        logger.info(f'Finished Backtest:- {dt.datetime.now()}')
-        return backtest
-
-    def _resolve_initial_portfolio(self, strategy, backtest, strategy_start_date, strategy_pricing_dates):
+        logging.info('Resolving initial portfolio')
         if len(strategy.initial_portfolio):
             for index in range(len(strategy.initial_portfolio)):
                 old_name = strategy.initial_portfolio[index].name
                 strategy.initial_portfolio[index].name = f'{old_name}_{strategy_start_date.strftime("%Y-%m-%d")}'
                 entry_payment = CashPayment(strategy.initial_portfolio[index],
                                             effective_date=strategy_start_date, direction=-1)
                 backtest.cash_payments[strategy_start_date].append(entry_payment)
@@ -616,45 +564,43 @@
                 backtest.cash_payments[final_date].append(exit_payment)
             init_port = Portfolio(strategy.initial_portfolio)
             with PricingContext(strategy_start_date):
                 init_port.resolve()
             for d in strategy_pricing_dates:
                 backtest.portfolio_dict[d].append(init_port.instruments)
 
-    def _build_simple_and_semi_triggers_and_actions(self, strategy, backtest, strategy_pricing_dates):
+        logging.info('Building simple and semi-deterministic triggers and actions')
         for trigger in strategy.triggers:
             if trigger.calc_type != CalcType.path_dependent:
                 triggered_dates = []
                 trigger_infos = defaultdict(list)
-                with self._trace('Build semi-det trigger') as scope:
-                    for d in strategy_pricing_dates:
-                        t_info = trigger.has_triggered(d, backtest)
-                        if t_info:
-                            triggered_dates.append(d)
-                            if t_info.info_dict:
-                                for k, v in t_info.info_dict.items():
-                                    trigger_infos[k].append(v)
-                    if scope:
-                        scope.span.set_tag('trigger.type', type(trigger).__name__)
-                        scope.span.set_tag('dates.triggered', len(triggered_dates))
-                        scope.span.set_tag('action.count', len(trigger.actions))
+                for d in strategy_pricing_dates:
+                    t_info = trigger.has_triggered(d, backtest)
+                    if t_info:
+                        triggered_dates.append(d)
+                        if t_info.info_dict:
+                            for k, v in t_info.info_dict.items():
+                                trigger_infos[k].append(v)
 
-                    for action in trigger.actions:
-                        if action.calc_type != CalcType.path_dependent:
-                            with self._trace('Build semi-det action') as scope:
-                                if scope:
-                                    scope.span.set_tag('action.type', type(action).__name__)
-                                self.get_action_handler(action).apply_action(
-                                    triggered_dates,
-                                    backtest,
-                                    trigger_infos[type(action)]
-                                    if type(action) in trigger_infos else None
-                                )
+                for action in trigger.actions:
+                    if action.calc_type != CalcType.path_dependent:
+                        self.get_action_handler(action).apply_action(triggered_dates,
+                                                                     backtest,
+                                                                     trigger_infos[type(action)]
+                                                                     if type(action) in trigger_infos else None)
 
-    def _price_semi_det_triggers(self, backtest, risks):
+        logging.info(f'Filtering strategy calculations to run from {strategy_start_date} to {strategy_end_date}')
+        backtest.portfolio_dict = defaultdict(Portfolio, {k: backtest.portfolio_dict[k]
+                                                          for k in backtest.portfolio_dict
+                                                          if strategy_start_date <= k <= strategy_end_date})
+        backtest.hedges = defaultdict(list, {k: backtest.hedges[k]
+                                             for k in backtest.hedges
+                                             if strategy_start_date <= k <= strategy_end_date})
+
+        logging.info('Pricing simple and semi-deterministic triggers and actions')
         with PricingContext():
             backtest.calc_calls += 1
             for day, portfolio in backtest.portfolio_dict.items():
                 if isinstance(day, dt.date):
                     with PricingContext(day):
                         backtest.calculations += len(portfolio) * len(risks)
                         backtest.add_results(day, portfolio.calc(tuple(risks)))
@@ -664,100 +610,101 @@
                 scaling_list = [h.scaling_portfolio for h in hedge_list]
                 for p in scaling_list:
                     with HistoricalPricingContext(dates=p.dates):
                         backtest.calculations += len(risks) * len(p.dates)
                         port = p.trade if isinstance(p.trade, Portfolio) else Portfolio([p.trade])
                         p.results = port.calc(tuple(risks))
 
-    def _process_triggers_and_actions_for_date(self, d, strategy, backtest, risks):
-        logger.info(f'{d}: Processing triggers and actions')
-        # path dependent
-        for trigger in strategy.triggers:
-            if trigger.calc_type == CalcType.path_dependent:
-                if trigger.has_triggered(d, backtest):
-                    for action in trigger.actions:
-                        self.get_action_handler(action).apply_action(d, backtest)
-            else:
-                for action in trigger.actions:
-                    if action.calc_type == CalcType.path_dependent:
-                        if trigger.has_triggered(d, backtest):
+        logging.info('Scaling semi-deterministic triggers and actions and calculating path dependent triggers '
+                     'and actions')
+        for d in strategy_pricing_dates:
+            logging.info(f'{d}: Processing triggers and actions')
+            # path dependent
+            for trigger in strategy.triggers:
+                if trigger.calc_type == CalcType.path_dependent:
+                    if trigger.has_triggered(d, backtest):
+                        for action in trigger.actions:
                             self.get_action_handler(action).apply_action(d, backtest)
-        # test to see if new trades have been added and calc
-        port = []
-        for t in backtest.portfolio_dict[d]:
-            if t.name not in backtest.results[d].portfolio:
-                port.append(t)
-
-        if len(port):
-            with PricingContext(pricing_date=d):
-                results = Portfolio(port).calc(tuple(risks))
-
-            backtest.add_results(d, results)
-
-        for hedge in backtest.hedges[d]:
-            sp = hedge.scaling_portfolio
-            if sp.results is None:
-                with HistoricalPricingContext(dates=sp.dates):
-                    backtest.calculations += len(risks) * len(sp.dates)
-                    port_sp = sp.trade if isinstance(sp.trade, Portfolio) else Portfolio([sp.trade])
-                    sp.results = port_sp.calc(tuple(risks))
-
-        # semi path dependent scaling
-        if d in backtest.hedges:
-            if len(backtest.hedges[d]) and d not in backtest.results:
-                # No risk found to hedge, proceed to the next date
-                return
+                else:
+                    for action in trigger.actions:
+                        if action.calc_type == CalcType.path_dependent:
+                            if trigger.has_triggered(d, backtest):
+                                self.get_action_handler(action).apply_action(d, backtest)
+            # test to see if new trades have been added and calc
+            port = []
+            for t in backtest.portfolio_dict[d]:
+                if t.name not in backtest.results[d].portfolio:
+                    port.append(t)
+
+            if len(port):
+                with PricingContext(pricing_date=d):
+                    results = Portfolio(port).calc(tuple(risks))
+
+                backtest.add_results(d, results)
+
             for hedge in backtest.hedges[d]:
-                p = hedge.scaling_portfolio
-                current_risk = backtest.results[d][p.risk] \
-                    .transform(risk_transformation=p.risk_transformation).aggregate(allow_mismatch_risk_keys=True)
-                hedge_risk = p.results[d][p.risk].transform(risk_transformation=p.risk_transformation).aggregate()
-                if hedge_risk == 0:
+                sp = hedge.scaling_portfolio
+                if sp.results is None:
+                    with HistoricalPricingContext(dates=sp.dates):
+                        backtest.calculations += len(risks) * len(sp.dates)
+                        port_sp = sp.trade if isinstance(sp.trade, Portfolio) else Portfolio([sp.trade])
+                        sp.results = port_sp.calc(tuple(risks))
+
+            # semi path dependent scaling
+            if d in backtest.hedges:
+                if len(backtest.hedges[d]) and d not in backtest.results:
+                    # No risk found to hedge, proceed to the next date
                     continue
-                if current_risk.unit != hedge_risk.unit:
-                    raise RuntimeError('cannot hedge in a different currency')
-                scaling_factor = current_risk / hedge_risk
-                if isinstance(p.trade, Portfolio):
-                    # Scale the portfolio by risk target
-                    scaled_portfolio_position = copy.deepcopy(p.trade)
-                    scaled_portfolio_position.name = f'Scaled_{scaled_portfolio_position.name}'
-                    for instrument in scaled_portfolio_position.all_instruments:
-                        instrument.name = f'Scaled_{instrument.name}'
-
-                    # trade hedge in opposite direction
-                    scale_direction = -1
-                    scaled_portfolio_position.scale(scaling_factor * scale_direction)
-
-                    for day in p.dates:
-                        # add scaled hedge position to portfolio for day.
-                        # NOTE this adds leaves, not the portfolio
-                        backtest.portfolio_dict[day] += copy.deepcopy(scaled_portfolio_position)
-
-                    # scale trade in hedge cash payments
-                    hedge.entry_payment.trade = copy.deepcopy(scaled_portfolio_position)
+                for hedge in backtest.hedges[d]:
+                    p = hedge.scaling_portfolio
+                    current_risk = backtest.results[d][p.risk]\
+                        .transform(risk_transformation=p.risk_transformation).aggregate(allow_mismatch_risk_keys=True)
+                    hedge_risk = p.results[d][p.risk].transform(risk_transformation=p.risk_transformation).aggregate()
+                    if hedge_risk == 0:
+                        continue
+                    if current_risk.unit != hedge_risk.unit:
+                        raise RuntimeError('cannot hedge in a different currency')
+                    scaling_factor = current_risk / hedge_risk
+                    if isinstance(p.trade, Portfolio):
+                        # Scale the portfolio by risk target
+                        scaled_portfolio_position = copy.deepcopy(p.trade)
+                        scaled_portfolio_position.name = f'Scaled_{scaled_portfolio_position.name}'
+                        for instrument in scaled_portfolio_position.all_instruments:
+                            instrument.name = f'Scaled_{instrument.name}'
+
+                        # trade hedge in opposite direction
+                        scale_direction = -1
+                        scaled_portfolio_position.scale(scaling_factor * scale_direction)
+
+                        for day in p.dates:
+                            # add scaled hedge position to portfolio for day.
+                            # NOTE this adds leaves, not the portfolio
+                            backtest.portfolio_dict[day] += copy.deepcopy(scaled_portfolio_position)
+
+                        # scale trade in hedge cash payments
+                        hedge.entry_payment.trade = copy.deepcopy(scaled_portfolio_position)
+                        if hedge.exit_payment is not None:
+                            hedge.exit_payment.trade = copy.deepcopy(scaled_portfolio_position)
+                            hedge.exit_payment.scale_date = None
+                    else:
+                        new_notional = getattr(p.trade, p.scaling_parameter) * -scaling_factor
+                        scaled_trade = p.trade.as_dict()
+                        scaled_trade[p.scaling_parameter] = new_notional
+                        scaled_trade = Instrument.from_dict(scaled_trade)
+                        scaled_trade.name = p.trade.name
+                        for day in p.dates:
+                            backtest.add_results(day, p.results[day] * -scaling_factor)
+                            backtest.portfolio_dict[day] += Portfolio(scaled_trade)
+                    # Add payments to backtest cash payments
+                    # Scaled if portfolio, otherwise picked up from scaled results or scaled via scale_date
+                    backtest.cash_payments[hedge.entry_payment.effective_date].append(hedge.entry_payment)
                     if hedge.exit_payment is not None:
-                        hedge.exit_payment.trade = copy.deepcopy(scaled_portfolio_position)
-                        hedge.exit_payment.scale_date = None
-                else:
-                    new_notional = getattr(p.trade, p.scaling_parameter) * -scaling_factor
-                    scaled_trade = p.trade.as_dict()
-                    scaled_trade[p.scaling_parameter] = new_notional
-                    scaled_trade = Instrument.from_dict(scaled_trade)
-                    scaled_trade.name = p.trade.name
-                    for day in p.dates:
-                        backtest.add_results(day, p.results[day] * -scaling_factor)
-                        backtest.portfolio_dict[day] += Portfolio(scaled_trade)
-                # Add payments to backtest cash payments
-                # Scaled if portfolio, otherwise picked up from scaled results or scaled via scale_date
-                backtest.cash_payments[hedge.entry_payment.effective_date].append(hedge.entry_payment)
-                if hedge.exit_payment is not None:
-                    backtest.cash_payments[hedge.exit_payment.effective_date].append(hedge.exit_payment)
+                        backtest.cash_payments[hedge.exit_payment.effective_date].append(hedge.exit_payment)
 
-    def _calc_new_trades(self, backtest, risks):
-        logger.info('Calculating and scaling newly added portfolio positions')
+        logging.info('Calculating and scaling newly added portfolio positions')
         # test to see if new trades have been added and calc
         with PricingContext():
             backtest.calc_calls += 1
             leaves_by_date = {}
             for day, portfolio in backtest.portfolio_dict.items():
                 # Nothing to schedule for calculation, continue
                 if not portfolio:
@@ -765,28 +712,27 @@
                 results_for_date = backtest.results[day]
 
                 trades_for_date = results_for_date.portfolio if isinstance(results_for_date, PortfolioRiskResult) \
                     else []
                 leaves = []
                 for leaf in portfolio:
                     if leaf.name not in trades_for_date:
-                        logger.info(f'{day}: new portfolio position {leaf} scheduled for calculation')
+                        logging.info(f'{day}: new portfolio position {leaf} scheduled for calculation')
                         leaves.append(leaf)
 
                 if len(leaves):
                     with PricingContext(pricing_date=day):
                         leaves_by_date[day] = Portfolio(leaves).calc(tuple(risks))
                         backtest.calculations += len(leaves) * len(risks)
 
-        logger.info('Processing results for newly added portfolio positions')
+        logging.info('Processing results for newly added portfolio positions')
         for day, leaves in leaves_by_date.items():
             backtest.add_results(day, leaves)
 
-    def _handle_cash(self, backtest, risks, price_risk, strategy_pricing_dates, strategy_end_date, initial_value):
-        logger.info('Calculating prices for cash payments')
+        logging.info('Calculating prices for cash payments')
         # run any additional calcs to handle cash scaling (e.g. unwinds)
         cash_results = {}
         cash_trades_by_date = defaultdict(list)
         for _, cash_payments in backtest.cash_payments.items():
             for cp in cash_payments:
                 # only calc if additional point is required
                 trades = cp.trade.all_instruments if isinstance(cp.trade, Portfolio) else [cp.trade]
@@ -840,7 +786,10 @@
 
                         for ccy, cash_paid in cp.cash_paid.items():
                             backtest.cash_dict[d][ccy] += cash_paid
 
                     current_value = backtest.cash_dict[d]
 
                 current_value = copy.deepcopy(current_value)
+
+        logging.info(f'Finished Backtest:- {dt.datetime.now()}')
+        return backtest
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/order.py` & `gs_quant-1.0.9/gs_quant/backtests/order.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/backtests/predefined_asset_engine.py` & `gs_quant-1.0.9/gs_quant/backtests/predefined_asset_engine.py`

 * *Files 1% similar despite different names*

```diff
@@ -46,22 +46,22 @@
         orders = []
         for pricable in self.action.priceables:
             quantity = pricable.instrument_quantity * 1 if info is None else info.scaling
             orders.append(OrderAtMarket(instrument=pricable,
                                         quantity=quantity,
                                         generation_time=state,
                                         execution_datetime=state,
-                                        source=self.action.name))
+                                        source=self.action._name))
             if isinstance(self.action.trade_duration, dt.timedelta):
                 # create close order
                 orders.append(OrderAtMarket(instrument=pricable,
                                             quantity=quantity * -1,
                                             generation_time=state,
                                             execution_datetime=state + self.action.trade_duration,
-                                            source=self.action.name))
+                                            source=self.action._name))
         return orders
 
     def apply_action(self, state: dt.datetime, backtest: PredefinedAssetBacktest, info=None):
         orders = self.generate_orders(state, backtest, info)
         return orders
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/strategy.py` & `gs_quant-1.0.9/gs_quant/backtests/strategy.py`

 * *Files 12% similar despite different names*

```diff
@@ -10,43 +10,45 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-from dataclasses import dataclass
-from dataclasses_json import dataclass_json
 from typing import Tuple
 
 from gs_quant.backtests.triggers import *
 from gs_quant.backtests.generic_engine import GenericEngine
 from gs_quant.backtests.predefined_asset_engine import PredefinedAssetEngine
 from gs_quant.backtests.equity_vol_engine import EquityVolEngine
 from gs_quant.base import Priceable
 
 
 backtest_engines = [GenericEngine(), PredefinedAssetEngine(), EquityVolEngine()]
 
 
-@dataclass_json
-@dataclass
 class Strategy(object):
     """
     A strategy object on which one may run a backtest
     """
-    initial_portfolio: Optional[Tuple[Priceable, ...]]
-    triggers: Union[Trigger, Iterable[Trigger]]
 
-    def __post_init__(self):
-        self.initial_portfolio = make_list(self.initial_portfolio)
-        self.triggers = make_list(self.triggers)
-        self.risks = self.get_risks()
+    def __init__(self, initial_portfolio: Optional[Tuple[Priceable, ...]], triggers: Union[Trigger, Iterable[Trigger]]):
+        self._initial_portfolio = make_list(initial_portfolio)
+        self._triggers = make_list(triggers)
+
+    @property
+    def triggers(self):
+        return self._triggers
+
+    @property
+    def initial_portfolio(self):
+        return self._initial_portfolio
 
-    def get_risks(self):
+    @property
+    def risks(self):
         risk_list = []
-        for t in self.triggers:
+        for t in self._triggers:
             risk_list += t.risks if t.risks is not None else []
         return risk_list
 
     def get_available_engines(self):
         return [engine for engine in backtest_engines if engine.supports_strategy(self)]
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/strategy_systematic.py` & `gs_quant-1.0.9/gs_quant/backtests/strategy_systematic.py`

 * *Files 3% similar despite different names*

```diff
@@ -46,21 +46,19 @@
                  name: str = None,
                  cost_netting: bool = False,
                  currency: Union[Currency, str] = Currency.USD,
                  trade_in_signals: Tuple[BacktestSignalSeriesItem, ...] = None,
                  trade_out_signals: Tuple[BacktestSignalSeriesItem, ...] = None,
                  market_model: Union[EquityMarketModel, str] = EquityMarketModel.SFK,
                  roll_date_mode: str = None,
-                 expiry_date_mode: str = None,
-                 cash_accrual: bool = True):
+                 expiry_date_mode: str = None):
         self.__cost_netting = cost_netting
         self.__currency = get_enum_value(Currency, currency)
         self.__name = name
         self.__backtest_type = BACKTEST_TYPE_NAME
-        self.__cash_accrual = cash_accrual
 
         trade_in_method = get_enum_value(TradeInMethod, trade_in_method).value
         market_model = get_enum_value(EquityMarketModel, market_model).value
 
         self.__trading_parameters = BacktestTradingParameters(
             quantity=quantity,
             quantity_type=get_enum_value(BacktestTradingQuantityType, quantity_type).value,
@@ -141,16 +139,15 @@
                             mq_symbol=self.__name,
                             parameters=params,
                             start_date=start,
                             end_date=end,
                             type=BACKTEST_TYPE_VALUE,
                             asset_class=AssetClass.Equity,
                             currency=self.__currency,
-                            cost_netting=self.__cost_netting,
-                            cash_accrual=self.__cash_accrual)
+                            cost_netting=self.__cost_netting)
 
         if is_async:
             # Create back test ...
             response = GsBacktestApi.create_backtest(backtest)
 
             # ... and schedule it
             GsBacktestApi.schedule_backtest(backtest_id=response.id)
```

### Comparing `gs_quant-1.0.80/gs_quant/backtests/triggers.py` & `gs_quant-1.0.9/gs_quant/backtests/triggers.py`

 * *Files 16% similar despite different names*

```diff
@@ -11,22 +11,20 @@
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
 
-from dataclasses import dataclass, field
-from dataclasses_json import dataclass_json
 from typing import Optional
+import warnings
 from gs_quant.backtests.actions import Action, AddTradeAction, AddTradeActionInfo
 from gs_quant.backtests.backtest_objects import BackTest, PredefinedAssetBacktest
 from gs_quant.backtests.backtest_utils import make_list, CalcType
 from gs_quant.backtests.data_sources import *
-from gs_quant.base import field_metadata
 from gs_quant.datetime.relative_date import RelativeDateSchedule
 from gs_quant.risk.transform import Transformer
 from gs_quant.risk import RiskMeasure
 
 
 class TriggerDirection(Enum):
     ABOVE = 1
@@ -35,112 +33,132 @@
 
 
 class AggType(Enum):
     ALL_OF = 1
     ANY_OF = 2
 
 
-@dataclass_json
-@dataclass
 class TriggerRequirements(object):
-    pass
+    def __init__(self):
+        pass
 
 
-@dataclass_json
-@dataclass
 class PeriodicTriggerRequirements(TriggerRequirements):
-    start_date: Optional[dt.date] = field(default=None, metadata=field_metadata)
-    end_date: Optional[dt.date] = field(default=None, metadata=field_metadata)
-    frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    calendar: Optional[str] = field(default=None, metadata=field_metadata)
+    def __init__(self, start_date: dt.date = None, end_date: dt.date = None, frequency: str = None,
+                 calendar: str = None):
+        super().__init__()
+        self.start_date = start_date
+        self.end_date = end_date
+        self.frequency = frequency
+        self.calendar = calendar
 
 
-@dataclass_json
-@dataclass
 class IntradayTriggerRequirements(TriggerRequirements):
-    start_time: Optional[dt.datetime] = field(default=None, metadata=field_metadata)
-    end_time: Optional[dt.datetime] = field(default=None, metadata=field_metadata)
-    frequency: Optional[str] = field(default=None, metadata=field_metadata)
+    def __init__(self, start_time: dt.datetime, end_time: dt.datetime, frequency: str):
+        super().__init__()
+        self.start_time = start_time
+        self.end_time = end_time
+        self.frequency = frequency
 
 
-@dataclass_json
-@dataclass
 class MktTriggerRequirements(TriggerRequirements):
-    data_source: DataSource = field(default=None, metadata=field_metadata)
-    trigger_level: float = field(default=None, metadata=field_metadata)
-    direction: TriggerDirection = field(default=None, metadata=field_metadata)
+    def __init__(self, data_source: DataSource, trigger_level: float, direction: TriggerDirection):
+        super().__init__()
+        self.data_source = data_source
+        self.trigger_level = trigger_level
+        self.direction = direction
 
 
-@dataclass_json
-@dataclass
 class RiskTriggerRequirements(TriggerRequirements):
-    risk: RiskMeasure = field(default=None, metadata=field_metadata)
-    trigger_level: float = field(default=None, metadata=field_metadata)
-    direction: TriggerDirection = field(default=None, metadata=field_metadata)
-    risk_transformation: Optional[Transformer] = field(default=None, metadata=field_metadata)
+    def __init__(self, risk: RiskMeasure, trigger_level: float, direction: TriggerDirection,
+                 risk_transformation: Optional[Transformer] = None):
+        super().__init__()
+        self.risk = risk
+        self.trigger_level = trigger_level
+        self.direction = direction
+        self.risk_transformation = risk_transformation
 
 
-@dataclass_json
-@dataclass
 class AggregateTriggerRequirements(TriggerRequirements):
-    triggers: Iterable = field(default=None, metadata=field_metadata)
-    aggregate_type: AggType = field(default=AggType.ALL_OF, metadata=field_metadata)
+    def __init__(self, triggers: Iterable[object], aggregate_type: AggType = AggType.ALL_OF):
+        super().__init__()
+        self.triggers = triggers
+        self.aggregate_type = aggregate_type
 
 
-@dataclass_json
-@dataclass
 class NotTriggerRequirements(TriggerRequirements):
-    trigger: object = field(default=None, metadata=field_metadata)
+    def __init__(self, trigger: object):
+        super().__init__()
+        self.trigger = trigger
 
 
-@dataclass_json
-@dataclass
 class DateTriggerRequirements(TriggerRequirements):
-    dates: Iterable[Union[dt.datetime, dt.date]] = field(default=None, metadata=field_metadata)
-    entire_day: bool = field(default=False, metadata=field_metadata)
+    def __init__(self, dates: Iterable[Union[dt.datetime, dt.date]], entire_day: bool = False):
+        super().__init__()
+        """
+        :param dates: the list of dates on which to trigger
+        :param entire_day: flag that indicates whether to check against dates instead of datetimes
+        """
+        self.dates = dates
+        self.entire_day = entire_day
 
 
-@dataclass_json
-@dataclass
 class PortfolioTriggerRequirements(TriggerRequirements):
-    data_source: str = field(default=None, metadata=field_metadata)
-    trigger_level: float = field(default=None, metadata=field_metadata)
-    direction: TriggerDirection = field(default=None, metadata=field_metadata)
+    def __init__(self, data_source: str, trigger_level: float, direction: TriggerDirection):
+        """
+        :param data_source: the portfolio property to check
+        :param trigger_level: the threshold level on which to trigger
+        :param direction: a direction for the trigger_level comparison
+        """
+        super().__init__()
+        self.data_source = data_source
+        self.trigger_level = trigger_level
+        self.direction = direction
 
 
-@dataclass_json
-@dataclass
 class MeanReversionTriggerRequirements(TriggerRequirements):
-    data_source: DataSource = field(default=None, metadata=field_metadata)
-    z_score_bound: float = field(default=None, metadata=field_metadata)
-    rolling_mean_window: int = field(default=None, metadata=field_metadata)
-    rolling_std_window: int = field(default=None, metadata=field_metadata)
+    def __init__(self, data_source: DataSource,
+                 z_score_bound: float,
+                 rolling_mean_window: int,
+                 rolling_std_window: int):
+        """
+        This trigger will sell when the value hits the z score threshold on the up side, will close out a position
+        when the value crosses the rolling_mean and buy when the value hits the z score threshold on the down side.
+
+        :param data_source: the asset values
+        :param z_score_bound: the threshold level on which to trigger
+        :param rolling_mean_window: the number of values to consider when calculating the rolling mean
+        :param rolling_std_window: the number of values to consider when calculating the standard deviation
+        """
+        super().__init__()
+        self.data_source = data_source
+        self.z_score_bound = z_score_bound
+        self.rolling_mean_window = rolling_mean_window
+        self.rolling_std_window = rolling_std_window
 
 
-@dataclass_json
-@dataclass
 class TriggerInfo(object):
-    triggered: bool
-    info_dict: Optional[dict] = None
+    def __init__(self, triggered: bool, info_dict: Optional[dict] = None):
+        self.triggered = triggered
+        self.info_dict = info_dict
 
     def __eq__(self, other):
         return self.triggered is other
 
     def __bool__(self):
         return self.triggered
 
 
-@dataclass_json
-@dataclass
 class Trigger(object):
-    trigger_requirements: Optional[TriggerRequirements] = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
 
-    def __post_init__(self):
-        self.actions = make_list(self.actions)
+    def __init__(self, trigger_requirements: Optional[TriggerRequirements], actions: Union[Action, Iterable[Action]]):
+        self._trigger_requirements = trigger_requirements
+        self._actions = make_list(actions)
+        self._risks = [x.risk for x in self.actions if x.risk is not None]
+        self._calc_type = CalcType.simple
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
         """
         implemented by sub classes
         :param state:
         :param backtest:
         :return:
@@ -150,247 +168,232 @@
         raise RuntimeError('has_triggered to be implemented by subclass')
 
     def get_trigger_times(self):
         return []
 
     @property
     def calc_type(self):
-        return CalcType.simple
+        return self._calc_type
+
+    @property
+    def actions(self):
+        return self._actions
+
+    @property
+    def trigger_requirements(self):
+        return self._trigger_requirements
 
     @property
     def risks(self):
-        return [x.risk for x in make_list(self.actions) if x.risk is not None]
+        return self._risks
 
 
-@dataclass_json
-@dataclass
 class PeriodicTrigger(Trigger):
-    trigger_requirements: PeriodicTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-    _trigger_dates = None
+    def __init__(self,
+                 trigger_requirements: PeriodicTriggerRequirements,
+                 actions: Union[Action, Iterable[Action]]):
+        super().__init__(trigger_requirements, actions)
+        self._trigger_dates = None
 
     def get_trigger_times(self) -> [dt.date]:
         if not self._trigger_dates:
-            self._trigger_dates = self.trigger_requirements.dates if \
-                hasattr(self.trigger_requirements, 'dates') else \
-                RelativeDateSchedule(self.trigger_requirements.frequency,
-                                     self.trigger_requirements.start_date,
-                                     self.trigger_requirements.end_date).apply_rule(
+            self._trigger_dates = self._trigger_requirements.dates if \
+                hasattr(self._trigger_requirements, 'dates') else \
+                RelativeDateSchedule(self._trigger_requirements.frequency,
+                                     self._trigger_requirements.start_date,
+                                     self._trigger_requirements.end_date).apply_rule(
                     holiday_calendar=self.trigger_requirements.calendar)
         return self._trigger_dates
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
         if not self._trigger_dates:
             self.get_trigger_times()
         return TriggerInfo(state in self._trigger_dates)
 
 
-@dataclass_json
-@dataclass
 class IntradayPeriodicTrigger(Trigger):
-    trigger_requirements: IntradayTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
+    def __init__(self,
+                 trigger_requirements: IntradayTriggerRequirements,
+                 actions: Union[Action, Iterable[Action]]):
+        super().__init__(trigger_requirements, actions)
 
-    def __post_init__(self):
-        super().__post_init__()
         # generate all the trigger times
-        start = self.trigger_requirements.start_time
-        end = self.trigger_requirements.end_time
-        freq = self.trigger_requirements.frequency
+        start = trigger_requirements.start_time
+        end = trigger_requirements.end_time
+        freq = trigger_requirements.frequency
 
         self._trigger_times = []
         time = start
         while time <= end:
             self._trigger_times.append(time)
             time = (dt.datetime.combine(dt.date.today(), time) + dt.timedelta(minutes=freq)).time()
 
     def get_trigger_times(self):
         return self._trigger_times
 
     def has_triggered(self, state: Union[dt.date, dt.datetime], backtest: BackTest = None) -> TriggerInfo:
         return TriggerInfo(state.time() in self._trigger_times)
 
 
-@dataclass_json
-@dataclass
 class MktTrigger(Trigger):
-    trigger_requirements: MktTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
+    def __init__(self,
+                 trigger_requirements: MktTriggerRequirements,
+                 actions: Union[Action, Iterable[Action]]):
+        super().__init__(trigger_requirements, actions)
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
-        data_value = self.trigger_requirements.data_source.get_data(state)
-        if self.trigger_requirements.direction == TriggerDirection.ABOVE:
-            if data_value > self.trigger_requirements.trigger_level:
+        data_value = self._trigger_requirements.data_source.get_data(state)
+        if self._trigger_requirements.direction == TriggerDirection.ABOVE:
+            if data_value > self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
-        elif self.trigger_requirements.direction == TriggerDirection.BELOW:
-            if data_value < self.trigger_requirements.trigger_level:
+        elif self._trigger_requirements.direction == TriggerDirection.BELOW:
+            if data_value < self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
         else:
-            if data_value == self.trigger_requirements.trigger_level:
+            if data_value == self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
         return TriggerInfo(False)
 
 
-@dataclass_json
-@dataclass
 class StrategyRiskTrigger(Trigger):
-    trigger_requirements: RiskTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    @property
-    def calc_type(self):
-        return CalcType.path_dependent
-
-    @property
-    def risks(self):
-        return [x.risk for x in make_list(self.actions) if x.risk is not None] + [self.trigger_requirements.risk]
+    def __init__(self,
+                 trigger_requirements: RiskTriggerRequirements,
+                 actions: Union[Action, Iterable[Action]]):
+        super().__init__(trigger_requirements, actions)
+        self._calc_type = CalcType.path_dependent
+        self._risks += [trigger_requirements.risk]
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
         if self.trigger_requirements.risk_transformation is None:
-            risk_value = backtest.results[state][self.trigger_requirements.risk].aggregate()
+            risk_value = backtest.results[state][self._trigger_requirements.risk].aggregate()
         else:
-            risk_value = backtest.results[state][self.trigger_requirements.risk].transform(
+            risk_value = backtest.results[state][self._trigger_requirements.risk].transform(
                 risk_transformation=self.trigger_requirements.risk_transformation).aggregate(
                 allow_mismatch_risk_keys=True)
-        if self.trigger_requirements.direction == TriggerDirection.ABOVE:
-            if risk_value > self.trigger_requirements.trigger_level:
+        if self._trigger_requirements.direction == TriggerDirection.ABOVE:
+            if risk_value > self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
-        elif self.trigger_requirements.direction == TriggerDirection.BELOW:
-            if risk_value < self.trigger_requirements.trigger_level:
+        elif self._trigger_requirements.direction == TriggerDirection.BELOW:
+            if risk_value < self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
         else:
-            if risk_value == self.trigger_requirements.trigger_level:
+            if risk_value == self._trigger_requirements.trigger_level:
                 return TriggerInfo(True)
         return TriggerInfo(False)
 
 
-@dataclass_json
-@dataclass
 class AggregateTrigger(Trigger):
-    trigger_requirements: AggregateTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    def __post_init__(self):
-        super().__post_init__()
-        actions = [] if not self.actions else make_list(self.actions)
-        for t in self.trigger_requirements.triggers:
+    def __init__(self,
+                 trigger_requirements: Optional[AggregateTriggerRequirements] = None,
+                 actions: Optional[Union[Action, Iterable[Action]]] = None,
+                 triggers: Optional[Iterable[Trigger]] = None):
+        # support previous behaviour where a list of triggers was passed.
+        if not trigger_requirements and triggers is not None:
+            warnings.warn('triggers is deprecated; trigger_requirements', DeprecationWarning, 2)
+            trigger_requirements = AggregateTriggerRequirements(triggers)
+        actions = [] if not actions else actions
+        for t in trigger_requirements.triggers:
             actions += [action for action in t.actions]
-        self.actions = actions
+        super().__init__(trigger_requirements, actions)
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
+        self._actions = []
         info_dict = {}
-        if self.trigger_requirements.aggregate_type == AggType.ALL_OF:
-            for trigger in self.trigger_requirements.triggers:
+        if self._trigger_requirements.aggregate_type == AggType.ALL_OF:
+            for trigger in self._trigger_requirements.triggers:
                 t_info = trigger.has_triggered(state, backtest)
                 if not t_info:
                     return TriggerInfo(False)
                 else:
                     if t_info.info_dict:
                         info_dict.update(t_info.info_dict)
+                    self._actions.extend(trigger.actions)
             return TriggerInfo(True, info_dict)
-        elif self.trigger_requirements.aggregate_type == AggType.ANY_OF:
+        elif self._trigger_requirements.aggregate_type == AggType.ANY_OF:
             triggered = False
-            for trigger in self.trigger_requirements.triggers:
+            for trigger in self._trigger_requirements.triggers:
                 t_info = trigger.has_triggered(state, backtest)
                 if t_info:
                     triggered = True
                     if t_info.info_dict:
                         info_dict.update(t_info.info_dict)
+                    self._actions.extend(trigger.actions)
             return TriggerInfo(True, info_dict) if triggered else TriggerInfo(False)
         else:
-            raise RuntimeError(f'Unrecognised aggregation type: {self.trigger_requirements.aggregate_type}')
+            raise RuntimeError(f'Unrecognised aggregation type: {self._trigger_requirements.aggregate_type}')
 
     @property
     def triggers(self) -> Iterable[Trigger]:
-        return self.trigger_requirements.triggers
+        return self._trigger_requirements.triggers
 
 
-@dataclass_json
-@dataclass
 class NotTrigger(Trigger):
-    trigger_requirements: NotTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    def __post_init__(self):
-        super().__post_init__()
-        actions = [] if not self.actions else self.actions
-        actions += [action for action in self.trigger_requirements.trigger.actions]
+    def __init__(self, trigger_requirements: NotTriggerRequirements, actions: Optional[Iterable[Action]] = None):
+        super().__init__(trigger_requirements, actions)
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
         t_info = self.trigger_requirements.trigger.has_triggered(state, backtest)
         if t_info:
             return TriggerInfo(False)
         else:
+            self._actions.extend(self.trigger_requirements.trigger.actions)
             return TriggerInfo(True)
 
 
-@dataclass_json
-@dataclass
 class DateTrigger(Trigger):
-    trigger_requirements: DateTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    def __post_init__(self):
-        super().__post_init__()
+    def __init__(self, trigger_requirements: DateTriggerRequirements, actions: Iterable[Action]):
+        super().__init__(trigger_requirements, actions)
         self._dates_from_datetimes = [d.date() if isinstance(d, dt.datetime) else d
                                       for d in self.trigger_requirements.dates] \
             if self.trigger_requirements.entire_day else None
 
     def has_triggered(self, state: Union[dt.date, dt.datetime], backtest: BackTest = None) -> TriggerInfo:
         assert isinstance(state, dt.datetime) or isinstance(state, dt.date)
 
         if self.trigger_requirements.entire_day:
             if isinstance(state, dt.datetime):
                 return TriggerInfo(state.date() in self._dates_from_datetimes)
             elif isinstance(state, dt.date):
                 return TriggerInfo(state in self._dates_from_datetimes)
 
-        return TriggerInfo(state in self.trigger_requirements.dates)
+        return TriggerInfo(state in self._trigger_requirements.dates)
 
     def get_trigger_times(self):
-        return self._dates_from_datetimes or self.trigger_requirements.dates
+        return self._dates_from_datetimes or self._trigger_requirements.dates
 
 
-@dataclass_json
-@dataclass
 class PortfolioTrigger(Trigger):
-    trigger_requirements: PortfolioTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    def __post_init__(self):
-        super().__post_init__()
-        self._current_position = 0
+    def __init__(self, trigger_requirements: PortfolioTriggerRequirements, actions: Iterable[Action] = None):
+        super().__init__(trigger_requirements, actions)
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
-        if self.trigger_requirements.data_source == 'len':
+        if self._trigger_requirements.data_source == 'len':
             value = len(backtest.portfolio_dict)
-            if self.trigger_requirements.direction == TriggerDirection.ABOVE:
-                if value > self.trigger_requirements.trigger_level:
+            if self._trigger_requirements.direction == TriggerDirection.ABOVE:
+                if value > self._trigger_requirements.trigger_level:
                     return TriggerInfo(True)
-            elif self.trigger_requirements.direction == TriggerDirection.BELOW:
-                if value < self.trigger_requirements.trigger_level:
+            elif self._trigger_requirements.direction == TriggerDirection.BELOW:
+                if value < self._trigger_requirements.trigger_level:
                     return TriggerInfo(True)
             else:
-                if value == self.trigger_requirements.trigger_level:
+                if value == self._trigger_requirements.trigger_level:
                     return TriggerInfo(True)
+
         return TriggerInfo(False)
 
 
-@dataclass_json
-@dataclass
 class MeanReversionTrigger(Trigger):
-    trigger_requirements: MeanReversionTriggerRequirements = field(default=None, metadata=field_metadata)
-    actions: Union[Action, Iterable[Action]] = field(default=None, metadata=field_metadata)
-
-    def __post_init__(self):
-        super().__post_init__()
+    def __init__(self,
+                 trigger_requirements: MeanReversionTriggerRequirements,
+                 actions: Union[Action, Iterable[Action]]):
+        super().__init__(trigger_requirements, actions)
         self._current_position = 0
 
     def has_triggered(self, state: dt.date, backtest: BackTest = None) -> TriggerInfo:
-        trigger_req = self.trigger_requirements
+        trigger_req = self._trigger_requirements
         rolling_mean = trigger_req.data_source.get_data_range(state, trigger_req.rolling_mean_window).mean()
         rolling_std = trigger_req.data_source.get_data_range(state, trigger_req.rolling_std_window).std()
         current_price = trigger_req.data_source.get_data(state)
         if self._current_position == 0:
             if abs((current_price - rolling_mean) / rolling_std) > self.trigger_requirements.z_score_bound:
                 if current_price > rolling_mean:
                     self._current_position = -1
@@ -407,23 +410,18 @@
                 self._current_position = 0
                 return TriggerInfo(True, {AddTradeAction: AddTradeActionInfo(scaling=1)})
         else:
             raise RuntimeWarning(f'unexpected current position: {self._current_position}')
         return TriggerInfo(False)
 
 
-@dataclass_json
-@dataclass
 class OrdersGeneratorTrigger(Trigger):
     """Base class for triggers used with the PredefinedAssetEngine."""
-
-    def __post_init__(self):
-        if not self.actions:
-            self.actions = [Action()]
-        super().__post_init__()
+    def __init__(self):
+        super().__init__(None, Action())
 
     def get_trigger_times(self) -> list:
         """
         Returns the set of times when orders can be generated e.g. every 30 min
         :return: list
         """
         raise RuntimeError('get_trigger_times must be implemented by subclass')
```

### Comparing `gs_quant-1.0.80/gs_quant/base.py` & `gs_quant-1.0.9/gs_quant/base.py`

 * *Files 13% similar despite different names*

```diff
@@ -13,25 +13,23 @@
 specific language governing permissions and limitations
 under the License.
 """
 import builtins
 import copy
 import datetime as dt
 import logging
-import sys
-import typing
 from abc import ABC, ABCMeta, abstractmethod
 from collections import namedtuple
 from dataclasses import Field, InitVar, MISSING, dataclass, field, fields, replace
-from enum import EnumMeta, Enum
+from enum import EnumMeta
 from functools import update_wrapper
 from typing import Iterable, Mapping, Optional, Union, Tuple
 
 import numpy as np
-from dataclasses_json import config, global_config, LetterCase, dataclass_json
+from dataclasses_json import config, global_config
 from dataclasses_json.core import _decode_generic, _is_supported_generic
 from inflection import camelize, underscore
 
 from gs_quant.context_base import ContextBase, ContextMeta
 from gs_quant.json_convertors import encode_date_or_str, decode_date_or_str, decode_optional_date, encode_datetime, \
     decode_datetime, decode_float_or_str, decode_instrument, encode_dictable, decode_quote_report, decode_quote_reports, \
     decode_custom_comment, decode_custom_comments
@@ -39,22 +37,20 @@
 _logger = logging.getLogger(__name__)
 
 __builtins = set(dir(builtins))
 __getattribute__ = object.__getattribute__
 __setattr__ = object.__setattr__
 
 _rename_cache = {}
-_is_supported_generic_cache = {}
-
 
 def exclude_none(o):
     return o is None
 
 
-def exclude_always(_o):
+def exlude_always(_o):
     return True
 
 
 def is_iterable(o, t):
     return isinstance(o, Iterable) and all(isinstance(it, t) for it in o)
 
 
@@ -64,24 +60,14 @@
 
 def _get_underscore(arg):
     if arg not in _rename_cache:
         _rename_cache[arg] = underscore(arg)
 
     return _rename_cache[arg]
 
-
-def _get_is_supported_generic(arg):
-    if arg in _is_supported_generic_cache:
-        is_supported_generic = _is_supported_generic_cache[arg]
-    else:
-        is_supported_generic = _is_supported_generic(arg)
-        _is_supported_generic_cache[arg] = is_supported_generic
-    return is_supported_generic
-
-
 def handle_camel_case_args(cls):
     init = cls.__init__
 
     def wrapper(self, *args, **kwargs):
         normalised_kwargs = {}
 
         for arg, value in kwargs.items():
@@ -99,34 +85,22 @@
 
     cls.__init__ = update_wrapper(wrapper=wrapper, wrapped=init)
 
     return cls
 
 
 field_metadata = config(exclude=exclude_none)
-name_metadata = config(exclude=exclude_always)
+name_metadata = config(exclude=exlude_always)
 
 
 class RiskKey(namedtuple('RiskKey', ('provider', 'date', 'market', 'params', 'scenario', 'risk_measure'))):
 
     @property
     def ex_measure(self):
-        from gs_quant.target.common import RiskRequestParameters
-        return RiskKey(self.provider, self.date, self.market,
-                       RiskRequestParameters(self.params.csa_term, self.params.raw_results, False,
-                                             self.params.market_behaviour),
-                       self.scenario, None)
-
-    @property
-    def ex_historical_diddle(self):
-        from gs_quant.target.common import RiskRequestParameters
-        return RiskKey(self.provider, self.date, self.market,
-                       RiskRequestParameters(self.params.csa_term, self.params.raw_results, False,
-                                             self.params.market_behaviour),
-                       self.scenario, self.risk_measure)
+        return RiskKey(self.provider, self.date, self.market, self.params, self.scenario, None)
 
     @property
     def fields(self):
         return self._fields
 
 
 class EnumBase:
@@ -140,17 +114,14 @@
     def __reduce_ex__(self, protocol):
         return self.__class__, (self.value,)
 
     def __lt__(self: EnumMeta, other):
         return self.value < other.value
 
     def __repr__(self):
-        return str(self)
-
-    def __str__(self):
         return self.value
 
 
 class HashableDict(dict):
 
     @staticmethod
     def hashables(in_dict) -> Tuple:
@@ -163,14 +134,15 @@
         return tuple(hashables)
 
     def __hash__(self):
         return hash(HashableDict.hashables(self))
 
 
 class DictBase(HashableDict):
+
     _PROPERTIES = set()
 
     def __init__(self, *args, **kwargs):
         if self._PROPERTIES:
             invalid_arg = next((k for k in kwargs.keys() if k not in self._PROPERTIES), None)
             if invalid_arg is not None:
                 raise AttributeError(f"'{self.__class__.__name__}' has no attribute '{invalid_arg}'")
@@ -247,55 +219,24 @@
     def __repr__(self):
         if self.name is not None:
             return f'{self.name} ({self.__class__.__name__})'
 
         return super().__repr__()
 
     @classmethod
-    def __is_type_match(cls, tp, val):
-        if sys.version_info >= (3, 9):
-            from types import GenericAlias
-            is_generic_alias = isinstance(tp, (typing._GenericAlias, GenericAlias))
-        else:
-            is_generic_alias = isinstance(tp, typing._GenericAlias)
-        if not is_generic_alias:
-            # Do not convert Enums to strings
-            is_enum_to_str = isinstance(val, Enum) and tp == str
-            return isinstance(tp, type) and (isinstance(val, tp) or is_enum_to_str)
-        if getattr(tp, '_special', False):
-            return False
-        origin = tp.__origin__
-        args = tp.__args__
-        if float in args:
-            args += (int,)
-        if origin == Union:
-            return any(cls.__is_type_match(arg, val) for arg in args)
-        if origin == tuple:
-            if not isinstance(val, tuple) or not args:
-                return False
-            if len(args) == 1 or args[1] == Ellipsis:
-                return all(cls.__is_type_match(args[0], x) for x in val)
-            else:
-                return len(args) == len(val) and all(cls.__is_type_match(arg, x) for arg, x in zip(args, val))
-        return False
-
-    @classmethod
     def __coerce_value(cls, typ: type, value):
-        if cls.__is_type_match(typ, value):
-            return value
         if isinstance(value, np.generic):
             # Handle numpy types
             return value.item()
         elif hasattr(value, 'tolist'):
             # tolist converts scalar or array to native python type if not already native.
-            return value.tolist()
+            return value()
         elif typ in (DictBase, Optional[DictBase]) and isinstance(value, Base):
             return value.to_dict()
-        is_supported_generic = _get_is_supported_generic(typ)
-        if is_supported_generic:
+        if _is_supported_generic(typ):
             return _decode_generic(typ, value, False)
         else:
             return value
 
     @classmethod
     def _fields_by_name(cls) -> Mapping[str, Field]:
         if cls is Base:
@@ -389,15 +330,14 @@
             raise ValueError('Can only use from_instance with an object of the same type')
 
         for fld in fields(self.__class__):
             if fld.init:
                 __setattr__(self, fld.name, __getattribute__(instance, fld.name))
 
 
-@dataclass_json
 @dataclass
 class Priceable(Base):
 
     def resolve(self, in_place: bool = True):
         """
         Resolve non-supplied properties of an instrument
 
@@ -532,14 +472,15 @@
 @dataclass
 class RiskMeasureParameter(Base, ABC):
     pass
 
 
 @dataclass
 class InstrumentBase(Base, ABC):
+
     quantity_: InitVar[float] = field(default=1, init=False)
 
     @property
     @abstractmethod
     def provider(self):
         ...
 
@@ -652,23 +593,14 @@
     except ValueError:
         _logger.warning('Setting value to {}, which is not a valid entry in {}'.format(value, enum_type))
         enum_value = value
 
     return enum_value
 
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class MarketDataScenario(Base):
-    scenario: Scenario = field(default=None, metadata=field_metadata)
-    subtract_base: Optional[bool] = field(default=False, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
 # Yes, I know this is a little evil ...
 global_config.encoders[dt.date] = dt.date.isoformat
 global_config.encoders[Optional[dt.date]] = encode_date_or_str
 global_config.decoders[dt.date] = decode_optional_date
 global_config.decoders[Optional[dt.date]] = decode_optional_date
 global_config.encoders[Union[dt.date, str]] = encode_date_or_str
 global_config.encoders[Optional[Union[dt.date, str]]] = encode_date_or_str
@@ -683,9 +615,10 @@
 
 global_config.decoders[InstrumentBase] = decode_instrument
 global_config.decoders[Optional[InstrumentBase]] = decode_instrument
 global_config.decoders[QuoteReport] = decode_quote_report
 global_config.decoders[Optional[Tuple[QuoteReport, ...]]] = decode_quote_reports
 global_config.decoders[CustomComments] = decode_custom_comment
 global_config.decoders[Optional[Tuple[CustomComments, ...]]] = decode_custom_comments
+
 global_config.encoders[Market] = encode_dictable
 global_config.encoders[Optional[Market]] = encode_dictable
```

### Comparing `gs_quant-1.0.80/gs_quant/common.py` & `gs_quant-1.0.9/gs_quant/common.py`

 * *Files 8% similar despite different names*

```diff
@@ -10,14 +10,16 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
+import datetime as dt
+
 from gs_quant.target.common import *
 from gs_quant.target.common import PayReceive as _PayReceive
 from gs_quant.target.common import RiskMeasure as __RiskMeasure
 from gs_quant.target.common import RiskMeasureType, AssetClass
 
 
 class PositionType(Enum):
@@ -29,34 +31,44 @@
 
     OPEN = "open"  #: Open positions (corporate action adjusted)
     CLOSE = "close"  #: Close positions (reflect trading activity on the close)
     ANY = 'any'
 
 
 class DateLimit(Enum):
+    
     """ Datetime date constants """
 
     LOW_LIMIT = dt.date(1952, 1, 1)
 
 
 class PayReceive(EnumBase, Enum):
+
     """Pay or receive fixed"""
 
     Pay = 'Pay'
     Receive = 'Rec'
     Straddle = 'Straddle'
 
     @classmethod
     def _missing_(cls, key):
         if isinstance(key, _PayReceive):
             key = key.value
 
         return cls.Receive if key.lower() in ('receive', 'receiver') else super()._missing_(key)
 
 
+class MarketBehaviour(EnumBase, Enum):
+
+    """ContraintsBased or Calibrated"""
+
+    ContraintsBased = 'ContraintsBased'
+    Calibrated = 'Calibrated'
+
+
 class RiskMeasure(__RiskMeasure):
 
     def __lt__(self, other):
         if self.name != other.name:
             return self.name < other.name
         elif self.parameters is not None:
             if other.parameters is None:
@@ -98,7 +110,8 @@
             sorted_keys = sorted(params.keys(), key=lambda x: x.lower())
             params = ', '.join(
                 [f'{k}:{params[k].value if isinstance(params[k], EnumBase) else params[k]}' for k in sorted_keys])
         return name + '(' + params + ')' if params else name
 
     def parameter_is_empty(self):
         return self.parameters is None
+
```

### Comparing `gs_quant-1.0.80/gs_quant/config/__init__.py` & `gs_quant-1.0.9/gs_quant/config/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/config/options.py` & `gs_quant-1.0.9/gs_quant/config/options.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/content/reports_and_screens/00_fx/vol_screen_app.py` & `gs_quant-1.0.9/gs_quant/content/reports_and_screens/00_fx/vol_screen_app.py`

 * *Files 4% similar despite different names*

```diff
@@ -15,15 +15,15 @@
 # external users should substitute their client id and secret; please skip this step if using internal jupyterhub
 GsSession.use(client_id=None, client_secret=None, scopes=('run_analytics',))
 
 
 def format_df(data_dict):
     df = pd.concat(data_dict, axis=1)
     df.columns = data_dict.keys()
-    return df.ffill().dropna()
+    return df.fillna(method='ffill').dropna()
 
 
 def volatility_screen(crosses, start_date, end_date, tenor='3m', plot=True):
     fxspot_dataset, fxvol_dataset = Dataset('FXSPOT'), Dataset('FXIMPLIEDVOL')
     spot_data, impvol_data, spot_fx, data = {}, {}, {}, {}
     for cross in crosses:
         spot = fxspot_dataset.get_data(start_date, end_date, bbid=cross)[['spot']].drop_duplicates(keep='last')
```

### Comparing `gs_quant-1.0.80/gs_quant/context_base.py` & `gs_quant-1.0.9/gs_quant/context_base.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/data/__init__.py` & `gs_quant-1.0.9/gs_quant/data/__init__.py`

 * *Files 4% similar despite different names*

```diff
@@ -13,10 +13,10 @@
 specific language governing permissions and limitations
 under the License.
 """
 
 from .coordinate import DataCoordinate
 from .core import DataContext, DataFrequency
 from .dataset import Dataset, PTPDataset
-from .fields import DataMeasure, DataDimension, Fields, AssetMeasure
+from .fields import DataMeasure, DataDimension, Fields
 
 __name__ = 'data'
```

### Comparing `gs_quant-1.0.80/gs_quant/data/coordinate.py` & `gs_quant-1.0.9/gs_quant/data/coordinate.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/data/core.py` & `gs_quant-1.0.9/gs_quant/data/core.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/data/dataset.py` & `gs_quant-1.0.9/gs_quant/data/dataset.py`

 * *Files 18% similar despite different names*

```diff
@@ -13,27 +13,25 @@
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
 import re
 import webbrowser
 from enum import Enum
-from typing import Iterable, Optional, Union, List, Dict, Callable
+from typing import Iterable, Optional, Union, List, Dict
 from urllib.parse import quote
 
 import inflection
 import numpy as np
 import pandas as pd
 
 from gs_quant.api.data import DataApi
 from gs_quant.data.fields import Fields
 from gs_quant.errors import MqValueError
 from gs_quant.session import GsSession
-from functools import partial
-from gs_quant.data.utilities import Utilities
 
 
 class Dataset:
     """A collection of related data"""
 
     class Vendor(Enum):
         pass
@@ -112,27 +110,25 @@
             start: Optional[Union[dt.date, dt.datetime]] = None,
             end: Optional[Union[dt.date, dt.datetime]] = None,
             as_of: Optional[dt.datetime] = None,
             since: Optional[dt.datetime] = None,
             fields: Optional[Iterable[Union[str, Fields]]] = None,
             asset_id_type: Optional[str] = None,
             empty_intervals: Optional[bool] = None,
-            standard_fields: Optional[bool] = False,
             **kwargs
     ) -> pd.DataFrame:
         """
         Get data for the given range and parameters
 
         :param start: Requested start date/datetime for data
         :param end: Requested end date/datetime for data
         :param as_of: Request data as_of
         :param since: Request data since
         :param fields: DataSet fields to include
         :param empty_intervals: whether to request empty intervals
-        :param standard_fields: If set, will use fields api instead of catalog api to get fieldTypes
         :param kwargs: Extra query arguments, e.g. ticker='EDZ19'
         :return: A Dataframe of the requested data
 
         **Examples**
 
         >>> from gs_quant.data import Dataset
         >>> import datetime as dt
@@ -140,61 +136,49 @@
         >>> weather = Dataset('WEATHER')
         >>> weather_data = weather.get_data(dt.date(2016, 1, 15), dt.date(2016, 1, 16), city=('Boston', 'Austin'))
         """
 
         field_names = None if fields is None else list(map(lambda f: f if isinstance(f, str) else f.value, fields))
         # check whether a function is called e.g. difference(tradePrice)
         schema_varies = field_names is not None and any(map(lambda s: re.match("\\w+\\(", s), field_names))
-        if kwargs and "date" in kwargs:
-            d = kwargs["date"]
-            if type(d) is str:
-                try:
-                    kwargs["date"] = dt.datetime.strptime(d, "%Y-%m-%d").date()
-                except ValueError:
-                    pass  # Ignore error if date parameter is in some other format
-            if "dates" not in kwargs and start is None and end is None:
-                kwargs["dates"] = (kwargs["date"],)
+
         query = self.provider.build_query(
             start=start,
             end=end,
             as_of=as_of,
             since=since,
             fields=field_names,
             empty_intervals=empty_intervals,
             **kwargs
         )
         data = self.provider.query_data(query, self.id, asset_id_type=asset_id_type)
         if type(data) is tuple:
-            df = self.provider.construct_dataframe_with_types(self.id, data[0], schema_varies,
-                                                              standard_fields=standard_fields)
+            df = self.provider.construct_dataframe_with_types(self.id, data[0], schema_varies)
             return df.groupby(data[1], group_keys=True).apply(lambda x: x)
         else:
-            return self.provider.construct_dataframe_with_types(self.id, data, schema_varies,
-                                                                standard_fields=standard_fields)
+            return self.provider.construct_dataframe_with_types(self.id, data, schema_varies)
 
     def get_data_series(
             self,
             field: Union[str, Fields],
             start: Optional[Union[dt.date, dt.datetime]] = None,
             end: Optional[Union[dt.date, dt.datetime]] = None,
             as_of: Optional[dt.datetime] = None,
             since: Optional[dt.datetime] = None,
             dates: Optional[List[dt.date]] = None,
-            standard_fields: Optional[bool] = False,
             **kwargs
     ) -> pd.Series:
         """
         Get a time series of data for a field of a dataset
 
         :param field: The DataSet field to use
         :param start: Requested start date/datetime for data
         :param end: Requested end date/datetime for data
         :param as_of: Request data as_of
         :param since: Request data since
-        :param standard_fields: If set, will use fields api instead of catalog api to get fieldTypes
         :param kwargs: Extra query arguments, e.g. ticker='EDZ19'
         :return: A Series of the requested data, indexed by date or time, depending on the DataSet
 
         **Examples**
 
         >>> from gs_quant.data import Dataset
         >>> import datetime as dt
@@ -218,15 +202,15 @@
 
         symbol_dimensions = self.provider.symbol_dimensions(self.id)
         if len(symbol_dimensions) != 1:
             raise MqValueError('get_data_series only valid for symbol_dimensions of length 1')
 
         symbol_dimension = symbol_dimensions[0]
         data = self.provider.query_data(query, self.id)
-        df = self.provider.construct_dataframe_with_types(self.id, data, standard_fields=standard_fields)
+        df = self.provider.construct_dataframe_with_types(self.id, data)
 
         from gs_quant.api.gs.data import GsDataApi
 
         if isinstance(self.provider, GsDataApi):
             gb = df.groupby(symbol_dimension)
             if len(gb.groups) > 1:
                 raise MqValueError('Not a series for a single {}'.format(symbol_dimension))
@@ -239,24 +223,22 @@
         return pd.Series(index=df.index, data=df.loc[:, field_value].values)
 
     def get_data_last(
             self,
             as_of: Optional[Union[dt.date, dt.datetime]],
             start: Optional[Union[dt.date, dt.datetime]] = None,
             fields: Optional[Iterable[str]] = None,
-            standard_fields: Optional[bool] = False,
             **kwargs
     ) -> pd.DataFrame:
         """
         Get the last point for this DataSet, at or before as_of
 
         :param as_of: The date or time as of which to query
         :param start: The start of the range to query
         :param fields: The fields for which to query
-        :param standard_fields: If set, will use fields api instead of catalog api to get fieldTypes
         :param kwargs: Additional query parameters, e.g., city='Boston'
         :return: A Dataframe of values
 
         **Examples**
 
         >>> from gs_quant.data import Dataset
         >>> import datetime as dt
@@ -270,15 +252,15 @@
             fields=fields,
             format='JSON',
             **kwargs
         )
         query.format = None  # "last" endpoint does not support MessagePack
 
         data = self.provider.last_data(query, self.id)
-        return self.provider.construct_dataframe_with_types(self.id, data, standard_fields=standard_fields)
+        return self.provider.construct_dataframe_with_types(self.id, data)
 
     def get_coverage(
             self,
             limit: Optional[int] = None,
             offset: Optional[int] = None,
             fields: Optional[List[str]] = None,
             include_history: bool = False,
@@ -410,105 +392,14 @@
         >>>    "pressure": 29.03,
         >>>    "updateTime": "2017-03-06T16:49:39.493Z"
         >>> }]
         >>> upload_response = weather.upload_data(data)
         """
         return self.provider.upload_data(self.id, data)
 
-    def get_data_bulk(self,
-                      request_batch_size,
-                      original_start: dt.datetime,
-                      final_end: Optional[dt.datetime] = None,
-                      identifier="bbid",
-                      symbols_per_csv: int = 1000,
-                      datetime_delta_override: Optional[int] = None,
-                      handler: Optional[Callable[[pd.DataFrame], None]] = None
-                      ):
-        """
-        Extracts data from dataset by running parallel queries in the background
-
-        :param request_batch_size: Used to group number of symbols per batch run (> 0 and <5)
-        :param original_start: Start date to fetch the data (mandatory)
-        :param final_end: End date to fetch the data. If not entered defaults to current datetime
-        :param identifier: Use specific identifier as per dataset configuration. ex. cusip, bbid, clusterRegion
-        :param symbols_per_csv: Number of symbols per CSV (recommended value = 1000)
-        :param datetime_delta_override: A numeric parameter to increment start date and fetch data in batches
-            units are days for daily datasets and hours for intraday
-        :param handler: A callable function, if provided, to handle dataframe instead of writing to CSV
-
-
-        **Examples**
-
-        >>> import datetime as dt
-        >>> from gs_quant.data import Dataset
-        >>> dataset_id = "EQTRADECLUSTERS"
-        >>> original_start = dt.datetime(2023, 3, 1,0,0,0)
-        >>> final_end = dt.datetime(2023, 3, 1,0,0,0)
-        >>> c = Dataset(dataset_id)
-        >>> c.get_data_bulk(original_start=original_start,
-        >>>                 final_end=final_end,
-        >>>                 datetime_delta_override=1,
-        >>>                 request_batch_size=4,
-        >>>                 identifier="clusterRegion")
-        """
-
-        try:
-            authenticate = partial(GsSession.use,
-                                   client_id=GsSession.current.client_id,
-                                   client_secret=GsSession.current.client_secret
-                                   )
-        except AttributeError:
-            authenticate = partial(GsSession.use)
-
-        time_field, history_time, symbol_dimension, timedelta = Utilities.get_dataset_parameter(self)
-        final_end = final_end or dt.datetime.now()
-        write_to_csv = handler is None
-        final_end, target_dir_result = Utilities.pre_checks(final_end, original_start, time_field,
-                                                            datetime_delta_override, request_batch_size, write_to_csv)
-        if write_to_csv:
-            print("Target Destination Folder: ", target_dir_result)
-
-        if time_field == 'date':
-            original_start = max(original_start.date(), history_time.date())
-            final_end = max(final_end.date(), history_time.date())
-            datetime_delta_override = timedelta if datetime_delta_override is None else dt.timedelta(
-                days=datetime_delta_override)
-        elif time_field == 'time':
-            original_start = max(original_start.astimezone(dt.timezone.utc), history_time.astimezone(dt.timezone.utc))
-            final_end = max(final_end.astimezone(dt.timezone.utc), history_time.astimezone(dt.timezone.utc))
-            datetime_delta_override = timedelta if datetime_delta_override is None else dt.timedelta(
-                hours=datetime_delta_override)
-
-        original_end = min(original_start + datetime_delta_override, final_end)
-        coverage = Utilities.get_dataset_coverage(identifier, symbol_dimension, self)
-        coverage_batches = Utilities.batch(coverage, n=symbols_per_csv)
-        batch_number = 1
-        coverage_length = len(coverage)
-
-        for coverage_batch in coverage_batches:
-            Utilities.iterate_over_series(
-                self,
-                coverage_batch,
-                original_start,
-                original_end,
-                datetime_delta_override,
-                identifier,
-                request_batch_size,
-                authenticate,
-                final_end,
-                write_to_csv,
-                target_dir_result,
-                batch_number,
-                coverage_length,
-                symbols_per_csv,
-                handler
-            )
-
-            batch_number += 1
-
 
 class PTPDataset(Dataset):
     """
     Special class for and viewing PTP-style datasets.
 
     PTP provides a wrapper around the data service that makes it easy to define datasets, upload data, and plot them in
     PlotTool Pro. PTP datasets can only contain numeric data with a pd.DatetimeIndex (will throw an error otherwise).
```

### Comparing `gs_quant-1.0.80/gs_quant/data/fields.py` & `gs_quant-1.0.9/gs_quant/data/fields.py`

 * *Files 6% similar despite different names*

```diff
@@ -12,16 +12,14 @@
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
 from aenum import Enum, extend_enum
 from typing import Optional
-from dataclasses_json import LetterCase, dataclass_json
-from dataclasses import dataclass, field
 
 
 class DataMeasure(Enum):
     """Data measure definitions
 
     Enumeration of measures available through data APIs. Measures are facts that are usually quantities and that can
     be aggregated over a defined period of time. For example: tradePrice and volume are measures
@@ -57,15 +55,14 @@
     EARNINGS_PER_SHARE = 'Earnings per Share'
     EARNINGS_PER_SHARE_POSITIVE = 'Earnings per Share Positive'
     NET_DEBT_TO_EBITDA = 'Net Debt to EBITDA'
     PRICE_TO_BOOK = 'Price to Book'
     PRICE_TO_CASH = 'Price to Cash'
     PRICE_TO_EARNINGS = 'Price to Earnings'
     PRICE_TO_EARNINGS_POSITIVE = 'Price to Earnings Positive'
-    PRICE_TO_EARNINGS_POSITIVE_EXCLUSIVE = 'Price to Earnings Positive Exclusive'
     PRICE_TO_SALES = 'Price to Sales'
     RETURN_ON_EQUITY = 'Return on Equity'
     SALES_PER_SHARE = 'Sales per Share'
     CURRENT_CONSTITUENTS_DIVIDEND_YIELD = 'Current Constituents Dividend Yield'
     CURRENT_CONSTITUENTS_EARNINGS_PER_SHARE = 'Current Constituents Earnings per Share'
     CURRENT_CONSTITUENTS_EARNINGS_PER_SHARE_POSITIVE = 'Current Constituents Earnings per Share Positive'
     CURRENT_CONSTITUENTS_NET_DEBT_TO_EBITDA = 'Current Constituents Net Debt to EBITDA'
@@ -86,15 +83,14 @@
         return self.value
 
     @classmethod
     def list_fundamentals(cls):
         return [metric.value for metric in [cls.DIVIDEND_YIELD, cls.EARNINGS_PER_SHARE, cls.EARNINGS_PER_SHARE_POSITIVE,
                                             cls.NET_DEBT_TO_EBITDA, cls.PRICE_TO_BOOK, cls.PRICE_TO_CASH,
                                             cls.PRICE_TO_EARNINGS, cls.PRICE_TO_EARNINGS_POSITIVE,
-                                            cls.PRICE_TO_EARNINGS_POSITIVE_EXCLUSIVE,
                                             cls.PRICE_TO_SALES, cls.RETURN_ON_EQUITY, cls.SALES_PER_SHARE,
                                             cls.CURRENT_CONSTITUENTS_DIVIDEND_YIELD,
                                             cls.CURRENT_CONSTITUENTS_EARNINGS_PER_SHARE,
                                             cls.CURRENT_CONSTITUENTS_EARNINGS_PER_SHARE_POSITIVE,
                                             cls.CURRENT_CONSTITUENTS_NET_DEBT_TO_EBITDA,
                                             cls.CURRENT_CONSTITUENTS_PRICE_TO_BOOK,
                                             cls.CURRENT_CONSTITUENTS_PRICE_TO_CASH,
@@ -136,15 +132,7 @@
 
 
 for enum in DataMeasure:
     extend_enum(Fields, enum.name, enum.value)
 
 for enum in DataDimension:
     extend_enum(Fields, enum.name, enum.value)
-
-
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(frozen=True)
-class AssetMeasure():
-    dataset_field: str = field(default=None)
-    frequency: str = field(default=None)
-    type: str = field(default=None)
```

### Comparing `gs_quant-1.0.80/gs_quant/data/log.py` & `gs_quant-1.0.9/gs_quant/data/log.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/data/query.py` & `gs_quant-1.0.9/gs_quant/data/query.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/data/stream.py` & `gs_quant-1.0.9/gs_quant/data/stream.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/datetime/__init__.py` & `gs_quant-1.0.9/gs_quant/datetime/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/datetime/date.py` & `gs_quant-1.0.9/gs_quant/datetime/date.py`

 * *Files 2% similar despite different names*

```diff
@@ -67,15 +67,15 @@
     ACTUAL_365L = "ACTUAL_365L"
 
     # ONE_ONE: Always returns a day count fraction of 1
     ONE_ONE = "ONE_ONE"
 
 
 def is_business_day(dates: DateOrDates, calendars: Union[str, Tuple[str, ...]] = (), week_mask: Optional[str] = None)\
-        -> Union[bool, Tuple[bool, ...]]:
+        -> Union[bool, Tuple[bool]]:
     """
     Determine whether each date in dates is a business day
 
     :param dates: The input date or dates
     :param calendars: Calendars to use for holidays
     :param week_mask: Which days are considered weekends (defaults to Saturday and Sunday)
     :return: True/False if dates is a single date. A tuple indicating True/False for each date if dates is an iterable
@@ -132,15 +132,15 @@
     >>> import datetime as dt
     >>> prev_bus_date = prev_business_date()
     """
     return business_day_offset(dates, -1, roll='forward', calendars=calendars, week_mask=week_mask)
 
 
 def business_day_count(begin_dates: DateOrDates, end_dates: DateOrDates, calendars: Union[str, Tuple[str, ...]] = (
-), week_mask: Optional[str] = None) -> Union[int, Tuple[int, ...]]:
+), week_mask: Optional[str] = None) -> Union[int, Tuple[int]]:
     """
     Determine the number of business days between begin_dates and end_dates
 
     :param begin_dates: A date or collection of beginning dates
     :param end_dates: A date or collection of end dates
     :param calendars: Calendars to use for holidays
     :param week_mask: Which days are considered weekends (defaults to Saturday and Sunday)
```

### Comparing `gs_quant-1.0.80/gs_quant/datetime/gscalendar.py` & `gs_quant-1.0.9/gs_quant/datetime/gscalendar.py`

 * *Files 2% similar despite different names*

```diff
@@ -77,15 +77,15 @@
             return False
         try:
             _ = Currency(currency.upper())
             return True
         except (ValueError, AttributeError):
             return False
 
-    def holidays_from_dataset(self, dataset: Dataset, query_key: str, query_values: Tuple[str, ...]) -> List[dt.date]:
+    def holidays_from_dataset(self, dataset: Dataset, query_key: str, query_values: Tuple[str]) -> List[dt.date]:
         if not len(query_values):
             return []
         coverage = _coverage_cache.get(dataset.id, default=None)
         if coverage is None:
             coverage_df = dataset.get_coverage()
             coverage = set() if coverage_df.empty else set(coverage_df[query_key])
             _coverage_cache[dataset.id] = coverage
```

### Comparing `gs_quant-1.0.80/gs_quant/datetime/point.py` & `gs_quant-1.0.9/gs_quant/datetime/point.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/datetime/relative_date.py` & `gs_quant-1.0.9/gs_quant/datetime/relative_date.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/datetime/rules.py` & `gs_quant-1.0.9/gs_quant/datetime/rules.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/datetime/time.py` & `gs_quant-1.0.9/gs_quant/datetime/time.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.business_day_count.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.business_day_count.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.business_day_offset.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.business_day_offset.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.date_range.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.date_range.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.is_business_day.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.is_business_day.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.date.prev_business_date.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.date.prev_business_date.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.datetime.point.point_sort_order.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.datetime.point.point_sort_order.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.abs_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.abs_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.add.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.add.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.and_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.and_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.ceil.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.ceil.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.divide.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.divide.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.exp.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.exp.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.filter_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.filter_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.floor.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.floor.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.floordiv.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.floordiv.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.if_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.if_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.log.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.log.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.multiply.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.multiply.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.not_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.not_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.or_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.or_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.power.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.power.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.repeat.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.repeat.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.smooth_spikes.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.smooth_spikes.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.sqrt.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.sqrt.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.subtract.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.subtract.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.algebra.weighted_sum.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.algebra.weighted_sum.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.count.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.count.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.diff.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.diff.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.first.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.first.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.lag.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.lag.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.last.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.last.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.last_value.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.last_value.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.analysis.weighted_sum.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.analysis.weighted_sum.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.backtesting.basket.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.backtesting.basket.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.align.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.align.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.date_range.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.date_range.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.day.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.day.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.interpolate.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.interpolate.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.month.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.month.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.prepend.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.prepend.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.quarter.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.quarter.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.union.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.union.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.value.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.value.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.weekday.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.weekday.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.datetime.year.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.datetime.year.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.annualize.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.annualize.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.beta.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.beta.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.change.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.change.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.correlation.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.correlation.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.excess_returns_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.excess_returns_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.index.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.index.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.max_drawdown.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.max_drawdown.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.prices.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.prices.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.returns.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.returns.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.sharpe_ratio.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.sharpe_ratio.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.econometrics.volatility.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.econometrics.volatility.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.cov.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.cov.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.exponential_std.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.exponential_std.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.generate_series.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.generate_series.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.max_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.max_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.mean.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.mean.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.median.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.median.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.min_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.min_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.mode.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.mode.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.percentile.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.percentile.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.percentiles.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.percentiles.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.product.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.product.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.range_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.range_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.std.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.std.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.sum_.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.sum_.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.var.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.var.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.winsorize.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.winsorize.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.statistics.zscores.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.statistics.zscores.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.bollinger_bands.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.bollinger_bands.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_moving_average.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_moving_average.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_spread_volatility.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_spread_volatility.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.exponential_volatility.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.exponential_volatility.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.moving_average.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.moving_average.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.relative_strength_index.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.relative_strength_index.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/docs/gs_quant.timeseries.technicals.smoothed_moving_average.html` & `gs_quant-1.0.9/gs_quant/docs/gs_quant.timeseries.technicals.smoothed_moving_average.html`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/entities/entitlements.py` & `gs_quant-1.0.9/gs_quant/entities/entitlements.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/entities/entity.py` & `gs_quant-1.0.9/gs_quant/entities/entity.py`

 * *Files 13% similar despite different names*

```diff
@@ -32,30 +32,26 @@
     CarbonAnalyticsView
 from gs_quant.api.gs.data import GsDataApi
 from gs_quant.api.gs.esg import ESGMeasure, GsEsgApi, ESGCard
 from gs_quant.api.gs.indices import GsIndexApi
 from gs_quant.api.gs.portfolios import GsPortfolioApi
 from gs_quant.api.gs.reports import GsReportApi
 from gs_quant.api.gs.thematics import ThematicMeasure, GsThematicApi, Region
-from gs_quant.api.gs.scenarios import GsFactorScenarioApi
 from gs_quant.common import DateLimit, PositionType, Currency
 from gs_quant.data import DataCoordinate, DataFrequency, DataMeasure
 from gs_quant.data.coordinate import DataDimensions
 from gs_quant.entities.entitlements import Entitlements
 from gs_quant.errors import MqError, MqValueError
 from gs_quant.markets.indices_utils import BasketType, IndicesDatasets
 from gs_quant.markets.position_set import PositionSet
 from gs_quant.markets.report import PerformanceReport, FactorRiskReport, Report, ThematicReport, \
-    flatten_results_into_df, get_thematic_breakdown_as_df, ReturnFormat
-from gs_quant.markets.scenario import Scenario
+    flatten_results_into_df, get_thematic_breakdown_as_df
 from gs_quant.session import GsSession
 from gs_quant.target.data import DataQuery
 from gs_quant.target.reports import ReportStatus, ReportType
-from gs_quant.entities.entity_utils import _explode_data
-
 
 _logger = logging.getLogger(__name__)
 
 
 class EntityType(Enum):
     ASSET = 'asset'
     BACKTEST = 'backtest'
@@ -63,40 +59,26 @@
     HEDGE = 'hedge'
     KPI = 'kpi'
     PORTFOLIO = 'portfolio'
     REPORT = 'report'
     RISK_MODEL = 'risk_model'
     SUBDIVISION = 'subdivision'
     DATASET = 'dataset'
-    SCENARIO = 'scenario'
 
 
 @dataclass
 class EntityKey:
     id_: str
     entity_type: EntityType
 
 
 class EntityIdentifier(Enum):
     pass
 
 
-class ScenarioCalculationType(Enum):
-    FACTOR_SCENARIO = "Factor Scenario"
-
-
-class ScenarioCalculationMeasure(Enum):
-    SUMMARY = "Summary"
-    ESTIMATED_FACTOR_PNL = "Factor Pnl"
-    ESTIMATED_PNL_BY_SECTOR = "By Sector Pnl Aggregations"
-    ESTIMATED_PNL_BY_REGION = "By Region Pnl Aggregations"
-    ESTIMATED_PNL_BY_DIRECTION = "By Direction Pnl Aggregations"
-    ESTIMATED_PNL_BY_ASSET = "By Asset Pnl"
-
-
 class Entity(metaclass=ABCMeta):
     """Base class for any first-class entity"""
     _entity_to_endpoint = {
         EntityType.ASSET: 'assets',
         EntityType.COUNTRY: 'countries',
         EntityType.SUBDIVISION: 'countries/subdivisions',
         EntityType.KPI: 'kpis',
@@ -442,24 +424,14 @@
         if self.positioned_entity_type == EntityType.ASSET:
             return GsIndexApi.get_positions_data(self.id, start, end, fields, position_type)
         if self.positioned_entity_type == EntityType.PORTFOLIO:
             raise MqError('Please use the get_positions_data function on the portfolio performance report using the '
                           'PerformanceReport class')
         raise NotImplementedError
 
-    def get_last_positions_data(self,
-                                fields: [str] = None,
-                                position_type: PositionType = PositionType.CLOSE) -> List[Dict]:
-        if self.positioned_entity_type == EntityType.ASSET:
-            return GsIndexApi.get_last_positions_data(self.id, fields, position_type)
-        if self.positioned_entity_type == EntityType.PORTFOLIO:
-            raise MqError('Please use the get_positions_data function on the portfolio performance report using the '
-                          'PerformanceReport class')
-        raise NotImplementedError
-
     def get_position_dates(self) -> Tuple[dt.date, ...]:
         if self.positioned_entity_type == EntityType.PORTFOLIO:
             return GsPortfolioApi.get_position_dates(portfolio_id=self.id)
         if self.positioned_entity_type == EntityType.ASSET:
             return GsAssetApi.get_position_dates(asset_id=self.id)
         raise NotImplementedError
 
@@ -516,15 +488,14 @@
                                benchmark_id: str = None,
                                tags: Dict = None) -> FactorRiskReport:
         position_source_type = self.positioned_entity_type.value.capitalize()
         reports = self.get_factor_risk_reports(fx_hedged=fx_hedged, tags=tags)
         if risk_model_id:
             reports = [report for report in reports if report.parameters.risk_model == risk_model_id]
         reports = [report for report in reports if report.parameters.benchmark == benchmark_id]
-        reports = [report for report in reports if report.parameters.tags == tags]
         if len(reports) == 0:
             raise MqError(f'This {position_source_type} has no factor risk reports that match '
                           'your parameters. Please edit the risk model ID, fxHedged, and/or benchmark value in the '
                           'function parameters.')
         if len(reports) > 1:
             raise MqError(f'This {position_source_type} has more than one factor risk report that matches '
                           'your parameters. Please specify the risk model ID, fxHedged, and/or benchmark value in the '
@@ -535,15 +506,14 @@
         if self.positioned_entity_type in [EntityType.PORTFOLIO, EntityType.ASSET]:
             position_source_type = self.positioned_entity_type.value.capitalize()
             reports = GsReportApi.get_reports(limit=100,
                                               position_source_type=position_source_type,
                                               position_source_id=self.id,
                                               report_type=f'{position_source_type} Thematic Analytics',
                                               tags=tags)
-            reports = [report for report in reports if report.parameters.tags == tags]
             if len(reports) == 0:
                 raise MqError(f'This {position_source_type} has no thematic analytics report.')
             return ThematicReport.from_target(reports[0])
         raise NotImplementedError
 
     def poll_report(self, report_id: str, timeout: int = 600, step: int = 30) -> ReportStatus:
         poll = True
@@ -895,149 +865,7 @@
         Get a by-asset breakdown of a portfolio or basket's thematic exposure to a particular flagship basket on a
         particular date
         :param date: date
         :param basket_id: GS flagship basket's unique Marquee ID
         :return: a Pandas DataFrame with results
         """
         return get_thematic_breakdown_as_df(entity_id=self.id, date=date, basket_id=basket_id)
-
-    def get_factor_scenario_analytics(self,
-                                      scenarios: List[Scenario],
-                                      date: dt.date,
-                                      measures: List[ScenarioCalculationMeasure],
-                                      risk_model: str = None,
-                                      return_format: ReturnFormat = ReturnFormat.DATA_FRAME) -> \
-            Union[Dict, Union[Dict, pd.DataFrame]]:
-
-        """Given a list of factor scenarios (historical simulation and/or custom shocks), return the estimated pnl
-         of the given positioned entity.
-         :param scenarios: List of factor-based scenarios
-         :param date: date to run scenarios.
-         :param measures: which metrics to return
-         :param risk_model: valid risk model ID
-         :param return_format: whether to return data formatted in a dataframe or as a dict
-
-          **Examples**
-
-            >>> from gs_quant.session import GsSession, Environment
-            >>> from gs_quant.markets.portfolio_manager import PortfolioManager, ReturnFormat
-            >>> from gs_quant.entities.entity import ScenarioCalculationMeasure, PositionedEntity
-            >>> from gs_quant.markets.scenario import Scenario
-
-          Get scenarios
-            >>> covid_19_omicron = Scenario.get_by_name("Covid 19 Omicron (v2)") # historical simulation
-            >>> custom_shock = Scenario.get_by_name("Shocking factor by x% (Propagated)") # custom shock
-            >>> risk_model = "RISK_MODEL_ID" # valid risk model ID
-
-          Instantiate your positionedEntity. Here, we are using one of its subclasses, PortfolioManager
-
-            >>> pm = PortfolioManager(portfolio_id="PORTFOLIO_ID")
-
-          Set the date you wish to run your scenario on
-
-           >>> date = dt.date(2023, 3, 7)
-
-          Run scenario and get estimated impact on your positioned entity
-
-          >>> scenario_analytics = pm.get_factor_scenario_analytics(
-          ...     scenarios=[covid_19_omicron, beta_propagated],
-          ...     date=date,
-          ...     measures=[ScenarioCalculationMeasure.SUMMARY,
-          ...               ScenarioCalculationMeasure.ESTIMATED_FACTOR_PNL,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_SECTOR,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_REGION,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_DIRECTION,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_ASSET],
-          ...     risk_model=risk_model)
-
-          By default, the result will be returned in a dict with keys as the measures/metrics requested and values as
-          the scenario calculation results formatted in a dataframe. To get the results in a dict, specify the return
-          format as JSON
-         """
-        risk_report = self.get_factor_risk_report(risk_model_id=risk_model)
-
-        id_to_scenario_map = {scenario.id: scenario for scenario in scenarios}
-        scenario_ids = list(id_to_scenario_map.keys())
-
-        calculation_request = {
-            "date": date,
-            "scenarioIds": scenario_ids,
-            "reportId": risk_report.id,
-            "measures": [m.value for m in measures],
-            "riskModel": risk_model,
-            "type": "Factor Scenario"
-        }
-
-        results = GsFactorScenarioApi.calculate_scenario(calculation_request)
-
-        scenarios = [id_to_scenario_map.get(sc_id) for sc_id in results.get('scenarios')]
-        calculation_results = results.get('results')
-
-        if return_format == ReturnFormat.JSON:
-            return dict(zip(scenarios, calculation_results))
-
-        result = {}
-
-        all_data = {}
-        [all_data.update({result_type: []}) for result_type in ['summary', 'factorPnl', 'bySectorAggregations',
-                                                                'byRegionAggregations', 'byDirectionAggregations',
-                                                                'byAsset']]
-
-        for i, calc_result in enumerate(calculation_results):
-            for result_type in ['summary', 'factorPnl', 'bySectorAggregations',
-                                'byRegionAggregations', 'byDirectionAggregations', 'byAsset']:
-                scenario_metadata_map = {"scenarioId": scenarios[i].id,
-                                         "scenarioName": scenarios[i].name,
-                                         "scenarioType": scenarios[i].type.value}
-                if result_type == 'summary':
-                    calc_result.get(result_type).update(scenario_metadata_map)
-                    all_data.get(result_type).append(calc_result.get(result_type))
-                else:
-                    [data_map.update(scenario_metadata_map) for data_map in calc_result.get(result_type, [])]
-                    [all_data.get(result_type).append(element) for element in calc_result.get(result_type, [])]
-
-        for result_type, result_label in {"summary": "summary",
-                                          "factorPnl": "factorCategories",
-                                          "bySectorAggregations": "sectors",
-                                          "byRegionAggregations": "countries",
-                                          "byDirectionAggregations": "direction",
-                                          "byAsset": "byAsset"}.items():
-            estimated_pnl_results_as_json = all_data.get(result_type)
-            if estimated_pnl_results_as_json:
-                estimated_pnl_df = pd.DataFrame.from_dict(estimated_pnl_results_as_json)
-                estimated_pnl_df = estimated_pnl_df.apply(
-                    _explode_data, axis=1, parent_label=result_label)
-                if isinstance(estimated_pnl_df, pd.Series):
-                    estimated_pnl_df = pd.concat(estimated_pnl_df.values, ignore_index=True)
-
-                estimated_pnl_df.columns = estimated_pnl_df.columns.map(lambda x: {
-                    "factorCategories": "Factor Category",
-                    "factors": "Factor",
-                    "sectors": "Sector",
-                    "countries": "Country",
-                    "industries": "Industry",
-                    "direction": "Direction",
-                    "scenarioId": "Scenario ID",
-                    "scenarioName": "Scenario Name",
-                    "scenarioType": "Scenario Type",
-                    "assetId": "Asset ID",
-                    "name": "Asset Name",
-                    "bbid": "BBID",
-                    "factorExposure": "Factor Exposure",
-                    "factorShock": "Factor Shock (%)",
-                    "exposure": "Exposure",
-                    "estimatedPnl": "Estimated Pnl",
-                    "estimatedPerformance": "Estimated Performance (%)",
-                    "stressedMarketValue": "Stressed Market Value"
-
-                }.get(x, x))
-                column_order = [col
-                                for col in ["Scenario ID", "Scenario Name", "Scenario Type", "Asset ID",
-                                            "BBID", "Asset Name", "Factor Category", "Factor", "Factor Exposure",
-                                            "Factor Shock (%)", "Sector", "Industry", "Country", "Direction",
-                                            "Exposure", "Estimated Pnl", "Estimated Performance (%)",
-                                            "Stressed Market Value"]
-                                if col in estimated_pnl_df.columns.tolist()]
-                estimated_pnl_df = estimated_pnl_df[column_order]
-                result[result_type] = estimated_pnl_df
-
-        return result
```

### Comparing `gs_quant-1.0.80/gs_quant/entities/tree_entity.py` & `gs_quant-1.0.9/gs_quant/entities/tree_entity.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/errors.py` & `gs_quant-1.0.9/gs_quant/errors.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/instrument/__init__.py` & `gs_quant-1.0.9/gs_quant/instrument/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/instrument/core.py` & `gs_quant-1.0.9/gs_quant/instrument/core.py`

 * *Files 2% similar despite different names*

```diff
@@ -36,17 +36,14 @@
 _logger = logging.getLogger(__name__)
 
 
 class Instrument(PriceableImpl, InstrumentBase):
     PROVIDER = GsRiskApi
     __instrument_mappings = {}
 
-    def __repr__(self):
-        return f'{self.__class__.__name__}{"(" + self.name + ")" if self.name else ""}'
-
     @classmethod
     def __asset_class_and_type_to_instrument(cls):
         if not cls.__instrument_mappings:
             import gs_quant.target.instrument as instrument_
             instrument_classes = [c for _, c in inspect.getmembers(instrument_, inspect.isclass) if
                                   issubclass(c, Instrument) and c is not Instrument]
```

### Comparing `gs_quant-1.0.80/gs_quant/instrument/overrides.py` & `gs_quant-1.0.9/gs_quant/instrument/overrides.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/json_convertors.py` & `gs_quant-1.0.9/gs_quant/json_convertors.py`

 * *Files 7% similar despite different names*

```diff
@@ -27,32 +27,28 @@
 
 
 def encode_date_or_str(value: Optional[Union[str, dt.date]]) -> Optional[str]:
     return value.isoformat() if isinstance(value, dt.date) else value
 
 
 def decode_optional_date(value: Optional[str]) -> Optional[dt.date]:
-    # from dataclasses-json 0.6.5 onwards the global config for type T will be applied to Optional[T]
-    # So this decoder would become redundant, to allow any version we simply return if it's already a date
-    if value is None or isinstance(value, dt.date):
+    if value is None:
         return value
     elif isinstance(value, str):
         return dt.datetime.strptime(value, '%Y-%m-%d').date()
 
     raise ValueError(f'Cannot convert {value} to date')
 
 
-def decode_date_tuple(blob: Tuple[str, ...]):
+def decode_date_tuple(blob: Tuple[str]):
     return tuple(decode_optional_date(s) for s in blob) if isinstance(blob, (tuple, list)) else None
 
 
-def optional_from_isodatetime(datetime: Union[str, dt.datetime, None]) -> Optional[dt.datetime]:
-    if datetime is None or isinstance(datetime, dt.datetime):
-        return datetime
-    return dt.datetime.fromisoformat(datetime.replace('Z', ''))
+def optional_from_isodatetime(datetime: str):
+    return dt.datetime.fromisoformat(datetime.replace('Z', '')) if datetime is not None else None
 
 
 def optional_to_isodatetime(datetime: Optional[dt.datetime]):
     return f'{dt.datetime.isoformat(datetime, timespec="seconds")}Z' if datetime is not None else None
 
 
 optional_datetime_config = config(encoder=optional_to_isodatetime, decoder=optional_from_isodatetime)
@@ -68,15 +64,15 @@
             for k, val in value.items()} if value is not None else None
 
 
 def decode_dict_date_value(value):
     return {k: dt.date.fromisoformat(d) for k, d in value.items()} if value is not None else None
 
 
-def decode_datetime_tuple(blob: Tuple[str, ...]):
+def decode_datetime_tuple(blob: Tuple[str]):
     return tuple(optional_from_isodatetime(s) for s in blob) if isinstance(blob, (tuple, list)) else None
 
 
 def decode_date_or_str(value: Union[dt.date, float, str]) -> Optional[Union[dt.date, str]]:
     if value is None or isinstance(value, dt.date):
         return value
     elif isinstance(value, float):
@@ -108,15 +104,15 @@
         # Pandas Timestamp objects don't take timespec, will raise TypeError (as of 1.2.4)
         iso_formatted = value.isoformat()
 
     return iso_formatted if value.tzinfo else iso_formatted + 'Z'  # Make sure to be explict about timezone
 
 
 def decode_datetime(value: Optional[Union[int, str]]) -> Optional[dt.datetime]:
-    if value is None or isinstance(value, dt.datetime):
+    if value is None:
         return value
     if isinstance(value, int):
         return dt.datetime.fromtimestamp(value / 1000)
     elif isinstance(value, str):
         matcher = re.search('\\.([0-9]*)Z$', value)
         if matcher:
             sub_seconds = matcher.group(1)
@@ -166,19 +162,9 @@
 
 
 def decode_custom_comments(value: Optional[Iterable[Dict]]):
     from gs_quant.quote_reports.core import custom_comments_from_dicts
     return custom_comments_from_dicts(value) if value else None
 
 
-def decode_hedge_type(value: Optional[dict]):
-    from gs_quant.quote_reports.core import hedge_type_from_dict
-    return hedge_type_from_dict(value) if value else None
-
-
-def decode_hedge_types(value: Optional[Iterable[Dict]]):
-    from gs_quant.quote_reports.core import hedge_type_from_dicts
-    return hedge_type_from_dicts(value) if value else None
-
-
 def encode_dictable(o):
     return o if o is None else o.to_dict()
```

### Comparing `gs_quant-1.0.80/gs_quant/json_encoder.py` & `gs_quant-1.0.9/gs_quant/json_encoder.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/markets/__init__.py` & `gs_quant-1.0.9/gs_quant/markets/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/markets/baskets.py` & `gs_quant-1.0.9/gs_quant/markets/baskets.py`

 * *Files 4% similar despite different names*

```diff
@@ -606,71 +606,14 @@
 
     @allow_limited_access_assets.setter
     @_validate(ErrorMessage.NON_ADMIN)
     def allow_limited_access_assets(self, value: bool):
         self.__allow_limited_access_assets = value
 
     @property
-    def asset_class(self) -> Optional[AssetClass]:
-        """ Asset class of the basket """
-        return self.__asset_class
-
-    @asset_class.setter
-    @_validate(ErrorMessage.UNMODIFIABLE)
-    def asset_class(self, value: AssetClass):
-        self.__asset_class = value
-
-    @property
-    def benchmark(self) -> Optional[str]:
-        """ Benchmark for a basket """
-        return self.__benchmark
-
-    @benchmark.setter
-    @_validate(ErrorMessage.NON_ADMIN, ErrorMessage.NON_INTERNAL)
-    def benchmark(self, value: str):
-        self.__benchmark = value
-
-    @property
-    def backtest_parameters(self) -> Optional[EqBasketBacktestParameters]:
-        """ Backtest parameters for a basket """
-        return self.__backtest_parameters
-
-    @backtest_parameters.setter
-    @_validate(ErrorMessage.NON_ADMIN)
-    def backtest_parameters(self, value: EqBasketBacktestParameters):
-        if value is not None:
-            self.__historical_methodology = EqBasketHistoryMethodology.Backtest
-        self.__backtest_parameters = value
-
-    @property
-    def bloomberg_publish_parameters(self) -> Optional[BloombergPublishParameters]:
-        """ Bloomberg publish overrides for a basket """
-        return self.__bloomberg_publish_parameters
-
-    @bloomberg_publish_parameters.setter
-    @_validate(ErrorMessage.NON_ADMIN, ErrorMessage.NON_INTERNAL)
-    def bloomberg_publish_parameters(self, value: BloombergPublishParameters):
-        self.__bloomberg_publish_parameters = value
-
-    @property
-    def cash_reinvestment_treatment(self) -> Optional[CashReinvestmentTreatment]:
-        """ Cash reinvestment treatment options for a basket """
-        return self.__cash_reinvestment_treatment
-
-    @cash_reinvestment_treatment.setter
-    @_validate(ErrorMessage.NON_ADMIN)
-    def cash_reinvestment_treatment(self, value: Union[CashReinvestmentTreatment, CashReinvestmentTreatmentType]):
-        if isinstance(value, CashReinvestmentTreatmentType):
-            self.__cash_reinvestment_treatment = CashReinvestmentTreatment(cash_acquisition_treatment=value,
-                                                                           regular_dividend_treatment=value,
-                                                                           special_dividend_treatment=value)
-        else:
-            self.__cash_reinvestment_treatment = value
-
-    @property
     def clone_parent_id(self) -> Optional[str]:
         """ Marquee Id of the source basket, in case basket composition is sourced from another marquee basket """
         return self.__clone_parent_id
 
     @property
     def currency(self) -> Optional[IndicesCurrency]:
         """ Denomination of the basket """
@@ -685,16 +628,14 @@
     def default_backcast(self) -> Optional[bool]:
         """ If basket should be backcasted using the current composition """
         return self.__default_backcast
 
     @default_backcast.setter
     @_validate(ErrorMessage.UNMODIFIABLE)
     def default_backcast(self, value: bool):
-        if not value:
-            self.__historical_methodology = EqBasketHistoryMethodology.Custom
         self.__default_backcast = value
 
     @property
     def description(self) -> Optional[str]:
         """ Free text description of basket """
         return self.__description
 
@@ -738,25 +679,14 @@
 
     @property
     def hedge_id(self) -> Optional[str]:
         """ Marquee Id of the source hedge, in case current basket composition is sourced from marquee hedge """
         return self.__hedge_id
 
     @property
-    def historical_methodology(self) -> Optional[EqBasketHistoryMethodology]:
-        """ Historical methodology for a basket """
-        return self.__historical_methodology
-
-    @historical_methodology.setter
-    @_validate(ErrorMessage.NON_ADMIN)
-    def historical_methodology(self, value: EqBasketHistoryMethodology):
-        self.__default_backcast = value != EqBasketHistoryMethodology.Custom
-        self.__historical_methodology = value
-
-    @property
     def include_price_history(self) -> Optional[bool]:
         """ Include full price history when publishing to Bloomberg """
         return self.__include_price_history
 
     @include_price_history.setter
     @_validate(ErrorMessage.NON_ADMIN)
     def include_price_history(self, value: bool):
@@ -792,15 +722,15 @@
         if has(self, '__clone_parent_id') and not has(self, '__parent_basket'):
             self.__parent_basket = get(GsAssetApi.get_asset(self.__clone_parent_id), 'id')
         return self.__parent_basket
 
     @parent_basket.setter
     @_validate(ErrorMessage.UNMODIFIABLE)
     def parent_basket(self, value: str):
-        self.__clone_parent_id = get(self.__get_gs_asset(value), 'id')
+        self.__clone_parent_id = get(__get_gs_asset(value), 'id')
         self.__parent_basket = value
 
     @property
     @_validate()
     def position_set(self) -> Optional[PositionSet]:
         """ Information of constituents associated with the basket """
         return self.__position_set
@@ -808,24 +738,14 @@
     @position_set.setter
     @_validate(ErrorMessage.NON_ADMIN)
     def position_set(self, value: PositionSet):
         self.__validate_position_set(value)
         self.__position_set = value
 
     @property
-    def preferred_risk_model(self) -> Optional[str]:
-        """ Preferred risk model for a basket """
-        return self.__preferred_risk_model
-
-    @preferred_risk_model.setter
-    @_validate(ErrorMessage.NON_ADMIN, ErrorMessage.NON_INTERNAL)
-    def preferred_risk_model(self, value: str):
-        self.__preferred_risk_model = value
-
-    @property
     @_validate()
     def publish_to_bloomberg(self) -> Optional[bool]:
         """ If the basket should be published to Bloomberg """
         return self.__publish_to_bloomberg
 
     @publish_to_bloomberg.setter
     @_validate(ErrorMessage.NON_ADMIN)
@@ -850,24 +770,14 @@
 
     @publish_to_reuters.setter
     @_validate(ErrorMessage.NON_ADMIN)
     def publish_to_reuters(self, value: bool):
         self.__publish_to_reuters = value
 
     @property
-    def rebalance_calendar(self) -> Optional[EqBasketRebalanceCalendar]:
-        """ Expected rebalance calender/frequency a basket """
-        return self.__rebalance_calendar
-
-    @rebalance_calendar.setter
-    @_validate(ErrorMessage.NON_ADMIN, ErrorMessage.NON_INTERNAL)
-    def rebalance_calendar(self, value: EqBasketRebalanceCalendar):
-        self.__rebalance_calendar = value
-
-    @property
     def return_type(self) -> Optional[ReturnType]:
         """ Determines the index calculation methodology with respect to dividend reinvestment """
         return self.__return_type
 
     @return_type.setter
     @_validate(ErrorMessage.NON_ADMIN)
     def return_type(self, value: ReturnType):
@@ -917,20 +827,20 @@
     def __edit_and_rebalance(self, edit_inputs: CustomBasketsEditInputs,
                              rebal_inputs: CustomBasketsRebalanceInputs) -> CustomBasketsResponse:
         """ If updates require edit and rebalance, rebal will not be scheduled until/if edit report succeeds """
         _logger.info('Current update request requires multiple reports. Your rebalance request will be submitted \
                       once the edit report has completed. Submitting basket edits now...')
         response = GsIndexApi.edit(self.id, edit_inputs)
         report_id = response.report_id
-        self.__latest_create_report = GsReportApi.get_report(report_id)
+        self.__latest_create_report = GsReportApi.get_report(response.report_id)
         report_status = self.poll_report(report_id, timeout=600, step=15)
         if report_status != ReportStatus.done:
             raise MqError(f'The basket edit report\'s status is {report_status}. The current rebalance request will \
                             not be submitted in the meantime.')
-        _logger.info('Your basket edits have completed successfully. Submitting rebalance request now...')
+        _logger.info('Your basket edits have completed successfuly. Submitting rebalance request now...')
         response = GsIndexApi.rebalance(self.id, rebal_inputs)
         return response
 
     def __finish_initialization(self):
         """ Fetches remaining data not retrieved during basket initialization """
         if has(self, 'id'):
             if not has(self, '__initial_positions'):
@@ -942,142 +852,114 @@
                 set_(self.__initial_state, 'divisor', self.__divisor)
                 set_(self.__initial_state, 'position_set', self.__position_set)
             if not has(self.__initial_state, 'initial_price'):
                 initial_price = GsIndexApi.initial_price(self.id, dt.date.today())
                 self.__initial_price = get(initial_price, 'price')
                 set_(self.__initial_state, 'initial_price', self.__initial_price)
             if not has(self.__initial_state, 'publish_to_bloomberg'):
-                report_params = self.__get_latest_create_report().parameters
-                self.__publish_to_bloomberg = report_params.publish_to_bloomberg
-                self.__publish_to_factset = report_params.publish_to_factset
-                self.__publish_to_reuters = report_params.publish_to_reuters
-                self.__backtest_parameters = report_params.backtest_parameters
-                self.__bloomberg_publish_parameters = report_params.bloomberg_publish_parameters
+                report = get(self, '__latest_create_report', self.__get_latest_create_report())
+                self.__publish_to_bloomberg = get(report, 'parameters.publish_to_bloomberg')
+                self.__publish_to_factset = get(report, 'parameters.publish_to_factset')
+                self.__publish_to_reuters = get(report, 'parameters.publish_to_reuters')
                 set_(self.__initial_state, 'publish_to_bloomberg', self.__publish_to_bloomberg)
                 set_(self.__initial_state, 'publish_to_factset', self.__publish_to_factset)
                 set_(self.__initial_state, 'publish_to_reuters', self.__publish_to_reuters)
-                set_(self.__initial_state, 'bloomberg_publish_parameters', self.__bloomberg_publish_parameters)
-                set_(self.__initial_state, 'backtest_parameters', self.__backtest_parameters)
             if not has(self, '__entitlements'):
                 self.__entitlements = BasketEntitlements.from_target(self.__initial_entitlements)
         self.__set_error_messages()
 
     @staticmethod
     def __get_gs_asset(identifier: str) -> GsAsset:
         """ Resolves basket identifier during initialization """
         response = GsAssetApi.resolve_assets(identifier=[identifier], fields=['id'], limit=1)[identifier]
         if len(response) == 0 or get(response, '0.id') is None:
             raise MqValueError(f'Basket could not be found using identifier {identifier}')
         return GsAssetApi.get_asset(get(response, '0.id'))
 
     def __get_latest_create_report(self) -> Report:
-        """ Used to find basket's most recent price/publish info """
+        """ Used to find baskets's most recent price/publish info """
         report = GsReportApi.get_reports(limit=1, position_source_id=self.id, report_type='Basket Create',
                                          order_by='>latestExecutionTime')
         return get(report, '0')
 
     def __get_updates(self) -> Tuple[Optional[CustomBasketsEditInputs], Optional[CustomBasketsRebalanceInputs]]:
         """ Compares initial and current basket state to determine if updates require edit/rebalance """
-        edit_inputs, eligible_for_edit = {}, False
-        rebal_inputs, eligible_for_rebal = {}, False
-        pricing, pricing_updated = {}, False
-        publish, publish_updated = {}, False
-
-        positions = set(self.position_set.positions)
-        positions_updated = self.__initial_positions != positions
+        edit_inputs, rebal_inputs, pricing, publish = {}, {}, {}, {}
+        update_publish_params = False
 
         for prop in CustomBasketsEditInputs.properties():
             if get(self.__initial_state, prop) != get(self, prop):
-                eligible_for_edit = True
-            set_(edit_inputs, prop, get(self, prop))
+                set_(edit_inputs, prop, get(self, prop))
         for prop in CustomBasketsRebalanceInputs.properties():
-            if prop != 'position_set':
-                if get(self.__initial_state, prop) != get(self, prop):
-                    eligible_for_rebal = True
+            if prop != 'position_set' and get(self.__initial_state, prop) != get(self, prop):
                 set_(rebal_inputs, prop, get(self, prop))
         for prop in CustomBasketsPricingParameters.properties():
             if get(self.__initial_state, prop) != get(self, prop):
-                pricing_updated = True
-            set_(pricing, prop, get(self, prop))
+                set_(pricing, prop, get(self, prop))
         for prop in PublishParameters.properties():
             if get(self.__initial_state, prop) != get(self, prop):
-                publish_updated = True
+                update_publish_params = True
             set_(publish, prop, get(self, prop))
 
-        # Since edit and rebalance have some shared inputs, we need to decide which action(s) to perform
-        # 1. rebalance if pricing/positions have changed or if rebalance specific metadata has been updated
-        # 2. edit if edit metadata has changed, or if only publishing options have changed (rebal not required)
-        should_rebal = pricing_updated or positions_updated or (eligible_for_rebal and not eligible_for_edit)
-        should_edit = (publish_updated and not should_rebal) or eligible_for_edit
+        curr_positions = set(self.position_set.positions)
+        position_set_changed = False if self.__initial_positions == curr_positions else True
 
         # handle nested objects and make sure required/default values are input correctly
-        if should_rebal:
+        if len(rebal_inputs) or len(pricing) or position_set_changed:
             set_(rebal_inputs, 'position_set', self.position_set.to_target(common=False))
             set_(rebal_inputs, 'pricing_parameters', CustomBasketsPricingParameters(**pricing))
-            set_(rebal_inputs, 'publish_parameters', PublishParameters(**publish))
-        if should_edit:
-            set_(edit_inputs, 'publish_parameters', PublishParameters(**publish))
 
-        edit_inputs = CustomBasketsEditInputs(**edit_inputs) if should_edit else None
-        rebal_inputs = CustomBasketsRebalanceInputs(**rebal_inputs) if should_rebal else None
+        # publish params can be sent during edit or rebal, so we choose depending on current payload states
+        if update_publish_params:
+            publish = PublishParameters(**publish)
+            set_(rebal_inputs if len(rebal_inputs) else edit_inputs, 'publish_parameters', publish)
+
+        edit_inputs = None if not len(edit_inputs) else CustomBasketsEditInputs(**edit_inputs)
+        rebal_inputs = None if not len(rebal_inputs) else CustomBasketsRebalanceInputs(**rebal_inputs)
         return edit_inputs, rebal_inputs
 
     def __populate_current_attributes_for_existing_basket(self, gs_asset: GsAsset):
         """ Current basket settings for existing basket """
-        self.__benchmark = get(gs_asset, 'parameters.benchmark')
-        self.__cash_reinvestment_treatment = get(gs_asset, 'parameters.cashReinvestmentTreatment')
         self.__clone_parent_id = get(gs_asset, 'parameters.cloneParentId')
         self.__default_backcast = get(gs_asset, 'parameters.defaultBackcast')
         self.__description = get(gs_asset, 'description')
         self.__flagship = get(gs_asset, 'parameters.flagship')
         self.__gs_asset_type = get(gs_asset, 'type')
         self.__hedge_id = get(gs_asset, 'parameters.hedgeId')
-        self.__historical_methodology = get(gs_asset, 'parameters.historicalMethodology')
         self.__include_price_history = False
         self.__live_date = get(gs_asset, 'liveDate')
-        self.__preferred_risk_model = get(gs_asset, 'parameters.preferredRiskModel')
-        self.__rebalance_calendar = get(gs_asset, 'parameters.rebalanceFrequency')
         self.__return_type = get(gs_asset, 'parameters.indexCalculationType')
         self.__ticker = get(gs_asset, 'xref.ticker')
 
         self.__initial_state = {}
         for prop in CustomBasketsEditInputs.properties().union(CustomBasketsRebalanceInputs.properties(),
                                                                CustomBasketsPricingParameters.properties(),
                                                                PublishParameters.properties()):
             set_(self.__initial_state, prop, get(self, prop))
 
     def __populate_default_attributes_for_new_basket(self, **kwargs):
         """ Default basket settings prior to creation """
         self.__allow_ca_restricted_assets = get(kwargs, 'allow_ca_restricted_assets')
         self.__allow_limited_access_assets = get(kwargs, 'allow_limited_access_assets')
-        self.__backtest_parameters = get(kwargs, 'backtest_parameters')
-        self.__benchmark = get(kwargs, 'benchmark')
-        self.__cash_reinvestment_treatment = get(kwargs, 'cash_reinvestment_treatment', CashReinvestmentTreatment(
-            cash_acquisition_treatment=CashReinvestmentTreatmentType.Reinvest_At_Open,
-            regular_dividend_treatment=CashReinvestmentTreatmentType.Reinvest_At_Open,
-            special_dividend_treatment=CashReinvestmentTreatmentType.Reinvest_At_Open))
         self.__clone_parent_id = get(kwargs, 'clone_parent_id')
         self.__currency = get(kwargs, 'currency')
         self.__default_backcast = get(kwargs, 'default_backcast', True)
         self.__description = get(kwargs, 'description')
         self.__divisor = get(kwargs, 'divisor')
         self.__hedge_id = get(kwargs, 'hedge_id')
-        self.__historical_methodology = get(kwargs, 'historical_methodology', EqBasketHistoryMethodology.Backcast)
         self.__include_price_history = get(kwargs, 'include_price_history', False)
         self.__initial_price = get(kwargs, 'initial_price', 100) if self.__divisor is None else None
         self.__name = get(kwargs, 'name')
         self.__parent_basket = get(kwargs, 'parent_basket')
         if self.__parent_basket is not None and self.__clone_parent_id is None:
-            self.__clone_parent_id = get(self.__get_gs_asset(self.__parent_basket), 'id')
+            self.__clone_parent_id = get(__get_gs_asset(self.__parent_basket), 'id')
         self.__position_set = get(kwargs, 'position_set')
-        self.__preferred_risk_model = get(kwargs, 'preferred_risk_model')
         self.__publish_to_bloomberg = get(kwargs, 'publish_to_bloomberg', True)
         self.__publish_to_factset = get(kwargs, 'publish_to_factset', False)
         self.__publish_to_reuters = get(kwargs, 'publish_to_reuters', False)
-        self.__rebalance_calendar = get(kwargs, 'rebalance_calendar')
         self.__return_type = get(kwargs, 'return_type')
         self.__target_notional = get(kwargs, 'target_notional', 10000000)
         self.__ticker = get(kwargs, 'ticker')
 
     def __set_error_messages(self):
         """ Errors to check for based on current user/basket state """
         if len(get(self, '__error_messages', [])) > 0:
@@ -1102,16 +984,15 @@
         if len(neg_pos):
             raise MqValueError(f'Position weights/quantities must be positive. Found negative values for date \
             {position_set.date}: {neg_pos}')
         if position_set.unresolved_positions is not None and len(position_set.unresolved_positions):
             raise MqValueError(f'Error in resolving the following identifiers for date {position_set.date}: \
             {[p.identifier for p in position_set.unresolved_positions]}')
 
-    @staticmethod
-    def __validate_ticker(ticker: str):
+    def __validate_ticker(self, ticker: str):
         """ Blocks ticker setter if entry is invalid """
         if not len(ticker) == 8:
             raise MqValueError('Invalid ticker: must be 8 characters')
         GsIndexApi.validate_ticker(ticker)
         if not ticker[:2] == 'GS':
             _logger.info('Remember to prefix your ticker with \'GS\' if you\'d like to \
                 publish your basket to Bloomberg')
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/core.py` & `gs_quant-1.0.9/gs_quant/markets/core.py`

 * *Files 6% similar despite different names*

```diff
@@ -12,37 +12,37 @@
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import asyncio
 import datetime as dt
 import logging
+import queue
 import sys
 import weakref
 from abc import ABCMeta
 from concurrent.futures import ThreadPoolExecutor
 from inspect import signature
 from itertools import zip_longest, takewhile
-from typing import Optional, Union, Type
-
-from tqdm import tqdm
+from typing import Optional, Union
 
 from gs_quant.base import InstrumentBase, RiskKey, Scenario, get_enum_value
 from gs_quant.common import PricingLocation, RiskMeasure
 from gs_quant.context_base import ContextBaseWithDefault
 from gs_quant.datetime.date import business_day_offset, today
 from gs_quant.risk import CompositeScenario, DataFrameWithInfo, ErrorValue, FloatWithInfo, MarketDataScenario, \
     StringWithInfo
 from gs_quant.risk.results import PricingFuture
 from gs_quant.session import GsSession
 from gs_quant.target.common import PricingDateAndMarketDataAsOf
 from gs_quant.target.risk import RiskPosition, RiskRequest, RiskRequestParameters
 from gs_quant.tracing import Tracer
+from tqdm import tqdm
+
 from .markets import CloseMarket, LiveMarket, Market, close_market_date, OverlayMarket, RelativeMarket
-from ..api.risk import GenericRiskApi
 
 _logger = logging.getLogger(__name__)
 
 CacheResult = Union[DataFrameWithInfo, FloatWithInfo, StringWithInfo]
 
 
 class PricingCache(metaclass=ABCMeta):
@@ -85,17 +85,15 @@
                  request_priority: Optional[int] = None,
                  csa_term: Optional[str] = None,
                  timeout: Optional[int] = None,
                  market: Optional[Market] = None,
                  show_progress: Optional[bool] = None,
                  use_server_cache: Optional[bool] = None,
                  market_behaviour: Optional[str] = 'ContraintsBased',
-                 set_parameters_only: bool = False,
-                 use_historical_diddles_only: bool = False,
-                 provider: Optional[Type[GenericRiskApi]] = None):
+                 set_parameters_only: bool = False):
         """
         The methods on this class should not be called directly. Instead, use the methods on the instruments,
         as per the examples
 
         :param pricing_date: the date for pricing calculations. Default is today
         :param market_data_location: the location for sourcing market data ('NYC', 'LDN' or 'HKG' (defaults to LDN)
         :param is_async: if True, return (a future) immediately. If False, block (defaults to False)
@@ -108,16 +106,14 @@
         :param timeout: the timeout for batch operations
         :param market: a Market object
         :param show_progress: add a progress bar (tqdm)
         :param use_server_cache: cache query results on the GS servers
         :param market_behaviour: the behaviour to build the curve for pricing ('ContraintsBased' or 'Calibrated'
             (defaults to ContraintsBased))
         :param set_parameters_only: if true don't stop embedded pricing contexts submitting their jobs.
-        :param use_historical_diddles_only: if true only use historical diddles
-        :param provider: GenericRiskApi implementation to use for pricing requests
 
         **Examples**
 
         To change the market data location of the default context:
 
         >>> from gs_quant.markets import PricingContext
         >>>
@@ -184,18 +180,17 @@
         self.__use_cache = use_cache
         self.__visible_to_gs = visible_to_gs
         self.__request_priority = request_priority
         self.__market_data_location = market_data_location
         self.__market = market
         self.__show_progress = show_progress
         self.__use_server_cache = use_server_cache
-        self.__provider = provider
         self.__max_per_batch = None
         self.__max_concurrent = None
-        self.__use_historical_diddles_only = use_historical_diddles_only
+
         self.__set_parameters_only = set_parameters_only
 
         self.__pending = {}
         self._group_by_date = True
 
         self.__attrs_on_entry = {}
 
@@ -209,18 +204,16 @@
         attr_dict['use_cache'] = self.__use_cache
         attr_dict['visible_to_gs'] = self.__visible_to_gs
         attr_dict['request_priority'] = self.__request_priority
         attr_dict['market_data_location'] = self.__market_data_location
         attr_dict['market'] = self.__market
         attr_dict['show_progress'] = self.__show_progress
         attr_dict['use_server_cache'] = self.__use_server_cache
-        attr_dict['provider'] = self.__provider
         attr_dict['_max_concurrent'] = self.__max_concurrent
         attr_dict['_max_per_batch'] = self.__max_per_batch
-        attr_dict['use_historical_diddles_only'] = self.__use_historical_diddles_only
 
     def _inherited_val(self, parameter, default=None, from_active=False):
         if from_active:
             # some properties are inherited from the active context
             if self != self.active_context and getattr(self.active_context, parameter) is not None:
                 return getattr(self.active_context, parameter)
         if not self.is_entered and (not PricingContext.has_prior or self is not PricingContext.prior):
@@ -248,18 +241,16 @@
         self.__is_batch = self.is_batch
         self.__timeout = self.timeout
         self.__use_cache = self.use_cache
         self.__visible_to_gs = self.visible_to_gs
         self.__request_priority = self.request_priority
         self.__show_progress = self.show_progress
         self.__use_server_cache = self.use_server_cache
-        self.__provider = self.provider
         self.__max_concurrent = self._max_concurrent
         self.__max_per_batch = self._max_per_batch
-        self.__use_historical_diddles_only = self.use_historical_diddles_only
 
     def __reset_atts(self):
         self.__pricing_date = self.__attrs_on_entry.get('pricing_date')
         self.__csa_term = self.__attrs_on_entry.get('csa_term')
         self.__market_behaviour = self.__attrs_on_entry.get('market_behaviour')
         self.__is_async = self.__attrs_on_entry.get('is_async')
         self.__is_batch = self.__attrs_on_entry.get('is_batch')
@@ -267,15 +258,14 @@
         self.__use_cache = self.__attrs_on_entry.get('use_cache')
         self.__visible_to_gs = self.__attrs_on_entry.get('visible_to_gs')
         self.__request_priority = self.__attrs_on_entry.get('request_priority')
         self.__market_data_location = self.__attrs_on_entry.get('market_data_location')
         self.__market = self.__attrs_on_entry.get('market')
         self.__show_progress = self.__attrs_on_entry.get('show_progress')
         self.__use_server_cache = self.__attrs_on_entry.get('use_server_cache')
-        self.__provider = self.__attrs_on_entry.get('provider')
         self.__max_concurrent = self.__attrs_on_entry.get('_max_concurrent')
         self.__max_per_batch = self.__attrs_on_entry.get('_max_per_batch')
 
         self.__attrs_on_entry = {}
 
     def _on_exit(self, exc_type, exc_val, exc_tb):
         try:
@@ -286,19 +276,40 @@
         finally:
             self.__reset_atts()
 
     def __calc(self):
         def run_requests(requests_: list, provider_, create_event_loop: bool, pc_attrs: dict, span):
             if create_event_loop:
                 asyncio.set_event_loop(asyncio.new_event_loop())
-            provider_.populate_pending_futures(requests_, session, self.__pending,
-                                               max_concurrent=pc_attrs['_max_concurrent'], progress_bar=progress_bar,
-                                               timeout=pc_attrs['timeout'], span=span,
-                                               cache_impl=PricingCache if pc_attrs['use_cache'] else None,
-                                               is_async=pc_attrs['is_async'])
+
+            results = queue.Queue()
+            done = False
+
+            try:
+                with session:
+                    provider_.run(requests_, results, pc_attrs['_max_concurrent'], progress_bar,
+                                  timeout=pc_attrs['timeout'], span=span)
+            except Exception as e:
+                provider_.enqueue(results, ((k, e) for k in self.__pending.keys()))
+
+            while self.__pending and not done:
+                done, chunk_results = provider_.drain_queue(results)
+                for (risk_key_, priceable_), result in chunk_results:
+                    future = self.__pending.pop((risk_key_, priceable_), None)
+                    if future is not None:
+                        future.set_result(result)
+
+                        if pc_attrs['use_cache']:
+                            PricingCache.put(risk_key_, priceable_, result)
+
+            if not pc_attrs['is_async']:
+                # In async mode we can't tell if we've completed, we could be re-used
+                while self.__pending:
+                    (risk_key_, _), future = self.__pending.popitem()
+                    future.set_result(ErrorValue(risk_key_, 'No result returned'))
 
         # Group requests optimally
         requests_by_provider = {}
         for (key, instrument) in self.__pending.keys():
             dates_markets, measures = requests_by_provider.setdefault(key.provider, {}) \
                 .setdefault((key.params, key.scenario), {}) \
                 .setdefault(instrument, (set(), set()))
@@ -320,20 +331,19 @@
                                                     []).append(instrument)
 
                 requests = []
 
                 # Restrict to 1,000 instruments and 1 date in a batch, until server side changes are made
 
                 for (params, scenario, dates_markets, risk_measures), instruments in grouped_requests.items():
-                    date_chunk_size = (1 if self._group_by_date else self._max_per_batch) if provider.batch_dates \
-                        else len(dates_markets)
                     for insts_chunk in [tuple(filter(None, i)) for i in
                                         zip_longest(*[iter(instruments)] * self._max_per_batch)]:
                         for dates_chunk in [tuple(filter(None, i)) for i in
-                                            zip_longest(*[iter(dates_markets)] * date_chunk_size)]:
+                                            zip_longest(*[iter(dates_markets)] * (
+                                                    1 if self._group_by_date else self._max_per_batch))]:
                             requests.append(RiskRequest(
                                 tuple(RiskPosition(instrument=i, quantity=i.instrument_quantity,
                                                    instrument_name=i.name) for i in insts_chunk),
                                 risk_measures,
                                 parameters=params,
                                 wait_for_results=not self.__is_batch,
                                 scenario=scenario,
@@ -377,16 +387,15 @@
 
     def __risk_key(self, risk_measure: RiskMeasure, provider: type) -> RiskKey:
         return RiskKey(provider, self.__pricing_date, self.__market, self._parameters, self._scenario, risk_measure)
 
     @property
     def _parameters(self) -> RiskRequestParameters:
         return RiskRequestParameters(csa_term=self.__csa_term, raw_results=True,
-                                     market_behaviour=self.__market_behaviour,
-                                     use_historical_diddles_only=self.__use_historical_diddles_only)
+                                     market_behaviour=self.__market_behaviour)
 
     @property
     def _scenario(self) -> Optional[MarketDataScenario]:
         scenarios = Scenario.path
         if not scenarios:
             return None
 
@@ -458,19 +467,14 @@
 
     @property
     def use_server_cache(self) -> bool:
         return self.__use_server_cache if self.__use_server_cache is not None else self._inherited_val(
             'use_server_cache', False)
 
     @property
-    def provider(self) -> Type[GenericRiskApi]:
-        return self.__provider if self.__provider is not None else self._inherited_val(
-            'provider', None)
-
-    @property
     def market_behaviour(self) -> str:
         return self.__market_behaviour if self.__market_behaviour else self._inherited_val(
             'market_behaviour', default='ContraintsBased')
 
     @property
     def pricing_date(self) -> dt.date:
         """Pricing date"""
@@ -489,20 +493,14 @@
         """Request contents visible to GS"""
         return self.__visible_to_gs if self.__visible_to_gs else self._inherited_val('visible_to_gs')
 
     @property
     def set_parameters_only(self) -> bool:
         return self.__set_parameters_only
 
-    @property
-    def use_historical_diddles_only(self) -> bool:
-        if self.__use_historical_diddles_only is not None:
-            return self.__use_historical_diddles_only
-        return self._inherited_val('self.__use_historical_diddles_only', default=False)
-
     def clone(self, **kwargs):
         clone_kwargs = {k: getattr(self, k, None) for k in signature(self.__init__).parameters.keys()}
         clone_kwargs.update(kwargs)
         return self.__class__(**clone_kwargs)
 
     def _calc(self, instrument: InstrumentBase, risk_key: RiskKey) -> PricingFuture:
         pending = self.active_context.__pending
@@ -536,16 +534,15 @@
 
         >>> from gs_quant.instrument import IRSwap
         >>> from gs_quant.risk import IRDelta
         >>>
         >>> swap = IRSwap('Pay', '10y', 'USD', fixed_rate=0.01)
         >>> delta = swap.calc(IRDelta)
         """
-        provider = instrument.provider if self.provider is None else self.provider
-        return self._calc(instrument, self.__risk_key(risk_measure, provider))
+        return self._calc(instrument, self.__risk_key(risk_measure, instrument.provider))
 
 
 class PositionContext(ContextBaseWithDefault):
     """
     A context for controlling portfolio position behaviour
     """
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/factor.py` & `gs_quant-1.0.9/gs_quant/markets/factor.py`

 * *Files 24% similar despite different names*

```diff
@@ -10,25 +10,25 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 from enum import auto
+from math import sqrt
 from typing import Dict, Union
 
-import numpy as np
 import pandas as pd
 
+from gs_quant.api.gs.data import GsDataApi
 from gs_quant.data.core import DataContext
 from gs_quant.datetime import date
+from gs_quant.session import GsSession
 from gs_quant.target.common import Enum
-from gs_quant.api.gs.risk_models import GsFactorRiskModelApi, RiskModelDataMeasure
-from gs_quant.models.risk_model_utils import get_covariance_matrix_dataframe, build_factor_volatility_dataframe, \
-    build_factor_data_map
+from gs_quant.target.data import DataQuery
 
 
 class ReturnFormat(Enum):
     """Alternative format for data to be returned from get_data functions"""
     JSON = auto()
     DATA_FRAME = auto()
 
@@ -82,114 +82,129 @@
         return self.__glossary_description
 
     @property
     def risk_model_id(self):
         return self.__risk_model_id
 
     def covariance(self,
-                   factor: 'Factor',
+                   factor,
                    start_date: date = DataContext.current.start_date,
                    end_date: date = DataContext.current.end_date,
                    format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Retrieve a Dataframe or Dictionary of date->covariance values between this factor and another for a date
-                range """
-        covariance_data_raw = GsFactorRiskModelApi.get_risk_model_data(self.risk_model_id,
-                                                                       start_date,
-                                                                       end_date,
-                                                                       measures=[RiskModelDataMeasure.Covariance_Matrix,
-                                                                                 RiskModelDataMeasure.Factor_Name,
-                                                                                 RiskModelDataMeasure.Factor_Id],
-                                                                       factors=list({self.name, factor.name}),
-                                                                       limit_factors=False).get('results')
-
-        covariance_data_raw = get_covariance_matrix_dataframe(covariance_data_raw)
-
-        covariance_data_df = covariance_data_raw.stack().loc[pd.IndexSlice[:, self.name, factor.name]] * 252
-
-        if format == ReturnFormat.JSON:
-            return covariance_data_df.to_dict()
-
-        return covariance_data_df.to_frame(name="covariance")
+        range """
+        appendage = self.__get_dataset_trial_appendage()
+        covariance_data_raw = GsDataApi.execute_query(
+            f'RISK_MODEL_COVARIANCE_MATRIX{appendage}',
+            DataQuery(
+                where={"riskModel": self.risk_model_id, "factorId": self.id},
+                start_date=start_date,
+                end_date=end_date
+            )
+        ).get('data', [])
+
+        date_to_matrix_order = factor.__matrix_order(start_date, end_date, appendage)
+
+        covariance_data = {}
+        for data in covariance_data_raw:
+            date = data['date']
+            if date_to_matrix_order.get(date):
+                matrix_order_on_date = date_to_matrix_order[date]
+                covariance_data[date] = data[matrix_order_on_date] * 252
+
+        if format == ReturnFormat.DATA_FRAME:
+            return pd.DataFrame.from_dict(covariance_data, orient='index', columns=['covariance'])
+        return covariance_data
 
     def variance(self,
                  start_date: date = DataContext.current.start_date,
                  end_date: date = DataContext.current.end_date,
                  format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Retrieve a Dataframe or Dictionary of date->variance values for a factor over a date range """
-        variance_raw_data = self.covariance(self, start_date, end_date, ReturnFormat.DATA_FRAME) \
-            .rename(columns={"covariance": "variance"})
-
-        if format == ReturnFormat.JSON:
-            return variance_raw_data.squeeze().to_dict()
+        variance_data = self.covariance(self, start_date, end_date, ReturnFormat.JSON)
 
-        return variance_raw_data
+        if format == ReturnFormat.DATA_FRAME:
+            return pd.DataFrame.from_dict(variance_data, orient='index', columns=['variance'])
+        return variance_data
 
     def volatility(self,
                    start_date: date = DataContext.current.start_date,
                    end_date: date = DataContext.current.end_date,
                    format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Retrieve a Dataframe or Dictionary of date->volatility values for a factor over a date range """
-        volatility_raw_data = GsFactorRiskModelApi.get_risk_model_data(self.risk_model_id,
-                                                                       start_date,
-                                                                       end_date,
-                                                                       measures=[RiskModelDataMeasure.Factor_Volatility,
-                                                                                 RiskModelDataMeasure.Factor_Id,
-                                                                                 RiskModelDataMeasure.Factor_Name],
-                                                                       factors=[self.name],
-                                                                       limit_factors=False).get('results')
-
-        volatility_data_df = build_factor_volatility_dataframe(volatility_raw_data, True, None) * 252
-        if format == ReturnFormat.JSON:
-            return volatility_data_df.squeeze(axis=1).to_dict()
+        variance = self.variance(start_date, end_date, ReturnFormat.JSON)
+        volatility_data = {k: sqrt(v) for k, v in variance.items()}
 
-        return volatility_data_df
+        if format == ReturnFormat.DATA_FRAME:
+            return pd.DataFrame.from_dict(volatility_data, orient='index', columns=['volatility'])
+        return volatility_data
 
     def correlation(self,
                     other_factor,
                     start_date: date = DataContext.current.start_date,
                     end_date: date = DataContext.current.end_date,
                     format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Retrieve a Dataframe or Dictionary of date->correlation values between this factor and another for a date
         range """
 
-        raw_data = GsFactorRiskModelApi.get_risk_model_data(self.risk_model_id,
-                                                            start_date,
-                                                            end_date,
-                                                            measures=[RiskModelDataMeasure.Covariance_Matrix,
-                                                                      RiskModelDataMeasure.Factor_Name,
-                                                                      RiskModelDataMeasure.Factor_Id],
-                                                            factors=[self.name, other_factor.name],
-                                                            limit_factors=False).get('results')
-
-        covariance_data_raw = get_covariance_matrix_dataframe(raw_data) * 252
-        numerator = covariance_data_raw.stack().loc[pd.IndexSlice[:, self.name, other_factor.name]]
-        denominator = np.sqrt(covariance_data_raw.stack().loc[pd.IndexSlice[:, self.name, self.name]] *
-                              covariance_data_raw.stack().loc[pd.IndexSlice[:, other_factor.name, other_factor.name]])
-
-        correlation_df = numerator / denominator
-
-        if format == ReturnFormat.JSON:
-            return correlation_df.to_dict()
-        return correlation_df.to_frame(name="correlation")
+        factor_vol = self.volatility(start_date, end_date, ReturnFormat.JSON)
+        other_factor_vol = other_factor.volatility(start_date, end_date, ReturnFormat.JSON)
+        covariance = self.covariance(other_factor, start_date, end_date, ReturnFormat.JSON)
+
+        correlation_data = {}
+        for _date, covar in covariance.items():
+            if _date in factor_vol and _date in other_factor_vol:
+                denominator = factor_vol[_date] * other_factor_vol[_date]
+                if denominator != 0:
+                    correlation_data[_date] = covar / denominator
+
+        if format == ReturnFormat.DATA_FRAME:
+            return pd.DataFrame.from_dict(correlation_data, orient='index', columns=['correlation'])
+        return correlation_data
 
     def returns(self,
                 start_date: date = DataContext.current.start_date,
                 end_date: date = DataContext.current.end_date,
                 format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Retrieve a Dataframe or Dictionary of date->factor return values for a date range """
-        factor_returns_raw = GsFactorRiskModelApi.get_risk_model_data(self.risk_model_id,
-                                                                      start_date,
-                                                                      end_date,
-                                                                      measures=[RiskModelDataMeasure.Factor_Return,
-                                                                                RiskModelDataMeasure.Factor_Name,
-                                                                                RiskModelDataMeasure.Factor_Id],
-                                                                      factors=[self.name],
-                                                                      limit_factors=False).get('results')
-
-        factor_returns_formatted = build_factor_data_map(factor_returns_raw, 'factorName', self.risk_model_id,
-                                                         RiskModelDataMeasure.Factor_Return, None)
-        factor_returns_df = factor_returns_formatted.rename(columns={self.name: 'return'}).rename_axis(None, axis=1)
-
-        if format == ReturnFormat.JSON:
-            return factor_returns_df.squeeze().to_dict()
-
-        return factor_returns_df
+        appendage = self.__get_dataset_trial_appendage()
+        data_query_results = GsDataApi.execute_query(
+            f'RISK_MODEL_FACTOR{appendage}',
+            DataQuery(
+                where={"riskModel": self.risk_model_id, "factorId": self.id},
+                fields=['return'],
+                start_date=start_date,
+                end_date=end_date
+            )
+        ).get('data', [])
+
+        return_data = {dp['date']: dp['return'] for dp in data_query_results if dp.get('return')}
+
+        if format == ReturnFormat.DATA_FRAME:
+            return pd.DataFrame.from_dict(return_data, orient='index', columns=['return'])
+        return return_data
+
+    def __matrix_order(self, start_date: date, end_date: date, appendage: str) -> Dict:
+        """ Retrieve Dictionary of date->matrix_order for the factor in the covariance matrix """
+        query_results = GsDataApi.execute_query(
+            f'RISK_MODEL_COVARIANCE_MATRIX{appendage}',
+            DataQuery(
+                where={"riskModel": self.risk_model_id, "factorId": self.id},
+                fields=['matrixOrder'],
+                start_date=start_date,
+                end_date=end_date
+            )
+        ).get('data', [])
+        return {data['date']: str(data['matrixOrder']) for data in query_results}
+
+    def __get_dataset_trial_appendage(self):
+        availability_response = [model_dataset for model_dataset in
+                                 GsSession.current._get(f'/data/measures/{self.risk_model_id}/availability?entityType'
+                                                        f'=RISK_MODEL').get('data')
+                                 if model_dataset.get('type') == 'Factor Return']
+        availability_response = sorted(availability_response, key=lambda k: k['rank'], reverse=True)
+        for availability in availability_response:
+            dataset_id = availability.get('datasetId')
+            models_covered = GsDataApi.get_coverage(dataset_id, limit=1000)
+            for model in models_covered:
+                if model.get('riskModel') == self.risk_model_id:
+                    return dataset_id.replace('RISK_MODEL_FACTOR', '')
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/hedge.py` & `gs_quant-1.0.9/gs_quant/markets/hedge.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/markets/historical.py` & `gs_quant-1.0.9/gs_quant/markets/historical.py`

 * *Files 5% similar despite different names*

```diff
@@ -10,24 +10,24 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
-from typing import Iterable, Optional, Tuple, Union, Type
+from typing import Iterable, Optional, Tuple, Union
 
 from gs_quant.base import InstrumentBase, RiskKey
 from gs_quant.common import RiskMeasure
 from gs_quant.datetime.date import date_range, prev_business_date
 from gs_quant.risk import RollFwd, MarketDataScenario
 from gs_quant.risk.results import HistoricalPricingFuture, PricingFuture
+
 from .core import PricingContext
 from .markets import CloseMarket
-from ..api.risk import GenericRiskApi
 
 
 class HistoricalPricingContext(PricingContext):
     """
     A context for producing valuations over multiple dates
     """
 
@@ -42,16 +42,15 @@
             use_cache: bool = None,
             visible_to_gs: bool = None,
             request_priority: Optional[int] = None,
             csa_term: str = None,
             market_data_location: Optional[str] = None,
             timeout: Optional[int] = None,
             show_progress: Optional[bool] = None,
-            use_server_cache: Optional[bool] = None,
-            provider: Optional[Type[GenericRiskApi]] = None):
+            use_server_cache: Optional[bool] = None):
         """
         A context for producing valuations over multiple dates
 
         :param start: start date
         :param end: end date (defaults to today)
         :param calendars: holiday calendars
         :param dates: a custom iterable of dates
@@ -75,15 +74,15 @@
         >>>     price_f = ir_swap.price()
         >>>
         >>> price_series = price_f.result()
         """
         super().__init__(is_async=is_async, is_batch=is_batch, use_cache=use_cache, visible_to_gs=visible_to_gs,
                          request_priority=request_priority, csa_term=csa_term,
                          market_data_location=market_data_location, timeout=timeout, show_progress=show_progress,
-                         use_server_cache=use_server_cache, use_historical_diddles_only=True, provider=provider)
+                         use_server_cache=use_server_cache)
 
         if start is not None:
             if dates is not None:
                 raise ValueError('Must supply start or dates, not both')
 
             if end is None:
                 end = dt.date.today()
@@ -97,15 +96,15 @@
     def _market(self, date: dt.date, location: str) -> CloseMarket:
         date = prev_business_date(date) if date == dt.date.today() else date
         return CloseMarket(location=location, date=date, check=False)
 
     def calc(self, instrument: InstrumentBase, risk_measure: RiskMeasure) -> PricingFuture:
         futures = []
 
-        provider = instrument.provider if self.provider is None else self.provider
+        provider = instrument.provider
         scenario = self._scenario
         parameters = self._parameters
         location = self.market.location
 
         for date in self.__date_range:
             risk_key = RiskKey(provider, date, self._market(date, location), parameters, scenario, risk_measure)
             futures.append(self._calc(instrument, risk_key))
@@ -133,16 +132,15 @@
             is_batch: bool = None,
             use_cache: bool = None,
             visible_to_gs: bool = None,
             csa_term: str = None,
             market_data_location: Optional[str] = None,
             timeout: Optional[int] = None,
             show_progress: Optional[bool] = None,
-            name: Optional[str] = None,
-            provider: Optional[Type[GenericRiskApi]] = None):
+            name: Optional[str] = None):
         """
         A context for producing valuations over multiple dates
 
         :param start: start date
         :param end: end date (defaults to today)
         :param calendars: holiday calendars
         :param dates: a custom iterable of dates
@@ -165,15 +163,15 @@
         >>>     price_f = ir_swap.price()
         >>>
         >>> price_series = price_f.result()
         """
         super().__init__(start=start, end=end, calendars=calendars, dates=dates,
                          is_async=is_async, is_batch=is_batch, use_cache=use_cache, visible_to_gs=visible_to_gs,
                          csa_term=csa_term, market_data_location=market_data_location,
-                         timeout=timeout, show_progress=show_progress, provider=provider)
+                         timeout=timeout, show_progress=show_progress)
         self._roll_to_fwds = roll_to_fwds
         self.name = name
         if start is not None:
             if dates is not None:
                 raise ValueError('Must supply start or dates, not both')
 
             if end is None:
@@ -184,15 +182,15 @@
             self.__date_range = tuple(dates)
         else:
             raise ValueError('Must supply start or dates')
 
     def calc(self, instrument: InstrumentBase, risk_measure: RiskMeasure) -> PricingFuture:
         futures = []
 
-        provider = instrument.provider if self.provider is None else self.provider
+        provider = instrument.provider
         base_scenario = self._scenario
         parameters = self._parameters
         location = self.market.location
         base_market = self.market
 
         for date in self.__date_range:
             if date > self.pricing_date:
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/index.py` & `gs_quant-1.0.9/gs_quant/markets/index.py`

 * *Files 0% similar despite different names*

```diff
@@ -448,15 +448,15 @@
         >>>
         >>> index = Index.get("GSMBXXXX")
         >>> index.get_constituents(dt.date(2021, 6, 1), dt.date(2021, 6, 10))
         """
 
         return [position_set.get_positions() for position_set in self.get_position_sets(start, end)]
 
-    def get_latest_constituent_instruments(self) -> Tuple[Instrument, ...]:
+    def get_latest_constituent_instruments(self) -> Tuple[Instrument]:
         """
         Fetch the latest constituents of the index as instrument objects.
 
         :return: A Tuple of instrument objects
 
         **Usage**
 
@@ -471,15 +471,15 @@
         >>> index = Index.get("GSMBXXXX")
         >>> index.get_latest_constituent_instruments()
         """
 
         return GsAssetApi.get_instruments_for_positions(self.get_latest_position_set().to_target().positions)
 
     def get_constituent_instruments_for_date(self,
-                                             date: dt.date = dt.date.today()) -> Tuple[Instrument, ...]:
+                                             date: dt.date = dt.date.today()) -> Tuple[Instrument]:
         """
         Fetch the constituents of the index for a given date as instrument objects.
 
         :return: A Tuple of instrument objects
 
         **Usage**
 
@@ -496,15 +496,15 @@
         >>> index.get_constituent_instruments_for_date(dt.date(2021, 7, 1))
         """
 
         return GsAssetApi.get_instruments_for_positions(self.get_position_set_for_date(date).to_target().positions)
 
     def get_constituent_instruments(self,
                                     start: dt.date = DateLimit.LOW_LIMIT.value,
-                                    end: dt.date = dt.date.today()) -> Tuple[Tuple[Instrument, ...], ...]:
+                                    end: dt.date = dt.date.today()) -> Tuple[Tuple[Instrument]]:
         """
         Fetch the constituents of the index as instrument objects for the given date range
 
         :return: Tuple of Tuples, containing all instrument objects for each date.
 
         **Usage**
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/indices_utils.py` & `gs_quant-1.0.9/gs_quant/markets/indices_utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/markets/markets.py` & `gs_quant-1.0.9/gs_quant/markets/markets.py`

 * *Files 2% similar despite different names*

```diff
@@ -134,20 +134,14 @@
     def __repr__(self):
         return f'{self.date} ({self.location.value})'
 
     @property
     def market(self):
         return _CloseMarket(date=self.date, location=self.location)
 
-    def __hash__(self):
-        return hash((self.date, self.location))
-
-    def __eq__(self, other):
-        return isinstance(other, CloseMarket) and self.date == other.date and self.location == other.location
-
     @property
     def location(self) -> PricingLocation:
         if self.__location is not None and not self.check:
             return self.__location
         else:
             return market_location(self.__location)
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/optimizer.py` & `gs_quant-1.0.9/gs_quant/markets/optimizer.py`

 * *Files 20% similar despite different names*

```diff
@@ -11,15 +11,15 @@
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import logging
 from enum import Enum
-from typing import List, Dict
+from typing import List
 
 from dateutil.relativedelta import relativedelta
 
 from gs_quant.api.gs.hedges import GsHedgeApi
 from gs_quant.errors import MqValueError
 from gs_quant.markets.factor import Factor
 from gs_quant.markets.position_set import PositionSet, Position
@@ -41,23 +41,14 @@
     MINIMIZE_FACTOR_RISK = 'Minimize Factor Risk'
 
 
 class OptimizerType(Enum):
     AXIOMA_PORTFOLIO_OPTIMIZER = 'Axioma Portfolio Optimizer'
 
 
-class PrioritySetting(Enum):
-    ZERO = '0'
-    ONE = '1'
-    TWO = '2'
-    THREE = '3'
-    FOUR = '4'
-    FIVE = '5'
-
-
 class AssetConstraint:
 
     def __init__(self,
                  asset: Asset,
                  minimum: float = 0,
                  maximum: float = 100,
                  unit: OptimizationConstraintUnit = OptimizationConstraintUnit.PERCENT):
@@ -109,22 +100,14 @@
 class CountryConstraint:
 
     def __init__(self,
                  country_name: str,
                  minimum: float = 0,
                  maximum: float = 100,
                  unit: OptimizationConstraintUnit = OptimizationConstraintUnit.PERCENT):
-        """
-        Constrain notional held in any particular country in the resulting optimization
-
-        :param country_name: country name
-        :param minimum: minimum
-        :param maximum: maximum
-        :param unit: the unit in which the min and max values are passed in with (defaults to percent)
-        """
         if unit not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
             raise MqValueError('Country constraints can only be set by percent or decimal.')
         self.__country_name = country_name
         self.__minimum = minimum
         self.__maximum = maximum
         self.__unit = unit
 
@@ -177,15 +160,15 @@
                  sector_name: str,
                  minimum: float = 0,
                  maximum: float = 100,
                  unit: OptimizationConstraintUnit = OptimizationConstraintUnit.PERCENT):
         """
         Constrain notional held in any particular GICS Sector in the resulting optimization
 
-        :param sector_name: sector name
+        :param sector_name: Sector name
         :param minimum: minimum
         :param maximum: maximum
         :param unit: the unit in which the min and max values are passed in with (defaults to percent)
         """
         if unit not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
             raise MqValueError('Sector constraints can only be set by percent or decimal.')
         self.__sector_name = sector_name
@@ -220,91 +203,26 @@
     @property
     def unit(self) -> OptimizationConstraintUnit:
         return self.__unit
 
     @unit.setter
     def unit(self, value: OptimizationConstraintUnit):
         if value not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
-            raise MqValueError('Sector constraints can only be set by percent.')
+            raise MqValueError('Country constraints can only be set by percent.')
         self.__unit = value
 
     def to_dict(self):
         return {
             'type': 'Sector',
             'name': self.sector_name,
             'min': self.minimum * 100 if self.unit == OptimizationConstraintUnit.DECIMAL else self.minimum,
             'max': self.maximum * 100 if self.unit == OptimizationConstraintUnit.DECIMAL else self.maximum
         }
 
 
-class IndustryConstraint:
-
-    def __init__(self,
-                 industry_name: str,
-                 minimum: float = 0,
-                 maximum: float = 100,
-                 unit: OptimizationConstraintUnit = OptimizationConstraintUnit.PERCENT):
-        """
-        Constrain notional held in any particular GICS Industry in the resulting optimization
-
-        :param industry_name: industry name
-        :param minimum: minimum
-        :param maximum: maximum
-        :param unit: the unit in which the min and max values are passed in with (defaults to percent)
-        """
-        if unit not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
-            raise MqValueError('Industry constraints can only be set by percent or decimal.')
-        self.__industry_name = industry_name
-        self.__minimum = minimum
-        self.__maximum = maximum
-        self.__unit = unit
-
-    @property
-    def industry_name(self) -> str:
-        return self.__industry_name
-
-    @industry_name.setter
-    def industry_name(self, value: str):
-        self.__industry_name = value
-
-    @property
-    def minimum(self) -> float:
-        return self.__minimum
-
-    @minimum.setter
-    def minimum(self, value: float):
-        self.__minimum = value
-
-    @property
-    def maximum(self) -> float:
-        return self.__maximum
-
-    @maximum.setter
-    def maximum(self, value: float):
-        self.__maximum = value
-
-    @property
-    def unit(self) -> OptimizationConstraintUnit:
-        return self.__unit
-
-    @unit.setter
-    def unit(self, value: OptimizationConstraintUnit):
-        if value not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
-            raise MqValueError('Industry constraints can only be set by percent.')
-        self.__unit = value
-
-    def to_dict(self):
-        return {
-            'type': 'Industry',
-            'name': self.industry_name,
-            'min': self.minimum * 100 if self.unit == OptimizationConstraintUnit.DECIMAL else self.minimum,
-            'max': self.maximum * 100 if self.unit == OptimizationConstraintUnit.DECIMAL else self.maximum
-        }
-
-
 class FactorConstraint:
 
     def __init__(self,
                  factor: Factor,
                  max_exposure: float):
         """
         Constrain a factor by a max exposure
@@ -471,75 +389,27 @@
         return self.__max_factor_proportion_of_risk
 
     @max_factor_proportion_of_risk.setter
     def max_factor_proportion_of_risk(self, value: float):
         self.__max_factor_proportion_of_risk = value
 
 
-class MaxProportionOfRiskByGroupConstraint:
-
-    def __init__(self,
-                 factors: List[Factor],
-                 max_factor_proportion_of_risk: float,
-                 unit: OptimizationConstraintUnit = OptimizationConstraintUnit.PERCENT):
-        """
-        Constrain the maximum proportion of risk coming from a group of factors in the final optimized result.
-
-        :param factors: the list of factors
-        :param max_factor_proportion_of_risk: the maximum proportion of risk
-        :param unit: unit of proportion of risk
-        """
-        if unit not in [OptimizationConstraintUnit.PERCENT, OptimizationConstraintUnit.DECIMAL]:
-            raise MqValueError('Max Factor Proportion of Risk can only be set by percent or decimal.')
-        if unit == OptimizationConstraintUnit.PERCENT:
-            max_factor_proportion_of_risk = max_factor_proportion_of_risk / 100
-        self.__factors = factors
-        self.__max_factor_proportion_of_risk = max_factor_proportion_of_risk
-        self.__unit = unit
-
-    @property
-    def factors(self) -> List[Factor]:
-        return self.__factors
-
-    @factors.setter
-    def factors(self, value: List[Factor]):
-        self.__factors = value
-
-    @property
-    def max_factor_proportion_of_risk(self) -> float:
-        return self.__max_factor_proportion_of_risk
-
-    @max_factor_proportion_of_risk.setter
-    def max_factor_proportion_of_risk(self, value: float):
-        self.__max_factor_proportion_of_risk = value
-
-    def to_dict(self):
-        return {
-            'factors': [f.name for f in self.factors],
-            'max': self.max_factor_proportion_of_risk
-        }
-
-
 class OptimizerConstraints:
 
     def __init__(self,
                  asset_constraints: List[AssetConstraint] = [],
                  country_constraints: List[CountryConstraint] = [],
                  sector_constraints: List[SectorConstraint] = [],
-                 industry_constraints: List[IndustryConstraint] = [],
                  factor_constraints: List[FactorConstraint] = [],
-                 max_factor_proportion_of_risk: MaxFactorProportionOfRiskConstraint = None,
-                 max_proportion_of_risk_by_groups: List[MaxProportionOfRiskByGroupConstraint] = None):
+                 max_factor_proportion_of_risk: MaxFactorProportionOfRiskConstraint = None):
         self.__asset_constraints = asset_constraints
         self.__country_constraints = country_constraints
         self.__sector_constraints = sector_constraints
-        self.__industry_constraints = industry_constraints
         self.__factor_constraints = factor_constraints
         self.__max_factor_proportion_of_risk = max_factor_proportion_of_risk
-        self.__max_proportion_of_risk_by_groups = max_proportion_of_risk_by_groups
 
     @property
     def asset_constraints(self) -> List[AssetConstraint]:
         return self.__asset_constraints
 
     @asset_constraints.setter
     def asset_constraints(self, value: List[AssetConstraint]):
@@ -558,22 +428,14 @@
         return self.__sector_constraints
 
     @sector_constraints.setter
     def sector_constraints(self, value: List[SectorConstraint]):
         self.__sector_constraints = value
 
     @property
-    def industry_constraints(self) -> List[IndustryConstraint]:
-        return self.__industry_constraints
-
-    @industry_constraints.setter
-    def industry_constraints(self, value: List[IndustryConstraint]):
-        self.__industry_constraints = value
-
-    @property
     def factor_constraints(self) -> List[FactorConstraint]:
         return self.__factor_constraints
 
     @factor_constraints.setter
     def factor_constraints(self, value: List[FactorConstraint]):
         self.__factor_constraints = value
 
@@ -581,201 +443,60 @@
     def max_factor_proportion_of_risk(self) -> MaxFactorProportionOfRiskConstraint:
         return self.__max_factor_proportion_of_risk
 
     @max_factor_proportion_of_risk.setter
     def max_factor_proportion_of_risk(self, value: MaxFactorProportionOfRiskConstraint):
         self.__max_factor_proportion_of_risk = value
 
-    @property
-    def max_proportion_of_risk_by_groups(self) -> List[MaxProportionOfRiskByGroupConstraint]:
-        return self.__max_proportion_of_risk_by_groups
-
-    @max_proportion_of_risk_by_groups.setter
-    def max_proportion_of_risk_by_groups(self, value: List[MaxProportionOfRiskByGroupConstraint]):
-        self.__max_proportion_of_risk_by_groups = value
-
     def to_dict(self):
         types = set([c.unit for c in self.asset_constraints])
         if len(types) > 1:
             raise MqValueError('All asset constraints need to have the same unit')
         constrain_by_notional = len(self.asset_constraints) > 0 and types.pop() == OptimizationConstraintUnit.NOTIONAL
-        classification_constraints = self.country_constraints + self.sector_constraints + self.industry_constraints
         as_dict = {
             'assetConstraints': [c.to_dict() for c in self.asset_constraints],
-            'classificationConstraints': [c.to_dict() for c in classification_constraints],
+            'classificationConstraints': [c.to_dict() for c in self.country_constraints + self.sector_constraints],
             'factorConstraints': [c.to_dict() for c in self.factor_constraints],
             'constrainAssetsByNotional': constrain_by_notional
         }
 
         if self.max_factor_proportion_of_risk:
             as_dict['maxFactorMCTR'] = self.max_factor_proportion_of_risk.max_factor_proportion_of_risk
 
-        if self.max_proportion_of_risk_by_groups:
-            as_dict['maxFactorMCTRByGroup'] = [g.to_dict() for g in self.max_proportion_of_risk_by_groups]
-
         return as_dict
 
 
-class ConstraintPriorities:
-
-    def __init__(self,
-                 min_sector_weights: PrioritySetting = None,
-                 max_sector_weights: PrioritySetting = None,
-                 min_industry_weights: PrioritySetting = None,
-                 max_industry_weights: PrioritySetting = None,
-                 min_region_weights: PrioritySetting = None,
-                 max_region_weights: PrioritySetting = None,
-                 min_country_weights: PrioritySetting = None,
-                 max_country_weights: PrioritySetting = None,
-                 style_factor_exposures: PrioritySetting = None,
-                 ):
-        """
-        Priority of the constraint from 0-5 (prioritized in that order). The optimization will fail if it cannot meet a
-        constraint with 0 priority.  A constraint with priority of 1-5 can be called a relaxed constraint, which means
-        that the optimization will make its best effort to meet the constraint but will not fail if it cannot. A
-        constraint with a lower priority will take precedence over a constraint with a higher priority.
-        :param min_sector_weights: constraint priority of the minimum sector weight constraints
-        :param max_sector_weights: constraint priority of the maximum sector weight constraints
-        :param min_industry_weights: constraint priority of the minimum industry weight constraints
-        :param max_industry_weights: constraint priority of the maximum industry weight constraints
-        :param min_region_weights: constraint priority of the minimum region weight constraints
-        :param max_region_weights: constraint priority of the maximum region weight constraints
-        :param min_country_weights: constraint priority of the minimum country weight constraints
-        :param max_country_weights: constraint priority of the maximum country weight constraints
-        :param style_factor_exposures: constraint priority of the style factor exposure constraints
-        """
-        self.__min_sector_weights = min_sector_weights
-        self.__max_sector_weights = max_sector_weights
-        self.__min_industry_weights = min_industry_weights
-        self.__max_industry_weights = max_industry_weights
-        self.__min_region_weights = min_region_weights
-        self.__max_region_weights = max_region_weights
-        self.__min_country_weights = min_country_weights
-        self.__max_country_weights = max_country_weights
-        self.__style_factor_exposures = style_factor_exposures
-
-    @property
-    def min_sector_weights(self) -> PrioritySetting:
-        return self.__min_sector_weights
-
-    @min_sector_weights.setter
-    def min_sector_weights(self, value: PrioritySetting):
-        self.__min_sector_weights = value
-
-    @property
-    def max_sector_weights(self) -> PrioritySetting:
-        return self.__max_sector_weights
-
-    @max_sector_weights.setter
-    def max_sector_weights(self, value: PrioritySetting):
-        self.__max_sector_weights = value
-
-    @property
-    def min_industry_weights(self) -> PrioritySetting:
-        return self.__min_industry_weights
-
-    @min_industry_weights.setter
-    def min_industry_weights(self, value: PrioritySetting):
-        self.__min_industry_weights = value
-
-    @property
-    def max_industry_weights(self) -> PrioritySetting:
-        return self.__max_industry_weights
-
-    @max_industry_weights.setter
-    def max_industry_weights(self, value: PrioritySetting):
-        self.__max_industry_weights = value
-
-    @property
-    def min_region_weights(self) -> PrioritySetting:
-        return self.__min_region_weights
-
-    @min_region_weights.setter
-    def min_region_weights(self, value: PrioritySetting):
-        self.__min_region_weights = value
-
-    @property
-    def max_region_weights(self) -> PrioritySetting:
-        return self.__max_region_weights
-
-    @max_region_weights.setter
-    def max_region_weights(self, value: PrioritySetting):
-        self.__max_region_weights = value
-
-    @property
-    def min_country_weights(self) -> PrioritySetting:
-        return self.__min_country_weights
-
-    @min_country_weights.setter
-    def min_country_weights(self, value: PrioritySetting):
-        self.__min_country_weights = value
-
-    @property
-    def max_country_weights(self) -> PrioritySetting:
-        return self.__max_country_weights
-
-    @max_country_weights.setter
-    def max_country_weights(self, value: PrioritySetting):
-        self.__max_country_weights = value
-
-    @property
-    def style_factor_exposures(self) -> PrioritySetting:
-        return self.__style_factor_exposures
-
-    @style_factor_exposures.setter
-    def style_factor_exposures(self, value: PrioritySetting):
-        self.__style_factor_exposures = value
-
-    def to_dict(self) -> Dict:
-        as_dict = {
-            'minSectorWeights': self.min_sector_weights,
-            'maxSectorWeights': self.max_sector_weights,
-            'minIndustryWeights': self.min_industry_weights,
-            'maxIndustryWeights': self.max_industry_weights,
-            'minRegionWeights': self.min_region_weights,
-            'maxRegionWeights': self.max_region_weights,
-            'minCountryWeights': self.min_country_weights,
-            'maxCountryWeights': self.max_country_weights,
-            'styleExposures': self.style_factor_exposures
-        } if self is not None else {}
-        as_dict = {k: as_dict[k].value for k in as_dict.keys() if as_dict[k] is not None}
-        return as_dict if len(as_dict.keys()) > 0 else None
-
-
 class OptimizerSettings:
 
     def __init__(self,
                  notional: float = 10000000,
                  allow_long_short: bool = False,
                  min_names: float = 0,
                  max_names: float = 100,
                  min_weight_per_constituent: float = None,
                  max_weight_per_constituent: float = None,
-                 max_adv: float = 15,
-                 constraint_priorities: ConstraintPriorities = None):
+                 max_adv: float = 15):
         """
         Optimizer settings
 
         :param notional: the max gross notional of the optimization
         :param allow_long_short: allow a long/short optimization
         :param min_names: minimum number of assets in the optimization
         :param max_names: maximum number of assets in the optimization
         :param min_weight_per_constituent: minimum weight of each constituent in the optimization
         :param max_weight_per_constituent: maximum weight of each constituent in the optimization
         :param max_adv: maximum average daily volume of each constituent in the optimization (in percent)
-        :param constraint_priorities: constraint priorities
         """
         self.__notional = notional
         self.__allow_long_short = allow_long_short
         self.__min_names = min_names
         self.__max_names = max_names
         self.__min_weight_per_constituent = min_weight_per_constituent
         self.__max_weight_per_constituent = max_weight_per_constituent
         self.__max_adv = max_adv
-        self.__constraint_priorities = constraint_priorities
 
     @property
     def notional(self) -> float:
         return self.__notional
 
     @notional.setter
     def notional(self, value: float):
@@ -825,36 +546,26 @@
     def max_adv(self) -> float:
         return self.__max_adv
 
     @max_adv.setter
     def max_adv(self, value: float):
         self.__max_adv = value
 
-    @property
-    def constraint_priorities(self) -> ConstraintPriorities:
-        return self.__constraint_priorities
-
-    @constraint_priorities.setter
-    def constraint_priorities(self, value: ConstraintPriorities):
-        self.__constraint_priorities = value
-
     def to_dict(self):
         as_dict = {
             'hedgeNotional': self.notional,
             'allowLongShort': self.allow_long_short,
             'minNames': self.min_names,
             'maxNames': self.max_names,
             'maxAdvPercentage': self.max_adv
         }
         if self.min_weight_per_constituent:
             as_dict['minWeight'] = self.min_weight_per_constituent * 100
         if self.max_weight_per_constituent:
             as_dict['maxWeight'] = self.max_weight_per_constituent * 100
-        if self.constraint_priorities:
-            as_dict['constraintPrioritySettings'] = self.constraint_priorities.to_dict()
         return as_dict
 
 
 class TurnoverConstraint:
 
     def __init__(self,
                  turnover_portfolio: PositionSet,
@@ -1001,45 +712,40 @@
             'backtestEndDate': self.initial_position_set.date.strftime('%Y-%m-%d'),
             'comparisons': [],
             'fxHedged': False,
             'marketParticipationRate': 10
         }
         constraints = self.constraints.to_dict()
         for key in constraints:
-            if constraints[key] is not None:
-                parameters[key] = constraints[key]
+            parameters[key] = constraints[key]
         settings = self.settings.to_dict()
         for key in settings:
-            if settings[key] is not None:
-                parameters[key] = settings[key]
+            parameters[key] = settings[key]
         universe = self.universe.to_dict()
         for key in universe:
-            if universe[key] is not None:
-                parameters[key] = universe[key]
+            parameters[key] = universe[key]
         parameters['riskModel'] = self.risk_model.id
         if self.turnover:
             if self.turnover.turnover_portfolio.reference_notional is not None:
                 self.turnover.turnover_portfolio.price()
             turnover_dict = self.turnover.to_dict()
             for key in turnover_dict:
-                if turnover_dict[key] is not None:
-                    parameters[key] = turnover_dict[key]
+                parameters[key] = turnover_dict[key]
 
         # Price initial_position_set if needed
         if self.initial_position_set.reference_notional is not None:
             parameters['targetNotional'] = self.initial_position_set.reference_notional
         payload = {
             'positions': positions_as_dict,
             'parameters': {
                 'currency': 'USD',
                 'pricingDate': self.initial_position_set.date.strftime('%Y-%m-%d'),
                 'useUnadjustedClosePrice': True,
                 'frequency': 'End Of Day',
-                'priceRegardlessOfAssetsMissingPrices': not fail_on_unpriced_positions,
-                'fallbackDate': '5d'
+                'priceRegardlessOfAssetsMissingPrices': not fail_on_unpriced_positions
             }
         }
         if self.initial_position_set.reference_notional is not None:
             payload['parameters']['targetNotional'] = self.initial_position_set.reference_notional
         try:
             price_results = GsSession.current._post('/price/positions', payload)
         except Exception as e:
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/portfolio.py` & `gs_quant-1.0.9/gs_quant/markets/portfolio.py`

 * *Files 1% similar despite different names*

```diff
@@ -68,23 +68,14 @@
         else:
             self.priceables = priceables
 
         self.name = name
         self.__id = None
         self.__quote_id = None
 
-    def __repr__(self):
-        name = 'Portfolio'
-        inst_desc = f'{len(self.all_instruments) if self.priceables else "0"} instrument(s)'
-        if self.name:
-            name += f'({self.name}, {inst_desc})'
-        else:
-            name += f'({inst_desc})'
-        return name
-
     def _to_records(self):
         def get_name(obj, idx):
             if isinstance(obj, InstrumentBase) and hasattr(obj, 'type_'):
                 type_name = obj.type_.name if isinstance(obj.type_, AssetType) else obj.type_
             else:
                 type_name = 'Portfolio'
             return f'{type_name}_{idx}' if obj.name is None else obj.name
@@ -254,25 +245,23 @@
     def from_asset_name(name: str):
         asset = GsAssetApi.get_asset_by_name(name)
         return Portfolio.load_from_portfolio_id(asset.id)
 
     @classmethod
     def get(cls,
             portfolio_id: str = None,
-            portfolio_name: str = None,
-            query_instruments: Optional[bool] = False):
+            portfolio_name: str = None):
         if portfolio_name:
             portfolio = GsPortfolioApi.get_portfolio_by_name(portfolio_name)
             portfolio_id = portfolio.id
         position_date = PositionContext.current.position_date if PositionContext.is_entered else dt.date.today()
         portfolio = GsPortfolioApi.get_portfolio(portfolio_id)
         ret = Portfolio(name=portfolio.name)
         ret.__id = portfolio_id
-        if query_instruments:
-            ret._get_instruments(position_date, True)
+        ret._get_instruments(position_date, True)
         return ret
 
     @classmethod
     @deprecation.deprecated(deprecated_in='0.8.293',
                             details='from_portfolio_id is now deprecated, please use '
                                     'Portfolio.get(portfolio_id=portfolio_id) instead.')
     def from_portfolio_id(cls, portfolio_id: str):
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/portfolio_manager.py` & `gs_quant-1.0.9/gs_quant/markets/portfolio_manager.py`

 * *Files 12% similar despite different names*

```diff
@@ -20,19 +20,18 @@
 
 import deprecation
 import pandas as pd
 
 from gs_quant.api.gs.portfolios import GsPortfolioApi
 from gs_quant.api.gs.reports import GsReportApi
 from gs_quant.entities.entitlements import Entitlements
-from gs_quant.entities.entity import PositionedEntity, EntityType, ScenarioCalculationMeasure
+from gs_quant.entities.entity import PositionedEntity, EntityType
 from gs_quant.errors import MqError
 from gs_quant.errors import MqValueError
 from gs_quant.markets.factor import Factor
-from gs_quant.markets.scenario import FactorScenario
 from gs_quant.markets.portfolio_manager_utils import build_exposure_df, build_portfolio_constituents_df, \
     build_sensitivity_df
 from gs_quant.markets.report import PerformanceReport, ReportJobFuture
 from gs_quant.models.risk_model import MacroRiskModel, ReturnFormat, FactorType
 from gs_quant.target.common import Currency
 from gs_quant.target.portfolios import RiskAumSource
 
@@ -70,15 +69,17 @@
     @aum.setter
     def aum(self, value: float):
         self.__aum = value
 
 
 class PortfolioManager(PositionedEntity):
     """
+
     Portfolio Manager is used to manage Marquee portfolios (setting entitlements, running and retrieving reports, etc)
+
     """
 
     def __init__(self,
                  portfolio_id: str):
         """
         Initialize a Portfolio Manager
 
@@ -104,15 +105,14 @@
         :return: returns the PerformanceReport associated with portfolio if one exists
         """
         reports = GsReportApi.get_reports(limit=100,
                                           position_source_type='Portfolio',
                                           position_source_id=self.id,
                                           report_type='Portfolio Performance Analytics',
                                           tags=tags)
-        reports = [report for report in reports if report.parameters.tags == tags]
         if len(reports) == 0:
             raise MqError('No performance report found.')
         return PerformanceReport.from_target(reports[0])
 
     def schedule_reports(self,
                          start_date: dt.date = None,
                          end_date: dt.date = None,
@@ -503,63 +503,7 @@
         exposure_df = build_exposure_df(constituents_and_notional_df, universe_sensitivities_df,
                                         factor_categories, factor_data, get_factors_by_name)
 
         if return_format == ReturnFormat.JSON:
             return exposure_df.to_dict()
 
         return exposure_df
-
-    def get_factor_scenario_analytics(self,
-                                      scenarios: List[FactorScenario],
-                                      date: dt.date,
-                                      measures: List[ScenarioCalculationMeasure],
-                                      risk_model: str = None,
-                                      return_format: ReturnFormat = ReturnFormat.DATA_FRAME) -> \
-            Union[Dict, Union[Dict, pd.DataFrame]]:
-
-        """Given a list of factor scenarios (historical simulation and/or custom shocks), return the estimated pnl
-         of the given positioned entity.
-         :param scenarios: List of factor-based scenarios
-         :param date: date to run scenarios.
-         :param measures: which metrics to return
-         :param risk_model: valid risk model ID
-         :param return_format: whether to return data formatted in a dataframe or as a dict
-
-          **Examples**
-
-            >>> from gs_quant.session import GsSession, Environment
-            >>> from gs_quant.markets.portfolio_manager import PortfolioManager, ReturnFormat
-            >>> from gs_quant.entities.entity import ScenarioCalculationMeasure, PositionedEntity
-            >>> from gs_quant.markets.scenario import Scenario
-
-          Get scenarios
-            >>> covid_19_omicron = Scenario.get_by_name("Covid 19 Omicron (v2)") # historical simulation
-            >>> custom_shock = Scenario.get_by_name("Shocking factor by x% (Propagated)") # custom shock
-            >>> risk_model = "RISK_MODEL_ID" # valid risk model ID
-
-          Instantiate your positionedEntity. Here, we are using one of its subclasses, PortfolioManager
-
-            >>> pm = PortfolioManager(portfolio_id="PORTFOLIO_ID")
-
-          Set the date you wish to run your scenario on
-
-           >>> date = dt.date(2023, 3, 7)
-
-          Run scenario and get estimated impact on your positioned entity
-
-          >>> scenario_analytics = pm.get_factor_scenario_analytics(
-          ...     scenarios=[covid_19_omicron, beta_propagated],
-          ...     date=date,
-          ...     measures=[ScenarioCalculationMeasure.SUMMARY,
-          ...               ScenarioCalculationMeasure.ESTIMATED_FACTOR_PNL,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_SECTOR,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_REGION,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_DIRECTION,
-          ...               ScenarioCalculationMeasure.ESTIMATED_PNL_BY_ASSET],
-          ...     risk_model=risk_model)
-
-          By default, the result will be returned in a dict with keys as the measures/metrics requested and values as
-          the scenario calculation results formatted in a dataframe. To get the results in a dict, specify the return
-          format as JSON
-         """
-
-        return super().get_factor_scenario_analytics(scenarios, date, measures, risk_model, return_format)
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/portfolio_manager_utils.py` & `gs_quant-1.0.9/gs_quant/markets/portfolio_manager_utils.py`

 * *Files 1% similar despite different names*

```diff
@@ -183,51 +183,51 @@
 
     if factor_data.empty:
         if factor_categories:
             categories_names = [f.name for f in factor_categories] if by_name else [f.id for f in factor_categories]
             universe_sensitivities_df = universe_sensitivities_df[categories_names]
 
         universe_sensitivities_df = pd.concat([universe_sensitivities_df,
-                                               universe_sensitivities_df.agg("sum").to_frame().rename(
+                                               universe_sensitivities_df.agg(np.sum).to_frame().rename(
                                                    columns={0: "Total Factor Category Exposure"}).T])
 
         universe_sensitivities_df = universe_sensitivities_df.sort_values(
             by="Total Factor Category Exposure", axis=1, ascending=False)
         notional_df = pd.concat(
             [notional_df,
-             notional_df[["Notional"]].agg("sum").to_frame().rename(
+             notional_df[["Notional"]].agg(np.sum).to_frame().rename(
                  columns={0: "Total Factor Category Exposure"}).T])
 
         exposure_df = notional_df.join(universe_sensitivities_df).rename_axis("Factor Category", axis=1)
     else:
         factor_data = factor_data.set_index("name") if by_name else factor_data.set_index("identifier")
         new_columns = \
             [(factor_data.loc[f, 'factorCategory'], f) for f in universe_sensitivities_df.columns.values] \
             if by_name else \
             [(factor_data.loc[f, 'factorCategoryId'], f) for f in universe_sensitivities_df.columns.values]
         universe_sensitivities_df = (
             universe_sensitivities_df.set_axis(pd.MultiIndex.from_tuples(new_columns), axis=1)
                                      .rename_axis(("Factor Category", "Factor"), axis=1)
         )
         universe_sensitivities_df = pd.concat([universe_sensitivities_df,
-                                               universe_sensitivities_df.agg("sum").to_frame().rename(
+                                               universe_sensitivities_df.agg(np.sum).to_frame().rename(
                                                    columns={0: "Total Factor Exposure"}).T
                                                ])
         universe_sensitivities_df = universe_sensitivities_df.sort_values(
             by=["Total Factor Exposure"], axis=1, ascending=False)
 
         # Only return factors that are grouped in the factor categories that we passed; if empty return all factors
         if factor_categories:
             categories_names = [f.name for f in factor_categories] if by_name else [f.id for f in factor_categories]
             universe_sensitivities_df = universe_sensitivities_df[categories_names]
 
         notional_df = (
             pd.concat([
                 notional_df,
-                notional_df[["Notional"]].agg("sum").to_frame().rename(columns={0: "Total Factor Exposure"}).T
+                notional_df[["Notional"]].agg(np.sum).to_frame().rename(columns={0: "Total Factor Exposure"}).T
             ]).set_axis(pd.MultiIndex.from_tuples(
                 [("Asset Information", "Asset Name"), ("Asset Information", "Notional")]), axis=1)
         )
         # Merge universe sensitivity with notional df
         exposure_df = notional_df.join(universe_sensitivities_df).rename_axis(("Factor Category", "Factor"), axis=1)
 
     return exposure_df
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/report.py` & `gs_quant-1.0.9/gs_quant/markets/report.py`

 * *Files 9% similar despite different names*

```diff
@@ -32,4872 +32,4310 @@
 000001f0: 6167 6520 676f 7665 726e 696e 6720 7065  age governing pe
 00000200: 726d 6973 7369 6f6e 7320 616e 6420 6c69  rmissions and li
 00000210: 6d69 7461 7469 6f6e 730a 756e 6465 7220  mitations.under 
 00000220: 7468 6520 4c69 6365 6e73 652e 0a22 2222  the License.."""
 00000230: 0a69 6d70 6f72 7420 6461 7465 7469 6d65  .import datetime
 00000240: 2061 7320 6474 0a66 726f 6d20 656e 756d   as dt.from enum
 00000250: 2069 6d70 6f72 7420 456e 756d 2c20 6175   import Enum, au
-00000260: 746f 0a69 6d70 6f72 7420 6e75 6d70 7920  to.import numpy 
-00000270: 6173 206e 700a 6672 6f6d 2074 696d 6520  as np.from time 
-00000280: 696d 706f 7274 2073 6c65 6570 0a66 726f  import sleep.fro
-00000290: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
-000002a0: 5475 706c 652c 2055 6e69 6f6e 2c20 4c69  Tuple, Union, Li
-000002b0: 7374 2c20 4469 6374 2c20 4f72 6465 7265  st, Dict, Ordere
-000002c0: 6444 6963 740a 696d 706f 7274 2073 6369  dDict.import sci
-000002d0: 7079 2e73 7461 7473 2061 7320 7374 0a0a  py.stats as st..
-000002e0: 696d 706f 7274 2070 616e 6461 7320 6173  import pandas as
-000002f0: 2070 640a 6672 6f6d 2064 6174 6575 7469   pd.from dateuti
-00000300: 6c2e 7265 6c61 7469 7665 6465 6c74 6120  l.relativedelta 
-00000310: 696d 706f 7274 2072 656c 6174 6976 6564  import relatived
-00000320: 656c 7461 0a66 726f 6d20 696e 666c 6563  elta.from inflec
-00000330: 7469 6f6e 2069 6d70 6f72 7420 7469 746c  tion import titl
-00000340: 6569 7a65 0a0a 6672 6f6d 2067 735f 7175  eize..from gs_qu
-00000350: 616e 742e 6170 692e 6773 2e64 6174 6120  ant.api.gs.data 
-00000360: 696d 706f 7274 2047 7344 6174 6141 7069  import GsDataApi
-00000370: 0a66 726f 6d20 6773 5f71 7561 6e74 2e61  .from gs_quant.a
-00000380: 7069 2e67 732e 706f 7274 666f 6c69 6f73  pi.gs.portfolios
-00000390: 2069 6d70 6f72 7420 4773 506f 7274 666f   import GsPortfo
-000003a0: 6c69 6f41 7069 0a66 726f 6d20 6773 5f71  lioApi.from gs_q
-000003b0: 7561 6e74 2e61 7069 2e67 732e 7265 706f  uant.api.gs.repo
-000003c0: 7274 7320 696d 706f 7274 2047 7352 6570  rts import GsRep
-000003d0: 6f72 7441 7069 2c20 4661 6374 6f72 5269  ortApi, FactorRi
-000003e0: 736b 5461 626c 654d 6f64 650a 6672 6f6d  skTableMode.from
-000003f0: 2067 735f 7175 616e 742e 6170 692e 6773   gs_quant.api.gs
-00000400: 2e74 6865 6d61 7469 6373 2069 6d70 6f72  .thematics impor
-00000410: 7420 5265 6769 6f6e 2c20 4773 5468 656d  t Region, GsThem
-00000420: 6174 6963 4170 692c 2054 6865 6d61 7469  aticApi, Themati
-00000430: 634d 6561 7375 7265 0a66 726f 6d20 6773  cMeasure.from gs
-00000440: 5f71 7561 6e74 2e64 6174 6574 696d 6520  _quant.datetime 
-00000450: 696d 706f 7274 2062 7573 696e 6573 735f  import business_
-00000460: 6461 795f 6f66 6673 6574 2c20 7072 6576  day_offset, prev
-00000470: 5f62 7573 696e 6573 735f 6461 7465 0a66  _business_date.f
-00000480: 726f 6d20 6773 5f71 7561 6e74 2e65 7272  rom gs_quant.err
-00000490: 6f72 7320 696d 706f 7274 204d 7156 616c  ors import MqVal
-000004a0: 7565 4572 726f 720a 6672 6f6d 2067 735f  ueError.from gs_
-000004b0: 7175 616e 742e 6d61 726b 6574 732e 7265  quant.markets.re
-000004c0: 706f 7274 5f75 7469 6c73 2069 6d70 6f72  port_utils impor
-000004d0: 7420 5f67 6574 5f70 7061 615f 6261 7463  t _get_ppaa_batc
-000004e0: 6865 730a 6672 6f6d 2067 735f 7175 616e  hes.from gs_quan
-000004f0: 742e 7461 7267 6574 2e63 6f6d 6d6f 6e20  t.target.common 
-00000500: 696d 706f 7274 2052 6570 6f72 7450 6172  import ReportPar
-00000510: 616d 6574 6572 732c 2043 7572 7265 6e63  ameters, Currenc
-00000520: 792c 2050 6f73 6974 696f 6e54 6167 0a66  y, PositionTag.f
-00000530: 726f 6d20 6773 5f71 7561 6e74 2e74 6172  rom gs_quant.tar
-00000540: 6765 742e 636f 6f72 6469 6e61 7465 7320  get.coordinates 
-00000550: 696d 706f 7274 204d 4441 5049 4461 7461  import MDAPIData
-00000560: 4261 7463 6852 6573 706f 6e73 650a 6672  BatchResponse.fr
-00000570: 6f6d 2067 735f 7175 616e 742e 7461 7267  om gs_quant.targ
-00000580: 6574 2e64 6174 6120 696d 706f 7274 2044  et.data import D
-00000590: 6174 6151 7565 7279 2c20 4461 7461 5175  ataQuery, DataQu
-000005a0: 6572 7952 6573 706f 6e73 650a 6672 6f6d  eryResponse.from
-000005b0: 2067 735f 7175 616e 742e 7461 7267 6574   gs_quant.target
-000005c0: 2e72 6570 6f72 7473 2069 6d70 6f72 7420  .reports import 
-000005d0: 5265 706f 7274 2061 7320 5461 7267 6574  Report as Target
-000005e0: 5265 706f 7274 2c20 5265 706f 7274 5479  Report, ReportTy
-000005f0: 7065 2c20 506f 7369 7469 6f6e 536f 7572  pe, PositionSour
-00000600: 6365 5479 7065 2c20 5265 706f 7274 5374  ceType, ReportSt
-00000610: 6174 7573 0a66 726f 6d20 6773 5f71 7561  atus.from gs_qua
-00000620: 6e74 2e74 6172 6765 742e 706f 7274 666f  nt.target.portfo
-00000630: 6c69 6f73 2069 6d70 6f72 7420 5269 736b  lios import Risk
-00000640: 4175 6d53 6f75 7263 650a 0a0a 636c 6173  AumSource...clas
-00000650: 7320 5265 7475 726e 466f 726d 6174 2845  s ReturnFormat(E
-00000660: 6e75 6d29 3a0a 2020 2020 2222 2241 6c74  num):.    """Alt
-00000670: 6572 6e61 7469 7665 2066 6f72 6d61 7420  ernative format 
-00000680: 666f 7220 6461 7461 2074 6f20 6265 2072  for data to be r
-00000690: 6574 7572 6e65 6420 6672 6f6d 2067 6574  eturned from get
-000006a0: 5f64 6174 6120 6675 6e63 7469 6f6e 7322  _data functions"
-000006b0: 2222 0a20 2020 204a 534f 4e20 3d20 6175  "".    JSON = au
-000006c0: 746f 2829 0a20 2020 2044 4154 415f 4652  to().    DATA_FR
-000006d0: 414d 4520 3d20 6175 746f 2829 0a0a 0a63  AME = auto()...c
-000006e0: 6c61 7373 2052 6570 6f72 7444 6174 6173  lass ReportDatas
-000006f0: 6574 2845 6e75 6d29 3a0a 2020 2020 5050  et(Enum):.    PP
-00000700: 415f 4441 5441 5345 5420 3d20 2250 5041  A_DATASET = "PPA
-00000710: 220a 2020 2020 5050 4141 5f44 4154 4153  ".    PPAA_DATAS
-00000720: 4554 203d 2022 5050 4141 220a 2020 2020  ET = "PPAA".    
-00000730: 5046 525f 4441 5441 5345 5420 3d20 2250  PFR_DATASET = "P
-00000740: 4652 220a 2020 2020 5046 5241 5f44 4154  FR".    PFRA_DAT
-00000750: 4153 4554 203d 2022 5046 5241 220a 2020  ASET = "PFRA".  
-00000760: 2020 4146 525f 4441 5441 5345 5420 3d20    AFR_DATASET = 
-00000770: 2241 4652 220a 2020 2020 4146 5241 5f44  "AFR".    AFRA_D
-00000780: 4154 4153 4554 203d 2022 4146 5241 220a  ATASET = "AFRA".
-00000790: 2020 2020 4154 415f 4441 5441 5345 5420      ATA_DATASET 
-000007a0: 3d20 2241 5441 220a 2020 2020 4154 4141  = "ATA".    ATAA
-000007b0: 5f44 4154 4153 4554 203d 2022 4154 4141  _DATASET = "ATAA
-000007c0: 220a 2020 2020 5054 415f 4441 5441 5345  ".    PTA_DATASE
-000007d0: 5420 3d20 2250 5441 220a 2020 2020 5054  T = "PTA".    PT
-000007e0: 4141 5f44 4154 4153 4554 203d 2022 5054  AA_DATASET = "PT
-000007f0: 4141 220a 2020 2020 504f 5254 464f 4c49  AA".    PORTFOLI
-00000800: 4f5f 434f 4e53 5449 5455 454e 5453 203d  O_CONSTITUENTS =
-00000810: 2022 504f 5254 464f 4c49 4f5f 434f 4e53   "PORTFOLIO_CONS
-00000820: 5449 5455 454e 5453 220a 0a0a 636c 6173  TITUENTS"...clas
-00000830: 7320 4661 6374 6f72 5269 736b 5669 6577  s FactorRiskView
-00000840: 734d 6f64 6528 456e 756d 293a 0a20 2020  sMode(Enum):.   
-00000850: 2052 6973 6b20 3d20 2752 6973 6b27 0a20   Risk = 'Risk'. 
-00000860: 2020 2041 7474 7269 6275 7469 6f6e 203d     Attribution =
-00000870: 2027 4174 7472 6962 7574 696f 6e27 0a0a   'Attribution'..
-00000880: 0a63 6c61 7373 2046 6163 746f 7252 6973  .class FactorRis
-00000890: 6b52 6573 756c 7473 4d6f 6465 2845 6e75  kResultsMode(Enu
-000008a0: 6d29 3a0a 2020 2020 506f 7274 666f 6c69  m):.    Portfoli
-000008b0: 6f20 3d20 2750 6f72 7466 6f6c 696f 270a  o = 'Portfolio'.
-000008c0: 2020 2020 506f 7369 7469 6f6e 7320 3d20      Positions = 
-000008d0: 2750 6f73 6974 696f 6e73 270a 0a0a 636c  'Positions'...cl
-000008e0: 6173 7320 4661 6374 6f72 5269 736b 556e  ass FactorRiskUn
-000008f0: 6974 2845 6e75 6d29 3a0a 2020 2020 5065  it(Enum):.    Pe
-00000900: 7263 656e 7420 3d20 2750 6572 6365 6e74  rcent = 'Percent
-00000910: 270a 2020 2020 4e6f 7469 6f6e 616c 203d  '.    Notional =
-00000920: 2027 4e6f 7469 6f6e 616c 270a 0a0a 636c   'Notional'...cl
-00000930: 6173 7320 4174 7472 6962 7574 696f 6e41  ass AttributionA
-00000940: 6767 7265 6761 7469 6f6e 5479 7065 2845  ggregationType(E
-00000950: 6e75 6d29 3a0a 2020 2020 4172 6974 686d  num):.    Arithm
-00000960: 6574 6963 203d 2027 6172 6974 686d 6574  etic = 'arithmet
-00000970: 6963 270a 2020 2020 4765 6f6d 6574 7269  ic'.    Geometri
-00000980: 6320 3d20 2767 656f 6d65 7472 6963 270a  c = 'geometric'.
-00000990: 0a0a 636c 6173 7320 4167 6772 6567 6174  ..class Aggregat
-000009a0: 696f 6e43 6174 6567 6f72 7954 7970 6528  ionCategoryType(
-000009b0: 456e 756d 293a 0a20 2020 2053 6563 746f  Enum):.    Secto
-000009c0: 7220 3d20 2761 7373 6574 436c 6173 7369  r = 'assetClassi
-000009d0: 6669 6361 7469 6f6e 7347 6963 7353 6563  ficationsGicsSec
-000009e0: 746f 7227 0a20 2020 2049 6e64 7573 7472  tor'.    Industr
-000009f0: 7920 3d20 2761 7373 6574 436c 6173 7369  y = 'assetClassi
-00000a00: 6669 6361 7469 6f6e 7347 6963 7349 6e64  ficationsGicsInd
-00000a10: 7573 7472 7927 0a20 2020 2052 6567 696f  ustry'.    Regio
-00000a20: 6e20 3d20 2772 6567 696f 6e27 0a20 2020  n = 'region'.   
-00000a30: 2043 6f75 6e74 7279 203d 2027 6173 7365   Country = 'asse
-00000a40: 7443 6c61 7373 6966 6963 6174 696f 6e73  tClassifications
-00000a50: 436f 756e 7472 794e 616d 6527 0a0a 0a63  CountryName'...c
-00000a60: 6c61 7373 2043 7573 746f 6d41 554d 4461  lass CustomAUMDa
-00000a70: 7461 506f 696e 743a 0a20 2020 2022 2222  taPoint:.    """
-00000a80: 0a0a 2020 2020 4375 7374 6f6d 2041 554d  ..    Custom AUM
-00000a90: 2044 6174 6120 506f 696e 7420 7265 7072   Data Point repr
-00000aa0: 6573 656e 7473 2061 2070 6f72 7466 6f6c  esents a portfol
-00000ab0: 696f 2773 2041 554d 2076 616c 7565 2066  io's AUM value f
-00000ac0: 6f72 2061 2073 7065 6369 6669 6320 6461  or a specific da
-00000ad0: 7465 0a0a 2020 2020 2222 220a 0a20 2020  te..    """..   
-00000ae0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-00000af0: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-00000b00: 2020 2020 2064 6174 653a 2064 742e 6461       date: dt.da
-00000b10: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-00000b20: 2020 2020 2061 756d 3a20 666c 6f61 7429       aum: float)
-00000b30: 3a0a 2020 2020 2020 2020 7365 6c66 2e5f  :.        self._
-00000b40: 5f64 6174 6520 3d20 6461 7465 0a20 2020  _date = date.   
-00000b50: 2020 2020 2073 656c 662e 5f5f 6175 6d20       self.__aum 
-00000b60: 3d20 6175 6d0a 0a20 2020 2040 7072 6f70  = aum..    @prop
-00000b70: 6572 7479 0a20 2020 2064 6566 2064 6174  erty.    def dat
-00000b80: 6528 7365 6c66 2920 2d3e 2064 742e 6461  e(self) -> dt.da
-00000b90: 7465 3a0a 2020 2020 2020 2020 7265 7475  te:.        retu
-00000ba0: 726e 2073 656c 662e 5f5f 6461 7465 0a0a  rn self.__date..
-00000bb0: 2020 2020 4064 6174 652e 7365 7474 6572      @date.setter
-00000bc0: 0a20 2020 2064 6566 2064 6174 6528 7365  .    def date(se
-00000bd0: 6c66 2c20 7661 6c75 653a 2064 742e 6461  lf, value: dt.da
-00000be0: 7465 293a 0a20 2020 2020 2020 2073 656c  te):.        sel
-00000bf0: 662e 5f5f 6461 7465 203d 2076 616c 7565  f.__date = value
-00000c00: 0a0a 2020 2020 4070 726f 7065 7274 790a  ..    @property.
-00000c10: 2020 2020 6465 6620 6175 6d28 7365 6c66      def aum(self
-00000c20: 2920 2d3e 2066 6c6f 6174 3a0a 2020 2020  ) -> float:.    
-00000c30: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00000c40: 5f5f 6175 6d0a 0a20 2020 2040 6175 6d2e  __aum..    @aum.
-00000c50: 7365 7474 6572 0a20 2020 2064 6566 2061  setter.    def a
-00000c60: 756d 2873 656c 662c 2076 616c 7565 3a20  um(self, value: 
-00000c70: 666c 6f61 7429 3a0a 2020 2020 2020 2020  float):.        
-00000c80: 7365 6c66 2e5f 5f61 756d 203d 2076 616c  self.__aum = val
-00000c90: 7565 0a0a 0a63 6c61 7373 2052 6570 6f72  ue...class Repor
-00000ca0: 744a 6f62 4675 7475 7265 3a0a 2020 2020  tJobFuture:.    
-00000cb0: 2222 2252 6570 6f72 7420 6a6f 6220 6675  """Report job fu
-00000cc0: 7475 7265 2074 6861 7420 6d6f 6e69 746f  ture that monito
-00000cd0: 7273 2072 6570 6f72 7420 7374 6174 7573  rs report status
-00000ce0: 2061 6e64 2072 6573 756c 7473 2222 220a   and results""".
-00000cf0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-00000d00: 5f28 7365 6c66 2c0a 2020 2020 2020 2020  _(self,.        
-00000d10: 2020 2020 2020 2020 2072 6570 6f72 745f           report_
-00000d20: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-00000d30: 2020 2020 2020 2020 2020 6a6f 625f 6964            job_id
-00000d40: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-00000d50: 2020 2020 2020 2020 7265 706f 7274 5f74          report_t
-00000d60: 7970 653a 2052 6570 6f72 7454 7970 652c  ype: ReportType,
-00000d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000d80: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
-00000d90: 2e64 6174 652c 0a20 2020 2020 2020 2020  .date,.         
-00000da0: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-00000db0: 3a20 6474 2e64 6174 6529 3a0a 2020 2020  : dt.date):.    
-00000dc0: 2020 2020 7365 6c66 2e5f 5f72 6570 6f72      self.__repor
-00000dd0: 745f 6964 203d 2072 6570 6f72 745f 6964  t_id = report_id
-00000de0: 0a20 2020 2020 2020 2073 656c 662e 5f5f  .        self.__
-00000df0: 6a6f 625f 6964 203d 206a 6f62 5f69 640a  job_id = job_id.
-00000e00: 2020 2020 2020 2020 7365 6c66 2e5f 5f72          self.__r
-00000e10: 6570 6f72 745f 7479 7065 203d 2072 6570  eport_type = rep
-00000e20: 6f72 745f 7479 7065 0a20 2020 2020 2020  ort_type.       
-00000e30: 2073 656c 662e 5f5f 7374 6172 745f 6461   self.__start_da
-00000e40: 7465 203d 2073 7461 7274 5f64 6174 650a  te = start_date.
-00000e50: 2020 2020 2020 2020 7365 6c66 2e5f 5f65          self.__e
-00000e60: 6e64 5f64 6174 6520 3d20 656e 645f 6461  nd_date = end_da
-00000e70: 7465 0a0a 2020 2020 6465 6620 7374 6174  te..    def stat
-00000e80: 7573 2873 656c 6629 202d 3e20 5265 706f  us(self) -> Repo
-00000e90: 7274 5374 6174 7573 3a0a 2020 2020 2020  rtStatus:.      
-00000ea0: 2020 2222 220a 2020 2020 2020 2020 3a72    """.        :r
-00000eb0: 6574 7572 6e3a 2074 6865 2073 7461 7475  eturn: the statu
-00000ec0: 7320 6f66 2074 6865 2072 6570 6f72 7420  s of the report 
-00000ed0: 6a6f 620a 2020 2020 2020 2020 2222 220a  job.        """.
-00000ee0: 2020 2020 2020 2020 6a6f 6220 3d20 4773          job = Gs
-00000ef0: 5265 706f 7274 4170 692e 6765 745f 7265  ReportApi.get_re
-00000f00: 706f 7274 5f6a 6f62 2873 656c 662e 5f5f  port_job(self.__
-00000f10: 6a6f 625f 6964 290a 2020 2020 2020 2020  job_id).        
-00000f20: 7265 7475 726e 2052 6570 6f72 7453 7461  return ReportSta
-00000f30: 7475 7328 6a6f 622e 6765 7428 2773 7461  tus(job.get('sta
-00000f40: 7475 7327 2929 0a0a 2020 2020 6465 6620  tus'))..    def 
-00000f50: 646f 6e65 2873 656c 6629 202d 3e20 626f  done(self) -> bo
-00000f60: 6f6c 3a0a 2020 2020 2020 2020 2222 220a  ol:.        """.
-00000f70: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-00000f80: 2074 7275 6520 6966 2074 6865 2072 6570   true if the rep
-00000f90: 6f72 7420 6a6f 6220 6973 2069 6e20 7468  ort job is in th
-00000fa0: 6520 666f 6c6c 6f77 696e 6720 7374 6174  e following stat
-00000fb0: 6573 3a20 2264 6f6e 6522 2c20 2265 7272  es: "done", "err
-00000fc0: 6f72 222c 206f 7220 2263 616e 6365 6c6c  or", or "cancell
-00000fd0: 6564 222e 2052 6574 7572 6e73 0a20 2020  ed". Returns.   
-00000fe0: 2020 2020 2066 616c 7365 206f 7468 6572       false other
-00000ff0: 7769 7365 0a20 2020 2020 2020 2022 2222  wise.        """
-00001000: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00001010: 7365 6c66 2e73 7461 7475 7328 2920 696e  self.status() in
-00001020: 205b 5265 706f 7274 5374 6174 7573 2e64   [ReportStatus.d
-00001030: 6f6e 652c 2052 6570 6f72 7453 7461 7475  one, ReportStatu
-00001040: 732e 6572 726f 722c 2052 6570 6f72 7453  s.error, ReportS
-00001050: 7461 7475 732e 6361 6e63 656c 6c65 645d  tatus.cancelled]
-00001060: 0a0a 2020 2020 6465 6620 7265 7375 6c74  ..    def result
-00001070: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00001080: 2222 220a 2020 2020 2020 2020 3a72 6574  """.        :ret
-00001090: 7572 6e3a 2061 2050 616e 6461 7320 4461  urn: a Pandas Da
-000010a0: 7461 4672 616d 6520 636f 6e74 6169 6e69  taFrame containi
-000010b0: 6e67 2074 6865 2072 6573 756c 7473 206f  ng the results o
-000010c0: 6620 7468 6520 7265 706f 7274 206a 6f62  f the report job
-000010d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000010e0: 2020 2020 2073 7461 7475 7320 3d20 7365       status = se
-000010f0: 6c66 2e73 7461 7475 7328 290a 2020 2020  lf.status().    
-00001100: 2020 2020 6966 2073 7461 7475 7320 3d3d      if status ==
-00001110: 2052 6570 6f72 7453 7461 7475 732e 6361   ReportStatus.ca
-00001120: 6e63 656c 6c65 643a 0a20 2020 2020 2020  ncelled:.       
-00001130: 2020 2020 2072 6169 7365 204d 7156 616c       raise MqVal
-00001140: 7565 4572 726f 7228 2754 6869 7320 7265  ueError('This re
-00001150: 706f 7274 206a 6f62 2069 6e20 7374 6174  port job in stat
-00001160: 7573 2022 6361 6e63 656c 6c65 6422 2e20  us "cancelled". 
-00001170: 4361 6e6e 6f74 2072 6574 7269 6576 6520  Cannot retrieve 
-00001180: 7265 7375 6c74 732e 2729 0a20 2020 2020  results.').     
-00001190: 2020 2069 6620 7374 6174 7573 203d 3d20     if status == 
-000011a0: 5265 706f 7274 5374 6174 7573 2e65 7272  ReportStatus.err
-000011b0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-000011c0: 7261 6973 6520 4d71 5661 6c75 6545 7272  raise MqValueErr
-000011d0: 6f72 2827 5468 6973 2072 6570 6f72 7420  or('This report 
-000011e0: 6a6f 6220 6973 2069 6e20 7374 6174 7573  job is in status
-000011f0: 2022 6572 726f 7222 2e20 4361 6e6e 6f74   "error". Cannot
-00001200: 2072 6574 7269 6576 6520 7265 7375 6c74   retrieve result
-00001210: 732e 2729 0a20 2020 2020 2020 2069 6620  s.').        if 
-00001220: 7374 6174 7573 2021 3d20 5265 706f 7274  status != Report
-00001230: 5374 6174 7573 2e64 6f6e 653a 0a20 2020  Status.done:.   
-00001240: 2020 2020 2020 2020 2072 6169 7365 204d           raise M
-00001250: 7156 616c 7565 4572 726f 7228 2754 6869  qValueError('Thi
-00001260: 7320 7265 706f 7274 206a 6f62 2069 7320  s report job is 
-00001270: 6e6f 7420 646f 6e65 2e20 4361 6e6e 6f74  not done. Cannot
-00001280: 2072 6574 7269 6576 6520 7265 7375 6c74   retrieve result
-00001290: 732e 2729 0a20 2020 2020 2020 2069 6620  s.').        if 
-000012a0: 7365 6c66 2e5f 5f72 6570 6f72 745f 7479  self.__report_ty
-000012b0: 7065 2069 6e20 5b52 6570 6f72 7454 7970  pe in [ReportTyp
-000012c0: 652e 506f 7274 666f 6c69 6f5f 4661 6374  e.Portfolio_Fact
-000012d0: 6f72 5f52 6973 6b2c 2052 6570 6f72 7454  or_Risk, ReportT
-000012e0: 7970 652e 4173 7365 745f 4661 6374 6f72  ype.Asset_Factor
-000012f0: 5f52 6973 6b5d 3a0a 2020 2020 2020 2020  _Risk]:.        
-00001300: 2020 2020 7265 7375 6c74 7320 3d20 4773      results = Gs
-00001310: 5265 706f 7274 4170 692e 6765 745f 6661  ReportApi.get_fa
-00001320: 6374 6f72 5f72 6973 6b5f 7265 706f 7274  ctor_risk_report
-00001330: 5f72 6573 756c 7473 2872 6973 6b5f 7265  _results(risk_re
-00001340: 706f 7274 5f69 643d 7365 6c66 2e5f 5f72  port_id=self.__r
-00001350: 6570 6f72 745f 6964 2c0a 2020 2020 2020  eport_id,.      
-00001360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001390: 2020 2020 2020 2020 2020 2073 7461 7274             start
-000013a0: 5f64 6174 653d 7365 6c66 2e5f 5f73 7461  _date=self.__sta
-000013b0: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
-000013c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000260: 746f 0a66 726f 6d20 7469 6d65 2069 6d70  to.from time imp
+00000270: 6f72 7420 736c 6565 700a 6672 6f6d 2074  ort sleep.from t
+00000280: 7970 696e 6720 696d 706f 7274 2054 7570  yping import Tup
+00000290: 6c65 2c20 556e 696f 6e2c 204c 6973 742c  le, Union, List,
+000002a0: 2044 6963 740a 696d 706f 7274 2073 6369   Dict.import sci
+000002b0: 7079 2e73 7461 7473 2061 7320 7374 0a0a  py.stats as st..
+000002c0: 696d 706f 7274 2070 616e 6461 7320 6173  import pandas as
+000002d0: 2070 640a 6672 6f6d 2064 6174 6575 7469   pd.from dateuti
+000002e0: 6c2e 7265 6c61 7469 7665 6465 6c74 6120  l.relativedelta 
+000002f0: 696d 706f 7274 2072 656c 6174 6976 6564  import relatived
+00000300: 656c 7461 0a66 726f 6d20 696e 666c 6563  elta.from inflec
+00000310: 7469 6f6e 2069 6d70 6f72 7420 7469 746c  tion import titl
+00000320: 6569 7a65 0a0a 6672 6f6d 2067 735f 7175  eize..from gs_qu
+00000330: 616e 742e 6170 692e 6773 2e64 6174 6120  ant.api.gs.data 
+00000340: 696d 706f 7274 2047 7344 6174 6141 7069  import GsDataApi
+00000350: 0a66 726f 6d20 6773 5f71 7561 6e74 2e61  .from gs_quant.a
+00000360: 7069 2e67 732e 706f 7274 666f 6c69 6f73  pi.gs.portfolios
+00000370: 2069 6d70 6f72 7420 4773 506f 7274 666f   import GsPortfo
+00000380: 6c69 6f41 7069 0a66 726f 6d20 6773 5f71  lioApi.from gs_q
+00000390: 7561 6e74 2e61 7069 2e67 732e 7265 706f  uant.api.gs.repo
+000003a0: 7274 7320 696d 706f 7274 2047 7352 6570  rts import GsRep
+000003b0: 6f72 7441 7069 2c20 4f72 6465 7254 7970  ortApi, OrderTyp
+000003c0: 652c 2046 6163 746f 7252 6973 6b54 6162  e, FactorRiskTab
+000003d0: 6c65 4d6f 6465 0a66 726f 6d20 6773 5f71  leMode.from gs_q
+000003e0: 7561 6e74 2e61 7069 2e67 732e 7468 656d  uant.api.gs.them
+000003f0: 6174 6963 7320 696d 706f 7274 2052 6567  atics import Reg
+00000400: 696f 6e2c 2047 7354 6865 6d61 7469 6341  ion, GsThematicA
+00000410: 7069 2c20 5468 656d 6174 6963 4d65 6173  pi, ThematicMeas
+00000420: 7572 650a 6672 6f6d 2067 735f 7175 616e  ure.from gs_quan
+00000430: 742e 6461 7465 7469 6d65 2069 6d70 6f72  t.datetime impor
+00000440: 7420 6275 7369 6e65 7373 5f64 6179 5f6f  t business_day_o
+00000450: 6666 7365 740a 6672 6f6d 2067 735f 7175  ffset.from gs_qu
+00000460: 616e 742e 6572 726f 7273 2069 6d70 6f72  ant.errors impor
+00000470: 7420 4d71 5661 6c75 6545 7272 6f72 0a66  t MqValueError.f
+00000480: 726f 6d20 6773 5f71 7561 6e74 2e6d 6172  rom gs_quant.mar
+00000490: 6b65 7473 2e72 6570 6f72 745f 7574 696c  kets.report_util
+000004a0: 7320 696d 706f 7274 205f 6765 745f 7070  s import _get_pp
+000004b0: 6161 5f62 6174 6368 6573 0a66 726f 6d20  aa_batches.from 
+000004c0: 6773 5f71 7561 6e74 2e74 6172 6765 742e  gs_quant.target.
+000004d0: 636f 6d6d 6f6e 2069 6d70 6f72 7420 5265  common import Re
+000004e0: 706f 7274 5061 7261 6d65 7465 7273 2c20  portParameters, 
+000004f0: 4375 7272 656e 6379 0a66 726f 6d20 6773  Currency.from gs
+00000500: 5f71 7561 6e74 2e74 6172 6765 742e 636f  _quant.target.co
+00000510: 6f72 6469 6e61 7465 7320 696d 706f 7274  ordinates import
+00000520: 204d 4441 5049 4461 7461 4261 7463 6852   MDAPIDataBatchR
+00000530: 6573 706f 6e73 650a 6672 6f6d 2067 735f  esponse.from gs_
+00000540: 7175 616e 742e 7461 7267 6574 2e64 6174  quant.target.dat
+00000550: 6120 696d 706f 7274 2044 6174 6151 7565  a import DataQue
+00000560: 7279 2c20 4461 7461 5175 6572 7952 6573  ry, DataQueryRes
+00000570: 706f 6e73 650a 6672 6f6d 2067 735f 7175  ponse.from gs_qu
+00000580: 616e 742e 7461 7267 6574 2e72 6570 6f72  ant.target.repor
+00000590: 7473 2069 6d70 6f72 7420 5265 706f 7274  ts import Report
+000005a0: 2061 7320 5461 7267 6574 5265 706f 7274   as TargetReport
+000005b0: 2c20 5265 706f 7274 5479 7065 2c20 506f  , ReportType, Po
+000005c0: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
+000005d0: 2c20 5265 706f 7274 5374 6174 7573 0a66  , ReportStatus.f
+000005e0: 726f 6d20 6773 5f71 7561 6e74 2e74 6172  rom gs_quant.tar
+000005f0: 6765 742e 706f 7274 666f 6c69 6f73 2069  get.portfolios i
+00000600: 6d70 6f72 7420 5269 736b 4175 6d53 6f75  mport RiskAumSou
+00000610: 7263 650a 0a0a 636c 6173 7320 5265 7475  rce...class Retu
+00000620: 726e 466f 726d 6174 2845 6e75 6d29 3a0a  rnFormat(Enum):.
+00000630: 2020 2020 2222 2241 6c74 6572 6e61 7469      """Alternati
+00000640: 7665 2066 6f72 6d61 7420 666f 7220 6461  ve format for da
+00000650: 7461 2074 6f20 6265 2072 6574 7572 6e65  ta to be returne
+00000660: 6420 6672 6f6d 2067 6574 5f64 6174 6120  d from get_data 
+00000670: 6675 6e63 7469 6f6e 7322 2222 0a20 2020  functions""".   
+00000680: 204a 534f 4e20 3d20 6175 746f 2829 0a20   JSON = auto(). 
+00000690: 2020 2044 4154 415f 4652 414d 4520 3d20     DATA_FRAME = 
+000006a0: 6175 746f 2829 0a0a 0a63 6c61 7373 2052  auto()...class R
+000006b0: 6570 6f72 7444 6174 6173 6574 2845 6e75  eportDataset(Enu
+000006c0: 6d29 3a0a 2020 2020 5050 415f 4441 5441  m):.    PPA_DATA
+000006d0: 5345 5420 3d20 2250 5041 220a 2020 2020  SET = "PPA".    
+000006e0: 5050 4141 5f44 4154 4153 4554 203d 2022  PPAA_DATASET = "
+000006f0: 5050 4141 220a 2020 2020 5046 525f 4441  PPAA".    PFR_DA
+00000700: 5441 5345 5420 3d20 2250 4652 220a 2020  TASET = "PFR".  
+00000710: 2020 5046 5241 5f44 4154 4153 4554 203d    PFRA_DATASET =
+00000720: 2022 5046 5241 220a 2020 2020 4146 525f   "PFRA".    AFR_
+00000730: 4441 5441 5345 5420 3d20 2241 4652 220a  DATASET = "AFR".
+00000740: 2020 2020 4146 5241 5f44 4154 4153 4554      AFRA_DATASET
+00000750: 203d 2022 4146 5241 220a 2020 2020 4154   = "AFRA".    AT
+00000760: 415f 4441 5441 5345 5420 3d20 2241 5441  A_DATASET = "ATA
+00000770: 220a 2020 2020 4154 4141 5f44 4154 4153  ".    ATAA_DATAS
+00000780: 4554 203d 2022 4154 4141 220a 2020 2020  ET = "ATAA".    
+00000790: 5054 415f 4441 5441 5345 5420 3d20 2250  PTA_DATASET = "P
+000007a0: 5441 220a 2020 2020 5054 4141 5f44 4154  TA".    PTAA_DAT
+000007b0: 4153 4554 203d 2022 5054 4141 220a 2020  ASET = "PTAA".  
+000007c0: 2020 504f 5254 464f 4c49 4f5f 434f 4e53    PORTFOLIO_CONS
+000007d0: 5449 5455 454e 5453 203d 2022 504f 5254  TITUENTS = "PORT
+000007e0: 464f 4c49 4f5f 434f 4e53 5449 5455 454e  FOLIO_CONSTITUEN
+000007f0: 5453 220a 0a0a 636c 6173 7320 4661 6374  TS"...class Fact
+00000800: 6f72 5269 736b 5669 6577 734d 6f64 6528  orRiskViewsMode(
+00000810: 456e 756d 293a 0a20 2020 2052 6973 6b20  Enum):.    Risk 
+00000820: 3d20 2752 6973 6b27 0a20 2020 2041 7474  = 'Risk'.    Att
+00000830: 7269 6275 7469 6f6e 203d 2027 4174 7472  ribution = 'Attr
+00000840: 6962 7574 696f 6e27 0a0a 0a63 6c61 7373  ibution'...class
+00000850: 2046 6163 746f 7252 6973 6b52 6573 756c   FactorRiskResul
+00000860: 7473 4d6f 6465 2845 6e75 6d29 3a0a 2020  tsMode(Enum):.  
+00000870: 2020 506f 7274 666f 6c69 6f20 3d20 2750    Portfolio = 'P
+00000880: 6f72 7466 6f6c 696f 270a 2020 2020 506f  ortfolio'.    Po
+00000890: 7369 7469 6f6e 7320 3d20 2750 6f73 6974  sitions = 'Posit
+000008a0: 696f 6e73 270a 0a0a 636c 6173 7320 4661  ions'...class Fa
+000008b0: 6374 6f72 5269 736b 556e 6974 2845 6e75  ctorRiskUnit(Enu
+000008c0: 6d29 3a0a 2020 2020 5065 7263 656e 7420  m):.    Percent 
+000008d0: 3d20 2750 6572 6365 6e74 270a 2020 2020  = 'Percent'.    
+000008e0: 4e6f 7469 6f6e 616c 203d 2027 4e6f 7469  Notional = 'Noti
+000008f0: 6f6e 616c 270a 0a0a 636c 6173 7320 4174  onal'...class At
+00000900: 7472 6962 7574 696f 6e41 6767 7265 6761  tributionAggrega
+00000910: 7469 6f6e 5479 7065 2845 6e75 6d29 3a0a  tionType(Enum):.
+00000920: 2020 2020 4172 6974 686d 6574 6963 203d      Arithmetic =
+00000930: 2027 6172 6974 686d 6574 6963 270a 2020   'arithmetic'.  
+00000940: 2020 4765 6f6d 6574 7269 6320 3d20 2767    Geometric = 'g
+00000950: 656f 6d65 7472 6963 270a 0a0a 636c 6173  eometric'...clas
+00000960: 7320 4375 7374 6f6d 4155 4d44 6174 6150  s CustomAUMDataP
+00000970: 6f69 6e74 3a0a 2020 2020 2222 220a 0a20  oint:.    """.. 
+00000980: 2020 2043 7573 746f 6d20 4155 4d20 4461     Custom AUM Da
+00000990: 7461 2050 6f69 6e74 2072 6570 7265 7365  ta Point represe
+000009a0: 6e74 7320 6120 706f 7274 666f 6c69 6f27  nts a portfolio'
+000009b0: 7320 4155 4d20 7661 6c75 6520 666f 7220  s AUM value for 
+000009c0: 6120 7370 6563 6966 6963 2064 6174 650a  a specific date.
+000009d0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+000009e0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+000009f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000a00: 2020 6461 7465 3a20 6474 2e64 6174 652c    date: dt.date,
+00000a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000a20: 2020 6175 6d3a 2066 6c6f 6174 293a 0a20    aum: float):. 
+00000a30: 2020 2020 2020 2073 656c 662e 5f5f 6461         self.__da
+00000a40: 7465 203d 2064 6174 650a 2020 2020 2020  te = date.      
+00000a50: 2020 7365 6c66 2e5f 5f61 756d 203d 2061    self.__aum = a
+00000a60: 756d 0a0a 2020 2020 4070 726f 7065 7274  um..    @propert
+00000a70: 790a 2020 2020 6465 6620 6461 7465 2873  y.    def date(s
+00000a80: 656c 6629 202d 3e20 6474 2e64 6174 653a  elf) -> dt.date:
+00000a90: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00000aa0: 7365 6c66 2e5f 5f64 6174 650a 0a20 2020  self.__date..   
+00000ab0: 2040 6461 7465 2e73 6574 7465 720a 2020   @date.setter.  
+00000ac0: 2020 6465 6620 6461 7465 2873 656c 662c    def date(self,
+00000ad0: 2076 616c 7565 3a20 6474 2e64 6174 6529   value: dt.date)
+00000ae0: 3a0a 2020 2020 2020 2020 7365 6c66 2e5f  :.        self._
+00000af0: 5f64 6174 6520 3d20 7661 6c75 650a 0a20  _date = value.. 
+00000b00: 2020 2040 7072 6f70 6572 7479 0a20 2020     @property.   
+00000b10: 2064 6566 2061 756d 2873 656c 6629 202d   def aum(self) -
+00000b20: 3e20 666c 6f61 743a 0a20 2020 2020 2020  > float:.       
+00000b30: 2072 6574 7572 6e20 7365 6c66 2e5f 5f61   return self.__a
+00000b40: 756d 0a0a 2020 2020 4061 756d 2e73 6574  um..    @aum.set
+00000b50: 7465 720a 2020 2020 6465 6620 6175 6d28  ter.    def aum(
+00000b60: 7365 6c66 2c20 7661 6c75 653a 2066 6c6f  self, value: flo
+00000b70: 6174 293a 0a20 2020 2020 2020 2073 656c  at):.        sel
+00000b80: 662e 5f5f 6175 6d20 3d20 7661 6c75 650a  f.__aum = value.
+00000b90: 0a0a 636c 6173 7320 5265 706f 7274 4a6f  ..class ReportJo
+00000ba0: 6246 7574 7572 653a 0a20 2020 2022 2222  bFuture:.    """
+00000bb0: 5265 706f 7274 206a 6f62 2066 7574 7572  Report job futur
+00000bc0: 6520 7468 6174 206d 6f6e 6974 6f72 7320  e that monitors 
+00000bd0: 7265 706f 7274 2073 7461 7475 7320 616e  report status an
+00000be0: 6420 7265 7375 6c74 7322 2222 0a20 2020  d results""".   
+00000bf0: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00000c00: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+00000c10: 2020 2020 2072 6570 6f72 745f 6964 3a20       report_id: 
+00000c20: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+00000c30: 2020 2020 2020 6a6f 625f 6964 3a20 7374        job_id: st
+00000c40: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+00000c50: 2020 2020 7265 706f 7274 5f74 7970 653a      report_type:
+00000c60: 2052 6570 6f72 7454 7970 652c 0a20 2020   ReportType,.   
+00000c70: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00000c80: 6172 745f 6461 7465 3a20 6474 2e64 6174  art_date: dt.dat
+00000c90: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00000ca0: 2020 2020 656e 645f 6461 7465 3a20 6474      end_date: dt
+00000cb0: 2e64 6174 6529 3a0a 2020 2020 2020 2020  .date):.        
+00000cc0: 7365 6c66 2e5f 5f72 6570 6f72 745f 6964  self.__report_id
+00000cd0: 203d 2072 6570 6f72 745f 6964 0a20 2020   = report_id.   
+00000ce0: 2020 2020 2073 656c 662e 5f5f 6a6f 625f       self.__job_
+00000cf0: 6964 203d 206a 6f62 5f69 640a 2020 2020  id = job_id.    
+00000d00: 2020 2020 7365 6c66 2e5f 5f72 6570 6f72      self.__repor
+00000d10: 745f 7479 7065 203d 2072 6570 6f72 745f  t_type = report_
+00000d20: 7479 7065 0a20 2020 2020 2020 2073 656c  type.        sel
+00000d30: 662e 5f5f 7374 6172 745f 6461 7465 203d  f.__start_date =
+00000d40: 2073 7461 7274 5f64 6174 650a 2020 2020   start_date.    
+00000d50: 2020 2020 7365 6c66 2e5f 5f65 6e64 5f64      self.__end_d
+00000d60: 6174 6520 3d20 656e 645f 6461 7465 0a0a  ate = end_date..
+00000d70: 2020 2020 6465 6620 7374 6174 7573 2873      def status(s
+00000d80: 656c 6629 202d 3e20 5265 706f 7274 5374  elf) -> ReportSt
+00000d90: 6174 7573 3a0a 2020 2020 2020 2020 2222  atus:.        ""
+00000da0: 220a 2020 2020 2020 2020 3a72 6574 7572  ".        :retur
+00000db0: 6e3a 2074 6865 2073 7461 7475 7320 6f66  n: the status of
+00000dc0: 2074 6865 2072 6570 6f72 7420 6a6f 620a   the report job.
+00000dd0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00000de0: 2020 2020 6a6f 6220 3d20 4773 5265 706f      job = GsRepo
+00000df0: 7274 4170 692e 6765 745f 7265 706f 7274  rtApi.get_report
+00000e00: 5f6a 6f62 2873 656c 662e 5f5f 6a6f 625f  _job(self.__job_
+00000e10: 6964 290a 2020 2020 2020 2020 7265 7475  id).        retu
+00000e20: 726e 2052 6570 6f72 7453 7461 7475 7328  rn ReportStatus(
+00000e30: 6a6f 622e 6765 7428 2773 7461 7475 7327  job.get('status'
+00000e40: 2929 0a0a 2020 2020 6465 6620 646f 6e65  ))..    def done
+00000e50: 2873 656c 6629 202d 3e20 626f 6f6c 3a0a  (self) -> bool:.
+00000e60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00000e70: 2020 2020 3a72 6574 7572 6e3a 2074 7275      :return: tru
+00000e80: 6520 6966 2074 6865 2072 6570 6f72 7420  e if the report 
+00000e90: 6a6f 6220 6973 2069 6e20 7468 6520 666f  job is in the fo
+00000ea0: 6c6c 6f77 696e 6720 7374 6174 6573 3a20  llowing states: 
+00000eb0: 2264 6f6e 6522 2c20 2265 7272 6f72 222c  "done", "error",
+00000ec0: 206f 7220 2263 616e 6365 6c6c 6564 222e   or "cancelled".
+00000ed0: 2052 6574 7572 6e73 0a20 2020 2020 2020   Returns.       
+00000ee0: 2066 616c 7365 206f 7468 6572 7769 7365   false otherwise
+00000ef0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00000f00: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00000f10: 2e73 7461 7475 7328 2920 696e 205b 5265  .status() in [Re
+00000f20: 706f 7274 5374 6174 7573 2e64 6f6e 652c  portStatus.done,
+00000f30: 2052 6570 6f72 7453 7461 7475 732e 6572   ReportStatus.er
+00000f40: 726f 722c 2052 6570 6f72 7453 7461 7475  ror, ReportStatu
+00000f50: 732e 6361 6e63 656c 6c65 645d 0a0a 2020  s.cancelled]..  
+00000f60: 2020 6465 6620 7265 7375 6c74 2873 656c    def result(sel
+00000f70: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
+00000f80: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00000f90: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
+00000fa0: 616d 6520 636f 6e74 6169 6e69 6e67 2074  ame containing t
+00000fb0: 6865 2072 6573 756c 7473 206f 6620 7468  he results of th
+00000fc0: 6520 7265 706f 7274 206a 6f62 0a20 2020  e report job.   
+00000fd0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00000fe0: 2073 7461 7475 7320 3d20 7365 6c66 2e73   status = self.s
+00000ff0: 7461 7475 7328 290a 2020 2020 2020 2020  tatus().        
+00001000: 6966 2073 7461 7475 7320 3d3d 2052 6570  if status == Rep
+00001010: 6f72 7453 7461 7475 732e 6361 6e63 656c  ortStatus.cancel
+00001020: 6c65 643a 0a20 2020 2020 2020 2020 2020  led:.           
+00001030: 2072 6169 7365 204d 7156 616c 7565 4572   raise MqValueEr
+00001040: 726f 7228 2754 6869 7320 7265 706f 7274  ror('This report
+00001050: 206a 6f62 2069 6e20 7374 6174 7573 2022   job in status "
+00001060: 6361 6e63 656c 6c65 6422 2e20 4361 6e6e  cancelled". Cann
+00001070: 6f74 2072 6574 7269 6576 6520 7265 7375  ot retrieve resu
+00001080: 6c74 732e 2729 0a20 2020 2020 2020 2069  lts.').        i
+00001090: 6620 7374 6174 7573 203d 3d20 5265 706f  f status == Repo
+000010a0: 7274 5374 6174 7573 2e65 7272 6f72 3a0a  rtStatus.error:.
+000010b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000010c0: 6520 4d71 5661 6c75 6545 7272 6f72 2827  e MqValueError('
+000010d0: 5468 6973 2072 6570 6f72 7420 6a6f 6220  This report job 
+000010e0: 6973 2069 6e20 7374 6174 7573 2022 6572  is in status "er
+000010f0: 726f 7222 2e20 4361 6e6e 6f74 2072 6574  ror". Cannot ret
+00001100: 7269 6576 6520 7265 7375 6c74 732e 2729  rieve results.')
+00001110: 0a20 2020 2020 2020 2069 6620 7374 6174  .        if stat
+00001120: 7573 2021 3d20 5265 706f 7274 5374 6174  us != ReportStat
+00001130: 7573 2e64 6f6e 653a 0a20 2020 2020 2020  us.done:.       
+00001140: 2020 2020 2072 6169 7365 204d 7156 616c       raise MqVal
+00001150: 7565 4572 726f 7228 2754 6869 7320 7265  ueError('This re
+00001160: 706f 7274 206a 6f62 2069 7320 6e6f 7420  port job is not 
+00001170: 646f 6e65 2e20 4361 6e6e 6f74 2072 6574  done. Cannot ret
+00001180: 7269 6576 6520 7265 7375 6c74 732e 2729  rieve results.')
+00001190: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+000011a0: 2e5f 5f72 6570 6f72 745f 7479 7065 2069  .__report_type i
+000011b0: 6e20 5b52 6570 6f72 7454 7970 652e 506f  n [ReportType.Po
+000011c0: 7274 666f 6c69 6f5f 4661 6374 6f72 5f52  rtfolio_Factor_R
+000011d0: 6973 6b2c 2052 6570 6f72 7454 7970 652e  isk, ReportType.
+000011e0: 4173 7365 745f 4661 6374 6f72 5f52 6973  Asset_Factor_Ris
+000011f0: 6b5d 3a0a 2020 2020 2020 2020 2020 2020  k]:.            
+00001200: 7265 7375 6c74 7320 3d20 4773 5265 706f  results = GsRepo
+00001210: 7274 4170 692e 6765 745f 6661 6374 6f72  rtApi.get_factor
+00001220: 5f72 6973 6b5f 7265 706f 7274 5f72 6573  _risk_report_res
+00001230: 756c 7473 2872 6973 6b5f 7265 706f 7274  ults(risk_report
+00001240: 5f69 643d 7365 6c66 2e5f 5f72 6570 6f72  _id=self.__repor
+00001250: 745f 6964 2c0a 2020 2020 2020 2020 2020  t_id,.          
+00001260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001290: 2020 2020 2020 2073 7461 7274 5f64 6174         start_dat
+000012a0: 653d 7365 6c66 2e5f 5f73 7461 7274 5f64  e=self.__start_d
+000012b0: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
+000012c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000012d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000012e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000012f0: 2020 2020 2020 656e 645f 6461 7465 3d73        end_date=s
+00001300: 656c 662e 5f5f 656e 645f 6461 7465 290a  elf.__end_date).
+00001310: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00001320: 726e 2070 642e 4461 7461 4672 616d 6528  rn pd.DataFrame(
+00001330: 7265 7375 6c74 7329 0a20 2020 2020 2020  results).       
+00001340: 2069 6620 7365 6c66 2e5f 5f72 6570 6f72   if self.__repor
+00001350: 745f 7479 7065 203d 3d20 5265 706f 7274  t_type == Report
+00001360: 5479 7065 2e50 6f72 7466 6f6c 696f 5f50  Type.Portfolio_P
+00001370: 6572 666f 726d 616e 6365 5f41 6e61 6c79  erformance_Analy
+00001380: 7469 6373 3a0a 2020 2020 2020 2020 2020  tics:.          
+00001390: 2020 7175 6572 7920 3d20 4461 7461 5175    query = DataQu
+000013a0: 6572 7928 7768 6572 653d 7b27 7265 706f  ery(where={'repo
+000013b0: 7274 4964 273a 2073 656c 662e 5f5f 7265  rtId': self.__re
+000013c0: 706f 7274 5f69 647d 2c0a 2020 2020 2020  port_id},.      
 000013d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000013f0: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
-00001400: 7465 3d73 656c 662e 5f5f 656e 645f 6461  te=self.__end_da
-00001410: 7465 290a 2020 2020 2020 2020 2020 2020  te).            
-00001420: 7265 7475 726e 2070 642e 4461 7461 4672  return pd.DataFr
-00001430: 616d 6528 7265 7375 6c74 7329 0a20 2020  ame(results).   
-00001440: 2020 2020 2069 6620 7365 6c66 2e5f 5f72       if self.__r
-00001450: 6570 6f72 745f 7479 7065 203d 3d20 5265  eport_type == Re
-00001460: 706f 7274 5479 7065 2e50 6f72 7466 6f6c  portType.Portfol
-00001470: 696f 5f50 6572 666f 726d 616e 6365 5f41  io_Performance_A
-00001480: 6e61 6c79 7469 6373 3a0a 2020 2020 2020  nalytics:.      
-00001490: 2020 2020 2020 7175 6572 7920 3d20 4461        query = Da
-000014a0: 7461 5175 6572 7928 7768 6572 653d 7b27  taQuery(where={'
-000014b0: 7265 706f 7274 4964 273a 2073 656c 662e  reportId': self.
-000014c0: 5f5f 7265 706f 7274 5f69 647d 2c0a 2020  __report_id},.  
-000014d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000014e0: 2020 2020 2020 2020 2020 2020 7374 6172              star
-000014f0: 745f 6461 7465 3d73 656c 662e 5f5f 7374  t_date=self.__st
-00001500: 6172 745f 6461 7465 2c0a 2020 2020 2020  art_date,.      
-00001510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001520: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-00001530: 3d73 656c 662e 5f5f 656e 645f 6461 7465  =self.__end_date
-00001540: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00001550: 7375 6c74 7320 3d20 4773 4461 7461 4170  sults = GsDataAp
-00001560: 692e 7175 6572 795f 6461 7461 2871 7565  i.query_data(que
-00001570: 7279 3d71 7565 7279 2c20 6461 7461 7365  ry=query, datase
-00001580: 745f 6964 3d52 6570 6f72 7444 6174 6173  t_id=ReportDatas
-00001590: 6574 2e50 5041 5f44 4154 4153 4554 2e76  et.PPA_DATASET.v
-000015a0: 616c 7565 290a 2020 2020 2020 2020 2020  alue).          
-000015b0: 2020 7265 7475 726e 2070 642e 4461 7461    return pd.Data
-000015c0: 4672 616d 6528 7265 7375 6c74 7329 0a20  Frame(results). 
-000015d0: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-000015e0: 6e65 0a0a 0a63 6c61 7373 2052 6570 6f72  ne...class Repor
-000015f0: 743a 0a20 2020 2022 2222 4765 6e65 7261  t:.    """Genera
-00001600: 6c20 7265 706f 7274 2063 6c61 7373 2222  l report class""
-00001610: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00001620: 745f 5f28 7365 6c66 2c0a 2020 2020 2020  t__(self,.      
-00001630: 2020 2020 2020 2020 2020 2072 6570 6f72             repor
-00001640: 745f 6964 3a20 7374 7220 3d20 4e6f 6e65  t_id: str = None
-00001650: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001660: 2020 206e 616d 653a 2073 7472 203d 204e     name: str = N
-00001670: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00001680: 2020 2020 2020 706f 7369 7469 6f6e 5f73        position_s
-00001690: 6f75 7263 655f 6964 3a20 7374 7220 3d20  ource_id: str = 
-000016a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-000016b0: 2020 2020 2020 2070 6f73 6974 696f 6e5f         position_
-000016c0: 736f 7572 6365 5f74 7970 653a 2055 6e69  source_type: Uni
-000016d0: 6f6e 5b73 7472 2c20 506f 7369 7469 6f6e  on[str, Position
-000016e0: 536f 7572 6365 5479 7065 5d20 3d20 4e6f  SourceType] = No
-000016f0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00001700: 2020 2020 2072 6570 6f72 745f 7479 7065       report_type
-00001710: 3a20 556e 696f 6e5b 7374 722c 2052 6570  : Union[str, Rep
-00001720: 6f72 7454 7970 655d 203d 204e 6f6e 652c  ortType] = None,
-00001730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001740: 2020 7061 7261 6d65 7465 7273 3a20 5265    parameters: Re
-00001750: 706f 7274 5061 7261 6d65 7465 7273 203d  portParameters =
-00001760: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00001770: 2020 2020 2020 2020 6561 726c 6965 7374          earliest
-00001780: 5f73 7461 7274 5f64 6174 653a 2064 742e  _start_date: dt.
-00001790: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
-000017a0: 2020 2020 2020 2020 2020 2020 2020 6c61                la
-000017b0: 7465 7374 5f65 6e64 5f64 6174 653a 2064  test_end_date: d
-000017c0: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
-000017d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000017e0: 6c61 7465 7374 5f65 7865 6375 7469 6f6e  latest_execution
-000017f0: 5f74 696d 653a 2064 742e 6461 7465 7469  _time: dt.dateti
-00001800: 6d65 203d 204e 6f6e 652c 0a20 2020 2020  me = None,.     
-00001810: 2020 2020 2020 2020 2020 2020 7374 6174              stat
-00001820: 7573 3a20 556e 696f 6e5b 7374 722c 2052  us: Union[str, R
-00001830: 6570 6f72 7453 7461 7475 735d 203d 2052  eportStatus] = R
-00001840: 6570 6f72 7453 7461 7475 732e 6e65 772c  eportStatus.new,
-00001850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001860: 2020 7065 7263 656e 7461 6765 5f63 6f6d    percentage_com
-00001870: 706c 6574 653a 2066 6c6f 6174 203d 204e  plete: float = N
-00001880: 6f6e 6529 3a0a 2020 2020 2020 2020 7365  one):.        se
-00001890: 6c66 2e5f 5f69 6420 3d20 7265 706f 7274  lf.__id = report
-000018a0: 5f69 640a 2020 2020 2020 2020 7365 6c66  _id.        self
-000018b0: 2e5f 5f6e 616d 6520 3d20 6e61 6d65 0a20  .__name = name. 
-000018c0: 2020 2020 2020 2073 656c 662e 5f5f 706f         self.__po
-000018d0: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
-000018e0: 203d 2070 6f73 6974 696f 6e5f 736f 7572   = position_sour
-000018f0: 6365 5f69 640a 2020 2020 2020 2020 7365  ce_id.        se
-00001900: 6c66 2e5f 5f70 6f73 6974 696f 6e5f 736f  lf.__position_so
-00001910: 7572 6365 5f74 7970 6520 3d20 706f 7369  urce_type = posi
-00001920: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
-00001930: 205c 0a20 2020 2020 2020 2020 2020 2069   \.            i
-00001940: 6620 6973 696e 7374 616e 6365 2870 6f73  f isinstance(pos
-00001950: 6974 696f 6e5f 736f 7572 6365 5f74 7970  ition_source_typ
-00001960: 652c 2050 6f73 6974 696f 6e53 6f75 7263  e, PositionSourc
-00001970: 6554 7970 6529 206f 7220 706f 7369 7469  eType) or positi
-00001980: 6f6e 5f73 6f75 7263 655f 7479 7065 2069  on_source_type i
-00001990: 7320 4e6f 6e65 205c 0a20 2020 2020 2020  s None \.       
-000019a0: 2020 2020 2065 6c73 6520 506f 7369 7469       else Positi
-000019b0: 6f6e 536f 7572 6365 5479 7065 2870 6f73  onSourceType(pos
-000019c0: 6974 696f 6e5f 736f 7572 6365 5f74 7970  ition_source_typ
-000019d0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-000019e0: 5f5f 7479 7065 203d 2072 6570 6f72 745f  __type = report_
-000019f0: 7479 7065 2069 6620 6973 696e 7374 616e  type if isinstan
-00001a00: 6365 2872 6570 6f72 745f 7479 7065 2c20  ce(report_type, 
-00001a10: 5265 706f 7274 5479 7065 2920 6f72 2072  ReportType) or r
-00001a20: 6570 6f72 745f 7479 7065 2069 7320 4e6f  eport_type is No
-00001a30: 6e65 205c 0a20 2020 2020 2020 2020 2020  ne \.           
-00001a40: 2065 6c73 6520 5265 706f 7274 5479 7065   else ReportType
-00001a50: 2872 6570 6f72 745f 7479 7065 290a 2020  (report_type).  
-00001a60: 2020 2020 2020 7365 6c66 2e5f 5f70 6172        self.__par
-00001a70: 616d 6574 6572 7320 3d20 7061 7261 6d65  ameters = parame
-00001a80: 7465 7273 0a20 2020 2020 2020 2073 656c  ters.        sel
-00001a90: 662e 5f5f 6561 726c 6965 7374 5f73 7461  f.__earliest_sta
-00001aa0: 7274 5f64 6174 6520 3d20 6561 726c 6965  rt_date = earlie
-00001ab0: 7374 5f73 7461 7274 5f64 6174 650a 2020  st_start_date.  
-00001ac0: 2020 2020 2020 7365 6c66 2e5f 5f6c 6174        self.__lat
-00001ad0: 6573 745f 656e 645f 6461 7465 203d 206c  est_end_date = l
-00001ae0: 6174 6573 745f 656e 645f 6461 7465 0a20  atest_end_date. 
-00001af0: 2020 2020 2020 2073 656c 662e 5f5f 6c61         self.__la
-00001b00: 7465 7374 5f65 7865 6375 7469 6f6e 5f74  test_execution_t
-00001b10: 696d 6520 3d20 6c61 7465 7374 5f65 7865  ime = latest_exe
-00001b20: 6375 7469 6f6e 5f74 696d 650a 2020 2020  cution_time.    
-00001b30: 2020 2020 7365 6c66 2e5f 5f73 7461 7475      self.__statu
-00001b40: 7320 3d20 7374 6174 7573 2069 6620 6973  s = status if is
-00001b50: 696e 7374 616e 6365 2873 7461 7475 732c  instance(status,
-00001b60: 2052 6570 6f72 7453 7461 7475 7329 2065   ReportStatus) e
-00001b70: 6c73 6520 5265 706f 7274 5374 6174 7573  lse ReportStatus
-00001b80: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-00001b90: 2073 656c 662e 5f5f 7065 7263 656e 7461   self.__percenta
-00001ba0: 6765 5f63 6f6d 706c 6574 6520 3d20 7065  ge_complete = pe
-00001bb0: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-00001bc0: 650a 0a20 2020 2040 7072 6f70 6572 7479  e..    @property
-00001bd0: 0a20 2020 2064 6566 2069 6428 7365 6c66  .    def id(self
-00001be0: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
-00001bf0: 2020 7265 7475 726e 2073 656c 662e 5f5f    return self.__
-00001c00: 6964 0a0a 2020 2020 4070 726f 7065 7274  id..    @propert
-00001c10: 790a 2020 2020 6465 6620 6e61 6d65 2873  y.    def name(s
-00001c20: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00001c30: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00001c40: 2e5f 5f6e 616d 650a 0a20 2020 2040 7072  .__name..    @pr
-00001c50: 6f70 6572 7479 0a20 2020 2064 6566 2070  operty.    def p
-00001c60: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00001c70: 6428 7365 6c66 2920 2d3e 2073 7472 3a0a  d(self) -> str:.
-00001c80: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00001c90: 656c 662e 5f5f 706f 7369 7469 6f6e 5f73  elf.__position_s
-00001ca0: 6f75 7263 655f 6964 0a0a 2020 2020 4070  ource_id..    @p
-00001cb0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00001cc0: 642e 7365 7474 6572 0a20 2020 2064 6566  d.setter.    def
-00001cd0: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-00001ce0: 5f69 6428 7365 6c66 2c20 7661 6c75 653a  _id(self, value:
-00001cf0: 2073 7472 293a 0a20 2020 2020 2020 2073   str):.        s
-00001d00: 656c 662e 5f5f 706f 7369 7469 6f6e 5f73  elf.__position_s
-00001d10: 6f75 7263 655f 6964 203d 2076 616c 7565  ource_id = value
-00001d20: 0a0a 2020 2020 4070 726f 7065 7274 790a  ..    @property.
-00001d30: 2020 2020 6465 6620 706f 7369 7469 6f6e      def position
-00001d40: 5f73 6f75 7263 655f 7479 7065 2873 656c  _source_type(sel
-00001d50: 6629 202d 3e20 506f 7369 7469 6f6e 536f  f) -> PositionSo
-00001d60: 7572 6365 5479 7065 3a0a 2020 2020 2020  urceType:.      
-00001d70: 2020 7265 7475 726e 2073 656c 662e 5f5f    return self.__
-00001d80: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-00001d90: 7479 7065 0a0a 2020 2020 4070 6f73 6974  type..    @posit
-00001da0: 696f 6e5f 736f 7572 6365 5f74 7970 652e  ion_source_type.
-00001db0: 7365 7474 6572 0a20 2020 2064 6566 2070  setter.    def p
-00001dc0: 6f73 6974 696f 6e5f 736f 7572 6365 5f74  osition_source_t
-00001dd0: 7970 6528 7365 6c66 2c20 7661 6c75 653a  ype(self, value:
-00001de0: 2055 6e69 6f6e 5b73 7472 2c20 506f 7369   Union[str, Posi
-00001df0: 7469 6f6e 536f 7572 6365 5479 7065 5d29  tionSourceType])
-00001e00: 3a0a 2020 2020 2020 2020 7365 6c66 2e5f  :.        self._
-00001e10: 5f70 6f73 6974 696f 6e5f 736f 7572 6365  _position_source
-00001e20: 5f74 7970 6520 3d20 7661 6c75 6520 6966  _type = value if
-00001e30: 2069 7369 6e73 7461 6e63 6528 7661 6c75   isinstance(valu
-00001e40: 652c 2050 6f73 6974 696f 6e53 6f75 7263  e, PositionSourc
-00001e50: 6554 7970 6529 2065 6c73 6520 506f 7369  eType) else Posi
-00001e60: 7469 6f6e 536f 7572 6365 5479 7065 2876  tionSourceType(v
-00001e70: 616c 7565 290a 0a20 2020 2040 7072 6f70  alue)..    @prop
-00001e80: 6572 7479 0a20 2020 2064 6566 2074 7970  erty.    def typ
-00001e90: 6528 7365 6c66 2920 2d3e 2052 6570 6f72  e(self) -> Repor
-00001ea0: 7454 7970 653a 0a20 2020 2020 2020 2072  tType:.        r
-00001eb0: 6574 7572 6e20 7365 6c66 2e5f 5f74 7970  eturn self.__typ
-00001ec0: 650a 0a20 2020 2040 7479 7065 2e73 6574  e..    @type.set
-00001ed0: 7465 720a 2020 2020 6465 6620 7479 7065  ter.    def type
-00001ee0: 2873 656c 662c 2076 616c 7565 3a20 556e  (self, value: Un
-00001ef0: 696f 6e5b 7374 722c 2052 6570 6f72 7454  ion[str, ReportT
-00001f00: 7970 655d 293a 0a20 2020 2020 2020 2073  ype]):.        s
-00001f10: 656c 662e 5f5f 7479 7065 203d 2076 616c  elf.__type = val
-00001f20: 7565 2069 6620 6973 696e 7374 616e 6365  ue if isinstance
-00001f30: 2876 616c 7565 2c20 5265 706f 7274 5479  (value, ReportTy
-00001f40: 7065 2920 656c 7365 2052 6570 6f72 7454  pe) else ReportT
-00001f50: 7970 6528 7661 6c75 6529 0a0a 2020 2020  ype(value)..    
-00001f60: 4070 726f 7065 7274 790a 2020 2020 6465  @property.    de
-00001f70: 6620 7061 7261 6d65 7465 7273 2873 656c  f parameters(sel
-00001f80: 6629 202d 3e20 5265 706f 7274 5061 7261  f) -> ReportPara
-00001f90: 6d65 7465 7273 3a0a 2020 2020 2020 2020  meters:.        
-00001fa0: 7265 7475 726e 2073 656c 662e 5f5f 7061  return self.__pa
-00001fb0: 7261 6d65 7465 7273 0a0a 2020 2020 4070  rameters..    @p
-00001fc0: 6172 616d 6574 6572 732e 7365 7474 6572  arameters.setter
-00001fd0: 0a20 2020 2064 6566 2070 6172 616d 6574  .    def paramet
-00001fe0: 6572 7328 7365 6c66 2c20 7661 6c75 653a  ers(self, value:
-00001ff0: 2052 6570 6f72 7450 6172 616d 6574 6572   ReportParameter
-00002000: 7329 3a0a 2020 2020 2020 2020 7365 6c66  s):.        self
-00002010: 2e5f 5f70 6172 616d 6574 6572 7320 3d20  .__parameters = 
-00002020: 7661 6c75 650a 0a20 2020 2040 7072 6f70  value..    @prop
-00002030: 6572 7479 0a20 2020 2064 6566 2065 6172  erty.    def ear
-00002040: 6c69 6573 745f 7374 6172 745f 6461 7465  liest_start_date
-00002050: 2873 656c 6629 202d 3e20 6474 2e64 6174  (self) -> dt.dat
-00002060: 653a 0a20 2020 2020 2020 2072 6574 7572  e:.        retur
-00002070: 6e20 7365 6c66 2e5f 5f65 6172 6c69 6573  n self.__earlies
-00002080: 745f 7374 6172 745f 6461 7465 0a0a 2020  t_start_date..  
-00002090: 2020 4070 726f 7065 7274 790a 2020 2020    @property.    
-000020a0: 6465 6620 6c61 7465 7374 5f65 6e64 5f64  def latest_end_d
-000020b0: 6174 6528 7365 6c66 2920 2d3e 2064 742e  ate(self) -> dt.
-000020c0: 6461 7465 3a0a 2020 2020 2020 2020 7265  date:.        re
-000020d0: 7475 726e 2073 656c 662e 5f5f 6c61 7465  turn self.__late
-000020e0: 7374 5f65 6e64 5f64 6174 650a 0a20 2020  st_end_date..   
-000020f0: 2040 7072 6f70 6572 7479 0a20 2020 2064   @property.    d
-00002100: 6566 206c 6174 6573 745f 6578 6563 7574  ef latest_execut
-00002110: 696f 6e5f 7469 6d65 2873 656c 6629 202d  ion_time(self) -
-00002120: 3e20 6474 2e64 6174 6574 696d 653a 0a20  > dt.datetime:. 
-00002130: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00002140: 6c66 2e5f 5f6c 6174 6573 745f 6578 6563  lf.__latest_exec
-00002150: 7574 696f 6e5f 7469 6d65 0a0a 2020 2020  ution_time..    
-00002160: 4070 726f 7065 7274 790a 2020 2020 6465  @property.    de
-00002170: 6620 7374 6174 7573 2873 656c 6629 202d  f status(self) -
-00002180: 3e20 5265 706f 7274 5374 6174 7573 3a0a  > ReportStatus:.
-00002190: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-000021a0: 656c 662e 5f5f 7374 6174 7573 0a0a 2020  elf.__status..  
-000021b0: 2020 4070 726f 7065 7274 790a 2020 2020    @property.    
-000021c0: 6465 6620 7065 7263 656e 7461 6765 5f63  def percentage_c
-000021d0: 6f6d 706c 6574 6528 7365 6c66 2920 2d3e  omplete(self) ->
-000021e0: 2066 6c6f 6174 3a0a 2020 2020 2020 2020   float:.        
-000021f0: 7265 7475 726e 2073 656c 662e 5f5f 7065  return self.__pe
-00002200: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-00002210: 650a 0a20 2020 2040 636c 6173 736d 6574  e..    @classmet
-00002220: 686f 640a 2020 2020 6465 6620 6765 7428  hod.    def get(
-00002230: 636c 732c 0a20 2020 2020 2020 2020 2020  cls,.           
-00002240: 2072 6570 6f72 745f 6964 3a20 7374 722c   report_id: str,
-00002250: 0a20 2020 2020 2020 2020 2020 2061 6363  .            acc
-00002260: 6570 7461 626c 655f 7479 7065 733a 204c  eptable_types: L
-00002270: 6973 745b 5265 706f 7274 5479 7065 5d20  ist[ReportType] 
-00002280: 3d20 4e6f 6e65 293a 0a20 2020 2020 2020  = None):.       
-00002290: 2072 6574 7572 6e20 636c 732e 6672 6f6d   return cls.from
-000022a0: 5f74 6172 6765 7428 4773 5265 706f 7274  _target(GsReport
-000022b0: 4170 692e 6765 745f 7265 706f 7274 2872  Api.get_report(r
-000022c0: 6570 6f72 745f 6964 2929 0a0a 2020 2020  eport_id))..    
-000022d0: 4063 6c61 7373 6d65 7468 6f64 0a20 2020  @classmethod.   
-000022e0: 2064 6566 2066 726f 6d5f 7461 7267 6574   def from_target
-000022f0: 2863 6c73 2c0a 2020 2020 2020 2020 2020  (cls,.          
-00002300: 2020 2020 2020 2020 2020 7265 706f 7274            report
-00002310: 3a20 5461 7267 6574 5265 706f 7274 293a  : TargetReport):
-00002320: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00002330: 5265 706f 7274 2872 6570 6f72 745f 6964  Report(report_id
-00002340: 3d72 6570 6f72 742e 6964 2c0a 2020 2020  =report.id,.    
-00002350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002360: 2020 6e61 6d65 3d72 6570 6f72 742e 6e61    name=report.na
-00002370: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-00002380: 2020 2020 2020 2020 2020 706f 7369 7469            positi
-00002390: 6f6e 5f73 6f75 7263 655f 6964 3d72 6570  on_source_id=rep
-000023a0: 6f72 742e 706f 7369 7469 6f6e 5f73 6f75  ort.position_sou
-000023b0: 7263 655f 6964 2c0a 2020 2020 2020 2020  rce_id,.        
-000023c0: 2020 2020 2020 2020 2020 2020 2020 706f                po
-000023d0: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
-000023e0: 7065 3d72 6570 6f72 742e 706f 7369 7469  pe=report.positi
-000023f0: 6f6e 5f73 6f75 7263 655f 7479 7065 2c0a  on_source_type,.
-00002400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002410: 2020 2020 2020 7265 706f 7274 5f74 7970        report_typ
-00002420: 653d 7265 706f 7274 2e74 7970 652c 0a20  e=report.type,. 
+000013e0: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
+000013f0: 7465 3d73 656c 662e 5f5f 7374 6172 745f  te=self.__start_
+00001400: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
+00001410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001420: 2020 2020 656e 645f 6461 7465 3d73 656c      end_date=sel
+00001430: 662e 5f5f 656e 645f 6461 7465 290a 2020  f.__end_date).  
+00001440: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+00001450: 7320 3d20 4773 4461 7461 4170 692e 7175  s = GsDataApi.qu
+00001460: 6572 795f 6461 7461 2871 7565 7279 3d71  ery_data(query=q
+00001470: 7565 7279 2c20 6461 7461 7365 745f 6964  uery, dataset_id
+00001480: 3d52 6570 6f72 7444 6174 6173 6574 2e50  =ReportDataset.P
+00001490: 5041 5f44 4154 4153 4554 2e76 616c 7565  PA_DATASET.value
+000014a0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000014b0: 7475 726e 2070 642e 4461 7461 4672 616d  turn pd.DataFram
+000014c0: 6528 7265 7375 6c74 7329 0a20 2020 2020  e(results).     
+000014d0: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
+000014e0: 0a63 6c61 7373 2052 6570 6f72 743a 0a20  .class Report:. 
+000014f0: 2020 2022 2222 4765 6e65 7261 6c20 7265     """General re
+00001500: 706f 7274 2063 6c61 7373 2222 220a 0a20  port class""".. 
+00001510: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00001520: 7365 6c66 2c0a 2020 2020 2020 2020 2020  self,.          
+00001530: 2020 2020 2020 2072 6570 6f72 745f 6964         report_id
+00001540: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00001550: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00001560: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
+00001570: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001580: 2020 706f 7369 7469 6f6e 5f73 6f75 7263    position_sourc
+00001590: 655f 6964 3a20 7374 7220 3d20 4e6f 6e65  e_id: str = None
+000015a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000015b0: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
+000015c0: 6365 5f74 7970 653a 2055 6e69 6f6e 5b73  ce_type: Union[s
+000015d0: 7472 2c20 506f 7369 7469 6f6e 536f 7572  tr, PositionSour
+000015e0: 6365 5479 7065 5d20 3d20 4e6f 6e65 2c0a  ceType] = None,.
+000015f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001600: 2072 6570 6f72 745f 7479 7065 3a20 556e   report_type: Un
+00001610: 696f 6e5b 7374 722c 2052 6570 6f72 7454  ion[str, ReportT
+00001620: 7970 655d 203d 204e 6f6e 652c 0a20 2020  ype] = None,.   
+00001630: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+00001640: 7261 6d65 7465 7273 3a20 5265 706f 7274  rameters: Report
+00001650: 5061 7261 6d65 7465 7273 203d 204e 6f6e  Parameters = Non
+00001660: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00001670: 2020 2020 6561 726c 6965 7374 5f73 7461      earliest_sta
+00001680: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
+00001690: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000016a0: 2020 2020 2020 2020 2020 6c61 7465 7374            latest
+000016b0: 5f65 6e64 5f64 6174 653a 2064 742e 6461  _end_date: dt.da
+000016c0: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
+000016d0: 2020 2020 2020 2020 2020 2020 6c61 7465              late
+000016e0: 7374 5f65 7865 6375 7469 6f6e 5f74 696d  st_execution_tim
+000016f0: 653a 2064 742e 6461 7465 7469 6d65 203d  e: dt.datetime =
+00001700: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00001710: 2020 2020 2020 2020 7374 6174 7573 3a20          status: 
+00001720: 556e 696f 6e5b 7374 722c 2052 6570 6f72  Union[str, Repor
+00001730: 7453 7461 7475 735d 203d 2052 6570 6f72  tStatus] = Repor
+00001740: 7453 7461 7475 732e 6e65 772c 0a20 2020  tStatus.new,.   
+00001750: 2020 2020 2020 2020 2020 2020 2020 7065                pe
+00001760: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
+00001770: 653a 2066 6c6f 6174 203d 204e 6f6e 6529  e: float = None)
+00001780: 3a0a 2020 2020 2020 2020 7365 6c66 2e5f  :.        self._
+00001790: 5f69 6420 3d20 7265 706f 7274 5f69 640a  _id = report_id.
+000017a0: 2020 2020 2020 2020 7365 6c66 2e5f 5f6e          self.__n
+000017b0: 616d 6520 3d20 6e61 6d65 0a20 2020 2020  ame = name.     
+000017c0: 2020 2073 656c 662e 5f5f 706f 7369 7469     self.__positi
+000017d0: 6f6e 5f73 6f75 7263 655f 6964 203d 2070  on_source_id = p
+000017e0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
+000017f0: 640a 2020 2020 2020 2020 7365 6c66 2e5f  d.        self._
+00001800: 5f70 6f73 6974 696f 6e5f 736f 7572 6365  _position_source
+00001810: 5f74 7970 6520 3d20 706f 7369 7469 6f6e  _type = position
+00001820: 5f73 6f75 7263 655f 7479 7065 205c 0a20  _source_type \. 
+00001830: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+00001840: 696e 7374 616e 6365 2870 6f73 6974 696f  instance(positio
+00001850: 6e5f 736f 7572 6365 5f74 7970 652c 2050  n_source_type, P
+00001860: 6f73 6974 696f 6e53 6f75 7263 6554 7970  ositionSourceTyp
+00001870: 6529 206f 7220 706f 7369 7469 6f6e 5f73  e) or position_s
+00001880: 6f75 7263 655f 7479 7065 2069 7320 4e6f  ource_type is No
+00001890: 6e65 205c 0a20 2020 2020 2020 2020 2020  ne \.           
+000018a0: 2065 6c73 6520 506f 7369 7469 6f6e 536f   else PositionSo
+000018b0: 7572 6365 5479 7065 2870 6f73 6974 696f  urceType(positio
+000018c0: 6e5f 736f 7572 6365 5f74 7970 6529 0a20  n_source_type). 
+000018d0: 2020 2020 2020 2073 656c 662e 5f5f 7479         self.__ty
+000018e0: 7065 203d 2072 6570 6f72 745f 7479 7065  pe = report_type
+000018f0: 2069 6620 6973 696e 7374 616e 6365 2872   if isinstance(r
+00001900: 6570 6f72 745f 7479 7065 2c20 5265 706f  eport_type, Repo
+00001910: 7274 5479 7065 2920 6f72 2072 6570 6f72  rtType) or repor
+00001920: 745f 7479 7065 2069 7320 4e6f 6e65 205c  t_type is None \
+00001930: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00001940: 6520 5265 706f 7274 5479 7065 2872 6570  e ReportType(rep
+00001950: 6f72 745f 7479 7065 290a 2020 2020 2020  ort_type).      
+00001960: 2020 7365 6c66 2e5f 5f70 6172 616d 6574    self.__paramet
+00001970: 6572 7320 3d20 7061 7261 6d65 7465 7273  ers = parameters
+00001980: 0a20 2020 2020 2020 2073 656c 662e 5f5f  .        self.__
+00001990: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
+000019a0: 6174 6520 3d20 6561 726c 6965 7374 5f73  ate = earliest_s
+000019b0: 7461 7274 5f64 6174 650a 2020 2020 2020  tart_date.      
+000019c0: 2020 7365 6c66 2e5f 5f6c 6174 6573 745f    self.__latest_
+000019d0: 656e 645f 6461 7465 203d 206c 6174 6573  end_date = lates
+000019e0: 745f 656e 645f 6461 7465 0a20 2020 2020  t_end_date.     
+000019f0: 2020 2073 656c 662e 5f5f 6c61 7465 7374     self.__latest
+00001a00: 5f65 7865 6375 7469 6f6e 5f74 696d 6520  _execution_time 
+00001a10: 3d20 6c61 7465 7374 5f65 7865 6375 7469  = latest_executi
+00001a20: 6f6e 5f74 696d 650a 2020 2020 2020 2020  on_time.        
+00001a30: 7365 6c66 2e5f 5f73 7461 7475 7320 3d20  self.__status = 
+00001a40: 7374 6174 7573 2069 6620 6973 696e 7374  status if isinst
+00001a50: 616e 6365 2873 7461 7475 732c 2052 6570  ance(status, Rep
+00001a60: 6f72 7453 7461 7475 7329 2065 6c73 6520  ortStatus) else 
+00001a70: 5265 706f 7274 5374 6174 7573 2873 7461  ReportStatus(sta
+00001a80: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+00001a90: 662e 5f5f 7065 7263 656e 7461 6765 5f63  f.__percentage_c
+00001aa0: 6f6d 706c 6574 6520 3d20 7065 7263 656e  omplete = percen
+00001ab0: 7461 6765 5f63 6f6d 706c 6574 650a 0a20  tage_complete.. 
+00001ac0: 2020 2040 7072 6f70 6572 7479 0a20 2020     @property.   
+00001ad0: 2064 6566 2069 6428 7365 6c66 2920 2d3e   def id(self) ->
+00001ae0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+00001af0: 7475 726e 2073 656c 662e 5f5f 6964 0a0a  turn self.__id..
+00001b00: 2020 2020 4070 726f 7065 7274 790a 2020      @property.  
+00001b10: 2020 6465 6620 6e61 6d65 2873 656c 6629    def name(self)
+00001b20: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
+00001b30: 2072 6574 7572 6e20 7365 6c66 2e5f 5f6e   return self.__n
+00001b40: 616d 650a 0a20 2020 2040 7072 6f70 6572  ame..    @proper
+00001b50: 7479 0a20 2020 2064 6566 2070 6f73 6974  ty.    def posit
+00001b60: 696f 6e5f 736f 7572 6365 5f69 6428 7365  ion_source_id(se
+00001b70: 6c66 2920 2d3e 2073 7472 3a0a 2020 2020  lf) -> str:.    
+00001b80: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00001b90: 5f5f 706f 7369 7469 6f6e 5f73 6f75 7263  __position_sourc
+00001ba0: 655f 6964 0a0a 2020 2020 4070 6f73 6974  e_id..    @posit
+00001bb0: 696f 6e5f 736f 7572 6365 5f69 642e 7365  ion_source_id.se
+00001bc0: 7474 6572 0a20 2020 2064 6566 2070 6f73  tter.    def pos
+00001bd0: 6974 696f 6e5f 736f 7572 6365 5f69 6428  ition_source_id(
+00001be0: 7365 6c66 2c20 7661 6c75 653a 2073 7472  self, value: str
+00001bf0: 293a 0a20 2020 2020 2020 2073 656c 662e  ):.        self.
+00001c00: 5f5f 706f 7369 7469 6f6e 5f73 6f75 7263  __position_sourc
+00001c10: 655f 6964 203d 2076 616c 7565 0a0a 2020  e_id = value..  
+00001c20: 2020 4070 726f 7065 7274 790a 2020 2020    @property.    
+00001c30: 6465 6620 706f 7369 7469 6f6e 5f73 6f75  def position_sou
+00001c40: 7263 655f 7479 7065 2873 656c 6629 202d  rce_type(self) -
+00001c50: 3e20 506f 7369 7469 6f6e 536f 7572 6365  > PositionSource
+00001c60: 5479 7065 3a0a 2020 2020 2020 2020 7265  Type:.        re
+00001c70: 7475 726e 2073 656c 662e 5f5f 706f 7369  turn self.__posi
+00001c80: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+00001c90: 0a0a 2020 2020 4070 6f73 6974 696f 6e5f  ..    @position_
+00001ca0: 736f 7572 6365 5f74 7970 652e 7365 7474  source_type.sett
+00001cb0: 6572 0a20 2020 2064 6566 2070 6f73 6974  er.    def posit
+00001cc0: 696f 6e5f 736f 7572 6365 5f74 7970 6528  ion_source_type(
+00001cd0: 7365 6c66 2c20 7661 6c75 653a 2055 6e69  self, value: Uni
+00001ce0: 6f6e 5b73 7472 2c20 506f 7369 7469 6f6e  on[str, Position
+00001cf0: 536f 7572 6365 5479 7065 5d29 3a0a 2020  SourceType]):.  
+00001d00: 2020 2020 2020 7365 6c66 2e5f 5f70 6f73        self.__pos
+00001d10: 6974 696f 6e5f 736f 7572 6365 5f74 7970  ition_source_typ
+00001d20: 6520 3d20 7661 6c75 6520 6966 2069 7369  e = value if isi
+00001d30: 6e73 7461 6e63 6528 7661 6c75 652c 2050  nstance(value, P
+00001d40: 6f73 6974 696f 6e53 6f75 7263 6554 7970  ositionSourceTyp
+00001d50: 6529 2065 6c73 6520 506f 7369 7469 6f6e  e) else Position
+00001d60: 536f 7572 6365 5479 7065 2876 616c 7565  SourceType(value
+00001d70: 290a 0a20 2020 2040 7072 6f70 6572 7479  )..    @property
+00001d80: 0a20 2020 2064 6566 2074 7970 6528 7365  .    def type(se
+00001d90: 6c66 2920 2d3e 2052 6570 6f72 7454 7970  lf) -> ReportTyp
+00001da0: 653a 0a20 2020 2020 2020 2072 6574 7572  e:.        retur
+00001db0: 6e20 7365 6c66 2e5f 5f74 7970 650a 0a20  n self.__type.. 
+00001dc0: 2020 2040 7479 7065 2e73 6574 7465 720a     @type.setter.
+00001dd0: 2020 2020 6465 6620 7479 7065 2873 656c      def type(sel
+00001de0: 662c 2076 616c 7565 3a20 556e 696f 6e5b  f, value: Union[
+00001df0: 7374 722c 2052 6570 6f72 7454 7970 655d  str, ReportType]
+00001e00: 293a 0a20 2020 2020 2020 2073 656c 662e  ):.        self.
+00001e10: 5f5f 7479 7065 203d 2076 616c 7565 2069  __type = value i
+00001e20: 6620 6973 696e 7374 616e 6365 2876 616c  f isinstance(val
+00001e30: 7565 2c20 5265 706f 7274 5479 7065 2920  ue, ReportType) 
+00001e40: 656c 7365 2052 6570 6f72 7454 7970 6528  else ReportType(
+00001e50: 7661 6c75 6529 0a0a 2020 2020 4070 726f  value)..    @pro
+00001e60: 7065 7274 790a 2020 2020 6465 6620 7061  perty.    def pa
+00001e70: 7261 6d65 7465 7273 2873 656c 6629 202d  rameters(self) -
+00001e80: 3e20 5265 706f 7274 5061 7261 6d65 7465  > ReportParamete
+00001e90: 7273 3a0a 2020 2020 2020 2020 7265 7475  rs:.        retu
+00001ea0: 726e 2073 656c 662e 5f5f 7061 7261 6d65  rn self.__parame
+00001eb0: 7465 7273 0a0a 2020 2020 4070 6172 616d  ters..    @param
+00001ec0: 6574 6572 732e 7365 7474 6572 0a20 2020  eters.setter.   
+00001ed0: 2064 6566 2070 6172 616d 6574 6572 7328   def parameters(
+00001ee0: 7365 6c66 2c20 7661 6c75 653a 2052 6570  self, value: Rep
+00001ef0: 6f72 7450 6172 616d 6574 6572 7329 3a0a  ortParameters):.
+00001f00: 2020 2020 2020 2020 7365 6c66 2e5f 5f70          self.__p
+00001f10: 6172 616d 6574 6572 7320 3d20 7661 6c75  arameters = valu
+00001f20: 650a 0a20 2020 2040 7072 6f70 6572 7479  e..    @property
+00001f30: 0a20 2020 2064 6566 2065 6172 6c69 6573  .    def earlies
+00001f40: 745f 7374 6172 745f 6461 7465 2873 656c  t_start_date(sel
+00001f50: 6629 202d 3e20 6474 2e64 6174 653a 0a20  f) -> dt.date:. 
+00001f60: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00001f70: 6c66 2e5f 5f65 6172 6c69 6573 745f 7374  lf.__earliest_st
+00001f80: 6172 745f 6461 7465 0a0a 2020 2020 4070  art_date..    @p
+00001f90: 726f 7065 7274 790a 2020 2020 6465 6620  roperty.    def 
+00001fa0: 6c61 7465 7374 5f65 6e64 5f64 6174 6528  latest_end_date(
+00001fb0: 7365 6c66 2920 2d3e 2064 742e 6461 7465  self) -> dt.date
+00001fc0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00001fd0: 2073 656c 662e 5f5f 6c61 7465 7374 5f65   self.__latest_e
+00001fe0: 6e64 5f64 6174 650a 0a20 2020 2040 7072  nd_date..    @pr
+00001ff0: 6f70 6572 7479 0a20 2020 2064 6566 206c  operty.    def l
+00002000: 6174 6573 745f 6578 6563 7574 696f 6e5f  atest_execution_
+00002010: 7469 6d65 2873 656c 6629 202d 3e20 6474  time(self) -> dt
+00002020: 2e64 6174 6574 696d 653a 0a20 2020 2020  .datetime:.     
+00002030: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+00002040: 5f6c 6174 6573 745f 6578 6563 7574 696f  _latest_executio
+00002050: 6e5f 7469 6d65 0a0a 2020 2020 4070 726f  n_time..    @pro
+00002060: 7065 7274 790a 2020 2020 6465 6620 7374  perty.    def st
+00002070: 6174 7573 2873 656c 6629 202d 3e20 5265  atus(self) -> Re
+00002080: 706f 7274 5374 6174 7573 3a0a 2020 2020  portStatus:.    
+00002090: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+000020a0: 5f5f 7374 6174 7573 0a0a 2020 2020 4070  __status..    @p
+000020b0: 726f 7065 7274 790a 2020 2020 6465 6620  roperty.    def 
+000020c0: 7065 7263 656e 7461 6765 5f63 6f6d 706c  percentage_compl
+000020d0: 6574 6528 7365 6c66 2920 2d3e 2066 6c6f  ete(self) -> flo
+000020e0: 6174 3a0a 2020 2020 2020 2020 7265 7475  at:.        retu
+000020f0: 726e 2073 656c 662e 5f5f 7065 7263 656e  rn self.__percen
+00002100: 7461 6765 5f63 6f6d 706c 6574 650a 0a20  tage_complete.. 
+00002110: 2020 2040 636c 6173 736d 6574 686f 640a     @classmethod.
+00002120: 2020 2020 6465 6620 6765 7428 636c 732c      def get(cls,
+00002130: 0a20 2020 2020 2020 2020 2020 2072 6570  .            rep
+00002140: 6f72 745f 6964 3a20 7374 722c 0a20 2020  ort_id: str,.   
+00002150: 2020 2020 2020 2020 2061 6363 6570 7461           accepta
+00002160: 626c 655f 7479 7065 733a 204c 6973 745b  ble_types: List[
+00002170: 5265 706f 7274 5479 7065 5d20 3d20 4e6f  ReportType] = No
+00002180: 6e65 293a 0a20 2020 2020 2020 2072 6574  ne):.        ret
+00002190: 7572 6e20 636c 732e 6672 6f6d 5f74 6172  urn cls.from_tar
+000021a0: 6765 7428 4773 5265 706f 7274 4170 692e  get(GsReportApi.
+000021b0: 6765 745f 7265 706f 7274 2872 6570 6f72  get_report(repor
+000021c0: 745f 6964 2929 0a0a 2020 2020 4063 6c61  t_id))..    @cla
+000021d0: 7373 6d65 7468 6f64 0a20 2020 2064 6566  ssmethod.    def
+000021e0: 2066 726f 6d5f 7461 7267 6574 2863 6c73   from_target(cls
+000021f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00002200: 2020 2020 2020 7265 706f 7274 3a20 5461        report: Ta
+00002210: 7267 6574 5265 706f 7274 293a 0a20 2020  rgetReport):.   
+00002220: 2020 2020 2072 6574 7572 6e20 5265 706f       return Repo
+00002230: 7274 2872 6570 6f72 745f 6964 3d72 6570  rt(report_id=rep
+00002240: 6f72 742e 6964 2c0a 2020 2020 2020 2020  ort.id,.        
+00002250: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00002260: 6d65 3d72 6570 6f72 742e 6e61 6d65 2c0a  me=report.name,.
+00002270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002280: 2020 2020 2020 706f 7369 7469 6f6e 5f73        position_s
+00002290: 6f75 7263 655f 6964 3d72 6570 6f72 742e  ource_id=report.
+000022a0: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+000022b0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+000022c0: 2020 2020 2020 2020 2020 706f 7369 7469            positi
+000022d0: 6f6e 5f73 6f75 7263 655f 7479 7065 3d72  on_source_type=r
+000022e0: 6570 6f72 742e 706f 7369 7469 6f6e 5f73  eport.position_s
+000022f0: 6f75 7263 655f 7479 7065 2c0a 2020 2020  ource_type,.    
+00002300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002310: 2020 7265 706f 7274 5f74 7970 653d 7265    report_type=re
+00002320: 706f 7274 2e74 7970 652c 0a20 2020 2020  port.type,.     
+00002330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002340: 2070 6172 616d 6574 6572 733d 7265 706f   parameters=repo
+00002350: 7274 2e70 6172 616d 6574 6572 732c 0a20  rt.parameters,. 
+00002360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002370: 2020 2020 2065 6172 6c69 6573 745f 7374       earliest_st
+00002380: 6172 745f 6461 7465 3d72 6570 6f72 742e  art_date=report.
+00002390: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
+000023a0: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
+000023b0: 2020 2020 2020 2020 2020 206c 6174 6573             lates
+000023c0: 745f 656e 645f 6461 7465 3d72 6570 6f72  t_end_date=repor
+000023d0: 742e 6c61 7465 7374 5f65 6e64 5f64 6174  t.latest_end_dat
+000023e0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+000023f0: 2020 2020 2020 2020 206c 6174 6573 745f           latest_
+00002400: 6578 6563 7574 696f 6e5f 7469 6d65 3d72  execution_time=r
+00002410: 6570 6f72 742e 6c61 7465 7374 5f65 7865  eport.latest_exe
+00002420: 6375 7469 6f6e 5f74 696d 652c 0a20 2020  cution_time,.   
 00002430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002440: 2020 2020 2070 6172 616d 6574 6572 733d       parameters=
-00002450: 7265 706f 7274 2e70 6172 616d 6574 6572  report.parameter
-00002460: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-00002470: 2020 2020 2020 2020 2065 6172 6c69 6573           earlies
-00002480: 745f 7374 6172 745f 6461 7465 3d72 6570  t_start_date=rep
-00002490: 6f72 742e 6561 726c 6965 7374 5f73 7461  ort.earliest_sta
-000024a0: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
-000024b0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-000024c0: 6174 6573 745f 656e 645f 6461 7465 3d72  atest_end_date=r
-000024d0: 6570 6f72 742e 6c61 7465 7374 5f65 6e64  eport.latest_end
-000024e0: 5f64 6174 652c 0a20 2020 2020 2020 2020  _date,.         
-000024f0: 2020 2020 2020 2020 2020 2020 206c 6174               lat
-00002500: 6573 745f 6578 6563 7574 696f 6e5f 7469  est_execution_ti
-00002510: 6d65 3d72 6570 6f72 742e 6c61 7465 7374  me=report.latest
-00002520: 5f65 7865 6375 7469 6f6e 5f74 696d 652c  _execution_time,
-00002530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002540: 2020 2020 2020 2073 7461 7475 733d 7265         status=re
-00002550: 706f 7274 2e73 7461 7475 732c 0a20 2020  port.status,.   
-00002560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002570: 2020 2070 6572 6365 6e74 6167 655f 636f     percentage_co
-00002580: 6d70 6c65 7465 3d72 6570 6f72 742e 7065  mplete=report.pe
-00002590: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-000025a0: 6529 0a0a 2020 2020 6465 6620 7361 7665  e)..    def save
-000025b0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000025c0: 2222 2220 4372 6561 7465 2061 2072 6570  """ Create a rep
-000025d0: 6f72 7420 696e 204d 6172 7175 6565 2069  ort in Marquee i
-000025e0: 6620 6974 2064 6f65 736e 2774 2065 7869  f it doesn't exi
-000025f0: 7374 2e20 5570 6461 7465 2074 6865 2072  st. Update the r
-00002600: 6570 6f72 7420 6966 2069 7420 646f 6573  eport if it does
-00002610: 2e20 2222 220a 2020 2020 2020 2020 7461  . """.        ta
-00002620: 7267 6574 5f72 6570 6f72 7420 3d20 5461  rget_report = Ta
-00002630: 7267 6574 5265 706f 7274 286e 616d 653d  rgetReport(name=
-00002640: 7365 6c66 2e6e 616d 652c 0a20 2020 2020  self.name,.     
-00002650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002670: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-00002680: 6964 3d73 656c 662e 706f 7369 7469 6f6e  id=self.position
-00002690: 5f73 6f75 7263 655f 6964 2c0a 2020 2020  _source_id,.    
-000026a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000026b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000026c0: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-000026d0: 5f74 7970 653d 7365 6c66 2e70 6f73 6974  _type=self.posit
-000026e0: 696f 6e5f 736f 7572 6365 5f74 7970 652c  ion_source_type,
-000026f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002710: 2020 2020 2020 7479 7065 5f3d 7365 6c66        type_=self
-00002720: 2e74 7970 652c 0a20 2020 2020 2020 2020  .type,.         
-00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002740: 2020 2020 2020 2020 2020 2020 7061 7261              para
-00002750: 6d65 7465 7273 3d73 656c 662e 7061 7261  meters=self.para
-00002760: 6d65 7465 7273 2069 6620 7365 6c66 2e70  meters if self.p
-00002770: 6172 616d 6574 6572 7320 656c 7365 2052  arameters else R
-00002780: 6570 6f72 7450 6172 616d 6574 6572 7328  eportParameters(
-00002790: 2929 0a20 2020 2020 2020 2069 6620 7365  )).        if se
-000027a0: 6c66 2e69 643a 0a20 2020 2020 2020 2020  lf.id:.         
-000027b0: 2020 2074 6172 6765 745f 7265 706f 7274     target_report
-000027c0: 2e69 6420 3d20 7365 6c66 2e69 640a 2020  .id = self.id.  
-000027d0: 2020 2020 2020 2020 2020 4773 5265 706f            GsRepo
-000027e0: 7274 4170 692e 7570 6461 7465 5f72 6570  rtApi.update_rep
-000027f0: 6f72 7428 7461 7267 6574 5f72 6570 6f72  ort(target_repor
-00002800: 7429 0a20 2020 2020 2020 2065 6c73 653a  t).        else:
-00002810: 0a20 2020 2020 2020 2020 2020 2072 6570  .            rep
-00002820: 6f72 7420 3d20 4773 5265 706f 7274 4170  ort = GsReportAp
-00002830: 692e 6372 6561 7465 5f72 6570 6f72 7428  i.create_report(
-00002840: 7461 7267 6574 5f72 6570 6f72 7429 0a20  target_report). 
-00002850: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00002860: 5f5f 6964 203d 2072 6570 6f72 742e 6964  __id = report.id
-00002870: 0a0a 2020 2020 6465 6620 6465 6c65 7465  ..    def delete
-00002880: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00002890: 2222 2220 4465 6c65 7465 2061 2072 6570  """ Delete a rep
-000028a0: 6f72 7420 6672 6f6d 204d 6172 7175 6565  ort from Marquee
-000028b0: 2222 220a 2020 2020 2020 2020 4773 5265  """.        GsRe
-000028c0: 706f 7274 4170 692e 6465 6c65 7465 5f72  portApi.delete_r
-000028d0: 6570 6f72 7428 7365 6c66 2e69 6429 0a0a  eport(self.id)..
-000028e0: 2020 2020 6465 6620 7365 745f 706f 7369      def set_posi
-000028f0: 7469 6f6e 5f73 6f75 7263 6528 7365 6c66  tion_source(self
-00002900: 2c20 656e 7469 7479 5f69 643a 2073 7472  , entity_id: str
-00002910: 293a 0a20 2020 2020 2020 2022 2222 2053  ):.        """ S
-00002920: 6574 2070 6f73 6974 696f 6e20 736f 7572  et position sour
-00002930: 6365 2074 7970 6520 616e 6420 706f 7369  ce type and posi
-00002940: 7469 6f6e 2073 6f75 7263 6520 4944 2022  tion source ID "
-00002950: 2222 0a20 2020 2020 2020 2069 735f 706f  "".        is_po
-00002960: 7274 666f 6c69 6f20 3d20 656e 7469 7479  rtfolio = entity
-00002970: 5f69 642e 7374 6172 7473 7769 7468 2827  _id.startswith('
-00002980: 4d50 2729 0a20 2020 2020 2020 2073 656c  MP').        sel
-00002990: 662e 706f 7369 7469 6f6e 5f73 6f75 7263  f.position_sourc
-000029a0: 655f 7479 7065 203d 2027 506f 7274 666f  e_type = 'Portfo
-000029b0: 6c69 6f27 2069 6620 6973 5f70 6f72 7466  lio' if is_portf
-000029c0: 6f6c 696f 2065 6c73 6520 2741 7373 6574  olio else 'Asset
-000029d0: 270a 2020 2020 2020 2020 7365 6c66 2e70  '.        self.p
-000029e0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-000029f0: 6420 3d20 656e 7469 7479 5f69 640a 2020  d = entity_id.  
-00002a00: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00002a10: 6e63 6528 7365 6c66 2c20 4661 6374 6f72  nce(self, Factor
-00002a20: 5269 736b 5265 706f 7274 293a 0a20 2020  RiskReport):.   
-00002a30: 2020 2020 2020 2020 2073 656c 662e 7479           self.ty
-00002a40: 7065 203d 2052 6570 6f72 7454 7970 652e  pe = ReportType.
-00002a50: 506f 7274 666f 6c69 6f5f 4661 6374 6f72  Portfolio_Factor
-00002a60: 5f52 6973 6b20 6966 2069 735f 706f 7274  _Risk if is_port
-00002a70: 666f 6c69 6f20 656c 7365 2052 6570 6f72  folio else Repor
-00002a80: 7454 7970 652e 4173 7365 745f 4661 6374  tType.Asset_Fact
-00002a90: 6f72 5f52 6973 6b0a 2020 2020 2020 2020  or_Risk.        
-00002aa0: 6966 2069 7369 6e73 7461 6e63 6528 7365  if isinstance(se
-00002ab0: 6c66 2c20 5468 656d 6174 6963 5265 706f  lf, ThematicRepo
-00002ac0: 7274 293a 0a20 2020 2020 2020 2020 2020  rt):.           
-00002ad0: 2073 656c 662e 7479 7065 203d 2052 6570   self.type = Rep
-00002ae0: 6f72 7454 7970 652e 506f 7274 666f 6c69  ortType.Portfoli
-00002af0: 6f5f 5468 656d 6174 6963 5f41 6e61 6c79  o_Thematic_Analy
-00002b00: 7469 6373 2069 6620 6973 5f70 6f72 7466  tics if is_portf
-00002b10: 6f6c 696f 2065 6c73 6520 5265 706f 7274  olio else Report
-00002b20: 5479 7065 2e41 7373 6574 5f54 6865 6d61  Type.Asset_Thema
-00002b30: 7469 635f 416e 616c 7974 6963 730a 0a20  tic_Analytics.. 
-00002b40: 2020 2064 6566 2067 6574 5f6d 6f73 745f     def get_most_
-00002b50: 7265 6365 6e74 5f6a 6f62 2873 656c 6629  recent_job(self)
-00002b60: 3a0a 2020 2020 2020 2020 2222 2220 5265  :.        """ Re
-00002b70: 7472 6965 7665 2074 6865 206d 6f73 7420  trieve the most 
-00002b80: 6375 7272 656e 7420 7265 706f 7274 206a  current report j
-00002b90: 6f62 2022 2222 0a20 2020 2020 2020 206a  ob """.        j
-00002ba0: 6f62 7320 3d20 4773 5265 706f 7274 4170  obs = GsReportAp
-00002bb0: 692e 6765 745f 7265 706f 7274 5f6a 6f62  i.get_report_job
-00002bc0: 7328 7365 6c66 2e69 6429 0a20 2020 2020  s(self.id).     
-00002bd0: 2020 206d 6f73 745f 6375 7272 656e 745f     most_current_
-00002be0: 6a6f 6220 3d20 736f 7274 6564 286a 6f62  job = sorted(job
-00002bf0: 732c 206b 6579 3d6c 616d 6264 6120 693a  s, key=lambda i:
-00002c00: 2069 5b27 6372 6561 7465 6454 696d 6527   i['createdTime'
-00002c10: 5d2c 2072 6576 6572 7365 3d54 7275 6529  ], reverse=True)
-00002c20: 5b30 5d0a 2020 2020 2020 2020 7265 7475  [0].        retu
-00002c30: 726e 2052 6570 6f72 744a 6f62 4675 7475  rn ReportJobFutu
-00002c40: 7265 2872 6570 6f72 745f 6964 3d73 656c  re(report_id=sel
-00002c50: 662e 6964 2c0a 2020 2020 2020 2020 2020  f.id,.          
+00002440: 2020 2073 7461 7475 733d 7265 706f 7274     status=report
+00002450: 2e73 7461 7475 732c 0a20 2020 2020 2020  .status,.       
+00002460: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00002470: 6572 6365 6e74 6167 655f 636f 6d70 6c65  ercentage_comple
+00002480: 7465 3d72 6570 6f72 742e 7065 7263 656e  te=report.percen
+00002490: 7461 6765 5f63 6f6d 706c 6574 6529 0a0a  tage_complete)..
+000024a0: 2020 2020 6465 6620 7361 7665 2873 656c      def save(sel
+000024b0: 6629 3a0a 2020 2020 2020 2020 2222 2220  f):.        """ 
+000024c0: 4372 6561 7465 2061 2072 6570 6f72 7420  Create a report 
+000024d0: 696e 204d 6172 7175 6565 2069 6620 6974  in Marquee if it
+000024e0: 2064 6f65 736e 2774 2065 7869 7374 2e20   doesn't exist. 
+000024f0: 5570 6461 7465 2074 6865 2072 6570 6f72  Update the repor
+00002500: 7420 6966 2069 7420 646f 6573 2e20 2222  t if it does. ""
+00002510: 220a 2020 2020 2020 2020 7461 7267 6574  ".        target
+00002520: 5f72 6570 6f72 7420 3d20 5461 7267 6574  _report = Target
+00002530: 5265 706f 7274 286e 616d 653d 7365 6c66  Report(name=self
+00002540: 2e6e 616d 652c 0a20 2020 2020 2020 2020  .name,.         
+00002550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002560: 2020 2020 2020 2020 2020 2020 706f 7369              posi
+00002570: 7469 6f6e 5f73 6f75 7263 655f 6964 3d73  tion_source_id=s
+00002580: 656c 662e 706f 7369 7469 6f6e 5f73 6f75  elf.position_sou
+00002590: 7263 655f 6964 2c0a 2020 2020 2020 2020  rce_id,.        
+000025a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000025b0: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
+000025c0: 6974 696f 6e5f 736f 7572 6365 5f74 7970  ition_source_typ
+000025d0: 653d 7365 6c66 2e70 6f73 6974 696f 6e5f  e=self.position_
+000025e0: 736f 7572 6365 5f74 7970 652c 0a20 2020  source_type,.   
+000025f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002610: 2020 7479 7065 5f3d 7365 6c66 2e74 7970    type_=self.typ
+00002620: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00002630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002640: 2020 2020 2020 2020 7061 7261 6d65 7465          paramete
+00002650: 7273 3d73 656c 662e 7061 7261 6d65 7465  rs=self.paramete
+00002660: 7273 2069 6620 7365 6c66 2e70 6172 616d  rs if self.param
+00002670: 6574 6572 7320 656c 7365 2052 6570 6f72  eters else Repor
+00002680: 7450 6172 616d 6574 6572 7328 2929 0a20  tParameters()). 
+00002690: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
+000026a0: 643a 0a20 2020 2020 2020 2020 2020 2074  d:.            t
+000026b0: 6172 6765 745f 7265 706f 7274 2e69 6420  arget_report.id 
+000026c0: 3d20 7365 6c66 2e69 640a 2020 2020 2020  = self.id.      
+000026d0: 2020 2020 2020 4773 5265 706f 7274 4170        GsReportAp
+000026e0: 692e 7570 6461 7465 5f72 6570 6f72 7428  i.update_report(
+000026f0: 7461 7267 6574 5f72 6570 6f72 7429 0a20  target_report). 
+00002700: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00002710: 2020 2020 2020 2020 2072 6570 6f72 7420           report 
+00002720: 3d20 4773 5265 706f 7274 4170 692e 6372  = GsReportApi.cr
+00002730: 6561 7465 5f72 6570 6f72 7428 7461 7267  eate_report(targ
+00002740: 6574 5f72 6570 6f72 7429 0a20 2020 2020  et_report).     
+00002750: 2020 2020 2020 2073 656c 662e 5f5f 6964         self.__id
+00002760: 203d 2072 6570 6f72 742e 6964 0a0a 2020   = report.id..  
+00002770: 2020 6465 6620 6465 6c65 7465 2873 656c    def delete(sel
+00002780: 6629 3a0a 2020 2020 2020 2020 2222 2220  f):.        """ 
+00002790: 4465 6c65 7465 2061 2072 6570 6f72 7420  Delete a report 
+000027a0: 6672 6f6d 204d 6172 7175 6565 2222 220a  from Marquee""".
+000027b0: 2020 2020 2020 2020 4773 5265 706f 7274          GsReport
+000027c0: 4170 692e 6465 6c65 7465 5f72 6570 6f72  Api.delete_repor
+000027d0: 7428 7365 6c66 2e69 6429 0a0a 2020 2020  t(self.id)..    
+000027e0: 6465 6620 7365 745f 706f 7369 7469 6f6e  def set_position
+000027f0: 5f73 6f75 7263 6528 7365 6c66 2c20 656e  _source(self, en
+00002800: 7469 7479 5f69 643a 2073 7472 293a 0a20  tity_id: str):. 
+00002810: 2020 2020 2020 2022 2222 2053 6574 2070         """ Set p
+00002820: 6f73 6974 696f 6e20 736f 7572 6365 2074  osition source t
+00002830: 7970 6520 616e 6420 706f 7369 7469 6f6e  ype and position
+00002840: 2073 6f75 7263 6520 4944 2022 2222 0a20   source ID """. 
+00002850: 2020 2020 2020 2069 735f 706f 7274 666f         is_portfo
+00002860: 6c69 6f20 3d20 656e 7469 7479 5f69 642e  lio = entity_id.
+00002870: 7374 6172 7473 7769 7468 2827 4d50 2729  startswith('MP')
+00002880: 0a20 2020 2020 2020 2073 656c 662e 706f  .        self.po
+00002890: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
+000028a0: 7065 203d 2027 506f 7274 666f 6c69 6f27  pe = 'Portfolio'
+000028b0: 2069 6620 6973 5f70 6f72 7466 6f6c 696f   if is_portfolio
+000028c0: 2065 6c73 6520 2741 7373 6574 270a 2020   else 'Asset'.  
+000028d0: 2020 2020 2020 7365 6c66 2e70 6f73 6974        self.posit
+000028e0: 696f 6e5f 736f 7572 6365 5f69 6420 3d20  ion_source_id = 
+000028f0: 656e 7469 7479 5f69 640a 2020 2020 2020  entity_id.      
+00002900: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00002910: 7365 6c66 2c20 4661 6374 6f72 5269 736b  self, FactorRisk
+00002920: 5265 706f 7274 293a 0a20 2020 2020 2020  Report):.       
+00002930: 2020 2020 2073 656c 662e 7479 7065 203d       self.type =
+00002940: 2052 6570 6f72 7454 7970 652e 506f 7274   ReportType.Port
+00002950: 666f 6c69 6f5f 4661 6374 6f72 5f52 6973  folio_Factor_Ris
+00002960: 6b20 6966 2069 735f 706f 7274 666f 6c69  k if is_portfoli
+00002970: 6f20 656c 7365 2052 6570 6f72 7454 7970  o else ReportTyp
+00002980: 652e 4173 7365 745f 4661 6374 6f72 5f52  e.Asset_Factor_R
+00002990: 6973 6b0a 2020 2020 2020 2020 6966 2069  isk.        if i
+000029a0: 7369 6e73 7461 6e63 6528 7365 6c66 2c20  sinstance(self, 
+000029b0: 5468 656d 6174 6963 5265 706f 7274 293a  ThematicReport):
+000029c0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000029d0: 662e 7479 7065 203d 2052 6570 6f72 7454  f.type = ReportT
+000029e0: 7970 652e 506f 7274 666f 6c69 6f5f 5468  ype.Portfolio_Th
+000029f0: 656d 6174 6963 5f41 6e61 6c79 7469 6373  ematic_Analytics
+00002a00: 2069 6620 6973 5f70 6f72 7466 6f6c 696f   if is_portfolio
+00002a10: 2065 6c73 6520 5265 706f 7274 5479 7065   else ReportType
+00002a20: 2e41 7373 6574 5f54 6865 6d61 7469 635f  .Asset_Thematic_
+00002a30: 416e 616c 7974 6963 730a 0a20 2020 2064  Analytics..    d
+00002a40: 6566 2067 6574 5f6d 6f73 745f 7265 6365  ef get_most_rece
+00002a50: 6e74 5f6a 6f62 2873 656c 6629 3a0a 2020  nt_job(self):.  
+00002a60: 2020 2020 2020 2222 2220 5265 7472 6965        """ Retrie
+00002a70: 7665 2074 6865 206d 6f73 7420 6375 7272  ve the most curr
+00002a80: 656e 7420 7265 706f 7274 206a 6f62 2022  ent report job "
+00002a90: 2222 0a20 2020 2020 2020 206a 6f62 7320  "".        jobs 
+00002aa0: 3d20 4773 5265 706f 7274 4170 692e 6765  = GsReportApi.ge
+00002ab0: 745f 7265 706f 7274 5f6a 6f62 7328 7365  t_report_jobs(se
+00002ac0: 6c66 2e69 6429 0a20 2020 2020 2020 206d  lf.id).        m
+00002ad0: 6f73 745f 6375 7272 656e 745f 6a6f 6220  ost_current_job 
+00002ae0: 3d20 736f 7274 6564 286a 6f62 732c 206b  = sorted(jobs, k
+00002af0: 6579 3d6c 616d 6264 6120 693a 2069 5b27  ey=lambda i: i['
+00002b00: 6372 6561 7465 6454 696d 6527 5d2c 2072  createdTime'], r
+00002b10: 6576 6572 7365 3d54 7275 6529 5b30 5d0a  everse=True)[0].
+00002b20: 2020 2020 2020 2020 7265 7475 726e 2052          return R
+00002b30: 6570 6f72 744a 6f62 4675 7475 7265 2872  eportJobFuture(r
+00002b40: 6570 6f72 745f 6964 3d73 656c 662e 6964  eport_id=self.id
+00002b50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00002b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b70: 206a 6f62 5f69 643d 6d6f 7374 5f63 7572   job_id=most_cur
+00002b80: 7265 6e74 5f6a 6f62 2e67 6574 2827 6964  rent_job.get('id
+00002b90: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
+00002ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002bb0: 2020 2072 6570 6f72 745f 7479 7065 3d52     report_type=R
+00002bc0: 6570 6f72 7454 7970 6528 6d6f 7374 5f63  eportType(most_c
+00002bd0: 7572 7265 6e74 5f6a 6f62 2e67 6574 2827  urrent_job.get('
+00002be0: 7265 706f 7274 5479 7065 2729 292c 0a20  reportType')),. 
+00002bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c00: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00002c10: 6172 745f 6461 7465 3d64 742e 6461 7465  art_date=dt.date
+00002c20: 7469 6d65 2e73 7472 7074 696d 6528 6d6f  time.strptime(mo
+00002c30: 7374 5f63 7572 7265 6e74 5f6a 6f62 2e67  st_current_job.g
+00002c40: 6574 2827 7374 6172 7444 6174 6527 292c  et('startDate'),
+00002c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00002c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c70: 2020 2020 206a 6f62 5f69 643d 6d6f 7374       job_id=most
-00002c80: 5f63 7572 7265 6e74 5f6a 6f62 2e67 6574  _current_job.get
-00002c90: 2827 6964 2729 2c0a 2020 2020 2020 2020  ('id'),.        
-00002ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002cb0: 2020 2020 2020 2072 6570 6f72 745f 7479         report_ty
-00002cc0: 7065 3d52 6570 6f72 7454 7970 6528 6d6f  pe=ReportType(mo
-00002cd0: 7374 5f63 7572 7265 6e74 5f6a 6f62 2e67  st_current_job.g
-00002ce0: 6574 2827 7265 706f 7274 5479 7065 2729  et('reportType')
-00002cf0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00002d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d10: 2020 7374 6172 745f 6461 7465 3d64 742e    start_date=dt.
-00002d20: 6461 7465 7469 6d65 2e73 7472 7074 696d  datetime.strptim
-00002d30: 6528 6d6f 7374 5f63 7572 7265 6e74 5f6a  e(most_current_j
-00002d40: 6f62 2e67 6574 2827 7374 6172 7444 6174  ob.get('startDat
-00002d50: 6527 292c 0a20 2020 2020 2020 2020 2020  e'),.           
-00002d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002d90: 2020 2020 2225 592d 256d 2d25 6422 292e      "%Y-%m-%d").
-00002da0: 6461 7465 2829 2c0a 2020 2020 2020 2020  date(),.        
-00002db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002dc0: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
-00002dd0: 6474 2e64 6174 6574 696d 652e 7374 7270  dt.datetime.strp
-00002de0: 7469 6d65 286d 6f73 745f 6375 7272 656e  time(most_curren
-00002df0: 745f 6a6f 622e 6765 7428 2765 6e64 4461  t_job.get('endDa
-00002e00: 7465 2729 2c0a 2020 2020 2020 2020 2020  te'),.          
-00002e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002e40: 2020 2022 2559 2d25 6d2d 2564 2229 2e64     "%Y-%m-%d").d
-00002e50: 6174 6528 2929 0a0a 2020 2020 6465 6620  ate())..    def 
-00002e60: 7363 6865 6475 6c65 2873 656c 662c 0a20  schedule(self,. 
-00002e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002e80: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
-00002e90: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
-00002ea0: 2020 2020 2020 2020 2020 2020 2065 6e64               end
-00002eb0: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
-00002ec0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00002ed0: 2020 2020 2020 2020 6261 636b 6361 7374          backcast
-00002ee0: 3a20 626f 6f6c 203d 204e 6f6e 6529 3a0a  : bool = None):.
-00002ef0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00002f00: 2020 2020 5363 6865 6475 6c65 2061 2072      Schedule a r
-00002f10: 6570 6f72 7420 7769 7468 2074 6865 2067  eport with the g
-00002f20: 6976 656e 2064 6174 6520 7261 6e67 650a  iven date range.
-00002f30: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00002f40: 7374 6172 745f 6461 7465 3a20 7374 6172  start_date: star
-00002f50: 7420 6461 7465 2028 6f70 7469 6f6e 616c  t date (optional
-00002f60: 290a 2020 2020 2020 2020 3a70 6172 616d  ).        :param
-00002f70: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
-00002f80: 6174 6520 286f 7074 696f 6e61 6c29 0a20  ate (optional). 
-00002f90: 2020 2020 2020 203a 7061 7261 6d20 6261         :param ba
-00002fa0: 636b 6361 7374 3a20 7365 7420 746f 2074  ckcast: set to t
-00002fb0: 7275 6520 6966 2074 6865 2072 6570 6f72  rue if the repor
-00002fc0: 7420 7368 6f75 6c64 2062 6520 6261 636b  t should be back
-00002fd0: 6361 7374 6564 0a20 2020 2020 2020 2022  casted.        "
-00002fe0: 2222 0a20 2020 2020 2020 2069 6620 4e6f  "".        if No
-00002ff0: 6e65 2069 6e20 5b73 656c 662e 6964 2c20  ne in [self.id, 
-00003000: 7365 6c66 2e5f 5f70 6f73 6974 696f 6e5f  self.__position_
-00003010: 736f 7572 6365 5f69 645d 3a0a 2020 2020  source_id]:.    
-00003020: 2020 2020 2020 2020 7261 6973 6520 4d71          raise Mq
-00003030: 5661 6c75 6545 7272 6f72 2827 4361 6e20  ValueError('Can 
-00003040: 6f6e 6c79 2073 6368 6564 756c 6520 7265  only schedule re
-00003050: 706f 7274 7320 7769 7468 2076 616c 6964  ports with valid
-00003060: 2049 4473 2061 6e64 2050 6f73 6974 696f   IDs and Positio
-00003070: 6e20 536f 7572 6365 2049 4473 2e27 290a  n Source IDs.').
-00003080: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00003090: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-000030a0: 7479 7065 2021 3d20 506f 7369 7469 6f6e  type != Position
-000030b0: 536f 7572 6365 5479 7065 2e50 6f72 7466  SourceType.Portf
-000030c0: 6f6c 696f 2061 6e64 204e 6f6e 6520 696e  olio and None in
-000030d0: 205b 7374 6172 745f 6461 7465 2c20 656e   [start_date, en
-000030e0: 645f 6461 7465 5d3a 0a20 2020 2020 2020  d_date]:.       
-000030f0: 2020 2020 2072 6169 7365 204d 7156 616c       raise MqVal
-00003100: 7565 4572 726f 7228 274d 7573 7420 7370  ueError('Must sp
-00003110: 6563 6966 7920 7363 6865 6475 6c65 2073  ecify schedule s
-00003120: 7461 7274 2061 6e64 2065 6e64 2064 6174  tart and end dat
-00003130: 6573 2066 6f72 2072 6570 6f72 742e 2729  es for report.')
-00003140: 0a20 2020 2020 2020 2069 6620 4e6f 6e65  .        if None
-00003150: 2069 6e20 5b73 7461 7274 5f64 6174 652c   in [start_date,
-00003160: 2065 6e64 5f64 6174 655d 3a0a 2020 2020   end_date]:.    
-00003170: 2020 2020 2020 2020 706f 7369 7469 6f6e          position
-00003180: 5f64 6174 6573 203d 2047 7350 6f72 7466  _dates = GsPortf
-00003190: 6f6c 696f 4170 692e 6765 745f 706f 7369  olioApi.get_posi
-000031a0: 7469 6f6e 5f64 6174 6573 2873 656c 662e  tion_dates(self.
-000031b0: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-000031c0: 6964 290a 2020 2020 2020 2020 2020 2020  id).            
-000031d0: 6966 206c 656e 2870 6f73 6974 696f 6e5f  if len(position_
-000031e0: 6461 7465 7329 203d 3d20 303a 0a20 2020  dates) == 0:.   
-000031f0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00003200: 7365 204d 7156 616c 7565 4572 726f 7228  se MqValueError(
-00003210: 2743 616e 6e6f 7420 7363 6865 6475 6c65  'Cannot schedule
-00003220: 2072 6570 6f72 7473 2066 6f72 2061 2070   reports for a p
-00003230: 6f72 7466 6f6c 696f 2077 6974 6820 6e6f  ortfolio with no
-00003240: 2070 6f73 6974 696f 6e73 2e27 290a 2020   positions.').  
-00003250: 2020 2020 2020 2020 2020 6966 2073 7461            if sta
-00003260: 7274 5f64 6174 6520 6973 204e 6f6e 653a  rt_date is None:
-00003270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003280: 2073 7461 7274 5f64 6174 6520 3d20 6275   start_date = bu
-00003290: 7369 6e65 7373 5f64 6179 5f6f 6666 7365  siness_day_offse
-000032a0: 7428 6d69 6e28 706f 7369 7469 6f6e 5f64  t(min(position_d
-000032b0: 6174 6573 2920 2d20 7265 6c61 7469 7665  ates) - relative
-000032c0: 6465 6c74 6128 7965 6172 733d 3129 2c20  delta(years=1), 
-000032d0: 2d31 2c20 726f 6c6c 3d27 666f 7277 6172  -1, roll='forwar
-000032e0: 6427 2920 5c0a 2020 2020 2020 2020 2020  d') \.          
-000032f0: 2020 2020 2020 2020 2020 6966 2062 6163            if bac
-00003300: 6b63 6173 7420 656c 7365 206d 696e 2870  kcast else min(p
-00003310: 6f73 6974 696f 6e5f 6461 7465 7329 0a20  osition_dates). 
-00003320: 2020 2020 2020 2020 2020 2069 6620 656e             if en
-00003330: 645f 6461 7465 2069 7320 4e6f 6e65 3a0a  d_date is None:.
-00003340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003350: 656e 645f 6461 7465 203d 206d 696e 2870  end_date = min(p
-00003360: 6f73 6974 696f 6e5f 6461 7465 7329 2069  osition_dates) i
-00003370: 6620 6261 636b 6361 7374 2065 6c73 6520  f backcast else 
-00003380: 6275 7369 6e65 7373 5f64 6179 5f6f 6666  business_day_off
-00003390: 7365 7428 6474 2e64 6174 652e 746f 6461  set(dt.date.toda
-000033a0: 7928 292c 202d 312c 2072 6f6c 6c3d 2766  y(), -1, roll='f
-000033b0: 6f72 7761 7264 2729 0a20 2020 2020 2020  orward').       
-000033c0: 2047 7352 6570 6f72 7441 7069 2e73 6368   GsReportApi.sch
-000033d0: 6564 756c 655f 7265 706f 7274 2872 6570  edule_report(rep
-000033e0: 6f72 745f 6964 3d73 656c 662e 6964 2c0a  ort_id=self.id,.
-000033f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003410: 2020 2020 7374 6172 745f 6461 7465 3d73      start_date=s
-00003420: 7461 7274 5f64 6174 652c 0a20 2020 2020  tart_date,.     
-00003430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003440: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00003450: 6e64 5f64 6174 653d 656e 645f 6461 7465  nd_date=end_date
-00003460: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00003470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003480: 2020 2020 2020 6261 636b 6361 7374 3d62        backcast=b
-00003490: 6163 6b63 6173 7429 0a0a 2020 2020 6465  ackcast)..    de
-000034a0: 6620 7275 6e28 7365 6c66 2c0a 2020 2020  f run(self,.    
-000034b0: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
-000034c0: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
-000034d0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-000034e0: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
-000034f0: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
-00003500: 2020 2020 2020 6261 636b 6361 7374 3a20        backcast: 
-00003510: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00003520: 2020 2020 2020 2020 2020 6973 5f61 7379            is_asy
-00003530: 6e63 3a20 626f 6f6c 203d 2054 7275 6529  nc: bool = True)
-00003540: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00003550: 2020 2020 2020 5275 6e20 6120 7265 706f        Run a repo
-00003560: 7274 2077 6974 6820 7468 6520 6769 7665  rt with the give
-00003570: 6e20 6461 7465 2072 616e 6765 0a0a 2020  n date range..  
-00003580: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-00003590: 7274 5f64 6174 653a 2073 7461 7274 2064  rt_date: start d
-000035a0: 6174 6520 286f 7074 696f 6e61 6c29 0a20  ate (optional). 
-000035b0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-000035c0: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
-000035d0: 2028 6f70 7469 6f6e 616c 290a 2020 2020   (optional).    
-000035e0: 2020 2020 3a70 6172 616d 2062 6163 6b63      :param backc
-000035f0: 6173 743a 2073 6574 2074 6f20 7472 7565  ast: set to true
-00003600: 2069 6620 7468 6520 7265 706f 7274 2073   if the report s
-00003610: 686f 756c 6420 6265 2062 6163 6b63 6173  hould be backcas
-00003620: 7465 643b 2064 6566 6175 6c74 7320 746f  ted; defaults to
-00003630: 2066 616c 7365 0a20 2020 2020 2020 203a   false.        :
-00003640: 7061 7261 6d20 6973 5f61 7379 6e63 3a20  param is_async: 
-00003650: 7265 7475 726e 2069 6d6d 6564 6961 7465  return immediate
-00003660: 6c79 2028 7472 7565 2920 6f72 2077 6169  ly (true) or wai
-00003670: 7420 666f 7220 7265 7375 6c74 7320 2866  t for results (f
-00003680: 616c 7365 293b 2064 6566 6175 6c74 7320  alse); defaults 
-00003690: 746f 2074 7275 650a 2020 2020 2020 2020  to true.        
-000036a0: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-000036b0: 2e73 6368 6564 756c 6528 7374 6172 745f  .schedule(start_
-000036c0: 6461 7465 2c20 656e 645f 6461 7465 2c20  date, end_date, 
-000036d0: 6261 636b 6361 7374 290a 2020 2020 2020  backcast).      
-000036e0: 2020 636f 756e 7465 7220 3d20 350a 2020    counter = 5.  
-000036f0: 2020 2020 2020 7768 696c 6520 636f 756e        while coun
-00003700: 7465 7220 3e20 303a 0a20 2020 2020 2020  ter > 0:.       
-00003710: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00003720: 2020 2020 2020 2020 2020 6a6f 625f 6675            job_fu
-00003730: 7475 7265 203d 2073 656c 662e 6765 745f  ture = self.get_
-00003740: 6d6f 7374 5f72 6563 656e 745f 6a6f 6228  most_recent_job(
-00003750: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00003760: 2020 6966 2069 735f 6173 796e 633a 0a20    if is_async:. 
+00002c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c90: 2225 592d 256d 2d25 6422 292e 6461 7465  "%Y-%m-%d").date
+00002ca0: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+00002cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002cc0: 2020 2065 6e64 5f64 6174 653d 6474 2e64     end_date=dt.d
+00002cd0: 6174 6574 696d 652e 7374 7270 7469 6d65  atetime.strptime
+00002ce0: 286d 6f73 745f 6375 7272 656e 745f 6a6f  (most_current_jo
+00002cf0: 622e 6765 7428 2765 6e64 4461 7465 2729  b.get('endDate')
+00002d00: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00002d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002d30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00002d40: 2559 2d25 6d2d 2564 2229 2e64 6174 6528  %Y-%m-%d").date(
+00002d50: 2929 0a0a 2020 2020 6465 6620 7363 6865  ))..    def sche
+00002d60: 6475 6c65 2873 656c 662c 0a20 2020 2020  dule(self,.     
+00002d70: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00002d80: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+00002d90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00002da0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
+00002db0: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
+00002dc0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00002dd0: 2020 2020 6261 636b 6361 7374 3a20 626f      backcast: bo
+00002de0: 6f6c 203d 204e 6f6e 6529 3a0a 2020 2020  ol = None):.    
+00002df0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00002e00: 5363 6865 6475 6c65 2061 2072 6570 6f72  Schedule a repor
+00002e10: 7420 7769 7468 2074 6865 2067 6976 656e  t with the given
+00002e20: 2064 6174 6520 7261 6e67 650a 0a20 2020   date range..   
+00002e30: 2020 2020 203a 7061 7261 6d20 7374 6172       :param star
+00002e40: 745f 6461 7465 3a20 7374 6172 7420 6461  t_date: start da
+00002e50: 7465 2028 6f70 7469 6f6e 616c 290a 2020  te (optional).  
+00002e60: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
+00002e70: 5f64 6174 653a 2065 6e64 2064 6174 6520  _date: end date 
+00002e80: 286f 7074 696f 6e61 6c29 0a20 2020 2020  (optional).     
+00002e90: 2020 203a 7061 7261 6d20 6261 636b 6361     :param backca
+00002ea0: 7374 3a20 7365 7420 746f 2074 7275 6520  st: set to true 
+00002eb0: 6966 2074 6865 2072 6570 6f72 7420 7368  if the report sh
+00002ec0: 6f75 6c64 2062 6520 6261 636b 6361 7374  ould be backcast
+00002ed0: 6564 0a20 2020 2020 2020 2022 2222 0a20  ed.        """. 
+00002ee0: 2020 2020 2020 2069 6620 4e6f 6e65 2069         if None i
+00002ef0: 6e20 5b73 656c 662e 6964 2c20 7365 6c66  n [self.id, self
+00002f00: 2e5f 5f70 6f73 6974 696f 6e5f 736f 7572  .__position_sour
+00002f10: 6365 5f69 645d 3a0a 2020 2020 2020 2020  ce_id]:.        
+00002f20: 2020 2020 7261 6973 6520 4d71 5661 6c75      raise MqValu
+00002f30: 6545 7272 6f72 2827 4361 6e20 6f6e 6c79  eError('Can only
+00002f40: 2073 6368 6564 756c 6520 7265 706f 7274   schedule report
+00002f50: 7320 7769 7468 2076 616c 6964 2049 4473  s with valid IDs
+00002f60: 2061 6e64 2050 6f73 6974 696f 6e20 536f   and Position So
+00002f70: 7572 6365 2049 4473 2e27 290a 2020 2020  urce IDs.').    
+00002f80: 2020 2020 6966 2073 656c 662e 706f 7369      if self.posi
+00002f90: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+00002fa0: 2021 3d20 506f 7369 7469 6f6e 536f 7572   != PositionSour
+00002fb0: 6365 5479 7065 2e50 6f72 7466 6f6c 696f  ceType.Portfolio
+00002fc0: 2061 6e64 204e 6f6e 6520 696e 205b 7374   and None in [st
+00002fd0: 6172 745f 6461 7465 2c20 656e 645f 6461  art_date, end_da
+00002fe0: 7465 5d3a 0a20 2020 2020 2020 2020 2020  te]:.           
+00002ff0: 2072 6169 7365 204d 7156 616c 7565 4572   raise MqValueEr
+00003000: 726f 7228 274d 7573 7420 7370 6563 6966  ror('Must specif
+00003010: 7920 7363 6865 6475 6c65 2073 7461 7274  y schedule start
+00003020: 2061 6e64 2065 6e64 2064 6174 6573 2066   and end dates f
+00003030: 6f72 2072 6570 6f72 742e 2729 0a20 2020  or report.').   
+00003040: 2020 2020 2069 6620 4e6f 6e65 2069 6e20       if None in 
+00003050: 5b73 7461 7274 5f64 6174 652c 2065 6e64  [start_date, end
+00003060: 5f64 6174 655d 3a0a 2020 2020 2020 2020  _date]:.        
+00003070: 2020 2020 706f 7369 7469 6f6e 5f64 6174      position_dat
+00003080: 6573 203d 2047 7350 6f72 7466 6f6c 696f  es = GsPortfolio
+00003090: 4170 692e 6765 745f 706f 7369 7469 6f6e  Api.get_position
+000030a0: 5f64 6174 6573 2873 656c 662e 706f 7369  _dates(self.posi
+000030b0: 7469 6f6e 5f73 6f75 7263 655f 6964 290a  tion_source_id).
+000030c0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+000030d0: 656e 2870 6f73 6974 696f 6e5f 6461 7465  en(position_date
+000030e0: 7329 203d 3d20 303a 0a20 2020 2020 2020  s) == 0:.       
+000030f0: 2020 2020 2020 2020 2072 6169 7365 204d           raise M
+00003100: 7156 616c 7565 4572 726f 7228 2743 616e  qValueError('Can
+00003110: 6e6f 7420 7363 6865 6475 6c65 2072 6570  not schedule rep
+00003120: 6f72 7473 2066 6f72 2061 2070 6f72 7466  orts for a portf
+00003130: 6f6c 696f 2077 6974 6820 6e6f 2070 6f73  olio with no pos
+00003140: 6974 696f 6e73 2e27 290a 2020 2020 2020  itions.').      
+00003150: 2020 2020 2020 6966 2073 7461 7274 5f64        if start_d
+00003160: 6174 6520 6973 204e 6f6e 653a 0a20 2020  ate is None:.   
+00003170: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+00003180: 7274 5f64 6174 6520 3d20 6275 7369 6e65  rt_date = busine
+00003190: 7373 5f64 6179 5f6f 6666 7365 7428 6d69  ss_day_offset(mi
+000031a0: 6e28 706f 7369 7469 6f6e 5f64 6174 6573  n(position_dates
+000031b0: 2920 2d20 7265 6c61 7469 7665 6465 6c74  ) - relativedelt
+000031c0: 6128 7965 6172 733d 3129 2c20 2d31 2c20  a(years=1), -1, 
+000031d0: 726f 6c6c 3d27 666f 7277 6172 6427 2920  roll='forward') 
+000031e0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+000031f0: 2020 2020 2020 6966 2062 6163 6b63 6173        if backcas
+00003200: 7420 656c 7365 206d 696e 2870 6f73 6974  t else min(posit
+00003210: 696f 6e5f 6461 7465 7329 0a20 2020 2020  ion_dates).     
+00003220: 2020 2020 2020 2069 6620 656e 645f 6461         if end_da
+00003230: 7465 2069 7320 4e6f 6e65 3a0a 2020 2020  te is None:.    
+00003240: 2020 2020 2020 2020 2020 2020 656e 645f              end_
+00003250: 6461 7465 203d 206d 696e 2870 6f73 6974  date = min(posit
+00003260: 696f 6e5f 6461 7465 7329 2069 6620 6261  ion_dates) if ba
+00003270: 636b 6361 7374 2065 6c73 6520 6275 7369  ckcast else busi
+00003280: 6e65 7373 5f64 6179 5f6f 6666 7365 7428  ness_day_offset(
+00003290: 6474 2e64 6174 652e 746f 6461 7928 292c  dt.date.today(),
+000032a0: 202d 312c 2072 6f6c 6c3d 2766 6f72 7761   -1, roll='forwa
+000032b0: 7264 2729 0a20 2020 2020 2020 2047 7352  rd').        GsR
+000032c0: 6570 6f72 7441 7069 2e73 6368 6564 756c  eportApi.schedul
+000032d0: 655f 7265 706f 7274 2872 6570 6f72 745f  e_report(report_
+000032e0: 6964 3d73 656c 662e 6964 2c0a 2020 2020  id=self.id,.    
+000032f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003310: 7374 6172 745f 6461 7465 3d73 7461 7274  start_date=start
+00003320: 5f64 6174 652c 0a20 2020 2020 2020 2020  _date,.         
+00003330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003340: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+00003350: 6174 653d 656e 645f 6461 7465 2c0a 2020  ate=end_date,.  
+00003360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003380: 2020 6261 636b 6361 7374 3d62 6163 6b63    backcast=backc
+00003390: 6173 7429 0a0a 2020 2020 6465 6620 7275  ast)..    def ru
+000033a0: 6e28 7365 6c66 2c0a 2020 2020 2020 2020  n(self,.        
+000033b0: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
+000033c0: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
+000033d0: 2020 2020 2020 2020 2020 2020 656e 645f              end_
+000033e0: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
+000033f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00003400: 2020 6261 636b 6361 7374 3a20 626f 6f6c    backcast: bool
+00003410: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+00003420: 2020 2020 2020 6973 5f61 7379 6e63 3a20        is_async: 
+00003430: 626f 6f6c 203d 2054 7275 6529 3a0a 2020  bool = True):.  
+00003440: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00003450: 2020 5275 6e20 6120 7265 706f 7274 2077    Run a report w
+00003460: 6974 6820 7468 6520 6769 7665 6e20 6461  ith the given da
+00003470: 7465 2072 616e 6765 0a0a 2020 2020 2020  te range..      
+00003480: 2020 3a70 6172 616d 2073 7461 7274 5f64    :param start_d
+00003490: 6174 653a 2073 7461 7274 2064 6174 6520  ate: start date 
+000034a0: 286f 7074 696f 6e61 6c29 0a20 2020 2020  (optional).     
+000034b0: 2020 203a 7061 7261 6d20 656e 645f 6461     :param end_da
+000034c0: 7465 3a20 656e 6420 6461 7465 2028 6f70  te: end date (op
+000034d0: 7469 6f6e 616c 290a 2020 2020 2020 2020  tional).        
+000034e0: 3a70 6172 616d 2062 6163 6b63 6173 743a  :param backcast:
+000034f0: 2073 6574 2074 6f20 7472 7565 2069 6620   set to true if 
+00003500: 7468 6520 7265 706f 7274 2073 686f 756c  the report shoul
+00003510: 6420 6265 2062 6163 6b63 6173 7465 643b  d be backcasted;
+00003520: 2064 6566 6175 6c74 7320 746f 2066 616c   defaults to fal
+00003530: 7365 0a20 2020 2020 2020 203a 7061 7261  se.        :para
+00003540: 6d20 6973 5f61 7379 6e63 3a20 7265 7475  m is_async: retu
+00003550: 726e 2069 6d6d 6564 6961 7465 6c79 2028  rn immediately (
+00003560: 7472 7565 2920 6f72 2077 6169 7420 666f  true) or wait fo
+00003570: 7220 7265 7375 6c74 7320 2866 616c 7365  r results (false
+00003580: 293b 2064 6566 6175 6c74 7320 746f 2074  ); defaults to t
+00003590: 7275 650a 2020 2020 2020 2020 2222 220a  rue.        """.
+000035a0: 2020 2020 2020 2020 7365 6c66 2e73 6368          self.sch
+000035b0: 6564 756c 6528 7374 6172 745f 6461 7465  edule(start_date
+000035c0: 2c20 656e 645f 6461 7465 2c20 6261 636b  , end_date, back
+000035d0: 6361 7374 290a 2020 2020 2020 2020 636f  cast).        co
+000035e0: 756e 7465 7220 3d20 350a 2020 2020 2020  unter = 5.      
+000035f0: 2020 7768 696c 6520 636f 756e 7465 7220    while counter 
+00003600: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+00003610: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00003620: 2020 2020 2020 6a6f 625f 6675 7475 7265        job_future
+00003630: 203d 2073 656c 662e 6765 745f 6d6f 7374   = self.get_most
+00003640: 5f72 6563 656e 745f 6a6f 6228 290a 2020  _recent_job().  
+00003650: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00003660: 2069 735f 6173 796e 633a 0a20 2020 2020   is_async:.     
+00003670: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00003680: 6574 7572 6e20 6a6f 625f 6675 7475 7265  eturn job_future
+00003690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000036a0: 2063 6f75 6e74 6572 203d 2031 3030 0a20   counter = 100. 
+000036b0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+000036c0: 6869 6c65 2063 6f75 6e74 6572 203e 2030  hile counter > 0
+000036d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000036e0: 2020 2020 2020 6966 206a 6f62 5f66 7574        if job_fut
+000036f0: 7572 652e 646f 6e65 2829 3a0a 2020 2020  ure.done():.    
+00003700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003710: 2020 2020 7265 7475 726e 206a 6f62 5f66      return job_f
+00003720: 7574 7572 652e 7265 7375 6c74 2829 0a20  uture.result(). 
+00003730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003740: 2020 2073 6c65 6570 2836 290a 2020 2020     sleep(6).    
+00003750: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00003760: 6520 4d71 5661 6c75 6545 7272 6f72 280a  e MqValueError(.
 00003770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003780: 2020 2072 6574 7572 6e20 6a6f 625f 6675     return job_fu
-00003790: 7475 7265 0a20 2020 2020 2020 2020 2020  ture.           
-000037a0: 2020 2020 2063 6f75 6e74 6572 203d 2031       counter = 1
-000037b0: 3030 0a20 2020 2020 2020 2020 2020 2020  00.             
-000037c0: 2020 2077 6869 6c65 2063 6f75 6e74 6572     while counter
-000037d0: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-000037e0: 2020 2020 2020 2020 2020 6966 206a 6f62            if job
-000037f0: 5f66 7574 7572 652e 646f 6e65 2829 3a0a  _future.done():.
-00003800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003810: 2020 2020 2020 2020 7265 7475 726e 206a          return j
-00003820: 6f62 5f66 7574 7572 652e 7265 7375 6c74  ob_future.result
-00003830: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-00003840: 2020 2020 2020 2073 6c65 6570 2836 290a         sleep(6).
-00003850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003860: 7261 6973 6520 4d71 5661 6c75 6545 7272  raise MqValueErr
-00003870: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00003880: 2020 2020 2020 2020 6627 596f 7572 2072          f'Your r
-00003890: 6570 6f72 7420 7b73 656c 662e 6964 7d20  eport {self.id} 
-000038a0: 6973 2074 616b 696e 6720 6c6f 6e67 6572  is taking longer
-000038b0: 2074 6861 6e20 6578 7065 6374 6564 2074   than expected t
-000038c0: 6f20 6669 6e69 7368 2e20 506c 6561 7365  o finish. Please
-000038d0: 2063 6f6e 7461 6374 2074 6865 2027 0a20   contact the '. 
-000038e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038f0: 2020 2027 4d61 7271 7565 6520 416e 616c     'Marquee Anal
-00003900: 7974 6963 7320 7465 616d 2061 7420 6773  ytics team at gs
-00003910: 2d6d 6172 7175 6565 2d61 6e61 6c79 7469  -marquee-analyti
-00003920: 6373 2d73 7570 706f 7274 4067 732e 636f  cs-support@gs.co
-00003930: 6d27 290a 2020 2020 2020 2020 2020 2020  m').            
-00003940: 6578 6365 7074 2049 6e64 6578 4572 726f  except IndexErro
-00003950: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00003960: 2020 2063 6f75 6e74 6572 202d 3d20 310a     counter -= 1.
-00003970: 2020 2020 2020 2020 7374 6174 7573 203d          status =
-00003980: 2052 6570 6f72 742e 6765 7428 7365 6c66   Report.get(self
-00003990: 2e69 6429 2e73 7461 7475 730a 2020 2020  .id).status.    
-000039a0: 2020 2020 6966 2073 7461 7475 7320 3d3d      if status ==
-000039b0: 2052 6570 6f72 7453 7461 7475 732e 7761   ReportStatus.wa
-000039c0: 6974 696e 673a 0a20 2020 2020 2020 2020  iting:.         
-000039d0: 2020 2072 6169 7365 204d 7156 616c 7565     raise MqValue
-000039e0: 4572 726f 7228 6627 596f 7572 2072 6570  Error(f'Your rep
-000039f0: 6f72 7420 7b73 656c 662e 6964 7d20 6973  ort {self.id} is
-00003a00: 2073 7475 636b 2069 6e20 2277 6169 7469   stuck in "waiti
-00003a10: 6e67 2220 7374 6174 7573 2061 6e64 2074  ng" status and t
-00003a20: 6865 7265 666f 7265 2063 616e 6e6f 7420  herefore cannot 
-00003a30: 6265 2072 756e 2061 7420 270a 2020 2020  be run at '.    
+00003780: 2020 2020 6627 596f 7572 2072 6570 6f72      f'Your repor
+00003790: 7420 7b73 656c 662e 6964 7d20 6973 2074  t {self.id} is t
+000037a0: 616b 696e 6720 6c6f 6e67 6572 2074 6861  aking longer tha
+000037b0: 6e20 6578 7065 6374 6564 2074 6f20 6669  n expected to fi
+000037c0: 6e69 7368 2e20 506c 6561 7365 2063 6f6e  nish. Please con
+000037d0: 7461 6374 2074 6865 2027 0a20 2020 2020  tact the '.     
+000037e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000037f0: 4d61 7271 7565 6520 416e 616c 7974 6963  Marquee Analytic
+00003800: 7320 7465 616d 2061 7420 6773 2d6d 6172  s team at gs-mar
+00003810: 7175 6565 2d61 6e61 6c79 7469 6373 2d73  quee-analytics-s
+00003820: 7570 706f 7274 4067 732e 636f 6d27 290a  upport@gs.com').
+00003830: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00003840: 7074 2049 6e64 6578 4572 726f 723a 0a20  pt IndexError:. 
+00003850: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00003860: 6f75 6e74 6572 202d 3d20 310a 2020 2020  ounter -= 1.    
+00003870: 2020 2020 7374 6174 7573 203d 2052 6570      status = Rep
+00003880: 6f72 742e 6765 7428 7365 6c66 2e69 6429  ort.get(self.id)
+00003890: 2e73 7461 7475 730a 2020 2020 2020 2020  .status.        
+000038a0: 6966 2073 7461 7475 7320 3d3d 2052 6570  if status == Rep
+000038b0: 6f72 7453 7461 7475 732e 7761 6974 696e  ortStatus.waitin
+000038c0: 673a 0a20 2020 2020 2020 2020 2020 2072  g:.            r
+000038d0: 6169 7365 204d 7156 616c 7565 4572 726f  aise MqValueErro
+000038e0: 7228 6627 596f 7572 2072 6570 6f72 7420  r(f'Your report 
+000038f0: 7b73 656c 662e 6964 7d20 6973 2073 7475  {self.id} is stu
+00003900: 636b 2069 6e20 2277 6169 7469 6e67 2220  ck in "waiting" 
+00003910: 7374 6174 7573 2061 6e64 2074 6865 7265  status and there
+00003920: 666f 7265 2063 616e 6e6f 7420 6265 2072  fore cannot be r
+00003930: 756e 2061 7420 270a 2020 2020 2020 2020  un at '.        
+00003940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003950: 2020 2020 2020 2027 7468 6973 2074 696d         'this tim
+00003960: 652e 2729 0a20 2020 2020 2020 2072 6169  e.').        rai
+00003970: 7365 204d 7156 616c 7565 4572 726f 7228  se MqValueError(
+00003980: 6627 596f 7572 2072 6570 6f72 7420 7b73  f'Your report {s
+00003990: 656c 662e 6964 7d20 6973 2074 616b 696e  elf.id} is takin
+000039a0: 6720 6c6f 6e67 6572 2074 6f20 7275 6e20  g longer to run 
+000039b0: 7468 616e 2065 7870 6563 7465 642e 2027  than expected. '
+000039c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000039d0: 2020 2020 2020 2020 2020 2020 2750 6c65              'Ple
+000039e0: 6173 6520 7265 6163 6820 6f75 7420 746f  ase reach out to
+000039f0: 2074 6865 204d 6172 7175 6565 2041 6e61   the Marquee Ana
+00003a00: 6c79 7469 6373 2074 6561 6d20 6174 2067  lytics team at g
+00003a10: 732d 6d61 7271 7565 652d 616e 616c 7974  s-marquee-analyt
+00003a20: 6963 732d 7375 7070 6f72 7440 6773 2e63  ics-support@gs.c
+00003a30: 6f6d 2027 0a20 2020 2020 2020 2020 2020  om '.           
 00003a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a50: 2020 2020 2020 2020 2020 2027 7468 6973             'this
-00003a60: 2074 696d 652e 2729 0a20 2020 2020 2020   time.').       
-00003a70: 2072 6169 7365 204d 7156 616c 7565 4572   raise MqValueEr
-00003a80: 726f 7228 6627 596f 7572 2072 6570 6f72  ror(f'Your repor
-00003a90: 7420 7b73 656c 662e 6964 7d20 6973 2074  t {self.id} is t
-00003aa0: 616b 696e 6720 6c6f 6e67 6572 2074 6f20  aking longer to 
-00003ab0: 7275 6e20 7468 616e 2065 7870 6563 7465  run than expecte
-00003ac0: 642e 2027 0a20 2020 2020 2020 2020 2020  d. '.           
-00003ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ae0: 2750 6c65 6173 6520 7265 6163 6820 6f75  'Please reach ou
-00003af0: 7420 746f 2074 6865 204d 6172 7175 6565  t to the Marquee
-00003b00: 2041 6e61 6c79 7469 6373 2074 6561 6d20   Analytics team 
-00003b10: 6174 2067 732d 6d61 7271 7565 652d 616e  at gs-marquee-an
-00003b20: 616c 7974 6963 732d 7375 7070 6f72 7440  alytics-support@
-00003b30: 6773 2e63 6f6d 2027 0a20 2020 2020 2020  gs.com '.       
-00003b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b50: 2020 2020 2766 6f72 2061 7373 6973 7461      'for assista
-00003b60: 6e63 652e 2729 0a0a 0a63 6c61 7373 2050  nce.')...class P
-00003b70: 6572 666f 726d 616e 6365 5265 706f 7274  erformanceReport
-00003b80: 2852 6570 6f72 7429 3a0a 2020 2020 2222  (Report):.    ""
-00003b90: 220a 2020 2020 4869 7374 6f72 6963 616c  ".    Historical
-00003ba0: 2061 6e61 6c79 7365 7320 6f6e 206d 6561   analyses on mea
-00003bb0: 7375 7265 7320 6c69 6b65 2050 6e4c 2061  sures like PnL a
-00003bc0: 6e64 2065 7870 6f73 7572 6520 6f66 2061  nd exposure of a
-00003bd0: 2070 6f73 6974 696f 6e20 736f 7572 6365   position source
-00003be0: 206f 7665 7220 6120 6461 7465 2072 616e   over a date ran
-00003bf0: 6765 0a20 2020 2022 2222 0a0a 2020 2020  ge.    """..    
-00003c00: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-00003c10: 662c 0a20 2020 2020 2020 2020 2020 2020  f,.             
-00003c20: 2020 2020 7265 706f 7274 5f69 643a 2073      report_id: s
-00003c30: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00003c40: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00003c50: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00003c60: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00003c70: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00003c80: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00003c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ca0: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-00003cb0: 7479 7065 3a20 556e 696f 6e5b 7374 722c  type: Union[str,
-00003cc0: 2050 6f73 6974 696f 6e53 6f75 7263 6554   PositionSourceT
-00003cd0: 7970 655d 203d 204e 6f6e 652c 0a20 2020  ype] = None,.   
-00003ce0: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-00003cf0: 7261 6d65 7465 7273 3a20 5265 706f 7274  rameters: Report
-00003d00: 5061 7261 6d65 7465 7273 203d 204e 6f6e  Parameters = Non
-00003d10: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00003d20: 2020 2020 6561 726c 6965 7374 5f73 7461      earliest_sta
-00003d30: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
-00003d40: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00003d50: 2020 2020 2020 2020 2020 6c61 7465 7374            latest
-00003d60: 5f65 6e64 5f64 6174 653a 2064 742e 6461  _end_date: dt.da
-00003d70: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
-00003d80: 2020 2020 2020 2020 2020 2020 6c61 7465              late
-00003d90: 7374 5f65 7865 6375 7469 6f6e 5f74 696d  st_execution_tim
-00003da0: 653a 2064 742e 6461 7465 7469 6d65 203d  e: dt.datetime =
-00003db0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00003dc0: 2020 2020 2020 2020 7374 6174 7573 3a20          status: 
-00003dd0: 556e 696f 6e5b 7374 722c 2052 6570 6f72  Union[str, Repor
-00003de0: 7453 7461 7475 735d 203d 2052 6570 6f72  tStatus] = Repor
-00003df0: 7453 7461 7475 732e 6e65 772c 0a20 2020  tStatus.new,.   
-00003e00: 2020 2020 2020 2020 2020 2020 2020 7065                pe
-00003e10: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-00003e20: 653a 2066 6c6f 6174 203d 204e 6f6e 652c  e: float = None,
-00003e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003e40: 2020 2a2a 6b77 6172 6773 293a 0a20 2020    **kwargs):.   
-00003e50: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00003e60: 2048 6973 746f 7269 6361 6c20 616e 616c   Historical anal
-00003e70: 7973 6573 206f 6e20 6d65 6173 7572 6573  yses on measures
-00003e80: 206c 696b 6520 506e 4c20 616e 6420 6578   like PnL and ex
-00003e90: 706f 7375 7265 206f 6620 6120 706f 7274  posure of a port
-00003ea0: 666f 6c69 6f20 6f76 6572 2061 2064 6174  folio over a dat
-00003eb0: 6520 7261 6e67 650a 0a20 2020 2020 2020  e range..       
-00003ec0: 203a 7061 7261 6d20 7265 706f 7274 5f69   :param report_i
-00003ed0: 643a 204d 6172 7175 6565 2072 6570 6f72  d: Marquee repor
-00003ee0: 7420 4944 0a20 2020 2020 2020 203a 7061  t ID.        :pa
-00003ef0: 7261 6d20 6e61 6d65 3a20 7265 706f 7274  ram name: report
-00003f00: 206e 616d 650a 2020 2020 2020 2020 3a70   name.        :p
-00003f10: 6172 616d 2070 6f73 6974 696f 6e5f 736f  aram position_so
-00003f20: 7572 6365 5f69 643a 2070 6f73 6974 696f  urce_id: positio
-00003f30: 6e20 736f 7572 6365 2049 440a 2020 2020  n source ID.    
-00003f40: 2020 2020 3a70 6172 616d 2070 6f73 6974      :param posit
-00003f50: 696f 6e5f 736f 7572 6365 5f74 7970 653a  ion_source_type:
-00003f60: 2070 6f73 6974 696f 6e20 736f 7572 6365   position source
-00003f70: 2028 692e 652e 2027 506f 7274 666f 6c69   (i.e. 'Portfoli
-00003f80: 6f27 2c20 2741 7373 6574 272c 206f 7220  o', 'Asset', or 
-00003f90: 2748 6564 6765 2729 0a20 2020 2020 2020  'Hedge').       
-00003fa0: 203a 7061 7261 6d20 7061 7261 6d65 7465   :param paramete
-00003fb0: 7273 3a20 7061 7261 6d65 7465 7273 206f  rs: parameters o
-00003fc0: 6620 7468 6520 7265 706f 7274 0a20 2020  f the report.   
-00003fd0: 2020 2020 203a 7061 7261 6d20 6561 726c       :param earl
-00003fe0: 6965 7374 5f73 7461 7274 5f64 6174 653a  iest_start_date:
-00003ff0: 2073 7461 7274 2064 6174 6520 6f66 2072   start date of r
-00004000: 6570 6f72 740a 2020 2020 2020 2020 3a70  eport.        :p
-00004010: 6172 616d 206c 6174 6573 745f 656e 645f  aram latest_end_
-00004020: 6461 7465 3a20 656e 6420 6461 7465 206f  date: end date o
-00004030: 6620 7265 706f 7274 0a20 2020 2020 2020  f report.       
-00004040: 203a 7061 7261 6d20 6c61 7465 7374 5f65   :param latest_e
-00004050: 7865 6375 7469 6f6e 5f74 696d 653a 2064  xecution_time: d
-00004060: 6174 6520 6f66 2074 6865 206c 6174 6573  ate of the lates
-00004070: 7420 6578 6563 7574 696f 6e0a 2020 2020  t execution.    
-00004080: 2020 2020 3a70 6172 616d 2073 7461 7475      :param statu
-00004090: 733a 2073 7461 7475 7320 6f66 206f 6620  s: status of of 
-000040a0: 7265 706f 7274 2028 692e 652e 2027 7265  report (i.e. 're
-000040b0: 6164 7927 2c20 2765 7865 6375 7469 6e67  ady', 'executing
-000040c0: 272c 206f 7220 2764 6f6e 6527 290a 2020  ', or 'done').  
-000040d0: 2020 2020 2020 3a70 6172 616d 2070 6572        :param per
-000040e0: 6365 6e74 6167 655f 636f 6d70 6c65 7465  centage_complete
-000040f0: 3a20 7065 7263 656e 7420 6f66 2074 6865  : percent of the
-00004100: 2072 6570 6f72 7420 7468 6174 2069 7320   report that is 
-00004110: 636f 6d70 6c65 7465 0a0a 2020 2020 2020  complete..      
-00004120: 2020 2a2a 4578 616d 706c 6573 2a2a 0a0a    **Examples**..
-00004130: 2020 2020 2020 2020 3e3e 3e20 7065 7266          >>> perf
-00004140: 6f72 6d61 6e63 655f 7265 706f 7274 203d  ormance_report =
-00004150: 2050 6572 666f 726d 616e 6365 5265 706f   PerformanceRepo
-00004160: 7274 280a 2020 2020 2020 2020 3e3e 3e20  rt(.        >>> 
-00004170: 2020 2020 706f 7369 7469 6f6e 5f73 6f75      position_sou
-00004180: 7263 655f 7479 7065 3d50 6f73 6974 696f  rce_type=Positio
-00004190: 6e53 6f75 7263 6554 7970 652e 506f 7274  nSourceType.Port
-000041a0: 666f 6c69 6f2c 0a20 2020 2020 2020 203e  folio,.        >
-000041b0: 3e3e 2020 2020 2070 6f73 6974 696f 6e5f  >>     position_
-000041c0: 736f 7572 6365 5f69 643d 2750 4f52 5446  source_id='PORTF
-000041d0: 4f4c 494f 4944 270a 2020 2020 2020 2020  OLIOID'.        
-000041e0: 3e3e 3e20 290a 2020 2020 2020 2020 2222  >>> ).        ""
-000041f0: 220a 2020 2020 2020 2020 7375 7065 7228  ".        super(
-00004200: 292e 5f5f 696e 6974 5f5f 2872 6570 6f72  ).__init__(repor
-00004210: 745f 6964 2c20 6e61 6d65 2c20 706f 7369  t_id, name, posi
-00004220: 7469 6f6e 5f73 6f75 7263 655f 6964 2c20  tion_source_id, 
-00004230: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-00004240: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-00004250: 2020 2020 2020 2020 2020 2020 2020 2052                 R
-00004260: 6570 6f72 7454 7970 652e 506f 7274 666f  eportType.Portfo
-00004270: 6c69 6f5f 5065 7266 6f72 6d61 6e63 655f  lio_Performance_
-00004280: 416e 616c 7974 6963 732c 2070 6172 616d  Analytics, param
-00004290: 6574 6572 732c 2065 6172 6c69 6573 745f  eters, earliest_
-000042a0: 7374 6172 745f 6461 7465 2c20 6c61 7465  start_date, late
-000042b0: 7374 5f65 6e64 5f64 6174 652c 0a20 2020  st_end_date,.   
-000042c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042d0: 2020 2020 2020 6c61 7465 7374 5f65 7865        latest_exe
-000042e0: 6375 7469 6f6e 5f74 696d 652c 2073 7461  cution_time, sta
-000042f0: 7475 732c 2070 6572 6365 6e74 6167 655f  tus, percentage_
-00004300: 636f 6d70 6c65 7465 290a 0a20 2020 2040  complete)..    @
-00004310: 636c 6173 736d 6574 686f 640a 2020 2020  classmethod.    
-00004320: 6465 6620 6765 7428 636c 732c 0a20 2020  def get(cls,.   
-00004330: 2020 2020 2020 2020 2072 6570 6f72 745f           report_
-00004340: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-00004350: 2020 2020 202a 2a6b 7761 7267 7329 3a0a       **kwargs):.
-00004360: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00004370: 2020 2020 4765 7420 6120 7065 7266 6f72      Get a perfor
-00004380: 6d61 6e63 6520 7265 706f 7274 2066 726f  mance report fro
-00004390: 6d20 7468 6520 756e 6971 7565 2072 6570  m the unique rep
-000043a0: 6f72 7420 6964 656e 7469 6669 6572 0a0a  ort identifier..
-000043b0: 2020 2020 2020 2020 3a70 6172 616d 2072          :param r
-000043c0: 6570 6f72 745f 6964 3a20 4d61 7271 7565  eport_id: Marque
-000043d0: 6520 7265 706f 7274 2049 440a 2020 2020  e report ID.    
-000043e0: 2020 2020 3a72 6574 7572 6e3a 2072 6574      :return: ret
-000043f0: 7572 6e73 2061 2050 6572 666f 726d 616e  urns a Performan
-00004400: 6365 5265 706f 7274 206f 626a 6563 7420  ceReport object 
-00004410: 7468 6174 2063 6f72 7265 6c61 7465 7320  that correlates 
-00004420: 746f 2074 6865 204d 6172 7175 6565 2072  to the Marquee r
-00004430: 6570 6f72 740a 2020 2020 2020 2020 2222  eport.        ""
-00004440: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-00004450: 2063 6c73 2e66 726f 6d5f 7461 7267 6574   cls.from_target
-00004460: 2847 7352 6570 6f72 7441 7069 2e67 6574  (GsReportApi.get
-00004470: 5f72 6570 6f72 7428 7265 706f 7274 5f69  _report(report_i
-00004480: 6429 290a 0a20 2020 2040 636c 6173 736d  d))..    @classm
-00004490: 6574 686f 640a 2020 2020 6465 6620 6672  ethod.    def fr
-000044a0: 6f6d 5f74 6172 6765 7428 636c 732c 0a20  om_target(cls,. 
-000044b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044c0: 2020 2072 6570 6f72 743a 2054 6172 6765     report: Targe
-000044d0: 7452 6570 6f72 7429 3a0a 2020 2020 2020  tReport):.      
-000044e0: 2020 6966 2072 6570 6f72 742e 7479 7065    if report.type
-000044f0: 2021 3d20 5265 706f 7274 5479 7065 2e50   != ReportType.P
-00004500: 6f72 7466 6f6c 696f 5f50 6572 666f 726d  ortfolio_Perform
-00004510: 616e 6365 5f41 6e61 6c79 7469 6373 3a0a  ance_Analytics:.
-00004520: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00004530: 6520 4d71 5661 6c75 6545 7272 6f72 2827  e MqValueError('
-00004540: 5468 6973 2072 6570 6f72 7420 6973 206e  This report is n
-00004550: 6f74 2061 2070 6572 666f 726d 616e 6365  ot a performance
-00004560: 2072 6570 6f72 742e 2729 0a20 2020 2020   report.').     
-00004570: 2020 2072 6574 7572 6e20 5065 7266 6f72     return Perfor
-00004580: 6d61 6e63 6552 6570 6f72 7428 7265 706f  manceReport(repo
-00004590: 7274 5f69 643d 7265 706f 7274 2e69 642c  rt_id=report.id,
-000045a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003a50: 2766 6f72 2061 7373 6973 7461 6e63 652e  'for assistance.
+00003a60: 2729 0a0a 0a63 6c61 7373 2050 6572 666f  ')...class Perfo
+00003a70: 726d 616e 6365 5265 706f 7274 2852 6570  rmanceReport(Rep
+00003a80: 6f72 7429 3a0a 2020 2020 2222 220a 2020  ort):.    """.  
+00003a90: 2020 4869 7374 6f72 6963 616c 2061 6e61    Historical ana
+00003aa0: 6c79 7365 7320 6f6e 206d 6561 7375 7265  lyses on measure
+00003ab0: 7320 6c69 6b65 2050 6e4c 2061 6e64 2065  s like PnL and e
+00003ac0: 7870 6f73 7572 6520 6f66 2061 2070 6f73  xposure of a pos
+00003ad0: 6974 696f 6e20 736f 7572 6365 206f 7665  ition source ove
+00003ae0: 7220 6120 6461 7465 2072 616e 6765 0a20  r a date range. 
+00003af0: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+00003b00: 5f5f 696e 6974 5f5f 2873 656c 662c 0a20  __init__(self,. 
+00003b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b20: 7265 706f 7274 5f69 643a 2073 7472 203d  report_id: str =
+00003b30: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00003b40: 2020 2020 2020 2020 6e61 6d65 3a20 7374          name: st
+00003b50: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00003b60: 2020 2020 2020 2020 2020 2070 6f73 6974             posit
+00003b70: 696f 6e5f 736f 7572 6365 5f69 643a 2073  ion_source_id: s
+00003b80: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00003b90: 2020 2020 2020 2020 2020 2020 706f 7369              posi
+00003ba0: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+00003bb0: 3a20 556e 696f 6e5b 7374 722c 2050 6f73  : Union[str, Pos
+00003bc0: 6974 696f 6e53 6f75 7263 6554 7970 655d  itionSourceType]
+00003bd0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00003be0: 2020 2020 2020 2020 2020 7061 7261 6d65            parame
+00003bf0: 7465 7273 3a20 5265 706f 7274 5061 7261  ters: ReportPara
+00003c00: 6d65 7465 7273 203d 204e 6f6e 652c 0a20  meters = None,. 
+00003c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c20: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
+00003c30: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+00003c40: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00003c50: 2020 2020 2020 6c61 7465 7374 5f65 6e64        latest_end
+00003c60: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+00003c70: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00003c80: 2020 2020 2020 2020 6c61 7465 7374 5f65          latest_e
+00003c90: 7865 6375 7469 6f6e 5f74 696d 653a 2064  xecution_time: d
+00003ca0: 742e 6461 7465 7469 6d65 203d 204e 6f6e  t.datetime = Non
+00003cb0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00003cc0: 2020 2020 7374 6174 7573 3a20 556e 696f      status: Unio
+00003cd0: 6e5b 7374 722c 2052 6570 6f72 7453 7461  n[str, ReportSta
+00003ce0: 7475 735d 203d 2052 6570 6f72 7453 7461  tus] = ReportSta
+00003cf0: 7475 732e 6e65 772c 0a20 2020 2020 2020  tus.new,.       
+00003d00: 2020 2020 2020 2020 2020 7065 7263 656e            percen
+00003d10: 7461 6765 5f63 6f6d 706c 6574 653a 2066  tage_complete: f
+00003d20: 6c6f 6174 203d 204e 6f6e 652c 0a20 2020  loat = None,.   
+00003d30: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
+00003d40: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
+00003d50: 2022 2222 0a20 2020 2020 2020 2048 6973   """.        His
+00003d60: 746f 7269 6361 6c20 616e 616c 7973 6573  torical analyses
+00003d70: 206f 6e20 6d65 6173 7572 6573 206c 696b   on measures lik
+00003d80: 6520 506e 4c20 616e 6420 6578 706f 7375  e PnL and exposu
+00003d90: 7265 206f 6620 6120 706f 7274 666f 6c69  re of a portfoli
+00003da0: 6f20 6f76 6572 2061 2064 6174 6520 7261  o over a date ra
+00003db0: 6e67 650a 0a20 2020 2020 2020 203a 7061  nge..        :pa
+00003dc0: 7261 6d20 7265 706f 7274 5f69 643a 204d  ram report_id: M
+00003dd0: 6172 7175 6565 2072 6570 6f72 7420 4944  arquee report ID
+00003de0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00003df0: 6e61 6d65 3a20 7265 706f 7274 206e 616d  name: report nam
+00003e00: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00003e10: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+00003e20: 5f69 643a 2070 6f73 6974 696f 6e20 736f  _id: position so
+00003e30: 7572 6365 2049 440a 2020 2020 2020 2020  urce ID.        
+00003e40: 3a70 6172 616d 2070 6f73 6974 696f 6e5f  :param position_
+00003e50: 736f 7572 6365 5f74 7970 653a 2070 6f73  source_type: pos
+00003e60: 6974 696f 6e20 736f 7572 6365 2028 692e  ition source (i.
+00003e70: 652e 2027 506f 7274 666f 6c69 6f27 2c20  e. 'Portfolio', 
+00003e80: 2741 7373 6574 272c 206f 7220 2748 6564  'Asset', or 'Hed
+00003e90: 6765 2729 0a20 2020 2020 2020 203a 7061  ge').        :pa
+00003ea0: 7261 6d20 7061 7261 6d65 7465 7273 3a20  ram parameters: 
+00003eb0: 7061 7261 6d65 7465 7273 206f 6620 7468  parameters of th
+00003ec0: 6520 7265 706f 7274 0a20 2020 2020 2020  e report.       
+00003ed0: 203a 7061 7261 6d20 6561 726c 6965 7374   :param earliest
+00003ee0: 5f73 7461 7274 5f64 6174 653a 2073 7461  _start_date: sta
+00003ef0: 7274 2064 6174 6520 6f66 2072 6570 6f72  rt date of repor
+00003f00: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+00003f10: 206c 6174 6573 745f 656e 645f 6461 7465   latest_end_date
+00003f20: 3a20 656e 6420 6461 7465 206f 6620 7265  : end date of re
+00003f30: 706f 7274 0a20 2020 2020 2020 203a 7061  port.        :pa
+00003f40: 7261 6d20 6c61 7465 7374 5f65 7865 6375  ram latest_execu
+00003f50: 7469 6f6e 5f74 696d 653a 2064 6174 6520  tion_time: date 
+00003f60: 6f66 2074 6865 206c 6174 6573 7420 6578  of the latest ex
+00003f70: 6563 7574 696f 6e0a 2020 2020 2020 2020  ecution.        
+00003f80: 3a70 6172 616d 2073 7461 7475 733a 2073  :param status: s
+00003f90: 7461 7475 7320 6f66 206f 6620 7265 706f  tatus of of repo
+00003fa0: 7274 2028 692e 652e 2027 7265 6164 7927  rt (i.e. 'ready'
+00003fb0: 2c20 2765 7865 6375 7469 6e67 272c 206f  , 'executing', o
+00003fc0: 7220 2764 6f6e 6527 290a 2020 2020 2020  r 'done').      
+00003fd0: 2020 3a70 6172 616d 2070 6572 6365 6e74    :param percent
+00003fe0: 6167 655f 636f 6d70 6c65 7465 3a20 7065  age_complete: pe
+00003ff0: 7263 656e 7420 6f66 2074 6865 2072 6570  rcent of the rep
+00004000: 6f72 7420 7468 6174 2069 7320 636f 6d70  ort that is comp
+00004010: 6c65 7465 0a0a 2020 2020 2020 2020 2a2a  lete..        **
+00004020: 4578 616d 706c 6573 2a2a 0a0a 2020 2020  Examples**..    
+00004030: 2020 2020 3e3e 3e20 7065 7266 6f72 6d61      >>> performa
+00004040: 6e63 655f 7265 706f 7274 203d 2050 6572  nce_report = Per
+00004050: 666f 726d 616e 6365 5265 706f 7274 280a  formanceReport(.
+00004060: 2020 2020 2020 2020 3e3e 3e20 2020 2020          >>>     
+00004070: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00004080: 7479 7065 3d50 6f73 6974 696f 6e53 6f75  type=PositionSou
+00004090: 7263 6554 7970 652e 506f 7274 666f 6c69  rceType.Portfoli
+000040a0: 6f2c 0a20 2020 2020 2020 203e 3e3e 2020  o,.        >>>  
+000040b0: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
+000040c0: 6365 5f69 643d 2750 4f52 5446 4f4c 494f  ce_id='PORTFOLIO
+000040d0: 4944 270a 2020 2020 2020 2020 3e3e 3e20  ID'.        >>> 
+000040e0: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
+000040f0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+00004100: 696e 6974 5f5f 2872 6570 6f72 745f 6964  init__(report_id
+00004110: 2c20 6e61 6d65 2c20 706f 7369 7469 6f6e  , name, position
+00004120: 5f73 6f75 7263 655f 6964 2c20 706f 7369  _source_id, posi
+00004130: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+00004140: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004150: 2020 2020 2020 2020 2020 2052 6570 6f72             Repor
+00004160: 7454 7970 652e 506f 7274 666f 6c69 6f5f  tType.Portfolio_
+00004170: 5065 7266 6f72 6d61 6e63 655f 416e 616c  Performance_Anal
+00004180: 7974 6963 732c 2070 6172 616d 6574 6572  ytics, parameter
+00004190: 732c 2065 6172 6c69 6573 745f 7374 6172  s, earliest_star
+000041a0: 745f 6461 7465 2c20 6c61 7465 7374 5f65  t_date, latest_e
+000041b0: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
+000041c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000041d0: 2020 6c61 7465 7374 5f65 7865 6375 7469    latest_executi
+000041e0: 6f6e 5f74 696d 652c 2073 7461 7475 732c  on_time, status,
+000041f0: 2070 6572 6365 6e74 6167 655f 636f 6d70   percentage_comp
+00004200: 6c65 7465 290a 0a20 2020 2040 636c 6173  lete)..    @clas
+00004210: 736d 6574 686f 640a 2020 2020 6465 6620  smethod.    def 
+00004220: 6765 7428 636c 732c 0a20 2020 2020 2020  get(cls,.       
+00004230: 2020 2020 2072 6570 6f72 745f 6964 3a20       report_id: 
+00004240: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+00004250: 202a 2a6b 7761 7267 7329 3a0a 2020 2020   **kwargs):.    
+00004260: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00004270: 4765 7420 6120 7065 7266 6f72 6d61 6e63  Get a performanc
+00004280: 6520 7265 706f 7274 2066 726f 6d20 7468  e report from th
+00004290: 6520 756e 6971 7565 2072 6570 6f72 7420  e unique report 
+000042a0: 6964 656e 7469 6669 6572 0a0a 2020 2020  identifier..    
+000042b0: 2020 2020 3a70 6172 616d 2072 6570 6f72      :param repor
+000042c0: 745f 6964 3a20 4d61 7271 7565 6520 7265  t_id: Marquee re
+000042d0: 706f 7274 2049 440a 2020 2020 2020 2020  port ID.        
+000042e0: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
+000042f0: 2061 2050 6572 666f 726d 616e 6365 5265   a PerformanceRe
+00004300: 706f 7274 206f 626a 6563 7420 7468 6174  port object that
+00004310: 2063 6f72 7265 6c61 7465 7320 746f 2074   correlates to t
+00004320: 6865 204d 6172 7175 6565 2072 6570 6f72  he Marquee repor
+00004330: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00004340: 2020 2020 2020 7265 7475 726e 2063 6c73        return cls
+00004350: 2e66 726f 6d5f 7461 7267 6574 2847 7352  .from_target(GsR
+00004360: 6570 6f72 7441 7069 2e67 6574 5f72 6570  eportApi.get_rep
+00004370: 6f72 7428 7265 706f 7274 5f69 6429 290a  ort(report_id)).
+00004380: 0a20 2020 2040 636c 6173 736d 6574 686f  .    @classmetho
+00004390: 640a 2020 2020 6465 6620 6672 6f6d 5f74  d.    def from_t
+000043a0: 6172 6765 7428 636c 732c 0a20 2020 2020  arget(cls,.     
+000043b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000043c0: 6570 6f72 743a 2054 6172 6765 7452 6570  eport: TargetRep
+000043d0: 6f72 7429 3a0a 2020 2020 2020 2020 6966  ort):.        if
+000043e0: 2072 6570 6f72 742e 7479 7065 2021 3d20   report.type != 
+000043f0: 5265 706f 7274 5479 7065 2e50 6f72 7466  ReportType.Portf
+00004400: 6f6c 696f 5f50 6572 666f 726d 616e 6365  olio_Performance
+00004410: 5f41 6e61 6c79 7469 6373 3a0a 2020 2020  _Analytics:.    
+00004420: 2020 2020 2020 2020 7261 6973 6520 4d71          raise Mq
+00004430: 5661 6c75 6545 7272 6f72 2827 5468 6973  ValueError('This
+00004440: 2072 6570 6f72 7420 6973 206e 6f74 2061   report is not a
+00004450: 2070 6572 666f 726d 616e 6365 2072 6570   performance rep
+00004460: 6f72 742e 2729 0a20 2020 2020 2020 2072  ort.').        r
+00004470: 6574 7572 6e20 5065 7266 6f72 6d61 6e63  eturn Performanc
+00004480: 6552 6570 6f72 7428 7265 706f 7274 5f69  eReport(report_i
+00004490: 643d 7265 706f 7274 2e69 642c 0a20 2020  d=report.id,.   
+000044a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044b0: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+000044c0: 6d65 3d72 6570 6f72 742e 6e61 6d65 2c0a  me=report.name,.
+000044d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044f0: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+00004500: 5f69 643d 7265 706f 7274 2e70 6f73 6974  _id=report.posit
+00004510: 696f 6e5f 736f 7572 6365 5f69 642c 0a20  ion_source_id,. 
+00004520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004540: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00004550: 7479 7065 3d72 6570 6f72 742e 706f 7369  type=report.posi
+00004560: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+00004570: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004590: 2020 2072 6570 6f72 745f 7479 7065 3d72     report_type=r
+000045a0: 6570 6f72 742e 7479 7065 2c0a 2020 2020  eport.type,.    
 000045b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000045c0: 2020 6e61 6d65 3d72 6570 6f72 742e 6e61    name=report.na
-000045d0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-000045e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000045f0: 2020 2020 2070 6f73 6974 696f 6e5f 736f       position_so
-00004600: 7572 6365 5f69 643d 7265 706f 7274 2e70  urce_id=report.p
-00004610: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00004620: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-00004630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004640: 2020 2020 706f 7369 7469 6f6e 5f73 6f75      position_sou
-00004650: 7263 655f 7479 7065 3d72 6570 6f72 742e  rce_type=report.
-00004660: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-00004670: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-00004680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004690: 2020 2020 2020 2072 6570 6f72 745f 7479         report_ty
-000046a0: 7065 3d72 6570 6f72 742e 7479 7065 2c0a  pe=report.type,.
-000046b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046d0: 2070 6172 616d 6574 6572 733d 7265 706f   parameters=repo
-000046e0: 7274 2e70 6172 616d 6574 6572 732c 0a20  rt.parameters,. 
-000046f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004710: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
-00004720: 6174 653d 7265 706f 7274 2e65 6172 6c69  ate=report.earli
-00004730: 6573 745f 7374 6172 745f 6461 7465 2c0a  est_start_date,.
-00004740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004760: 206c 6174 6573 745f 656e 645f 6461 7465   latest_end_date
-00004770: 3d72 6570 6f72 742e 6c61 7465 7374 5f65  =report.latest_e
-00004780: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
-00004790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047a0: 2020 2020 2020 2020 2020 6c61 7465 7374            latest
-000047b0: 5f65 7865 6375 7469 6f6e 5f74 696d 653d  _execution_time=
-000047c0: 7265 706f 7274 2e6c 6174 6573 745f 6578  report.latest_ex
-000047d0: 6563 7574 696f 6e5f 7469 6d65 2c0a 2020  ecution_time,.  
-000047e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004800: 7461 7475 733d 7265 706f 7274 2e73 7461  tatus=report.sta
-00004810: 7475 732c 0a20 2020 2020 2020 2020 2020  tus,.           
-00004820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004830: 2020 2020 2020 7065 7263 656e 7461 6765        percentage
-00004840: 5f63 6f6d 706c 6574 653d 7265 706f 7274  _complete=report
-00004850: 2e70 6572 6365 6e74 6167 655f 636f 6d70  .percentage_comp
-00004860: 6c65 7465 290a 0a20 2020 2064 6566 2067  lete)..    def g
-00004870: 6574 5f70 6e6c 2873 656c 662c 0a20 2020  et_pnl(self,.   
-00004880: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00004890: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
-000048a0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000048b0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
-000048c0: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
-000048d0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-000048e0: 2020 2075 6e69 743a 2046 6163 746f 7252     unit: FactorR
-000048f0: 6973 6b55 6e69 7420 3d20 4661 6374 6f72  iskUnit = Factor
-00004900: 5269 736b 556e 6974 2e4e 6f74 696f 6e61  RiskUnit.Notiona
-00004910: 6c29 202d 3e20 7064 2e44 6174 6146 7261  l) -> pd.DataFra
-00004920: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
-00004930: 2020 2020 2020 2020 4765 7420 6869 7374          Get hist
-00004940: 6f72 6963 616c 2070 6f72 7466 6f6c 696f  orical portfolio
-00004950: 2050 6e4c 0a0a 2020 2020 2020 2020 3a70   PnL..        :p
-00004960: 6172 616d 2073 7461 7274 5f64 6174 653a  aram start_date:
-00004970: 2073 7461 7274 2064 6174 650a 2020 2020   start date.    
-00004980: 2020 2020 3a70 6172 616d 2065 6e64 5f64      :param end_d
-00004990: 6174 653a 2065 6e64 2064 6174 650a 2020  ate: end date.  
-000049a0: 2020 2020 2020 3a70 6172 616d 2075 6e69        :param uni
-000049b0: 743a 2072 6574 7572 6e20 7468 6520 7265  t: return the re
-000049c0: 7375 6c74 7320 696e 2074 6572 6d73 206f  sults in terms o
-000049d0: 6620 6e6f 7469 6f6e 616c 206f 7220 7065  f notional or pe
-000049e0: 7263 656e 7420 2864 6566 6175 6c74 7320  rcent (defaults 
-000049f0: 746f 206e 6f74 696f 6e61 6c29 0a20 2020  to notional).   
-00004a00: 2020 2020 203a 7265 7475 726e 3a20 7265       :return: re
-00004a10: 7475 726e 7320 6120 5061 6e64 6173 2044  turns a Pandas D
-00004a20: 6174 6146 7261 6d65 2077 6974 6820 7468  ataFrame with th
-00004a30: 6520 7265 7375 6c74 730a 2020 2020 2020  e results.      
-00004a40: 2020 2222 220a 2020 2020 2020 2020 7265    """.        re
-00004a50: 7475 726e 2073 656c 662e 6765 745f 706e  turn self.get_pn
-00004a60: 6c5f 6d65 6173 7572 6528 2270 6e6c 222c  l_measure("pnl",
-00004a70: 2075 6e69 742c 2073 7461 7274 5f64 6174   unit, start_dat
-00004a80: 652c 2065 6e64 5f64 6174 6529 0a0a 2020  e, end_date)..  
-00004a90: 2020 6465 6620 6765 745f 6c6f 6e67 5f65    def get_long_e
-00004aa0: 7870 6f73 7572 6528 7365 6c66 2c0a 2020  xposure(self,.  
-00004ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ac0: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
-00004ad0: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
-00004ae0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00004af0: 2020 2020 2020 2020 2020 2020 2020 656e                en
-00004b00: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
-00004b10: 3d20 4e6f 6e65 2920 2d3e 2070 642e 4461  = None) -> pd.Da
-00004b20: 7461 4672 616d 653a 0a20 2020 2020 2020  taFrame:.       
-00004b30: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-00004b40: 2068 6973 746f 7269 6361 6c20 706f 7274   historical port
-00004b50: 666f 6c69 6f20 6c6f 6e67 2065 7870 6f73  folio long expos
-00004b60: 7572 650a 0a20 2020 2020 2020 203a 7061  ure..        :pa
-00004b70: 7261 6d20 7374 6172 745f 6461 7465 3a20  ram start_date: 
-00004b80: 7374 6172 7420 6461 7465 0a20 2020 2020  start date.     
-00004b90: 2020 203a 7061 7261 6d20 656e 645f 6461     :param end_da
-00004ba0: 7465 3a20 656e 6420 6461 7465 0a20 2020  te: end date.   
-00004bb0: 2020 2020 203a 7265 7475 726e 3a20 7265       :return: re
-00004bc0: 7475 726e 7320 6120 5061 6e64 6173 2044  turns a Pandas D
-00004bd0: 6174 6146 7261 6d65 2077 6974 6820 7468  ataFrame with th
-00004be0: 6520 7265 7375 6c74 730a 2020 2020 2020  e results.      
-00004bf0: 2020 2222 220a 2020 2020 2020 2020 7265    """.        re
-00004c00: 7475 726e 2073 656c 662e 6765 745f 6d65  turn self.get_me
-00004c10: 6173 7572 6528 226c 6f6e 6745 7870 6f73  asure("longExpos
-00004c20: 7572 6522 2c20 7374 6172 745f 6461 7465  ure", start_date
-00004c30: 2c20 656e 645f 6461 7465 290a 0a20 2020  , end_date)..   
-00004c40: 2064 6566 2067 6574 5f73 686f 7274 5f65   def get_short_e
-00004c50: 7870 6f73 7572 6528 7365 6c66 2c0a 2020  xposure(self,.  
-00004c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c70: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
-00004c80: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
-00004c90: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00004ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004cb0: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
-00004cc0: 6520 3d20 4e6f 6e65 2920 2d3e 2070 642e  e = None) -> pd.
-00004cd0: 4461 7461 4672 616d 653a 0a20 2020 2020  DataFrame:.     
-00004ce0: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
-00004cf0: 6574 2068 6973 746f 7269 6361 6c20 706f  et historical po
-00004d00: 7274 666f 6c69 6f20 7368 6f72 7420 6578  rtfolio short ex
-00004d10: 706f 7375 7265 0a0a 2020 2020 2020 2020  posure..        
-00004d20: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
-00004d30: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
-00004d40: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
-00004d50: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
-00004d60: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-00004d70: 2072 6574 7572 6e73 2061 2050 616e 6461   returns a Panda
-00004d80: 7320 4461 7461 4672 616d 6520 7769 7468  s DataFrame with
-00004d90: 2074 6865 2072 6573 756c 7473 0a20 2020   the results.   
-00004da0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00004db0: 2072 6574 7572 6e20 7365 6c66 2e67 6574   return self.get
-00004dc0: 5f6d 6561 7375 7265 2822 7368 6f72 7445  _measure("shortE
-00004dd0: 7870 6f73 7572 6522 2c20 7374 6172 745f  xposure", start_
-00004de0: 6461 7465 2c20 656e 645f 6461 7465 290a  date, end_date).
-00004df0: 0a20 2020 2064 6566 2067 6574 5f61 7373  .    def get_ass
-00004e00: 6574 5f63 6f75 6e74 2873 656c 662c 0a20  et_count(self,. 
-00004e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e20: 2020 2020 2020 2073 7461 7274 5f64 6174         start_dat
-00004e30: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
-00004e40: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00004e50: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
-00004e60: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
-00004e70: 6f6e 6529 202d 3e20 7064 2e44 6174 6146  one) -> pd.DataF
-00004e80: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
-00004e90: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
-00004ea0: 7374 6f72 6963 616c 2070 6f72 7466 6f6c  storical portfol
-00004eb0: 696f 2061 7373 6574 2063 6f75 6e74 0a0a  io asset count..
-00004ec0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00004ed0: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-00004ee0: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-00004ef0: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-00004f00: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-00004f10: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
-00004f20: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
-00004f30: 616d 6520 7769 7468 2074 6865 2072 6573  ame with the res
-00004f40: 756c 7473 0a20 2020 2020 2020 2022 2222  ults.        """
-00004f50: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00004f60: 7365 6c66 2e67 6574 5f6d 6561 7375 7265  self.get_measure
-00004f70: 2822 6173 7365 7443 6f75 6e74 222c 2073  ("assetCount", s
-00004f80: 7461 7274 5f64 6174 652c 2065 6e64 5f64  tart_date, end_d
-00004f90: 6174 6529 0a0a 2020 2020 6465 6620 6765  ate)..    def ge
-00004fa0: 745f 7475 726e 6f76 6572 2873 656c 662c  t_turnover(self,
-00004fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004fc0: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
-00004fd0: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-00004fe0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00004ff0: 2020 2020 2020 2065 6e64 5f64 6174 653a         end_date:
-00005000: 2064 742e 6461 7465 203d 204e 6f6e 6529   dt.date = None)
-00005010: 202d 3e20 7064 2e44 6174 6146 7261 6d65   -> pd.DataFrame
-00005020: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00005030: 2020 2020 2020 4765 7420 6869 7374 6f72        Get histor
-00005040: 6963 616c 2070 6f72 7466 6f6c 696f 2074  ical portfolio t
-00005050: 7572 6e6f 7665 720a 0a20 2020 2020 2020  urnover..       
-00005060: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
-00005070: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
-00005080: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-00005090: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
-000050a0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-000050b0: 3a20 7265 7475 726e 7320 6120 5061 6e64  : returns a Pand
-000050c0: 6173 2044 6174 6146 7261 6d65 2077 6974  as DataFrame wit
-000050d0: 6820 7468 6520 7265 7375 6c74 730a 2020  h the results.  
-000050e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000050f0: 2020 7265 7475 726e 2073 656c 662e 6765    return self.ge
-00005100: 745f 6d65 6173 7572 6528 2274 7572 6e6f  t_measure("turno
-00005110: 7665 7222 2c20 7374 6172 745f 6461 7465  ver", start_date
-00005120: 2c20 656e 645f 6461 7465 290a 0a20 2020  , end_date)..   
-00005130: 2064 6566 2067 6574 5f61 7373 6574 5f63   def get_asset_c
-00005140: 6f75 6e74 5f6c 6f6e 6728 7365 6c66 2c0a  ount_long(self,.
-00005150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005160: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00005170: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
-00005180: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00005190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051a0: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
-000051b0: 6474 2e64 6174 6520 3d20 4e6f 6e65 2920  dt.date = None) 
-000051c0: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
-000051d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000051e0: 2020 2020 2047 6574 2068 6973 746f 7269       Get histori
-000051f0: 6361 6c20 706f 7274 666f 6c69 6f20 6c6f  cal portfolio lo
-00005200: 6e67 2061 7373 6574 2063 6f75 6e74 0a0a  ng asset count..
-00005210: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00005220: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-00005230: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-00005240: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-00005250: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-00005260: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
-00005270: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
-00005280: 616d 6520 7769 7468 2074 6865 2072 6573  ame with the res
-00005290: 756c 7473 0a20 2020 2020 2020 2022 2222  ults.        """
-000052a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000052b0: 7365 6c66 2e67 6574 5f6d 6561 7375 7265  self.get_measure
-000052c0: 2822 6173 7365 7443 6f75 6e74 4c6f 6e67  ("assetCountLong
-000052d0: 222c 2073 7461 7274 5f64 6174 652c 2065  ", start_date, e
-000052e0: 6e64 5f64 6174 6529 0a0a 2020 2020 6465  nd_date)..    de
-000052f0: 6620 6765 745f 6173 7365 745f 636f 756e  f get_asset_coun
-00005300: 745f 7368 6f72 7428 7365 6c66 2c0a 2020  t_short(self,.  
-00005310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005320: 2020 2020 2020 2020 2020 2020 7374 6172              star
-00005330: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
-00005340: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00005350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005360: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
-00005370: 6474 2e64 6174 6520 3d20 4e6f 6e65 2920  dt.date = None) 
-00005380: 5c0a 2020 2020 2020 2020 2020 2020 2d3e  \.            ->
-00005390: 2055 6e69 6f6e 5b4d 4441 5049 4461 7461   Union[MDAPIData
-000053a0: 4261 7463 6852 6573 706f 6e73 652c 2044  BatchResponse, D
-000053b0: 6174 6151 7565 7279 5265 7370 6f6e 7365  ataQueryResponse
-000053c0: 2c20 7475 706c 652c 206c 6973 745d 3a0a  , tuple, list]:.
-000053d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000053e0: 2020 2020 4765 7420 6869 7374 6f72 6963      Get historic
-000053f0: 616c 2070 6f72 7466 6f6c 696f 2073 686f  al portfolio sho
-00005400: 7274 2061 7373 6574 2063 6f75 6e74 0a0a  rt asset count..
-00005410: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00005420: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-00005430: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-00005440: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-00005450: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-00005460: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
-00005470: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
-00005480: 616d 6520 7769 7468 2074 6865 2072 6573  ame with the res
-00005490: 756c 7473 0a20 2020 2020 2020 2022 2222  ults.        """
-000054a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000054b0: 7365 6c66 2e67 6574 5f6d 6561 7375 7265  self.get_measure
-000054c0: 2822 6173 7365 7443 6f75 6e74 5368 6f72  ("assetCountShor
-000054d0: 7422 2c20 7374 6172 745f 6461 7465 2c20  t", start_date, 
-000054e0: 656e 645f 6461 7465 290a 0a20 2020 2064  end_date)..    d
-000054f0: 6566 2067 6574 5f6e 6574 5f65 7870 6f73  ef get_net_expos
-00005500: 7572 6528 7365 6c66 2c0a 2020 2020 2020  ure(self,.      
+000045c0: 2020 2020 2020 2020 2020 2020 2070 6172               par
+000045d0: 616d 6574 6572 733d 7265 706f 7274 2e70  ameters=report.p
+000045e0: 6172 616d 6574 6572 732c 0a20 2020 2020  arameters,.     
+000045f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004600: 2020 2020 2020 2020 2020 2020 6561 726c              earl
+00004610: 6965 7374 5f73 7461 7274 5f64 6174 653d  iest_start_date=
+00004620: 7265 706f 7274 2e65 6172 6c69 6573 745f  report.earliest_
+00004630: 7374 6172 745f 6461 7465 2c0a 2020 2020  start_date,.    
+00004640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004650: 2020 2020 2020 2020 2020 2020 206c 6174               lat
+00004660: 6573 745f 656e 645f 6461 7465 3d72 6570  est_end_date=rep
+00004670: 6f72 742e 6c61 7465 7374 5f65 6e64 5f64  ort.latest_end_d
+00004680: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
+00004690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046a0: 2020 2020 2020 6c61 7465 7374 5f65 7865        latest_exe
+000046b0: 6375 7469 6f6e 5f74 696d 653d 7265 706f  cution_time=repo
+000046c0: 7274 2e6c 6174 6573 745f 6578 6563 7574  rt.latest_execut
+000046d0: 696f 6e5f 7469 6d65 2c0a 2020 2020 2020  ion_time,.      
+000046e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000046f0: 2020 2020 2020 2020 2020 2073 7461 7475             statu
+00004700: 733d 7265 706f 7274 2e73 7461 7475 732c  s=report.status,
+00004710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004730: 2020 7065 7263 656e 7461 6765 5f63 6f6d    percentage_com
+00004740: 706c 6574 653d 7265 706f 7274 2e70 6572  plete=report.per
+00004750: 6365 6e74 6167 655f 636f 6d70 6c65 7465  centage_complete
+00004760: 290a 0a20 2020 2064 6566 2067 6574 5f70  )..    def get_p
+00004770: 6e6c 2873 656c 662c 0a20 2020 2020 2020  nl(self,.       
+00004780: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+00004790: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+000047a0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+000047b0: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
+000047c0: 742e 6461 7465 203d 204e 6f6e 6529 202d  t.date = None) -
+000047d0: 3e20 7064 2e44 6174 6146 7261 6d65 3a0a  > pd.DataFrame:.
+000047e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000047f0: 2020 2020 4765 7420 6869 7374 6f72 6963      Get historic
+00004800: 616c 2070 6f72 7466 6f6c 696f 2050 6e4c  al portfolio PnL
+00004810: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00004820: 2073 7461 7274 5f64 6174 653a 2073 7461   start_date: sta
+00004830: 7274 2064 6174 650a 2020 2020 2020 2020  rt date.        
+00004840: 3a70 6172 616d 2065 6e64 5f64 6174 653a  :param end_date:
+00004850: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
+00004860: 2020 3a72 6574 7572 6e3a 2072 6574 7572    :return: retur
+00004870: 6e73 2061 2050 616e 6461 7320 4461 7461  ns a Pandas Data
+00004880: 4672 616d 6520 7769 7468 2074 6865 2072  Frame with the r
+00004890: 6573 756c 7473 0a20 2020 2020 2020 2022  esults.        "
+000048a0: 2222 0a20 2020 2020 2020 2072 6574 7572  "".        retur
+000048b0: 6e20 7365 6c66 2e67 6574 5f6d 6561 7375  n self.get_measu
+000048c0: 7265 2822 706e 6c22 2c20 7374 6172 745f  re("pnl", start_
+000048d0: 6461 7465 2c20 656e 645f 6461 7465 290a  date, end_date).
+000048e0: 0a20 2020 2064 6566 2067 6574 5f6c 6f6e  .    def get_lon
+000048f0: 675f 6578 706f 7375 7265 2873 656c 662c  g_exposure(self,
+00004900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004910: 2020 2020 2020 2020 2020 2073 7461 7274             start
+00004920: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+00004930: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00004940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004950: 2065 6e64 5f64 6174 653a 2064 742e 6461   end_date: dt.da
+00004960: 7465 203d 204e 6f6e 6529 202d 3e20 7064  te = None) -> pd
+00004970: 2e44 6174 6146 7261 6d65 3a0a 2020 2020  .DataFrame:.    
+00004980: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00004990: 4765 7420 6869 7374 6f72 6963 616c 2070  Get historical p
+000049a0: 6f72 7466 6f6c 696f 206c 6f6e 6720 6578  ortfolio long ex
+000049b0: 706f 7375 7265 0a0a 2020 2020 2020 2020  posure..        
+000049c0: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
+000049d0: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
+000049e0: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
+000049f0: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
+00004a00: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00004a10: 2072 6574 7572 6e73 2061 2050 616e 6461   returns a Panda
+00004a20: 7320 4461 7461 4672 616d 6520 7769 7468  s DataFrame with
+00004a30: 2074 6865 2072 6573 756c 7473 0a20 2020   the results.   
+00004a40: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00004a50: 2072 6574 7572 6e20 7365 6c66 2e67 6574   return self.get
+00004a60: 5f6d 6561 7375 7265 2822 6c6f 6e67 4578  _measure("longEx
+00004a70: 706f 7375 7265 222c 2073 7461 7274 5f64  posure", start_d
+00004a80: 6174 652c 2065 6e64 5f64 6174 6529 0a0a  ate, end_date)..
+00004a90: 2020 2020 6465 6620 6765 745f 7368 6f72      def get_shor
+00004aa0: 745f 6578 706f 7375 7265 2873 656c 662c  t_exposure(self,
+00004ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004ac0: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00004ad0: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+00004ae0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00004af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b00: 2020 2065 6e64 5f64 6174 653a 2064 742e     end_date: dt.
+00004b10: 6461 7465 203d 204e 6f6e 6529 202d 3e20  date = None) -> 
+00004b20: 7064 2e44 6174 6146 7261 6d65 3a0a 2020  pd.DataFrame:.  
+00004b30: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00004b40: 2020 4765 7420 6869 7374 6f72 6963 616c    Get historical
+00004b50: 2070 6f72 7466 6f6c 696f 2073 686f 7274   portfolio short
+00004b60: 2065 7870 6f73 7572 650a 0a20 2020 2020   exposure..     
+00004b70: 2020 203a 7061 7261 6d20 7374 6172 745f     :param start_
+00004b80: 6461 7465 3a20 7374 6172 7420 6461 7465  date: start date
+00004b90: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00004ba0: 656e 645f 6461 7465 3a20 656e 6420 6461  end_date: end da
+00004bb0: 7465 0a20 2020 2020 2020 203a 7265 7475  te.        :retu
+00004bc0: 726e 3a20 7265 7475 726e 7320 6120 5061  rn: returns a Pa
+00004bd0: 6e64 6173 2044 6174 6146 7261 6d65 2077  ndas DataFrame w
+00004be0: 6974 6820 7468 6520 7265 7375 6c74 730a  ith the results.
+00004bf0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00004c00: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00004c10: 6765 745f 6d65 6173 7572 6528 2273 686f  get_measure("sho
+00004c20: 7274 4578 706f 7375 7265 222c 2073 7461  rtExposure", sta
+00004c30: 7274 5f64 6174 652c 2065 6e64 5f64 6174  rt_date, end_dat
+00004c40: 6529 0a0a 2020 2020 6465 6620 6765 745f  e)..    def get_
+00004c50: 6173 7365 745f 636f 756e 7428 7365 6c66  asset_count(self
+00004c60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004c70: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+00004c80: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
+00004c90: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00004ca0: 2020 2020 2020 2020 2020 2020 2020 656e                en
+00004cb0: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
+00004cc0: 3d20 4e6f 6e65 2920 2d3e 2070 642e 4461  = None) -> pd.Da
+00004cd0: 7461 4672 616d 653a 0a20 2020 2020 2020  taFrame:.       
+00004ce0: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+00004cf0: 2068 6973 746f 7269 6361 6c20 706f 7274   historical port
+00004d00: 666f 6c69 6f20 6173 7365 7420 636f 756e  folio asset coun
+00004d10: 740a 0a20 2020 2020 2020 203a 7061 7261  t..        :para
+00004d20: 6d20 7374 6172 745f 6461 7465 3a20 7374  m start_date: st
+00004d30: 6172 7420 6461 7465 0a20 2020 2020 2020  art date.       
+00004d40: 203a 7061 7261 6d20 656e 645f 6461 7465   :param end_date
+00004d50: 3a20 656e 6420 6461 7465 0a20 2020 2020  : end date.     
+00004d60: 2020 203a 7265 7475 726e 3a20 7265 7475     :return: retu
+00004d70: 726e 7320 6120 5061 6e64 6173 2044 6174  rns a Pandas Dat
+00004d80: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+00004d90: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+00004da0: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
+00004db0: 726e 2073 656c 662e 6765 745f 6d65 6173  rn self.get_meas
+00004dc0: 7572 6528 2261 7373 6574 436f 756e 7422  ure("assetCount"
+00004dd0: 2c20 7374 6172 745f 6461 7465 2c20 656e  , start_date, en
+00004de0: 645f 6461 7465 290a 0a20 2020 2064 6566  d_date)..    def
+00004df0: 2067 6574 5f74 7572 6e6f 7665 7228 7365   get_turnover(se
+00004e00: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+00004e10: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+00004e20: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+00004e30: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00004e40: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
+00004e50: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
+00004e60: 6e65 2920 2d3e 2070 642e 4461 7461 4672  ne) -> pd.DataFr
+00004e70: 616d 653a 0a20 2020 2020 2020 2022 2222  ame:.        """
+00004e80: 0a20 2020 2020 2020 2047 6574 2068 6973  .        Get his
+00004e90: 746f 7269 6361 6c20 706f 7274 666f 6c69  torical portfoli
+00004ea0: 6f20 7475 726e 6f76 6572 0a0a 2020 2020  o turnover..    
+00004eb0: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
+00004ec0: 5f64 6174 653a 2073 7461 7274 2064 6174  _date: start dat
+00004ed0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00004ee0: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
+00004ef0: 6174 650a 2020 2020 2020 2020 3a72 6574  ate.        :ret
+00004f00: 7572 6e3a 2072 6574 7572 6e73 2061 2050  urn: returns a P
+00004f10: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
+00004f20: 7769 7468 2074 6865 2072 6573 756c 7473  with the results
+00004f30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00004f40: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00004f50: 2e67 6574 5f6d 6561 7375 7265 2822 7475  .get_measure("tu
+00004f60: 726e 6f76 6572 222c 2073 7461 7274 5f64  rnover", start_d
+00004f70: 6174 652c 2065 6e64 5f64 6174 6529 0a0a  ate, end_date)..
+00004f80: 2020 2020 6465 6620 6765 745f 6173 7365      def get_asse
+00004f90: 745f 636f 756e 745f 6c6f 6e67 2873 656c  t_count_long(sel
+00004fa0: 662c 0a20 2020 2020 2020 2020 2020 2020  f,.             
+00004fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004fc0: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
+00004fd0: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
+00004fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ff0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
+00005000: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
+00005010: 6529 202d 3e20 7064 2e44 6174 6146 7261  e) -> pd.DataFra
+00005020: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
+00005030: 2020 2020 2020 2020 4765 7420 6869 7374          Get hist
+00005040: 6f72 6963 616c 2070 6f72 7466 6f6c 696f  orical portfolio
+00005050: 206c 6f6e 6720 6173 7365 7420 636f 756e   long asset coun
+00005060: 740a 0a20 2020 2020 2020 203a 7061 7261  t..        :para
+00005070: 6d20 7374 6172 745f 6461 7465 3a20 7374  m start_date: st
+00005080: 6172 7420 6461 7465 0a20 2020 2020 2020  art date.       
+00005090: 203a 7061 7261 6d20 656e 645f 6461 7465   :param end_date
+000050a0: 3a20 656e 6420 6461 7465 0a20 2020 2020  : end date.     
+000050b0: 2020 203a 7265 7475 726e 3a20 7265 7475     :return: retu
+000050c0: 726e 7320 6120 5061 6e64 6173 2044 6174  rns a Pandas Dat
+000050d0: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+000050e0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+000050f0: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
+00005100: 726e 2073 656c 662e 6765 745f 6d65 6173  rn self.get_meas
+00005110: 7572 6528 2261 7373 6574 436f 756e 744c  ure("assetCountL
+00005120: 6f6e 6722 2c20 7374 6172 745f 6461 7465  ong", start_date
+00005130: 2c20 656e 645f 6461 7465 290a 0a20 2020  , end_date)..   
+00005140: 2064 6566 2067 6574 5f61 7373 6574 5f63   def get_asset_c
+00005150: 6f75 6e74 5f73 686f 7274 2873 656c 662c  ount_short(self,
+00005160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005170: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00005180: 7461 7274 5f64 6174 653a 2064 742e 6461  tart_date: dt.da
+00005190: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
+000051a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051b0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
+000051c0: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
+000051d0: 6529 205c 0a20 2020 2020 2020 2020 2020  e) \.           
+000051e0: 202d 3e20 556e 696f 6e5b 4d44 4150 4944   -> Union[MDAPID
+000051f0: 6174 6142 6174 6368 5265 7370 6f6e 7365  ataBatchResponse
+00005200: 2c20 4461 7461 5175 6572 7952 6573 706f  , DataQueryRespo
+00005210: 6e73 652c 2074 7570 6c65 2c20 6c69 7374  nse, tuple, list
+00005220: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
+00005230: 2020 2020 2020 2047 6574 2068 6973 746f         Get histo
+00005240: 7269 6361 6c20 706f 7274 666f 6c69 6f20  rical portfolio 
+00005250: 7368 6f72 7420 6173 7365 7420 636f 756e  short asset coun
+00005260: 740a 0a20 2020 2020 2020 203a 7061 7261  t..        :para
+00005270: 6d20 7374 6172 745f 6461 7465 3a20 7374  m start_date: st
+00005280: 6172 7420 6461 7465 0a20 2020 2020 2020  art date.       
+00005290: 203a 7061 7261 6d20 656e 645f 6461 7465   :param end_date
+000052a0: 3a20 656e 6420 6461 7465 0a20 2020 2020  : end date.     
+000052b0: 2020 203a 7265 7475 726e 3a20 7265 7475     :return: retu
+000052c0: 726e 7320 6120 5061 6e64 6173 2044 6174  rns a Pandas Dat
+000052d0: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+000052e0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+000052f0: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
+00005300: 726e 2073 656c 662e 6765 745f 6d65 6173  rn self.get_meas
+00005310: 7572 6528 2261 7373 6574 436f 756e 7453  ure("assetCountS
+00005320: 686f 7274 222c 2073 7461 7274 5f64 6174  hort", start_dat
+00005330: 652c 2065 6e64 5f64 6174 6529 0a0a 2020  e, end_date)..  
+00005340: 2020 6465 6620 6765 745f 6e65 745f 6578    def get_net_ex
+00005350: 706f 7375 7265 2873 656c 662c 0a20 2020  posure(self,.   
+00005360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005370: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
+00005380: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
+00005390: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000053a0: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+000053b0: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+000053c0: 6f6e 6529 202d 3e20 7064 2e44 6174 6146  one) -> pd.DataF
+000053d0: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
+000053e0: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
+000053f0: 7374 6f72 6963 616c 2070 6f72 7466 6f6c  storical portfol
+00005400: 696f 206e 6574 2065 7870 6f73 7572 650a  io net exposure.
+00005410: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00005420: 7374 6172 745f 6461 7465 3a20 7374 6172  start_date: star
+00005430: 7420 6461 7465 0a20 2020 2020 2020 203a  t date.        :
+00005440: 7061 7261 6d20 656e 645f 6461 7465 3a20  param end_date: 
+00005450: 656e 6420 6461 7465 0a20 2020 2020 2020  end date.       
+00005460: 203a 7265 7475 726e 3a20 7265 7475 726e   :return: return
+00005470: 7320 6120 5061 6e64 6173 2044 6174 6146  s a Pandas DataF
+00005480: 7261 6d65 2077 6974 6820 7468 6520 7265  rame with the re
+00005490: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
+000054a0: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
+000054b0: 2073 656c 662e 6765 745f 6d65 6173 7572   self.get_measur
+000054c0: 6528 226e 6574 4578 706f 7375 7265 222c  e("netExposure",
+000054d0: 2073 7461 7274 5f64 6174 652c 2065 6e64   start_date, end
+000054e0: 5f64 6174 6529 0a0a 2020 2020 6465 6620  _date)..    def 
+000054f0: 6765 745f 6772 6f73 735f 6578 706f 7375  get_gross_exposu
+00005500: 7265 2873 656c 662c 0a20 2020 2020 2020  re(self,.       
 00005510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005520: 2020 2073 7461 7274 5f64 6174 653a 2064     start_date: d
-00005530: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
+00005520: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
+00005530: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
 00005540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005550: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-00005560: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-00005570: 2920 2d3e 2070 642e 4461 7461 4672 616d  ) -> pd.DataFram
-00005580: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-00005590: 2020 2020 2020 2047 6574 2068 6973 746f         Get histo
-000055a0: 7269 6361 6c20 706f 7274 666f 6c69 6f20  rical portfolio 
-000055b0: 6e65 7420 6578 706f 7375 7265 0a0a 2020  net exposure..  
-000055c0: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-000055d0: 7274 5f64 6174 653a 2073 7461 7274 2064  rt_date: start d
-000055e0: 6174 650a 2020 2020 2020 2020 3a70 6172  ate.        :par
-000055f0: 616d 2065 6e64 5f64 6174 653a 2065 6e64  am end_date: end
-00005600: 2064 6174 650a 2020 2020 2020 2020 3a72   date.        :r
-00005610: 6574 7572 6e3a 2072 6574 7572 6e73 2061  eturn: returns a
-00005620: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
-00005630: 6520 7769 7468 2074 6865 2072 6573 756c  e with the resul
-00005640: 7473 0a20 2020 2020 2020 2022 2222 0a20  ts.        """. 
-00005650: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00005660: 6c66 2e67 6574 5f6d 6561 7375 7265 2822  lf.get_measure("
-00005670: 6e65 7445 7870 6f73 7572 6522 2c20 7374  netExposure", st
-00005680: 6172 745f 6461 7465 2c20 656e 645f 6461  art_date, end_da
-00005690: 7465 290a 0a20 2020 2064 6566 2067 6574  te)..    def get
-000056a0: 5f67 726f 7373 5f65 7870 6f73 7572 6528  _gross_exposure(
-000056b0: 7365 6c66 2c0a 2020 2020 2020 2020 2020  self,.          
+00005550: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+00005560: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+00005570: 6f6e 6529 202d 3e20 7064 2e44 6174 6146  one) -> pd.DataF
+00005580: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
+00005590: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
+000055a0: 7374 6f72 6963 616c 2070 6f72 7466 6f6c  storical portfol
+000055b0: 696f 2067 726f 7373 2065 7870 6f73 7572  io gross exposur
+000055c0: 650a 0a20 2020 2020 2020 203a 7061 7261  e..        :para
+000055d0: 6d20 7374 6172 745f 6461 7465 3a20 7374  m start_date: st
+000055e0: 6172 7420 6461 7465 0a20 2020 2020 2020  art date.       
+000055f0: 203a 7061 7261 6d20 656e 645f 6461 7465   :param end_date
+00005600: 3a20 656e 6420 6461 7465 0a20 2020 2020  : end date.     
+00005610: 2020 203a 7265 7475 726e 3a20 7265 7475     :return: retu
+00005620: 726e 7320 6120 5061 6e64 6173 2044 6174  rns a Pandas Dat
+00005630: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+00005640: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+00005650: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
+00005660: 726e 2073 656c 662e 6765 745f 6d65 6173  rn self.get_meas
+00005670: 7572 6528 2267 726f 7373 4578 706f 7375  ure("grossExposu
+00005680: 7265 222c 2073 7461 7274 5f64 6174 652c  re", start_date,
+00005690: 2065 6e64 5f64 6174 6529 0a0a 2020 2020   end_date)..    
+000056a0: 6465 6620 6765 745f 7472 6164 696e 675f  def get_trading_
+000056b0: 706e 6c28 7365 6c66 2c0a 2020 2020 2020  pnl(self,.      
 000056c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056d0: 2073 7461 7274 5f64 6174 653a 2064 742e   start_date: dt.
-000056e0: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
+000056d0: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
+000056e0: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
 000056f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005700: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-00005710: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-00005720: 2920 2d3e 2070 642e 4461 7461 4672 616d  ) -> pd.DataFram
-00005730: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-00005740: 2020 2020 2020 2047 6574 2068 6973 746f         Get histo
-00005750: 7269 6361 6c20 706f 7274 666f 6c69 6f20  rical portfolio 
-00005760: 6772 6f73 7320 6578 706f 7375 7265 0a0a  gross exposure..
-00005770: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00005780: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-00005790: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-000057a0: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-000057b0: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-000057c0: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
-000057d0: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
-000057e0: 616d 6520 7769 7468 2074 6865 2072 6573  ame with the res
-000057f0: 756c 7473 0a20 2020 2020 2020 2022 2222  ults.        """
-00005800: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00005810: 7365 6c66 2e67 6574 5f6d 6561 7375 7265  self.get_measure
-00005820: 2822 6772 6f73 7345 7870 6f73 7572 6522  ("grossExposure"
-00005830: 2c20 7374 6172 745f 6461 7465 2c20 656e  , start_date, en
-00005840: 645f 6461 7465 290a 0a20 2020 2064 6566  d_date)..    def
-00005850: 2067 6574 5f74 7261 6469 6e67 5f70 6e6c   get_trading_pnl
-00005860: 2873 656c 662c 0a20 2020 2020 2020 2020  (self,.         
-00005870: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00005880: 7461 7274 5f64 6174 653a 2064 742e 6461  tart_date: dt.da
-00005890: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
+00005700: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
+00005710: 6474 2e64 6174 6520 3d20 4e6f 6e65 2920  dt.date = None) 
+00005720: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
+00005730: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005740: 2020 2020 2047 6574 2068 6973 746f 7269       Get histori
+00005750: 6361 6c20 706f 7274 666f 6c69 6f20 7472  cal portfolio tr
+00005760: 6164 696e 6720 506e 4c0a 0a20 2020 2020  ading PnL..     
+00005770: 2020 203a 7061 7261 6d20 7374 6172 745f     :param start_
+00005780: 6461 7465 3a20 7374 6172 7420 6461 7465  date: start date
+00005790: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+000057a0: 656e 645f 6461 7465 3a20 656e 6420 6461  end_date: end da
+000057b0: 7465 0a20 2020 2020 2020 203a 7265 7475  te.        :retu
+000057c0: 726e 3a20 7265 7475 726e 7320 6120 5061  rn: returns a Pa
+000057d0: 6e64 6173 2044 6174 6146 7261 6d65 2077  ndas DataFrame w
+000057e0: 6974 6820 7468 6520 7265 7375 6c74 730a  ith the results.
+000057f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00005800: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00005810: 6765 745f 6d65 6173 7572 6528 2274 7261  get_measure("tra
+00005820: 6469 6e67 506e 6c22 2c20 7374 6172 745f  dingPnl", start_
+00005830: 6461 7465 2c20 656e 645f 6461 7465 290a  date, end_date).
+00005840: 0a20 2020 2064 6566 2067 6574 5f74 7261  .    def get_tra
+00005850: 6469 6e67 5f63 6f73 745f 706e 6c28 7365  ding_cost_pnl(se
+00005860: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+00005870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005880: 2073 7461 7274 5f64 6174 653a 2064 742e   start_date: dt.
+00005890: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
 000058a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000058b0: 2020 2065 6e64 5f64 6174 653a 2064 742e     end_date: dt.
-000058c0: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
-000058d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000058e0: 2020 2020 2075 6e69 743a 2046 6163 746f       unit: Facto
-000058f0: 7252 6973 6b55 6e69 7420 3d20 4661 6374  rRiskUnit = Fact
-00005900: 6f72 5269 736b 556e 6974 2e4e 6f74 696f  orRiskUnit.Notio
-00005910: 6e61 6c29 202d 3e20 7064 2e44 6174 6146  nal) -> pd.DataF
-00005920: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
-00005930: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
-00005940: 7374 6f72 6963 616c 2070 6f72 7466 6f6c  storical portfol
-00005950: 696f 2074 7261 6469 6e67 2050 6e4c 0a0a  io trading PnL..
-00005960: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00005970: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-00005980: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-00005990: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-000059a0: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-000059b0: 3a70 6172 616d 2075 6e69 743a 2072 6574  :param unit: ret
-000059c0: 7572 6e20 7468 6520 7265 7375 6c74 7320  urn the results 
-000059d0: 696e 2074 6572 6d73 206f 6620 6e6f 7469  in terms of noti
-000059e0: 6f6e 616c 206f 7220 7065 7263 656e 7420  onal or percent 
-000059f0: 2864 6566 6175 6c74 7320 746f 206e 6f74  (defaults to not
-00005a00: 696f 6e61 6c29 0a20 2020 2020 2020 203a  ional).        :
-00005a10: 7265 7475 726e 3a20 7265 7475 726e 7320  return: returns 
-00005a20: 6120 5061 6e64 6173 2044 6174 6146 7261  a Pandas DataFra
-00005a30: 6d65 2077 6974 6820 7468 6520 7265 7375  me with the resu
-00005a40: 6c74 730a 2020 2020 2020 2020 2222 220a  lts.        """.
-00005a50: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00005a60: 656c 662e 6765 745f 706e 6c5f 6d65 6173  elf.get_pnl_meas
-00005a70: 7572 6528 2274 7261 6469 6e67 506e 6c22  ure("tradingPnl"
-00005a80: 2c20 756e 6974 2c20 7374 6172 745f 6461  , unit, start_da
-00005a90: 7465 2c20 656e 645f 6461 7465 290a 0a20  te, end_date).. 
-00005aa0: 2020 2064 6566 2067 6574 5f74 7261 6469     def get_tradi
-00005ab0: 6e67 5f63 6f73 745f 706e 6c28 7365 6c66  ng_cost_pnl(self
-00005ac0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00005ad0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00005ae0: 7461 7274 5f64 6174 653a 2064 742e 6461  tart_date: dt.da
-00005af0: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
-00005b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b10: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-00005b20: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-00005b30: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00005b40: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00005b50: 6e69 743a 2046 6163 746f 7252 6973 6b55  nit: FactorRiskU
-00005b60: 6e69 7420 3d20 4661 6374 6f72 5269 736b  nit = FactorRisk
-00005b70: 556e 6974 2e4e 6f74 696f 6e61 6c29 202d  Unit.Notional) -
-00005b80: 3e20 7064 2e44 6174 6146 7261 6d65 3a0a  > pd.DataFrame:.
-00005b90: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00005ba0: 2020 2020 4765 7420 6869 7374 6f72 6963      Get historic
-00005bb0: 616c 2070 6f72 7466 6f6c 696f 2074 7261  al portfolio tra
-00005bc0: 6469 6e67 2063 6f73 7420 506e 4c0a 0a20  ding cost PnL.. 
-00005bd0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-00005be0: 6172 745f 6461 7465 3a20 7374 6172 7420  art_date: start 
-00005bf0: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
-00005c00: 7261 6d20 656e 645f 6461 7465 3a20 656e  ram end_date: en
-00005c10: 6420 6461 7465 0a20 2020 2020 2020 203a  d date.        :
-00005c20: 7061 7261 6d20 756e 6974 3a20 7265 7475  param unit: retu
-00005c30: 726e 2074 6865 2072 6573 756c 7473 2069  rn the results i
-00005c40: 6e20 7465 726d 7320 6f66 206e 6f74 696f  n terms of notio
-00005c50: 6e61 6c20 6f72 2070 6572 6365 6e74 2028  nal or percent (
-00005c60: 6465 6661 756c 7473 2074 6f20 6e6f 7469  defaults to noti
-00005c70: 6f6e 616c 290a 2020 2020 2020 2020 3a72  onal).        :r
-00005c80: 6574 7572 6e3a 2072 6574 7572 6e73 2061  eturn: returns a
-00005c90: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
-00005ca0: 6520 7769 7468 2074 6865 2072 6573 756c  e with the resul
-00005cb0: 7473 0a20 2020 2020 2020 2022 2222 0a20  ts.        """. 
-00005cc0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00005cd0: 6c66 2e67 6574 5f70 6e6c 5f6d 6561 7375  lf.get_pnl_measu
-00005ce0: 7265 2822 7472 6164 696e 6743 6f73 7450  re("tradingCostP
-00005cf0: 6e6c 222c 2075 6e69 742c 2073 7461 7274  nl", unit, start
-00005d00: 5f64 6174 652c 2065 6e64 5f64 6174 6529  _date, end_date)
-00005d10: 0a0a 2020 2020 6465 6620 6765 745f 7365  ..    def get_se
-00005d20: 7276 6963 696e 675f 636f 7374 5f6c 6f6e  rvicing_cost_lon
-00005d30: 675f 706e 6c28 7365 6c66 2c0a 2020 2020  g_pnl(self,.    
-00005d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d60: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
-00005d70: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
-00005d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005da0: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
-00005db0: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
-00005dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005dd0: 2020 2020 2020 2020 2020 2020 2020 756e                un
-00005de0: 6974 3a20 4661 6374 6f72 5269 736b 556e  it: FactorRiskUn
-00005df0: 6974 203d 2046 6163 746f 7252 6973 6b55  it = FactorRiskU
-00005e00: 6e69 742e 4e6f 7469 6f6e 616c 2920 2d3e  nit.Notional) ->
-00005e10: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
-00005e20: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00005e30: 2020 2047 6574 2068 6973 746f 7269 6361     Get historica
-00005e40: 6c20 706f 7274 666f 6c69 6f20 7365 7276  l portfolio serv
-00005e50: 6963 696e 6720 636f 7374 206c 6f6e 6720  icing cost long 
-00005e60: 506e 4c0a 0a20 2020 2020 2020 203a 7061  PnL..        :pa
-00005e70: 7261 6d20 7374 6172 745f 6461 7465 3a20  ram start_date: 
-00005e80: 7374 6172 7420 6461 7465 0a20 2020 2020  start date.     
-00005e90: 2020 203a 7061 7261 6d20 656e 645f 6461     :param end_da
-00005ea0: 7465 3a20 656e 6420 6461 7465 0a20 2020  te: end date.   
-00005eb0: 2020 2020 203a 7061 7261 6d20 756e 6974       :param unit
-00005ec0: 3a20 7265 7475 726e 2074 6865 2072 6573  : return the res
-00005ed0: 756c 7473 2069 6e20 7465 726d 7320 6f66  ults in terms of
-00005ee0: 206e 6f74 696f 6e61 6c20 6f72 2070 6572   notional or per
-00005ef0: 6365 6e74 2028 6465 6661 756c 7473 2074  cent (defaults t
-00005f00: 6f20 6e6f 7469 6f6e 616c 290a 2020 2020  o notional).    
-00005f10: 2020 2020 3a72 6574 7572 6e3a 2072 6574      :return: ret
-00005f20: 7572 6e73 2061 2050 616e 6461 7320 4461  urns a Pandas Da
-00005f30: 7461 4672 616d 6520 7769 7468 2074 6865  taFrame with the
-00005f40: 2072 6573 756c 7473 0a20 2020 2020 2020   results.       
-00005f50: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-00005f60: 7572 6e20 7365 6c66 2e67 6574 5f70 6e6c  urn self.get_pnl
-00005f70: 5f6d 6561 7375 7265 2822 7365 7276 6963  _measure("servic
-00005f80: 696e 6743 6f73 744c 6f6e 6750 6e6c 222c  ingCostLongPnl",
-00005f90: 2075 6e69 742c 2073 7461 7274 5f64 6174   unit, start_dat
-00005fa0: 652c 2065 6e64 5f64 6174 6529 0a0a 2020  e, end_date)..  
-00005fb0: 2020 6465 6620 6765 745f 7365 7276 6963    def get_servic
-00005fc0: 696e 675f 636f 7374 5f73 686f 7274 5f70  ing_cost_short_p
-00005fd0: 6e6c 2873 656c 662c 0a20 2020 2020 2020  nl(self,.       
-00005fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ff0: 2020 2020 2020 2020 2020 2020 2020 7374                st
-00006000: 6172 745f 6461 7465 3a20 6474 2e64 6174  art_date: dt.dat
-00006010: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
+000058b0: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
+000058c0: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
+000058d0: 6e65 2920 2d3e 2070 642e 4461 7461 4672  ne) -> pd.DataFr
+000058e0: 616d 653a 0a20 2020 2020 2020 2022 2222  ame:.        """
+000058f0: 0a20 2020 2020 2020 2047 6574 2068 6973  .        Get his
+00005900: 746f 7269 6361 6c20 706f 7274 666f 6c69  torical portfoli
+00005910: 6f20 7472 6164 696e 6720 636f 7374 2050  o trading cost P
+00005920: 6e4c 0a0a 2020 2020 2020 2020 3a70 6172  nL..        :par
+00005930: 616d 2073 7461 7274 5f64 6174 653a 2073  am start_date: s
+00005940: 7461 7274 2064 6174 650a 2020 2020 2020  tart date.      
+00005950: 2020 3a70 6172 616d 2065 6e64 5f64 6174    :param end_dat
+00005960: 653a 2065 6e64 2064 6174 650a 2020 2020  e: end date.    
+00005970: 2020 2020 3a72 6574 7572 6e3a 2072 6574      :return: ret
+00005980: 7572 6e73 2061 2050 616e 6461 7320 4461  urns a Pandas Da
+00005990: 7461 4672 616d 6520 7769 7468 2074 6865  taFrame with the
+000059a0: 2072 6573 756c 7473 0a20 2020 2020 2020   results.       
+000059b0: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
+000059c0: 7572 6e20 7365 6c66 2e67 6574 5f6d 6561  urn self.get_mea
+000059d0: 7375 7265 2822 7472 6164 696e 6743 6f73  sure("tradingCos
+000059e0: 7450 6e6c 222c 2073 7461 7274 5f64 6174  tPnl", start_dat
+000059f0: 652c 2065 6e64 5f64 6174 6529 0a0a 2020  e, end_date)..  
+00005a00: 2020 6465 6620 6765 745f 7365 7276 6963    def get_servic
+00005a10: 696e 675f 636f 7374 5f6c 6f6e 675f 706e  ing_cost_long_pn
+00005a20: 6c28 7365 6c66 2c0a 2020 2020 2020 2020  l(self,.        
+00005a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a40: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00005a50: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+00005a60: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00005a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a80: 2020 2020 2020 2020 2020 2020 656e 645f              end_
+00005a90: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
+00005aa0: 4e6f 6e65 2920 2d3e 2070 642e 4461 7461  None) -> pd.Data
+00005ab0: 4672 616d 653a 0a20 2020 2020 2020 2022  Frame:.        "
+00005ac0: 2222 0a20 2020 2020 2020 2047 6574 2068  "".        Get h
+00005ad0: 6973 746f 7269 6361 6c20 706f 7274 666f  istorical portfo
+00005ae0: 6c69 6f20 7365 7276 6963 696e 6720 636f  lio servicing co
+00005af0: 7374 206c 6f6e 6720 506e 4c0a 0a20 2020  st long PnL..   
+00005b00: 2020 2020 203a 7061 7261 6d20 7374 6172       :param star
+00005b10: 745f 6461 7465 3a20 7374 6172 7420 6461  t_date: start da
+00005b20: 7465 0a20 2020 2020 2020 203a 7061 7261  te.        :para
+00005b30: 6d20 656e 645f 6461 7465 3a20 656e 6420  m end_date: end 
+00005b40: 6461 7465 0a20 2020 2020 2020 203a 7265  date.        :re
+00005b50: 7475 726e 3a20 7265 7475 726e 7320 6120  turn: returns a 
+00005b60: 5061 6e64 6173 2044 6174 6146 7261 6d65  Pandas DataFrame
+00005b70: 2077 6974 6820 7468 6520 7265 7375 6c74   with the result
+00005b80: 730a 2020 2020 2020 2020 2222 220a 2020  s.        """.  
+00005b90: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00005ba0: 662e 6765 745f 6d65 6173 7572 6528 2273  f.get_measure("s
+00005bb0: 6572 7669 6369 6e67 436f 7374 4c6f 6e67  ervicingCostLong
+00005bc0: 506e 6c22 2c20 7374 6172 745f 6461 7465  Pnl", start_date
+00005bd0: 2c20 656e 645f 6461 7465 290a 0a20 2020  , end_date)..   
+00005be0: 2064 6566 2067 6574 5f73 6572 7669 6369   def get_servici
+00005bf0: 6e67 5f63 6f73 745f 7368 6f72 745f 706e  ng_cost_short_pn
+00005c00: 6c28 7365 6c66 2c0a 2020 2020 2020 2020  l(self,.        
+00005c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005c20: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+00005c30: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
+00005c40: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00005c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005c60: 2020 2020 2020 2020 2020 2020 2020 656e                en
+00005c70: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
+00005c80: 3d20 4e6f 6e65 2920 2d3e 2070 642e 4461  = None) -> pd.Da
+00005c90: 7461 4672 616d 653a 0a20 2020 2020 2020  taFrame:.       
+00005ca0: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+00005cb0: 2068 6973 746f 7269 6361 6c20 706f 7274   historical port
+00005cc0: 666f 6c69 6f20 7365 7276 6963 696e 6720  folio servicing 
+00005cd0: 636f 7374 2073 686f 7274 2050 6e4c 0a0a  cost short PnL..
+00005ce0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+00005cf0: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
+00005d00: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
+00005d10: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
+00005d20: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
+00005d30: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
+00005d40: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
+00005d50: 616d 6520 7769 7468 2074 6865 2072 6573  ame with the res
+00005d60: 756c 7473 0a20 2020 2020 2020 2022 2222  ults.        """
+00005d70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00005d80: 7365 6c66 2e67 6574 5f6d 6561 7375 7265  self.get_measure
+00005d90: 2822 7365 7276 6963 696e 6743 6f73 7453  ("servicingCostS
+00005da0: 686f 7274 506e 6c22 2c20 7374 6172 745f  hortPnl", start_
+00005db0: 6461 7465 2c20 656e 645f 6461 7465 290a  date, end_date).
+00005dc0: 0a20 2020 2064 6566 2067 6574 5f61 7373  .    def get_ass
+00005dd0: 6574 5f63 6f75 6e74 5f70 7269 6365 6428  et_count_priced(
+00005de0: 7365 6c66 2c0a 2020 2020 2020 2020 2020  self,.          
+00005df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e00: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
+00005e10: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
+00005e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e40: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
+00005e50: 6520 3d20 4e6f 6e65 2920 2d3e 2070 642e  e = None) -> pd.
+00005e60: 4461 7461 4672 616d 653a 0a20 2020 2020  DataFrame:.     
+00005e70: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
+00005e80: 6574 2068 6973 746f 7269 6361 6c20 706f  et historical po
+00005e90: 7274 666f 6c69 6f20 6173 7365 7420 636f  rtfolio asset co
+00005ea0: 756e 7420 7072 6963 6564 0a0a 2020 2020  unt priced..    
+00005eb0: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
+00005ec0: 5f64 6174 653a 2073 7461 7274 2064 6174  _date: start dat
+00005ed0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00005ee0: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
+00005ef0: 6174 650a 2020 2020 2020 2020 3a72 6574  ate.        :ret
+00005f00: 7572 6e3a 2072 6574 7572 6e73 2061 2050  urn: returns a P
+00005f10: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
+00005f20: 7769 7468 2074 6865 2072 6573 756c 7473  with the results
+00005f30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005f40: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00005f50: 2e67 6574 5f6d 6561 7375 7265 2822 6173  .get_measure("as
+00005f60: 7365 7443 6f75 6e74 5072 6963 6564 222c  setCountPriced",
+00005f70: 2073 7461 7274 5f64 6174 652c 2065 6e64   start_date, end
+00005f80: 5f64 6174 6529 0a0a 2020 2020 6465 6620  _date)..    def 
+00005f90: 6765 745f 6d65 6173 7572 6528 7365 6c66  get_measure(self
+00005fa0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005fb0: 2020 2020 2020 6669 656c 643a 2073 7472        field: str
+00005fc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005fd0: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
+00005fe0: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
+00005ff0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00006000: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
+00006010: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
 00006020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006030: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00006040: 6e64 5f64 6174 653a 2064 742e 6461 7465  nd_date: dt.date
-00006050: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00006060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006070: 2020 2020 2020 2020 2020 2020 2020 756e                un
-00006080: 6974 3a20 4661 6374 6f72 5269 736b 556e  it: FactorRiskUn
-00006090: 6974 203d 2046 6163 746f 7252 6973 6b55  it = FactorRiskU
-000060a0: 6e69 742e 4e6f 7469 6f6e 616c 2920 2d3e  nit.Notional) ->
-000060b0: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
-000060c0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000060d0: 2020 2047 6574 2068 6973 746f 7269 6361     Get historica
-000060e0: 6c20 706f 7274 666f 6c69 6f20 7365 7276  l portfolio serv
-000060f0: 6963 696e 6720 636f 7374 2073 686f 7274  icing cost short
-00006100: 2050 6e4c 0a0a 2020 2020 2020 2020 3a70   PnL..        :p
-00006110: 6172 616d 2073 7461 7274 5f64 6174 653a  aram start_date:
-00006120: 2073 7461 7274 2064 6174 650a 2020 2020   start date.    
-00006130: 2020 2020 3a70 6172 616d 2065 6e64 5f64      :param end_d
-00006140: 6174 653a 2065 6e64 2064 6174 650a 2020  ate: end date.  
-00006150: 2020 2020 2020 3a70 6172 616d 2075 6e69        :param uni
-00006160: 743a 2072 6574 7572 6e20 7468 6520 7265  t: return the re
-00006170: 7375 6c74 7320 696e 2074 6572 6d73 206f  sults in terms o
-00006180: 6620 6e6f 7469 6f6e 616c 206f 7220 7065  f notional or pe
-00006190: 7263 656e 7420 2864 6566 6175 6c74 7320  rcent (defaults 
-000061a0: 746f 206e 6f74 696f 6e61 6c29 0a20 2020  to notional).   
-000061b0: 2020 2020 203a 7265 7475 726e 3a20 7265       :return: re
-000061c0: 7475 726e 7320 6120 5061 6e64 6173 2044  turns a Pandas D
-000061d0: 6174 6146 7261 6d65 2077 6974 6820 7468  ataFrame with th
-000061e0: 6520 7265 7375 6c74 730a 2020 2020 2020  e results.      
-000061f0: 2020 2222 220a 2020 2020 2020 2020 7265    """.        re
-00006200: 7475 726e 2073 656c 662e 6765 745f 706e  turn self.get_pn
-00006210: 6c5f 6d65 6173 7572 6528 2273 6572 7669  l_measure("servi
-00006220: 6369 6e67 436f 7374 5368 6f72 7450 6e6c  cingCostShortPnl
-00006230: 222c 2075 6e69 742c 2073 7461 7274 5f64  ", unit, start_d
-00006240: 6174 652c 2065 6e64 5f64 6174 6529 0a0a  ate, end_date)..
-00006250: 2020 2020 6465 6620 6765 745f 6173 7365      def get_asse
-00006260: 745f 636f 756e 745f 7072 6963 6564 2873  t_count_priced(s
-00006270: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
-00006280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006290: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
-000062a0: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
-000062b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000062d0: 6e64 5f64 6174 653a 2064 742e 6461 7465  nd_date: dt.date
-000062e0: 203d 204e 6f6e 6529 202d 3e20 7064 2e44   = None) -> pd.D
-000062f0: 6174 6146 7261 6d65 3a0a 2020 2020 2020  ataFrame:.      
-00006300: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00006310: 7420 6869 7374 6f72 6963 616c 2070 6f72  t historical por
-00006320: 7466 6f6c 696f 2061 7373 6574 2063 6f75  tfolio asset cou
-00006330: 6e74 2070 7269 6365 640a 0a20 2020 2020  nt priced..     
-00006340: 2020 203a 7061 7261 6d20 7374 6172 745f     :param start_
-00006350: 6461 7465 3a20 7374 6172 7420 6461 7465  date: start date
-00006360: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00006370: 656e 645f 6461 7465 3a20 656e 6420 6461  end_date: end da
-00006380: 7465 0a20 2020 2020 2020 203a 7265 7475  te.        :retu
-00006390: 726e 3a20 7265 7475 726e 7320 6120 5061  rn: returns a Pa
-000063a0: 6e64 6173 2044 6174 6146 7261 6d65 2077  ndas DataFrame w
-000063b0: 6974 6820 7468 6520 7265 7375 6c74 730a  ith the results.
-000063c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000063d0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-000063e0: 6765 745f 6d65 6173 7572 6528 2261 7373  get_measure("ass
-000063f0: 6574 436f 756e 7450 7269 6365 6422 2c20  etCountPriced", 
-00006400: 7374 6172 745f 6461 7465 2c20 656e 645f  start_date, end_
-00006410: 6461 7465 290a 0a20 2020 2064 6566 2067  date)..    def g
-00006420: 6574 5f6d 6561 7375 7265 2873 656c 662c  et_measure(self,
-00006430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006440: 2020 2020 2066 6965 6c64 3a20 7374 722c       field: str,
-00006450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006460: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
-00006470: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-00006480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006490: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
-000064a0: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
-000064b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000064c0: 2020 2072 6574 7572 6e5f 666f 726d 6174     return_format
-000064d0: 3a20 5265 7475 726e 466f 726d 6174 203d  : ReturnFormat =
-000064e0: 2052 6574 7572 6e46 6f72 6d61 742e 4441   ReturnFormat.DA
-000064f0: 5441 5f46 5241 4d45 2920 2d3e 2055 6e69  TA_FRAME) -> Uni
-00006500: 6f6e 5b44 6963 742c 2070 642e 4461 7461  on[Dict, pd.Data
-00006510: 4672 616d 655d 3a0a 2020 2020 2020 2020  Frame]:.        
-00006520: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
-00006530: 6869 7374 6f72 6963 616c 2070 6f72 7466  historical portf
-00006540: 6f6c 696f 206d 6574 7269 6373 0a0a 2020  olio metrics..  
-00006550: 2020 2020 2020 3a70 6172 616d 2066 6965        :param fie
-00006560: 6c64 3a20 7468 6520 656e 7469 7479 2070  ld: the entity p
-00006570: 726f 7065 7274 7920 746f 2062 6520 7265  roperty to be re
-00006580: 7475 726e 6564 0a20 2020 2020 2020 203a  turned.        :
-00006590: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
-000065a0: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
-000065b0: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
-000065c0: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
-000065d0: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-000065e0: 7265 7475 726e 7320 6120 5061 6e64 6173  returns a Pandas
-000065f0: 2044 6174 6146 7261 6d65 2077 6974 6820   DataFrame with 
-00006600: 7468 6520 7265 7375 6c74 730a 2020 2020  the results.    
-00006610: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00006620: 6669 656c 6473 203d 2028 6669 656c 642c  fields = (field,
-00006630: 290a 2020 2020 2020 2020 7768 6572 6520  ).        where 
-00006640: 3d20 7b27 7265 706f 7274 4964 273a 2073  = {'reportId': s
-00006650: 656c 662e 6964 7d0a 2020 2020 2020 2020  elf.id}.        
-00006660: 7175 6572 7920 3d20 4461 7461 5175 6572  query = DataQuer
-00006670: 7928 7768 6572 653d 7768 6572 652c 2066  y(where=where, f
-00006680: 6965 6c64 733d 6669 656c 6473 2c20 7374  ields=fields, st
-00006690: 6172 745f 6461 7465 3d73 7461 7274 5f64  art_date=start_d
-000066a0: 6174 652c 2065 6e64 5f64 6174 653d 656e  ate, end_date=en
-000066b0: 645f 6461 7465 290a 2020 2020 2020 2020  d_date).        
-000066c0: 7265 7375 6c74 7320 3d20 4773 4461 7461  results = GsData
-000066d0: 4170 692e 7175 6572 795f 6461 7461 2871  Api.query_data(q
-000066e0: 7565 7279 3d71 7565 7279 2c20 6461 7461  uery=query, data
-000066f0: 7365 745f 6964 3d52 6570 6f72 7444 6174  set_id=ReportDat
-00006700: 6173 6574 2e50 5041 5f44 4154 4153 4554  aset.PPA_DATASET
-00006710: 2e76 616c 7565 290a 2020 2020 2020 2020  .value).        
-00006720: 7265 7475 726e 2070 642e 4461 7461 4672  return pd.DataFr
-00006730: 616d 6528 7265 7375 6c74 7329 2069 6620  ame(results) if 
-00006740: 7265 7475 726e 5f66 6f72 6d61 7420 3d3d  return_format ==
-00006750: 2052 6574 7572 6e46 6f72 6d61 742e 4441   ReturnFormat.DA
-00006760: 5441 5f46 5241 4d45 2065 6c73 6520 7265  TA_FRAME else re
-00006770: 7375 6c74 730a 0a20 2020 2064 6566 2067  sults..    def g
-00006780: 6574 5f70 6e6c 5f6d 6561 7375 7265 2873  et_pnl_measure(s
-00006790: 656c 662c 2066 6965 6c64 3a20 7374 722c  elf, field: str,
-000067a0: 2075 6e69 743a 2046 6163 746f 7252 6973   unit: FactorRis
-000067b0: 6b55 6e69 742c 2073 7461 7274 5f64 6174  kUnit, start_dat
-000067c0: 653a 2064 742e 6461 7465 2c20 656e 645f  e: dt.date, end_
-000067d0: 6461 7465 3a20 6474 2e64 6174 6529 3a0a  date: dt.date):.
-000067e0: 2020 2020 2020 2020 6d65 6173 7572 6520          measure 
-000067f0: 3d20 7365 6c66 2e67 6574 5f6d 6561 7375  = self.get_measu
-00006800: 7265 2866 6965 6c64 2c20 7374 6172 745f  re(field, start_
-00006810: 6461 7465 2c20 656e 645f 6461 7465 290a  date, end_date).
-00006820: 2020 2020 2020 2020 6966 2075 6e69 7420          if unit 
-00006830: 3d3d 2046 6163 746f 7252 6973 6b55 6e69  == FactorRiskUni
-00006840: 742e 4e6f 7469 6f6e 616c 3a0a 2020 2020  t.Notional:.    
-00006850: 2020 2020 2020 2020 7265 7475 726e 206d          return m
-00006860: 6561 7375 7265 0a20 2020 2020 2020 2065  easure.        e
-00006870: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00006880: 2061 6767 7265 6761 7465 645f 706e 6c20   aggregated_pnl 
-00006890: 3d20 6765 745f 706e 6c5f 7065 7263 656e  = get_pnl_percen
-000068a0: 7428 7365 6c66 2c20 6d65 6173 7572 652c  t(self, measure,
-000068b0: 2066 6965 6c64 2c20 7374 6172 745f 6461   field, start_da
-000068c0: 7465 2c20 656e 645f 6461 7465 290a 2020  te, end_date).  
-000068d0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000068e0: 2070 642e 6d65 7267 6528 6d65 6173 7572   pd.merge(measur
-000068f0: 652e 6472 6f70 2863 6f6c 756d 6e73 3d5b  e.drop(columns=[
-00006900: 6669 656c 645d 292c 2061 6767 7265 6761  field]), aggrega
-00006910: 7465 645f 706e 6c2c 206c 6566 745f 6f6e  ted_pnl, left_on
-00006920: 3d27 6461 7465 272c 2072 6967 6874 5f69  ='date', right_i
-00006930: 6e64 6578 3d54 7275 6529 205c 0a20 2020  ndex=True) \.   
-00006940: 2020 2020 2020 2020 2020 2020 202e 7265               .re
-00006950: 6e61 6d65 2863 6f6c 756d 6e73 3d7b 2772  name(columns={'r
-00006960: 6574 7572 6e27 3a20 6669 656c 647d 290a  eturn': field}).
-00006970: 0a20 2020 2064 6566 2067 6574 5f6d 616e  .    def get_man
-00006980: 795f 6d65 6173 7572 6573 2873 656c 662c  y_measures(self,
-00006990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000069a0: 2020 2020 2020 2020 2020 206d 6561 7375             measu
-000069b0: 7265 733a 2054 7570 6c65 5b73 7472 2c20  res: Tuple[str, 
-000069c0: 2e2e 2e5d 203d 204e 6f6e 652c 0a20 2020  ...] = None,.   
-000069d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000069e0: 2020 2020 2020 2073 7461 7274 5f64 6174         start_dat
-000069f0: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
-00006a00: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00006a10: 2020 2020 2020 2020 2020 2020 2065 6e64               end
-00006a20: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
-00006a30: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00006a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006a50: 2072 6574 7572 6e5f 666f 726d 6174 3a20   return_format: 
-00006a60: 5265 7475 726e 466f 726d 6174 203d 2052  ReturnFormat = R
-00006a70: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
-00006a80: 5f46 5241 4d45 2920 2d3e 2055 6e69 6f6e  _FRAME) -> Union
-00006a90: 5b44 6963 742c 2070 642e 4461 7461 4672  [Dict, pd.DataFr
-00006aa0: 616d 655d 3a0a 2020 2020 2020 2020 2222  ame]:.        ""
-00006ab0: 220a 2020 2020 2020 2020 4765 7420 6d61  ".        Get ma
-00006ac0: 6e79 2068 6973 746f 7269 6361 6c20 706f  ny historical po
-00006ad0: 7274 666f 6c69 6f20 6d65 7472 6963 730a  rtfolio metrics.
-00006ae0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00006af0: 6d65 6173 7572 6573 3a20 6120 6c69 7374  measures: a list
-00006b00: 206f 6620 6d65 7472 6963 730a 2020 2020   of metrics.    
-00006b10: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
-00006b20: 5f64 6174 653a 2073 7461 7274 2064 6174  _date: start dat
-00006b30: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-00006b40: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
-00006b50: 6174 650a 2020 2020 2020 2020 3a72 6574  ate.        :ret
-00006b60: 7572 6e3a 2072 6574 7572 6e73 2061 2050  urn: returns a P
-00006b70: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
-00006b80: 7769 7468 2074 6865 2072 6573 756c 7473  with the results
-00006b90: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00006ba0: 2020 2020 2069 6620 6d65 6173 7572 6573       if measures
-00006bb0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-00006bc0: 2020 2020 2020 6d65 6173 7572 6573 203d        measures =
-00006bd0: 205b 5d0a 2020 2020 2020 2020 6669 656c   [].        fiel
-00006be0: 6473 203d 2074 7570 6c65 286d 6561 7375  ds = tuple(measu
-00006bf0: 7265 2066 6f72 206d 6561 7375 7265 2069  re for measure i
-00006c00: 6e20 6d65 6173 7572 6573 290a 2020 2020  n measures).    
-00006c10: 2020 2020 7768 6572 6520 3d20 7b27 7265      where = {'re
-00006c20: 706f 7274 4964 273a 2073 656c 662e 6964  portId': self.id
-00006c30: 7d0a 2020 2020 2020 2020 7175 6572 7920  }.        query 
-00006c40: 3d20 4461 7461 5175 6572 7928 7768 6572  = DataQuery(wher
-00006c50: 653d 7768 6572 652c 2066 6965 6c64 733d  e=where, fields=
-00006c60: 6669 656c 6473 2c20 7374 6172 745f 6461  fields, start_da
-00006c70: 7465 3d73 7461 7274 5f64 6174 652c 2065  te=start_date, e
-00006c80: 6e64 5f64 6174 653d 656e 645f 6461 7465  nd_date=end_date
-00006c90: 290a 2020 2020 2020 2020 7265 7375 6c74  ).        result
-00006ca0: 7320 3d20 4773 4461 7461 4170 692e 7175  s = GsDataApi.qu
-00006cb0: 6572 795f 6461 7461 2871 7565 7279 3d71  ery_data(query=q
-00006cc0: 7565 7279 2c20 6461 7461 7365 745f 6964  uery, dataset_id
-00006cd0: 3d52 6570 6f72 7444 6174 6173 6574 2e50  =ReportDataset.P
-00006ce0: 5041 5f44 4154 4153 4554 2e76 616c 7565  PA_DATASET.value
-00006cf0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00006d00: 2070 642e 4461 7461 4672 616d 6528 7265   pd.DataFrame(re
-00006d10: 7375 6c74 7329 2069 6620 7265 7475 726e  sults) if return
-00006d20: 5f66 6f72 6d61 7420 3d3d 2052 6574 7572  _format == Retur
-00006d30: 6e46 6f72 6d61 742e 4441 5441 5f46 5241  nFormat.DATA_FRA
-00006d40: 4d45 2065 6c73 6520 7265 7375 6c74 730a  ME else results.
-00006d50: 0a20 2020 2064 6566 2067 6574 5f61 756d  .    def get_aum
-00006d60: 5f73 6f75 7263 6528 7365 6c66 2920 2d3e  _source(self) ->
-00006d70: 2052 6973 6b41 756d 536f 7572 6365 3a0a   RiskAumSource:.
-00006d80: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00006d90: 2020 2020 4765 7420 4155 4d20 536f 7572      Get AUM Sour
-00006da0: 6365 2066 6f72 2074 6865 2070 6f72 7466  ce for the portf
-00006db0: 6f6c 696f 2061 7373 6f63 6961 7465 6420  olio associated 
-00006dc0: 7769 7468 2074 6865 2070 6572 666f 726d  with the perform
-00006dd0: 616e 6365 2072 6570 6f72 740a 0a20 2020  ance report..   
-00006de0: 2020 2020 203a 7265 7475 726e 3a20 6175       :return: au
-00006df0: 6d20 736f 7572 6365 0a20 2020 2020 2020  m source.       
-00006e00: 2022 2222 0a20 2020 2020 2020 2070 6f72   """.        por
-00006e10: 7466 6f6c 696f 203d 2047 7350 6f72 7466  tfolio = GsPortf
-00006e20: 6f6c 696f 4170 692e 6765 745f 706f 7274  olioApi.get_port
-00006e30: 666f 6c69 6f28 7365 6c66 2e70 6f73 6974  folio(self.posit
-00006e40: 696f 6e5f 736f 7572 6365 5f69 6429 0a20  ion_source_id). 
-00006e50: 2020 2020 2020 2072 6574 7572 6e20 706f         return po
-00006e60: 7274 666f 6c69 6f2e 6175 6d5f 736f 7572  rtfolio.aum_sour
-00006e70: 6365 2069 6620 706f 7274 666f 6c69 6f2e  ce if portfolio.
-00006e80: 6175 6d5f 736f 7572 6365 2069 7320 6e6f  aum_source is no
-00006e90: 7420 4e6f 6e65 2065 6c73 6520 5269 736b  t None else Risk
-00006ea0: 4175 6d53 6f75 7263 652e 4c6f 6e67 0a0a  AumSource.Long..
-00006eb0: 2020 2020 6465 6620 7365 745f 6175 6d5f      def set_aum_
-00006ec0: 736f 7572 6365 2873 656c 662c 0a20 2020  source(self,.   
-00006ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006ee0: 2020 2020 6175 6d5f 736f 7572 6365 3a20      aum_source: 
-00006ef0: 5269 736b 4175 6d53 6f75 7263 6529 3a0a  RiskAumSource):.
-00006f00: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00006f10: 2020 2020 5365 7420 4155 4d20 536f 7572      Set AUM Sour
-00006f20: 6365 2066 6f72 2074 6865 2070 6f72 7466  ce for the portf
-00006f30: 6f6c 696f 2061 7373 6f63 6961 7465 6420  olio associated 
-00006f40: 7769 7468 2074 6865 2070 6572 666f 726d  with the perform
-00006f50: 616e 6365 2072 6570 6f72 740a 0a20 2020  ance report..   
-00006f60: 2020 2020 203a 7061 7261 6d20 6175 6d5f       :param aum_
-00006f70: 736f 7572 6365 3a20 6175 6d20 736f 7572  source: aum sour
-00006f80: 6365 2066 6f72 2070 6f72 7466 6f6c 696f  ce for portfolio
-00006f90: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00006fa0: 3a20 6175 6d20 736f 7572 6365 0a20 2020  : aum source.   
-00006fb0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00006fc0: 2070 6f72 7466 6f6c 696f 203d 2047 7350   portfolio = GsP
-00006fd0: 6f72 7466 6f6c 696f 4170 692e 6765 745f  ortfolioApi.get_
-00006fe0: 706f 7274 666f 6c69 6f28 7365 6c66 2e70  portfolio(self.p
-00006ff0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00007000: 6429 0a20 2020 2020 2020 2070 6f72 7466  d).        portf
-00007010: 6f6c 696f 2e61 756d 5f73 6f75 7263 6520  olio.aum_source 
-00007020: 3d20 6175 6d5f 736f 7572 6365 0a20 2020  = aum_source.   
-00007030: 2020 2020 2047 7350 6f72 7466 6f6c 696f       GsPortfolio
-00007040: 4170 692e 7570 6461 7465 5f70 6f72 7466  Api.update_portf
-00007050: 6f6c 696f 2870 6f72 7466 6f6c 696f 290a  olio(portfolio).
-00007060: 0a20 2020 2064 6566 2067 6574 5f63 7573  .    def get_cus
-00007070: 746f 6d5f 6175 6d28 7365 6c66 2c0a 2020  tom_aum(self,.  
-00007080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007090: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
-000070a0: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-000070b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000070c0: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-000070d0: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-000070e0: 2920 2d3e 204c 6973 745b 4375 7374 6f6d  ) -> List[Custom
-000070f0: 4155 4d44 6174 6150 6f69 6e74 5d3a 0a20  AUMDataPoint]:. 
-00007100: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00007110: 2020 2047 6574 2041 554d 2064 6174 6120     Get AUM data 
-00007120: 666f 7220 7065 7266 6f72 6d61 6e63 6520  for performance 
-00007130: 7265 706f 7274 0a0a 2020 2020 2020 2020  report..        
-00007140: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
-00007150: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
-00007160: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
-00007170: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
-00007180: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-00007190: 206c 6973 7420 6f66 2041 554d 2064 6174   list of AUM dat
-000071a0: 6120 6265 7477 6565 6e20 7468 6520 7370  a between the sp
-000071b0: 6563 6966 6965 6420 7261 6e67 650a 2020  ecified range.  
-000071c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000071d0: 2020 6175 6d5f 6461 7461 203d 2047 7352    aum_data = GsR
-000071e0: 6570 6f72 7441 7069 2e67 6574 5f63 7573  eportApi.get_cus
-000071f0: 746f 6d5f 6175 6d28 7365 6c66 2e69 642c  tom_aum(self.id,
-00007200: 2073 7461 7274 5f64 6174 652c 2065 6e64   start_date, end
-00007210: 5f64 6174 6529 0a20 2020 2020 2020 2072  _date).        r
-00007220: 6574 7572 6e20 5b43 7573 746f 6d41 554d  eturn [CustomAUM
-00007230: 4461 7461 506f 696e 7428 6461 7465 3d64  DataPoint(date=d
-00007240: 742e 6461 7465 7469 6d65 2e73 7472 7074  t.datetime.strpt
-00007250: 696d 6528 6461 7461 5b27 6461 7465 275d  ime(data['date']
-00007260: 2c20 2725 592d 256d 2d25 6427 292c 0a20  , '%Y-%m-%d'),. 
-00007270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007290: 2020 6175 6d3d 6461 7461 5b27 6175 6d27    aum=data['aum'
-000072a0: 5d29 2066 6f72 2064 6174 6120 696e 2061  ]) for data in a
-000072b0: 756d 5f64 6174 615d 0a0a 2020 2020 6465  um_data]..    de
-000072c0: 6620 6765 745f 6175 6d28 7365 6c66 2c0a  f get_aum(self,.
-000072d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000072e0: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
-000072f0: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
-00007300: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
-00007310: 742e 6461 7465 293a 0a20 2020 2020 2020  t.date):.       
-00007320: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-00007330: 2041 554d 2064 6174 6120 666f 7220 7065   AUM data for pe
-00007340: 7266 6f72 6d61 6e63 6520 7265 706f 7274  rformance report
-00007350: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00007360: 2073 7461 7274 5f64 6174 653a 2073 7461   start_date: sta
-00007370: 7274 2064 6174 650a 2020 2020 2020 2020  rt date.        
-00007380: 3a70 6172 616d 2065 6e64 5f64 6174 653a  :param end_date:
-00007390: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
-000073a0: 2020 3a72 6574 7572 6e3a 2064 6963 7469    :return: dicti
-000073b0: 6f6e 6172 7920 6f66 2064 6174 6573 2077  onary of dates w
-000073c0: 6974 6820 636f 7272 6573 706f 6e64 696e  ith correspondin
-000073d0: 6720 4155 4d20 7661 6c75 6573 0a20 2020  g AUM values.   
-000073e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000073f0: 2061 756d 5f73 6f75 7263 6520 3d20 7365   aum_source = se
-00007400: 6c66 2e67 6574 5f61 756d 5f73 6f75 7263  lf.get_aum_sourc
-00007410: 6528 290a 2020 2020 2020 2020 6966 2061  e().        if a
-00007420: 756d 5f73 6f75 7263 6520 3d3d 2052 6973  um_source == Ris
-00007430: 6b41 756d 536f 7572 6365 2e43 7573 746f  kAumSource.Custo
-00007440: 6d5f 4155 4d3a 0a20 2020 2020 2020 2020  m_AUM:.         
-00007450: 2020 2061 756d 203d 2073 656c 662e 6765     aum = self.ge
-00007460: 745f 6375 7374 6f6d 5f61 756d 2873 7461  t_custom_aum(sta
-00007470: 7274 5f64 6174 653d 7374 6172 745f 6461  rt_date=start_da
-00007480: 7465 2c20 656e 645f 6461 7465 3d65 6e64  te, end_date=end
-00007490: 5f64 6174 6529 0a20 2020 2020 2020 2020  _date).         
-000074a0: 2020 2072 6574 7572 6e20 7b61 756d 5f70     return {aum_p
-000074b0: 6f69 6e74 2e64 6174 652e 7374 7266 7469  oint.date.strfti
-000074c0: 6d65 2827 2559 2d25 6d2d 2564 2729 3a20  me('%Y-%m-%d'): 
-000074d0: 6175 6d5f 706f 696e 742e 6175 6d20 666f  aum_point.aum fo
-000074e0: 7220 6175 6d5f 706f 696e 7420 696e 2061  r aum_point in a
-000074f0: 756d 7d0a 2020 2020 2020 2020 6966 2061  um}.        if a
-00007500: 756d 5f73 6f75 7263 6520 3d3d 2052 6973  um_source == Ris
-00007510: 6b41 756d 536f 7572 6365 2e4c 6f6e 673a  kAumSource.Long:
-00007520: 0a20 2020 2020 2020 2020 2020 2061 756d  .            aum
-00007530: 203d 2073 656c 662e 6765 745f 6c6f 6e67   = self.get_long
-00007540: 5f65 7870 6f73 7572 6528 7374 6172 745f  _exposure(start_
-00007550: 6461 7465 3d73 7461 7274 5f64 6174 652c  date=start_date,
-00007560: 2065 6e64 5f64 6174 653d 656e 645f 6461   end_date=end_da
-00007570: 7465 290a 2020 2020 2020 2020 2020 2020  te).            
-00007580: 7265 7475 726e 207b 726f 775b 2764 6174  return {row['dat
-00007590: 6527 5d3a 2072 6f77 5b27 6c6f 6e67 4578  e']: row['longEx
-000075a0: 706f 7375 7265 275d 2066 6f72 2069 6e64  posure'] for ind
-000075b0: 6578 2c20 726f 7720 696e 2061 756d 2e69  ex, row in aum.i
-000075c0: 7465 7272 6f77 7328 297d 0a20 2020 2020  terrows()}.     
-000075d0: 2020 2069 6620 6175 6d5f 736f 7572 6365     if aum_source
-000075e0: 203d 3d20 5269 736b 4175 6d53 6f75 7263   == RiskAumSourc
-000075f0: 652e 5368 6f72 743a 0a20 2020 2020 2020  e.Short:.       
-00007600: 2020 2020 2061 756d 203d 2073 656c 662e       aum = self.
-00007610: 6765 745f 7368 6f72 745f 6578 706f 7375  get_short_exposu
-00007620: 7265 2873 7461 7274 5f64 6174 653d 7374  re(start_date=st
-00007630: 6172 745f 6461 7465 2c20 656e 645f 6461  art_date, end_da
-00007640: 7465 3d65 6e64 5f64 6174 6529 0a20 2020  te=end_date).   
-00007650: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00007660: 7b72 6f77 5b27 6461 7465 275d 3a20 726f  {row['date']: ro
-00007670: 775b 2773 686f 7274 4578 706f 7375 7265  w['shortExposure
-00007680: 275d 2066 6f72 2069 6e64 6578 2c20 726f  '] for index, ro
-00007690: 7720 696e 2061 756d 2e69 7465 7272 6f77  w in aum.iterrow
-000076a0: 7328 297d 0a20 2020 2020 2020 2069 6620  s()}.        if 
-000076b0: 6175 6d5f 736f 7572 6365 203d 3d20 5269  aum_source == Ri
-000076c0: 736b 4175 6d53 6f75 7263 652e 4772 6f73  skAumSource.Gros
-000076d0: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
-000076e0: 756d 203d 2073 656c 662e 6765 745f 6772  um = self.get_gr
-000076f0: 6f73 735f 6578 706f 7375 7265 2873 7461  oss_exposure(sta
-00007700: 7274 5f64 6174 653d 7374 6172 745f 6461  rt_date=start_da
-00007710: 7465 2c20 656e 645f 6461 7465 3d65 6e64  te, end_date=end
-00007720: 5f64 6174 6529 0a20 2020 2020 2020 2020  _date).         
-00007730: 2020 2072 6574 7572 6e20 7b72 6f77 5b27     return {row['
-00007740: 6461 7465 275d 3a20 726f 775b 2767 726f  date']: row['gro
-00007750: 7373 4578 706f 7375 7265 275d 2066 6f72  ssExposure'] for
-00007760: 2069 6e64 6578 2c20 726f 7720 696e 2061   index, row in a
-00007770: 756d 2e69 7465 7272 6f77 7328 297d 0a20  um.iterrows()}. 
-00007780: 2020 2020 2020 2069 6620 6175 6d5f 736f         if aum_so
-00007790: 7572 6365 203d 3d20 5269 736b 4175 6d53  urce == RiskAumS
-000077a0: 6f75 7263 652e 4e65 743a 0a20 2020 2020  ource.Net:.     
-000077b0: 2020 2020 2020 2061 756d 203d 2073 656c         aum = sel
-000077c0: 662e 6765 745f 6e65 745f 6578 706f 7375  f.get_net_exposu
-000077d0: 7265 2873 7461 7274 5f64 6174 653d 7374  re(start_date=st
-000077e0: 6172 745f 6461 7465 2c20 656e 645f 6461  art_date, end_da
-000077f0: 7465 3d65 6e64 5f64 6174 6529 0a20 2020  te=end_date).   
-00007800: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00007810: 7b72 6f77 5b27 6461 7465 275d 3a20 726f  {row['date']: ro
-00007820: 775b 276e 6574 4578 706f 7375 7265 275d  w['netExposure']
-00007830: 2066 6f72 2069 6e64 6578 2c20 726f 7720   for index, row 
-00007840: 696e 2061 756d 2e69 7465 7272 6f77 7328  in aum.iterrows(
-00007850: 297d 0a0a 2020 2020 6465 6620 7570 6c6f  )}..    def uplo
-00007860: 6164 5f63 7573 746f 6d5f 6175 6d28 7365  ad_custom_aum(se
-00007870: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-00007880: 2020 2020 2020 2020 2020 2020 2020 6175                au
-00007890: 6d5f 6461 7461 3a20 4c69 7374 5b43 7573  m_data: List[Cus
-000078a0: 746f 6d41 554d 4461 7461 506f 696e 745d  tomAUMDataPoint]
-000078b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000078c0: 2020 2020 2020 2020 2020 2020 636c 6561              clea
-000078d0: 725f 6578 6973 7469 6e67 5f64 6174 613a  r_existing_data:
-000078e0: 2062 6f6f 6c20 3d20 4e6f 6e65 293a 0a20   bool = None):. 
-000078f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00007900: 2020 2041 6464 2041 554d 2064 6174 6120     Add AUM data 
-00007910: 666f 7220 706f 7274 666f 6c69 6f20 636f  for portfolio co
-00007920: 7272 6573 706f 6e64 696e 6720 746f 2074  rresponding to t
-00007930: 6865 2070 6572 666f 726d 616e 6365 2072  he performance r
-00007940: 6570 6f72 740a 0a20 2020 2020 2020 203a  eport..        :
-00007950: 7061 7261 6d20 6175 6d5f 6461 7461 3a20  param aum_data: 
-00007960: 6c69 7374 206f 6620 4155 4d20 6461 7461  list of AUM data
-00007970: 2074 6f20 7570 6c6f 6164 0a20 2020 2020   to upload.     
-00007980: 2020 203a 7061 7261 6d20 636c 6561 725f     :param clear_
-00007990: 6578 6973 7469 6e67 5f64 6174 613a 2064  existing_data: d
-000079a0: 656c 6574 6520 616c 6c20 7072 6576 696f  elete all previo
-000079b0: 7573 6c79 2075 706c 6f61 6465 6420 4155  usly uploaded AU
-000079c0: 4d20 6461 7461 2066 6f72 2074 6865 2070  M data for the p
-000079d0: 6f72 7466 6f6c 696f 2028 6465 6661 756c  ortfolio (defaul
-000079e0: 7473 2074 6f20 6661 6c73 6529 0a20 2020  ts to false).   
-000079f0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00007a00: 2066 6f72 6d61 7474 6564 5f61 756d 5f64   formatted_aum_d
-00007a10: 6174 6120 3d20 5b7b 2764 6174 6527 3a20  ata = [{'date': 
-00007a20: 6461 7461 2e64 6174 652e 7374 7266 7469  data.date.strfti
-00007a30: 6d65 2827 2559 2d25 6d2d 2564 2729 2c20  me('%Y-%m-%d'), 
-00007a40: 2761 756d 273a 2064 6174 612e 6175 6d7d  'aum': data.aum}
-00007a50: 2066 6f72 2064 6174 6120 696e 2061 756d   for data in aum
-00007a60: 5f64 6174 615d 0a20 2020 2020 2020 2047  _data].        G
-00007a70: 7352 6570 6f72 7441 7069 2e75 706c 6f61  sReportApi.uploa
-00007a80: 645f 6375 7374 6f6d 5f61 756d 2873 656c  d_custom_aum(sel
-00007a90: 662e 6964 2c20 666f 726d 6174 7465 645f  f.id, formatted_
-00007aa0: 6175 6d5f 6461 7461 2c20 636c 6561 725f  aum_data, clear_
-00007ab0: 6578 6973 7469 6e67 5f64 6174 6129 0a0a  existing_data)..
-00007ac0: 2020 2020 6465 6620 6765 745f 706f 7369      def get_posi
-00007ad0: 7469 6f6e 735f 6461 7461 2873 656c 662c  tions_data(self,
-00007ae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007af0: 2020 2020 2020 2020 2020 2020 7374 6172              star
-00007b00: 743a 2064 742e 6461 7465 203d 204e 6f6e  t: dt.date = Non
-00007b10: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00007b20: 2020 2020 2020 2020 2020 2020 2020 656e                en
-00007b30: 643a 2064 742e 6461 7465 203d 2064 742e  d: dt.date = dt.
-00007b40: 6461 7465 2e74 6f64 6179 2829 2c0a 2020  date.today(),.  
-00007b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b60: 2020 2020 2020 2020 2066 6965 6c64 733a           fields:
-00007b70: 205b 7374 725d 203d 204e 6f6e 652c 0a20   [str] = None,. 
-00007b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b90: 2020 2020 2020 2020 2020 696e 636c 7564            includ
-00007ba0: 655f 616c 6c5f 6275 7369 6e65 7373 5f64  e_all_business_d
-00007bb0: 6179 733a 2062 6f6f 6c20 3d20 4661 6c73  ays: bool = Fals
-00007bc0: 6529 202d 3e20 4c69 7374 5b44 6963 745d  e) -> List[Dict]
-00007bd0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00007be0: 2047 7350 6f72 7466 6f6c 696f 4170 692e   GsPortfolioApi.
-00007bf0: 6765 745f 706f 7369 7469 6f6e 735f 6461  get_positions_da
-00007c00: 7461 2873 656c 662e 706f 7369 7469 6f6e  ta(self.position
-00007c10: 5f73 6f75 7263 655f 6964 2c0a 2020 2020  _source_id,.    
-00007c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c40: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00007c50: 7274 2c0a 2020 2020 2020 2020 2020 2020  rt,.            
-00007c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c80: 2020 2020 2065 6e64 2c0a 2020 2020 2020       end,.      
-00007c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007cb0: 2020 2020 2020 2020 2020 2066 6965 6c64             field
-00007cc0: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-00007cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007cf0: 2020 2020 7065 7266 6f72 6d61 6e63 655f      performance_
-00007d00: 7265 706f 7274 5f69 643d 7365 6c66 2e69  report_id=self.i
-00007d10: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-00007d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d40: 2020 2020 696e 636c 7564 655f 616c 6c5f      include_all_
-00007d50: 6275 7369 6e65 7373 5f64 6179 733d 696e  business_days=in
-00007d60: 636c 7564 655f 616c 6c5f 6275 7369 6e65  clude_all_busine
-00007d70: 7373 5f64 6179 7329 0a20 2020 2020 2020  ss_days).       
-00007d80: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
-00007d90: 656e 7465 6445 7272 6f72 0a0a 2020 2020  entedError..    
-00007da0: 6465 6620 6765 745f 706f 7274 666f 6c69  def get_portfoli
-00007db0: 6f5f 636f 6e73 7469 7475 656e 7473 2873  o_constituents(s
-00007dc0: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
-00007dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007de0: 2020 2020 2020 2020 6669 656c 6473 3a20          fields: 
-00007df0: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
-00007e00: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e20: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
-00007e30: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-00007e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e60: 2020 2020 656e 645f 6461 7465 3a20 6474      end_date: dt
-00007e70: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
-00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ea0: 2072 6574 7572 6e5f 666f 726d 6174 3a20   return_format: 
-00007eb0: 5265 7475 726e 466f 726d 6174 203d 2052  ReturnFormat = R
-00007ec0: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
-00007ed0: 5f46 5241 4d45 2920 2d3e 2055 6e69 6f6e  _FRAME) -> Union
-00007ee0: 5b44 6963 742c 2070 642e 4461 7461 4672  [Dict, pd.DataFr
-00007ef0: 616d 655d 3a0a 2020 2020 2020 2020 2222  ame]:.        ""
-00007f00: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
-00007f10: 7374 6f72 6963 616c 2070 6f72 7466 6f6c  storical portfol
-00007f20: 696f 2063 6f6e 7374 6974 7565 6e74 730a  io constituents.
-00007f30: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00007f40: 6669 656c 6473 3a20 6c69 7374 206f 6620  fields: list of 
-00007f50: 6669 656c 6473 2074 6f20 696e 636c 7564  fields to includ
-00007f60: 6520 696e 2074 6865 2072 6573 756c 7473  e in the results
-00007f70: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00007f80: 7374 6172 745f 6461 7465 3a20 7374 6172  start_date: star
-00007f90: 7420 6461 7465 0a20 2020 2020 2020 203a  t date.        :
-00007fa0: 7061 7261 6d20 656e 645f 6461 7465 3a20  param end_date: 
-00007fb0: 656e 6420 6461 7465 0a20 2020 2020 2020  end date.       
-00007fc0: 203a 7061 7261 6d20 7265 7475 726e 5f66   :param return_f
-00007fd0: 6f72 6d61 743a 2072 6574 7572 6e20 666f  ormat: return fo
-00007fe0: 726d 6174 3b20 6465 6661 756c 7473 2074  rmat; defaults t
-00007ff0: 6f20 6120 5061 6e64 6173 2044 6174 6146  o a Pandas DataF
-00008000: 7261 6d65 2c20 6275 7420 6361 6e20 6265  rame, but can be
-00008010: 206d 616e 7561 6c6c 790a 2020 2020 2020   manually.      
-00008020: 2020 7365 7420 746f 2052 6574 7572 6e46    set to ReturnF
-00008030: 6f72 6d61 742e 4a53 4f4e 0a20 2020 2020  ormat.JSON.     
-00008040: 2020 203a 7265 7475 726e 3a20 506f 7274     :return: Port
-00008050: 666f 6c69 6f20 636f 6e73 7469 7475 656e  folio constituen
-00008060: 7420 6461 7461 2066 6f72 2065 6163 6820  t data for each 
-00008070: 6461 7920 696e 2074 6865 2072 6571 7565  day in the reque
-00008080: 7374 6564 2064 6174 6520 7261 6e67 650a  sted date range.
-00008090: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000080a0: 2020 2020 7768 6572 6520 3d20 7b27 7265      where = {'re
-000080b0: 706f 7274 4964 273a 2073 656c 662e 6964  portId': self.id
-000080c0: 7d0a 2020 2020 2020 2020 6173 7365 745f  }.        asset_
-000080d0: 636f 756e 7420 3d20 7365 6c66 2e67 6574  count = self.get
-000080e0: 5f61 7373 6574 5f63 6f75 6e74 2873 7461  _asset_count(sta
-000080f0: 7274 5f64 6174 652c 2065 6e64 5f64 6174  rt_date, end_dat
-00008100: 6529 0a20 2020 2020 2020 2069 6620 6173  e).        if as
-00008110: 7365 745f 636f 756e 742e 656d 7074 793a  set_count.empty:
-00008120: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00008130: 7572 6e20 7064 2e44 6174 6146 7261 6d65  urn pd.DataFrame
-00008140: 2829 2069 6620 7265 7475 726e 5f66 6f72  () if return_for
-00008150: 6d61 7420 3d3d 2052 6574 7572 6e46 6f72  mat == ReturnFor
-00008160: 6d61 742e 4441 5441 5f46 5241 4d45 2065  mat.DATA_FRAME e
-00008170: 6c73 6520 7b7d 0a20 2020 2020 2020 2064  lse {}.        d
-00008180: 6174 655f 6261 7463 6865 7320 3d20 5f67  ate_batches = _g
-00008190: 6574 5f70 7061 615f 6261 7463 6865 7328  et_ppaa_batches(
-000081a0: 6173 7365 745f 636f 756e 742c 2033 3030  asset_count, 300
-000081b0: 3030 3030 290a 2020 2020 2020 2020 7175  0000).        qu
-000081c0: 6572 6965 7320 3d20 5b44 6174 6151 7565  eries = [DataQue
-000081d0: 7279 2877 6865 7265 3d77 6865 7265 2c20  ry(where=where, 
-000081e0: 6669 656c 6473 3d66 6965 6c64 732c 2073  fields=fields, s
-000081f0: 7461 7274 5f64 6174 653d 6461 7465 735f  tart_date=dates_
-00008200: 6261 7463 685b 305d 2c20 656e 645f 6461  batch[0], end_da
-00008210: 7465 3d64 6174 6573 5f62 6174 6368 5b31  te=dates_batch[1
-00008220: 5d29 2066 6f72 0a20 2020 2020 2020 2020  ]) for.         
-00008230: 2020 2020 2020 2020 2020 6461 7465 735f            dates_
-00008240: 6261 7463 6820 696e 2064 6174 655f 6261  batch in date_ba
-00008250: 7463 6865 735d 0a20 2020 2020 2020 2072  tches].        r
-00008260: 6573 756c 7473 203d 205b 4773 4461 7461  esults = [GsData
-00008270: 4170 692e 7175 6572 795f 6461 7461 2871  Api.query_data(q
-00008280: 7565 7279 3d71 7565 7279 2c20 6461 7461  uery=query, data
-00008290: 7365 745f 6964 3d52 6570 6f72 7444 6174  set_id=ReportDat
-000082a0: 6173 6574 2e50 4f52 5446 4f4c 494f 5f43  aset.PORTFOLIO_C
-000082b0: 4f4e 5354 4954 5545 4e54 532e 7661 6c75  ONSTITUENTS.valu
-000082c0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-000082d0: 2020 2020 2020 666f 7220 7175 6572 7920        for query 
-000082e0: 696e 2071 7565 7269 6573 5d0a 2020 2020  in queries].    
-000082f0: 2020 2020 7265 7375 6c74 7320 3d20 7375      results = su
-00008300: 6d28 7265 7375 6c74 732c 205b 5d29 0a20  m(results, []). 
-00008310: 2020 2020 2020 2072 6574 7572 6e20 7064         return pd
-00008320: 2e44 6174 6146 7261 6d65 2872 6573 756c  .DataFrame(resul
-00008330: 7473 2920 6966 2072 6574 7572 6e5f 666f  ts) if return_fo
-00008340: 726d 6174 203d 3d20 5265 7475 726e 466f  rmat == ReturnFo
-00008350: 726d 6174 2e44 4154 415f 4652 414d 4520  rmat.DATA_FRAME 
-00008360: 656c 7365 2072 6573 756c 7473 0a0a 2020  else results..  
-00008370: 2020 6465 6620 6765 745f 706e 6c5f 636f    def get_pnl_co
-00008380: 6e74 7269 6275 7469 6f6e 2873 656c 662c  ntribution(self,
-00008390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000083a0: 2020 2020 2020 2020 2020 2020 2020 7374                st
-000083b0: 6172 745f 6461 7465 3a20 6474 2e64 6174  art_date: dt.dat
-000083c0: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
-000083d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000083e0: 2020 2020 2020 2065 6e64 5f64 6174 653a         end_date:
-000083f0: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-00008400: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008410: 2020 2020 2020 2020 2020 2020 2020 6375                cu
-00008420: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
-00008430: 203d 204e 6f6e 6529 202d 3e20 7064 2e44   = None) -> pd.D
-00008440: 6174 6146 7261 6d65 3a0a 2020 2020 2020  ataFrame:.      
-00008450: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00008460: 7420 506e 4c20 436f 6e74 7269 6275 7469  t PnL Contributi
-00008470: 6f6e 2062 726f 6b65 6e20 646f 776e 2062  on broken down b
-00008480: 7920 636f 6e73 7469 7475 656e 7473 0a0a  y constituents..
-00008490: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-000084a0: 7461 7274 5f64 6174 653a 206f 7074 696f  tart_date: optio
-000084b0: 6e61 6c20 7374 6172 7420 6461 7465 0a20  nal start date. 
-000084c0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-000084d0: 645f 6461 7465 3a20 6f70 7469 6f6e 616c  d_date: optional
-000084e0: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
-000084f0: 2020 3a70 6172 616d 2063 7572 7265 6e63    :param currenc
-00008500: 793a 206f 7074 696f 6e61 6c20 6375 7272  y: optional curr
-00008510: 656e 6379 3b20 6465 6661 756c 7473 2074  ency; defaults t
-00008520: 6f20 796f 7572 2070 6f72 7466 6f6c 696f  o your portfolio
-00008530: 2773 2063 7572 7265 6e63 790a 2020 2020  's currency.    
-00008540: 2020 2020 3a72 6574 7572 6e3a 2061 2050      :return: a P
-00008550: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
-00008560: 6f66 2072 6573 756c 7473 0a20 2020 2020  of results.     
-00008570: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
-00008580: 6574 7572 6e20 7064 2e44 6174 6146 7261  eturn pd.DataFra
-00008590: 6d65 2847 7350 6f72 7466 6f6c 696f 4170  me(GsPortfolioAp
-000085a0: 692e 6765 745f 6174 7472 6962 7574 696f  i.get_attributio
-000085b0: 6e28 7365 6c66 2e70 6f73 6974 696f 6e5f  n(self.position_
-000085c0: 736f 7572 6365 5f69 642c 2073 7461 7274  source_id, start
-000085d0: 5f64 6174 652c 2065 6e64 5f64 6174 652c  _date, end_date,
-000085e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000085f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008610: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-00008620: 656e 6379 2c20 7365 6c66 2e69 6429 290a  ency, self.id)).
-00008630: 0a20 2020 2064 6566 2067 6574 5f62 7269  .    def get_bri
-00008640: 6e73 6f6e 5f61 7474 7269 6275 7469 6f6e  nson_attribution
-00008650: 2873 656c 662c 0a20 2020 2020 2020 2020  (self,.         
-00008660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008670: 2020 2020 2020 2062 656e 6368 6d61 726b         benchmark
-00008680: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00006030: 2020 2020 7265 7475 726e 5f66 6f72 6d61      return_forma
+00006040: 743a 2052 6574 7572 6e46 6f72 6d61 7420  t: ReturnFormat 
+00006050: 3d20 5265 7475 726e 466f 726d 6174 2e44  = ReturnFormat.D
+00006060: 4154 415f 4652 414d 4529 202d 3e20 556e  ATA_FRAME) -> Un
+00006070: 696f 6e5b 4469 6374 2c20 7064 2e44 6174  ion[Dict, pd.Dat
+00006080: 6146 7261 6d65 5d3a 0a20 2020 2020 2020  aFrame]:.       
+00006090: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+000060a0: 2068 6973 746f 7269 6361 6c20 706f 7274   historical port
+000060b0: 666f 6c69 6f20 6d65 7472 6963 730a 0a20  folio metrics.. 
+000060c0: 2020 2020 2020 203a 7061 7261 6d20 6669         :param fi
+000060d0: 656c 643a 2074 6865 2065 6e74 6974 7920  eld: the entity 
+000060e0: 7072 6f70 6572 7479 2074 6f20 6265 2072  property to be r
+000060f0: 6574 7572 6e65 640a 2020 2020 2020 2020  eturned.        
+00006100: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
+00006110: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
+00006120: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
+00006130: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
+00006140: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00006150: 2072 6574 7572 6e73 2061 2050 616e 6461   returns a Panda
+00006160: 7320 4461 7461 4672 616d 6520 7769 7468  s DataFrame with
+00006170: 2074 6865 2072 6573 756c 7473 0a20 2020   the results.   
+00006180: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00006190: 2066 6965 6c64 7320 3d20 2866 6965 6c64   fields = (field
+000061a0: 2c29 0a20 2020 2020 2020 2077 6865 7265  ,).        where
+000061b0: 203d 207b 2772 6570 6f72 7449 6427 3a20   = {'reportId': 
+000061c0: 7365 6c66 2e69 647d 0a20 2020 2020 2020  self.id}.       
+000061d0: 2071 7565 7279 203d 2044 6174 6151 7565   query = DataQue
+000061e0: 7279 2877 6865 7265 3d77 6865 7265 2c20  ry(where=where, 
+000061f0: 6669 656c 6473 3d66 6965 6c64 732c 2073  fields=fields, s
+00006200: 7461 7274 5f64 6174 653d 7374 6172 745f  tart_date=start_
+00006210: 6461 7465 2c20 656e 645f 6461 7465 3d65  date, end_date=e
+00006220: 6e64 5f64 6174 6529 0a20 2020 2020 2020  nd_date).       
+00006230: 2072 6573 756c 7473 203d 2047 7344 6174   results = GsDat
+00006240: 6141 7069 2e71 7565 7279 5f64 6174 6128  aApi.query_data(
+00006250: 7175 6572 793d 7175 6572 792c 2064 6174  query=query, dat
+00006260: 6173 6574 5f69 643d 5265 706f 7274 4461  aset_id=ReportDa
+00006270: 7461 7365 742e 5050 415f 4441 5441 5345  taset.PPA_DATASE
+00006280: 542e 7661 6c75 6529 0a20 2020 2020 2020  T.value).       
+00006290: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
+000062a0: 7261 6d65 2872 6573 756c 7473 2920 6966  rame(results) if
+000062b0: 2072 6574 7572 6e5f 666f 726d 6174 203d   return_format =
+000062c0: 3d20 5265 7475 726e 466f 726d 6174 2e44  = ReturnFormat.D
+000062d0: 4154 415f 4652 414d 4520 656c 7365 2072  ATA_FRAME else r
+000062e0: 6573 756c 7473 0a0a 2020 2020 6465 6620  esults..    def 
+000062f0: 6765 745f 6d61 6e79 5f6d 6561 7375 7265  get_many_measure
+00006300: 7328 7365 6c66 2c0a 2020 2020 2020 2020  s(self,.        
+00006310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006320: 2020 6d65 6173 7572 6573 3a20 5475 706c    measures: Tupl
+00006330: 655b 7374 722c 202e 2e2e 5d20 3d20 4e6f  e[str, ...] = No
+00006340: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00006350: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00006360: 6172 745f 6461 7465 3a20 6474 2e64 6174  art_date: dt.dat
+00006370: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
+00006380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006390: 2020 2020 656e 645f 6461 7465 3a20 6474      end_date: dt
+000063a0: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
+000063b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000063c0: 2020 2020 2020 2020 7265 7475 726e 5f66          return_f
+000063d0: 6f72 6d61 743a 2052 6574 7572 6e46 6f72  ormat: ReturnFor
+000063e0: 6d61 7420 3d20 5265 7475 726e 466f 726d  mat = ReturnForm
+000063f0: 6174 2e44 4154 415f 4652 414d 4529 202d  at.DATA_FRAME) -
+00006400: 3e20 556e 696f 6e5b 4469 6374 2c20 7064  > Union[Dict, pd
+00006410: 2e44 6174 6146 7261 6d65 5d3a 0a20 2020  .DataFrame]:.   
+00006420: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00006430: 2047 6574 206d 616e 7920 6869 7374 6f72   Get many histor
+00006440: 6963 616c 2070 6f72 7466 6f6c 696f 206d  ical portfolio m
+00006450: 6574 7269 6373 0a0a 2020 2020 2020 2020  etrics..        
+00006460: 3a70 6172 616d 206d 6561 7375 7265 733a  :param measures:
+00006470: 2061 206c 6973 7420 6f66 206d 6574 7269   a list of metri
+00006480: 6373 0a20 2020 2020 2020 203a 7061 7261  cs.        :para
+00006490: 6d20 7374 6172 745f 6461 7465 3a20 7374  m start_date: st
+000064a0: 6172 7420 6461 7465 0a20 2020 2020 2020  art date.       
+000064b0: 203a 7061 7261 6d20 656e 645f 6461 7465   :param end_date
+000064c0: 3a20 656e 6420 6461 7465 0a20 2020 2020  : end date.     
+000064d0: 2020 203a 7265 7475 726e 3a20 7265 7475     :return: retu
+000064e0: 726e 7320 6120 5061 6e64 6173 2044 6174  rns a Pandas Dat
+000064f0: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+00006500: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+00006510: 2222 220a 2020 2020 2020 2020 6966 206d  """.        if m
+00006520: 6561 7375 7265 7320 6973 204e 6f6e 653a  easures is None:
+00006530: 0a20 2020 2020 2020 2020 2020 206d 6561  .            mea
+00006540: 7375 7265 7320 3d20 5b5d 0a20 2020 2020  sures = [].     
+00006550: 2020 2066 6965 6c64 7320 3d20 7475 706c     fields = tupl
+00006560: 6528 6d65 6173 7572 6520 666f 7220 6d65  e(measure for me
+00006570: 6173 7572 6520 696e 206d 6561 7375 7265  asure in measure
+00006580: 7329 0a20 2020 2020 2020 2077 6865 7265  s).        where
+00006590: 203d 207b 2772 6570 6f72 7449 6427 3a20   = {'reportId': 
+000065a0: 7365 6c66 2e69 647d 0a20 2020 2020 2020  self.id}.       
+000065b0: 2071 7565 7279 203d 2044 6174 6151 7565   query = DataQue
+000065c0: 7279 2877 6865 7265 3d77 6865 7265 2c20  ry(where=where, 
+000065d0: 6669 656c 6473 3d66 6965 6c64 732c 2073  fields=fields, s
+000065e0: 7461 7274 5f64 6174 653d 7374 6172 745f  tart_date=start_
+000065f0: 6461 7465 2c20 656e 645f 6461 7465 3d65  date, end_date=e
+00006600: 6e64 5f64 6174 6529 0a20 2020 2020 2020  nd_date).       
+00006610: 2072 6573 756c 7473 203d 2047 7344 6174   results = GsDat
+00006620: 6141 7069 2e71 7565 7279 5f64 6174 6128  aApi.query_data(
+00006630: 7175 6572 793d 7175 6572 792c 2064 6174  query=query, dat
+00006640: 6173 6574 5f69 643d 5265 706f 7274 4461  aset_id=ReportDa
+00006650: 7461 7365 742e 5050 415f 4441 5441 5345  taset.PPA_DATASE
+00006660: 542e 7661 6c75 6529 0a20 2020 2020 2020  T.value).       
+00006670: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
+00006680: 7261 6d65 2872 6573 756c 7473 2920 6966  rame(results) if
+00006690: 2072 6574 7572 6e5f 666f 726d 6174 203d   return_format =
+000066a0: 3d20 5265 7475 726e 466f 726d 6174 2e44  = ReturnFormat.D
+000066b0: 4154 415f 4652 414d 4520 656c 7365 2072  ATA_FRAME else r
+000066c0: 6573 756c 7473 0a0a 2020 2020 6465 6620  esults..    def 
+000066d0: 6765 745f 6175 6d5f 736f 7572 6365 2873  get_aum_source(s
+000066e0: 656c 6629 202d 3e20 5269 736b 4175 6d53  elf) -> RiskAumS
+000066f0: 6f75 7263 653a 0a20 2020 2020 2020 2022  ource:.        "
+00006700: 2222 0a20 2020 2020 2020 2047 6574 2041  "".        Get A
+00006710: 554d 2053 6f75 7263 6520 666f 7220 7468  UM Source for th
+00006720: 6520 706f 7274 666f 6c69 6f20 6173 736f  e portfolio asso
+00006730: 6369 6174 6564 2077 6974 6820 7468 6520  ciated with the 
+00006740: 7065 7266 6f72 6d61 6e63 6520 7265 706f  performance repo
+00006750: 7274 0a0a 2020 2020 2020 2020 3a72 6574  rt..        :ret
+00006760: 7572 6e3a 2061 756d 2073 6f75 7263 650a  urn: aum source.
+00006770: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00006780: 2020 2020 706f 7274 666f 6c69 6f20 3d20      portfolio = 
+00006790: 4773 506f 7274 666f 6c69 6f41 7069 2e67  GsPortfolioApi.g
+000067a0: 6574 5f70 6f72 7466 6f6c 696f 2873 656c  et_portfolio(sel
+000067b0: 662e 706f 7369 7469 6f6e 5f73 6f75 7263  f.position_sourc
+000067c0: 655f 6964 290a 2020 2020 2020 2020 7265  e_id).        re
+000067d0: 7475 726e 2070 6f72 7466 6f6c 696f 2e61  turn portfolio.a
+000067e0: 756d 5f73 6f75 7263 6520 6966 2070 6f72  um_source if por
+000067f0: 7466 6f6c 696f 2e61 756d 5f73 6f75 7263  tfolio.aum_sourc
+00006800: 6520 6973 206e 6f74 204e 6f6e 6520 656c  e is not None el
+00006810: 7365 2052 6973 6b41 756d 536f 7572 6365  se RiskAumSource
+00006820: 2e4c 6f6e 670a 0a20 2020 2064 6566 2073  .Long..    def s
+00006830: 6574 5f61 756d 5f73 6f75 7263 6528 7365  et_aum_source(se
+00006840: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+00006850: 2020 2020 2020 2020 2020 2061 756d 5f73             aum_s
+00006860: 6f75 7263 653a 2052 6973 6b41 756d 536f  ource: RiskAumSo
+00006870: 7572 6365 293a 0a20 2020 2020 2020 2022  urce):.        "
+00006880: 2222 0a20 2020 2020 2020 2053 6574 2041  "".        Set A
+00006890: 554d 2053 6f75 7263 6520 666f 7220 7468  UM Source for th
+000068a0: 6520 706f 7274 666f 6c69 6f20 6173 736f  e portfolio asso
+000068b0: 6369 6174 6564 2077 6974 6820 7468 6520  ciated with the 
+000068c0: 7065 7266 6f72 6d61 6e63 6520 7265 706f  performance repo
+000068d0: 7274 0a0a 2020 2020 2020 2020 3a70 6172  rt..        :par
+000068e0: 616d 2061 756d 5f73 6f75 7263 653a 2061  am aum_source: a
+000068f0: 756d 2073 6f75 7263 6520 666f 7220 706f  um source for po
+00006900: 7274 666f 6c69 6f0a 2020 2020 2020 2020  rtfolio.        
+00006910: 3a72 6574 7572 6e3a 2061 756d 2073 6f75  :return: aum sou
+00006920: 7263 650a 2020 2020 2020 2020 2222 220a  rce.        """.
+00006930: 2020 2020 2020 2020 706f 7274 666f 6c69          portfoli
+00006940: 6f20 3d20 4773 506f 7274 666f 6c69 6f41  o = GsPortfolioA
+00006950: 7069 2e67 6574 5f70 6f72 7466 6f6c 696f  pi.get_portfolio
+00006960: 2873 656c 662e 706f 7369 7469 6f6e 5f73  (self.position_s
+00006970: 6f75 7263 655f 6964 290a 2020 2020 2020  ource_id).      
+00006980: 2020 706f 7274 666f 6c69 6f2e 6175 6d5f    portfolio.aum_
+00006990: 736f 7572 6365 203d 2061 756d 5f73 6f75  source = aum_sou
+000069a0: 7263 650a 2020 2020 2020 2020 4773 506f  rce.        GsPo
+000069b0: 7274 666f 6c69 6f41 7069 2e75 7064 6174  rtfolioApi.updat
+000069c0: 655f 706f 7274 666f 6c69 6f28 706f 7274  e_portfolio(port
+000069d0: 666f 6c69 6f29 0a0a 2020 2020 6465 6620  folio)..    def 
+000069e0: 6765 745f 6375 7374 6f6d 5f61 756d 2873  get_custom_aum(s
+000069f0: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
+00006a00: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00006a10: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+00006a20: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00006a30: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00006a40: 6e64 5f64 6174 653a 2064 742e 6461 7465  nd_date: dt.date
+00006a50: 203d 204e 6f6e 6529 202d 3e20 4c69 7374   = None) -> List
+00006a60: 5b43 7573 746f 6d41 554d 4461 7461 506f  [CustomAUMDataPo
+00006a70: 696e 745d 3a0a 2020 2020 2020 2020 2222  int]:.        ""
+00006a80: 220a 2020 2020 2020 2020 4765 7420 4155  ".        Get AU
+00006a90: 4d20 6461 7461 2066 6f72 2070 6572 666f  M data for perfo
+00006aa0: 726d 616e 6365 2072 6570 6f72 740a 0a20  rmance report.. 
+00006ab0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+00006ac0: 6172 745f 6461 7465 3a20 7374 6172 7420  art_date: start 
+00006ad0: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
+00006ae0: 7261 6d20 656e 645f 6461 7465 3a20 656e  ram end_date: en
+00006af0: 6420 6461 7465 0a20 2020 2020 2020 203a  d date.        :
+00006b00: 7265 7475 726e 3a20 6c69 7374 206f 6620  return: list of 
+00006b10: 4155 4d20 6461 7461 2062 6574 7765 656e  AUM data between
+00006b20: 2074 6865 2073 7065 6369 6669 6564 2072   the specified r
+00006b30: 616e 6765 0a20 2020 2020 2020 2022 2222  ange.        """
+00006b40: 0a20 2020 2020 2020 2061 756d 5f64 6174  .        aum_dat
+00006b50: 6120 3d20 4773 5265 706f 7274 4170 692e  a = GsReportApi.
+00006b60: 6765 745f 6375 7374 6f6d 5f61 756d 2873  get_custom_aum(s
+00006b70: 656c 662e 6964 2c20 7374 6172 745f 6461  elf.id, start_da
+00006b80: 7465 2c20 656e 645f 6461 7465 290a 2020  te, end_date).  
+00006b90: 2020 2020 2020 7265 7475 726e 205b 4375        return [Cu
+00006ba0: 7374 6f6d 4155 4d44 6174 6150 6f69 6e74  stomAUMDataPoint
+00006bb0: 2864 6174 653d 6474 2e64 6174 6574 696d  (date=dt.datetim
+00006bc0: 652e 7374 7270 7469 6d65 2864 6174 615b  e.strptime(data[
+00006bd0: 2764 6174 6527 5d2c 2027 2559 2d25 6d2d  'date'], '%Y-%m-
+00006be0: 2564 2729 2c0a 2020 2020 2020 2020 2020  %d'),.          
+00006bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c00: 2020 2020 2020 2020 2061 756d 3d64 6174           aum=dat
+00006c10: 615b 2761 756d 275d 2920 666f 7220 6461  a['aum']) for da
+00006c20: 7461 2069 6e20 6175 6d5f 6461 7461 5d0a  ta in aum_data].
+00006c30: 0a20 2020 2064 6566 2067 6574 5f61 756d  .    def get_aum
+00006c40: 2873 656c 662c 0a20 2020 2020 2020 2020  (self,.         
+00006c50: 2020 2020 2020 2073 7461 7274 5f64 6174         start_dat
+00006c60: 653a 2064 742e 6461 7465 2c0a 2020 2020  e: dt.date,.    
+00006c70: 2020 2020 2020 2020 2020 2020 656e 645f              end_
+00006c80: 6461 7465 3a20 6474 2e64 6174 6529 3a0a  date: dt.date):.
+00006c90: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00006ca0: 2020 2020 4765 7420 4155 4d20 6461 7461      Get AUM data
+00006cb0: 2066 6f72 2070 6572 666f 726d 616e 6365   for performance
+00006cc0: 2072 6570 6f72 740a 0a20 2020 2020 2020   report..       
+00006cd0: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
+00006ce0: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
+00006cf0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
+00006d00: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
+00006d10: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00006d20: 3a20 6469 6374 696f 6e61 7279 206f 6620  : dictionary of 
+00006d30: 6461 7465 7320 7769 7468 2063 6f72 7265  dates with corre
+00006d40: 7370 6f6e 6469 6e67 2041 554d 2076 616c  sponding AUM val
+00006d50: 7565 730a 2020 2020 2020 2020 2222 220a  ues.        """.
+00006d60: 2020 2020 2020 2020 6175 6d5f 736f 7572          aum_sour
+00006d70: 6365 203d 2073 656c 662e 6765 745f 6175  ce = self.get_au
+00006d80: 6d5f 736f 7572 6365 2829 0a20 2020 2020  m_source().     
+00006d90: 2020 2069 6620 6175 6d5f 736f 7572 6365     if aum_source
+00006da0: 203d 3d20 5269 736b 4175 6d53 6f75 7263   == RiskAumSourc
+00006db0: 652e 4375 7374 6f6d 5f41 554d 3a0a 2020  e.Custom_AUM:.  
+00006dc0: 2020 2020 2020 2020 2020 6175 6d20 3d20            aum = 
+00006dd0: 7365 6c66 2e67 6574 5f63 7573 746f 6d5f  self.get_custom_
+00006de0: 6175 6d28 7374 6172 745f 6461 7465 3d73  aum(start_date=s
+00006df0: 7461 7274 5f64 6174 652c 2065 6e64 5f64  tart_date, end_d
+00006e00: 6174 653d 656e 645f 6461 7465 290a 2020  ate=end_date).  
+00006e10: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00006e20: 207b 6175 6d5f 706f 696e 742e 6461 7465   {aum_point.date
+00006e30: 2e73 7472 6674 696d 6528 2725 592d 256d  .strftime('%Y-%m
+00006e40: 2d25 6427 293a 2061 756d 5f70 6f69 6e74  -%d'): aum_point
+00006e50: 2e61 756d 2066 6f72 2061 756d 5f70 6f69  .aum for aum_poi
+00006e60: 6e74 2069 6e20 6175 6d7d 0a20 2020 2020  nt in aum}.     
+00006e70: 2020 2069 6620 6175 6d5f 736f 7572 6365     if aum_source
+00006e80: 203d 3d20 5269 736b 4175 6d53 6f75 7263   == RiskAumSourc
+00006e90: 652e 4c6f 6e67 3a0a 2020 2020 2020 2020  e.Long:.        
+00006ea0: 2020 2020 6175 6d20 3d20 7365 6c66 2e67      aum = self.g
+00006eb0: 6574 5f6c 6f6e 675f 6578 706f 7375 7265  et_long_exposure
+00006ec0: 2873 7461 7274 5f64 6174 653d 7374 6172  (start_date=star
+00006ed0: 745f 6461 7465 2c20 656e 645f 6461 7465  t_date, end_date
+00006ee0: 3d65 6e64 5f64 6174 6529 0a20 2020 2020  =end_date).     
+00006ef0: 2020 2020 2020 2072 6574 7572 6e20 7b72         return {r
+00006f00: 6f77 5b27 6461 7465 275d 3a20 726f 775b  ow['date']: row[
+00006f10: 276c 6f6e 6745 7870 6f73 7572 6527 5d20  'longExposure'] 
+00006f20: 666f 7220 696e 6465 782c 2072 6f77 2069  for index, row i
+00006f30: 6e20 6175 6d2e 6974 6572 726f 7773 2829  n aum.iterrows()
+00006f40: 7d0a 2020 2020 2020 2020 6966 2061 756d  }.        if aum
+00006f50: 5f73 6f75 7263 6520 3d3d 2052 6973 6b41  _source == RiskA
+00006f60: 756d 536f 7572 6365 2e53 686f 7274 3a0a  umSource.Short:.
+00006f70: 2020 2020 2020 2020 2020 2020 6175 6d20              aum 
+00006f80: 3d20 7365 6c66 2e67 6574 5f73 686f 7274  = self.get_short
+00006f90: 5f65 7870 6f73 7572 6528 7374 6172 745f  _exposure(start_
+00006fa0: 6461 7465 3d73 7461 7274 5f64 6174 652c  date=start_date,
+00006fb0: 2065 6e64 5f64 6174 653d 656e 645f 6461   end_date=end_da
+00006fc0: 7465 290a 2020 2020 2020 2020 2020 2020  te).            
+00006fd0: 7265 7475 726e 207b 726f 775b 2764 6174  return {row['dat
+00006fe0: 6527 5d3a 2072 6f77 5b27 7368 6f72 7445  e']: row['shortE
+00006ff0: 7870 6f73 7572 6527 5d20 666f 7220 696e  xposure'] for in
+00007000: 6465 782c 2072 6f77 2069 6e20 6175 6d2e  dex, row in aum.
+00007010: 6974 6572 726f 7773 2829 7d0a 2020 2020  iterrows()}.    
+00007020: 2020 2020 6966 2061 756d 5f73 6f75 7263      if aum_sourc
+00007030: 6520 3d3d 2052 6973 6b41 756d 536f 7572  e == RiskAumSour
+00007040: 6365 2e47 726f 7373 3a0a 2020 2020 2020  ce.Gross:.      
+00007050: 2020 2020 2020 6175 6d20 3d20 7365 6c66        aum = self
+00007060: 2e67 6574 5f67 726f 7373 5f65 7870 6f73  .get_gross_expos
+00007070: 7572 6528 7374 6172 745f 6461 7465 3d73  ure(start_date=s
+00007080: 7461 7274 5f64 6174 652c 2065 6e64 5f64  tart_date, end_d
+00007090: 6174 653d 656e 645f 6461 7465 290a 2020  ate=end_date).  
+000070a0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000070b0: 207b 726f 775b 2764 6174 6527 5d3a 2072   {row['date']: r
+000070c0: 6f77 5b27 6772 6f73 7345 7870 6f73 7572  ow['grossExposur
+000070d0: 6527 5d20 666f 7220 696e 6465 782c 2072  e'] for index, r
+000070e0: 6f77 2069 6e20 6175 6d2e 6974 6572 726f  ow in aum.iterro
+000070f0: 7773 2829 7d0a 2020 2020 2020 2020 6966  ws()}.        if
+00007100: 2061 756d 5f73 6f75 7263 6520 3d3d 2052   aum_source == R
+00007110: 6973 6b41 756d 536f 7572 6365 2e4e 6574  iskAumSource.Net
+00007120: 3a0a 2020 2020 2020 2020 2020 2020 6175  :.            au
+00007130: 6d20 3d20 7365 6c66 2e67 6574 5f6e 6574  m = self.get_net
+00007140: 5f65 7870 6f73 7572 6528 7374 6172 745f  _exposure(start_
+00007150: 6461 7465 3d73 7461 7274 5f64 6174 652c  date=start_date,
+00007160: 2065 6e64 5f64 6174 653d 656e 645f 6461   end_date=end_da
+00007170: 7465 290a 2020 2020 2020 2020 2020 2020  te).            
+00007180: 7265 7475 726e 207b 726f 775b 2764 6174  return {row['dat
+00007190: 6527 5d3a 2072 6f77 5b27 6e65 7445 7870  e']: row['netExp
+000071a0: 6f73 7572 6527 5d20 666f 7220 696e 6465  osure'] for inde
+000071b0: 782c 2072 6f77 2069 6e20 6175 6d2e 6974  x, row in aum.it
+000071c0: 6572 726f 7773 2829 7d0a 0a20 2020 2064  errows()}..    d
+000071d0: 6566 2075 706c 6f61 645f 6375 7374 6f6d  ef upload_custom
+000071e0: 5f61 756d 2873 656c 662c 0a20 2020 2020  _aum(self,.     
+000071f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007200: 2020 2020 2061 756d 5f64 6174 613a 204c       aum_data: L
+00007210: 6973 745b 4375 7374 6f6d 4155 4d44 6174  ist[CustomAUMDat
+00007220: 6150 6f69 6e74 5d2c 0a20 2020 2020 2020  aPoint],.       
+00007230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007240: 2020 2063 6c65 6172 5f65 7869 7374 696e     clear_existin
+00007250: 675f 6461 7461 3a20 626f 6f6c 203d 204e  g_data: bool = N
+00007260: 6f6e 6529 3a0a 2020 2020 2020 2020 2222  one):.        ""
+00007270: 220a 2020 2020 2020 2020 4164 6420 4155  ".        Add AU
+00007280: 4d20 6461 7461 2066 6f72 2070 6f72 7466  M data for portf
+00007290: 6f6c 696f 2063 6f72 7265 7370 6f6e 6469  olio correspondi
+000072a0: 6e67 2074 6f20 7468 6520 7065 7266 6f72  ng to the perfor
+000072b0: 6d61 6e63 6520 7265 706f 7274 0a0a 2020  mance report..  
+000072c0: 2020 2020 2020 3a70 6172 616d 2061 756d        :param aum
+000072d0: 5f64 6174 613a 206c 6973 7420 6f66 2041  _data: list of A
+000072e0: 554d 2064 6174 6120 746f 2075 706c 6f61  UM data to uploa
+000072f0: 640a 2020 2020 2020 2020 3a70 6172 616d  d.        :param
+00007300: 2063 6c65 6172 5f65 7869 7374 696e 675f   clear_existing_
+00007310: 6461 7461 3a20 6465 6c65 7465 2061 6c6c  data: delete all
+00007320: 2070 7265 7669 6f75 736c 7920 7570 6c6f   previously uplo
+00007330: 6164 6564 2041 554d 2064 6174 6120 666f  aded AUM data fo
+00007340: 7220 7468 6520 706f 7274 666f 6c69 6f20  r the portfolio 
+00007350: 2864 6566 6175 6c74 7320 746f 2066 616c  (defaults to fal
+00007360: 7365 290a 2020 2020 2020 2020 2222 220a  se).        """.
+00007370: 2020 2020 2020 2020 666f 726d 6174 7465          formatte
+00007380: 645f 6175 6d5f 6461 7461 203d 205b 7b27  d_aum_data = [{'
+00007390: 6461 7465 273a 2064 6174 612e 6461 7465  date': data.date
+000073a0: 2e73 7472 6674 696d 6528 2725 592d 256d  .strftime('%Y-%m
+000073b0: 2d25 6427 292c 2027 6175 6d27 3a20 6461  -%d'), 'aum': da
+000073c0: 7461 2e61 756d 7d20 666f 7220 6461 7461  ta.aum} for data
+000073d0: 2069 6e20 6175 6d5f 6461 7461 5d0a 2020   in aum_data].  
+000073e0: 2020 2020 2020 4773 5265 706f 7274 4170        GsReportAp
+000073f0: 692e 7570 6c6f 6164 5f63 7573 746f 6d5f  i.upload_custom_
+00007400: 6175 6d28 7365 6c66 2e69 642c 2066 6f72  aum(self.id, for
+00007410: 6d61 7474 6564 5f61 756d 5f64 6174 612c  matted_aum_data,
+00007420: 2063 6c65 6172 5f65 7869 7374 696e 675f   clear_existing_
+00007430: 6461 7461 290a 0a20 2020 2064 6566 2067  data)..    def g
+00007440: 6574 5f70 6f73 6974 696f 6e73 5f64 6174  et_positions_dat
+00007450: 6128 7365 6c66 2c0a 2020 2020 2020 2020  a(self,.        
+00007460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007470: 2020 2073 7461 7274 3a20 6474 2e64 6174     start: dt.dat
+00007480: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
+00007490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000074a0: 2020 2020 2065 6e64 3a20 6474 2e64 6174       end: dt.dat
+000074b0: 6520 3d20 6474 2e64 6174 652e 746f 6461  e = dt.date.toda
+000074c0: 7928 292c 0a20 2020 2020 2020 2020 2020  y(),.           
+000074d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000074e0: 6669 656c 6473 3a20 5b73 7472 5d20 3d20  fields: [str] = 
+000074f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00007500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007510: 2069 6e63 6c75 6465 5f61 6c6c 5f62 7573   include_all_bus
+00007520: 696e 6573 735f 6461 7973 3a20 626f 6f6c  iness_days: bool
+00007530: 203d 2046 616c 7365 2920 2d3e 204c 6973   = False) -> Lis
+00007540: 745b 4469 6374 5d3a 0a20 2020 2020 2020  t[Dict]:.       
+00007550: 2072 6574 7572 6e20 4773 506f 7274 666f   return GsPortfo
+00007560: 6c69 6f41 7069 2e67 6574 5f70 6f73 6974  lioApi.get_posit
+00007570: 696f 6e73 5f64 6174 6128 7365 6c66 2e70  ions_data(self.p
+00007580: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
+00007590: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+000075a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075c0: 2020 2020 7374 6172 742c 0a20 2020 2020      start,.     
+000075d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075f0: 2020 2020 2020 2020 2020 2020 656e 642c              end,
+00007600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007630: 2020 6669 656c 6473 2c0a 2020 2020 2020    fields,.      
+00007640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007660: 2020 2020 2020 2020 2020 2070 6572 666f             perfo
+00007670: 726d 616e 6365 5f72 6570 6f72 745f 6964  rmance_report_id
+00007680: 3d73 656c 662e 6964 2c0a 2020 2020 2020  =self.id,.      
+00007690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000076a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000076b0: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
+000076c0: 6465 5f61 6c6c 5f62 7573 696e 6573 735f  de_all_business_
+000076d0: 6461 7973 3d69 6e63 6c75 6465 5f61 6c6c  days=include_all
+000076e0: 5f62 7573 696e 6573 735f 6461 7973 290a  _business_days).
+000076f0: 2020 2020 2020 2020 7261 6973 6520 4e6f          raise No
+00007700: 7449 6d70 6c65 6d65 6e74 6564 4572 726f  tImplementedErro
+00007710: 720a 0a20 2020 2064 6566 2067 6574 5f70  r..    def get_p
+00007720: 6f72 7466 6f6c 696f 5f63 6f6e 7374 6974  ortfolio_constit
+00007730: 7565 6e74 7328 7365 6c66 2c0a 2020 2020  uents(self,.    
+00007740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007750: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00007760: 6965 6c64 733a 204c 6973 745b 7374 725d  ields: List[str]
+00007770: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00007780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007790: 2020 2020 2020 2020 2020 2020 7374 6172              star
+000077a0: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+000077b0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000077c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000077d0: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+000077e0: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+000077f0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00007800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007810: 2020 2020 2020 2020 7265 7475 726e 5f66          return_f
+00007820: 6f72 6d61 743a 2052 6574 7572 6e46 6f72  ormat: ReturnFor
+00007830: 6d61 7420 3d20 5265 7475 726e 466f 726d  mat = ReturnForm
+00007840: 6174 2e44 4154 415f 4652 414d 4529 202d  at.DATA_FRAME) -
+00007850: 3e20 556e 696f 6e5b 4469 6374 2c20 7064  > Union[Dict, pd
+00007860: 2e44 6174 6146 7261 6d65 5d3a 0a20 2020  .DataFrame]:.   
+00007870: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00007880: 2047 6574 2068 6973 746f 7269 6361 6c20   Get historical 
+00007890: 706f 7274 666f 6c69 6f20 636f 6e73 7469  portfolio consti
+000078a0: 7475 656e 7473 0a0a 2020 2020 2020 2020  tuents..        
+000078b0: 3a70 6172 616d 2066 6965 6c64 733a 206c  :param fields: l
+000078c0: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
+000078d0: 2069 6e63 6c75 6465 2069 6e20 7468 6520   include in the 
+000078e0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+000078f0: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
+00007900: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
+00007910: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
+00007920: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
+00007930: 2020 2020 2020 2020 3a70 6172 616d 2072          :param r
+00007940: 6574 7572 6e5f 666f 726d 6174 3a20 7265  eturn_format: re
+00007950: 7475 726e 2066 6f72 6d61 743b 2064 6566  turn format; def
+00007960: 6175 6c74 7320 746f 2061 2050 616e 6461  aults to a Panda
+00007970: 7320 4461 7461 4672 616d 652c 2062 7574  s DataFrame, but
+00007980: 2063 616e 2062 6520 6d61 6e75 616c 6c79   can be manually
+00007990: 0a20 2020 2020 2020 2073 6574 2074 6f20  .        set to 
+000079a0: 5265 7475 726e 466f 726d 6174 2e4a 534f  ReturnFormat.JSO
+000079b0: 4e0a 2020 2020 2020 2020 3a72 6574 7572  N.        :retur
+000079c0: 6e3a 2050 6f72 7466 6f6c 696f 2063 6f6e  n: Portfolio con
+000079d0: 7374 6974 7565 6e74 2064 6174 6120 666f  stituent data fo
+000079e0: 7220 6561 6368 2064 6179 2069 6e20 7468  r each day in th
+000079f0: 6520 7265 7175 6573 7465 6420 6461 7465  e requested date
+00007a00: 2072 616e 6765 0a20 2020 2020 2020 2022   range.        "
+00007a10: 2222 0a20 2020 2020 2020 2077 6865 7265  "".        where
+00007a20: 203d 207b 2772 6570 6f72 7449 6427 3a20   = {'reportId': 
+00007a30: 7365 6c66 2e69 647d 0a20 2020 2020 2020  self.id}.       
+00007a40: 2061 7373 6574 5f63 6f75 6e74 203d 2073   asset_count = s
+00007a50: 656c 662e 6765 745f 6173 7365 745f 636f  elf.get_asset_co
+00007a60: 756e 7428 7374 6172 745f 6461 7465 2c20  unt(start_date, 
+00007a70: 656e 645f 6461 7465 290a 2020 2020 2020  end_date).      
+00007a80: 2020 6966 2061 7373 6574 5f63 6f75 6e74    if asset_count
+00007a90: 2e65 6d70 7479 3a0a 2020 2020 2020 2020  .empty:.        
+00007aa0: 2020 2020 7265 7475 726e 2070 642e 4461      return pd.Da
+00007ab0: 7461 4672 616d 6528 2920 6966 2072 6574  taFrame() if ret
+00007ac0: 7572 6e5f 666f 726d 6174 203d 3d20 5265  urn_format == Re
+00007ad0: 7475 726e 466f 726d 6174 2e44 4154 415f  turnFormat.DATA_
+00007ae0: 4652 414d 4520 656c 7365 207b 7d0a 2020  FRAME else {}.  
+00007af0: 2020 2020 2020 6461 7465 5f62 6174 6368        date_batch
+00007b00: 6573 203d 205f 6765 745f 7070 6161 5f62  es = _get_ppaa_b
+00007b10: 6174 6368 6573 2861 7373 6574 5f63 6f75  atches(asset_cou
+00007b20: 6e74 2c20 3330 3030 3030 3029 0a20 2020  nt, 3000000).   
+00007b30: 2020 2020 2071 7565 7269 6573 203d 205b       queries = [
+00007b40: 4461 7461 5175 6572 7928 7768 6572 653d  DataQuery(where=
+00007b50: 7768 6572 652c 2066 6965 6c64 733d 6669  where, fields=fi
+00007b60: 656c 6473 2c20 7374 6172 745f 6461 7465  elds, start_date
+00007b70: 3d64 6174 6573 5f62 6174 6368 5b30 5d2c  =dates_batch[0],
+00007b80: 2065 6e64 5f64 6174 653d 6461 7465 735f   end_date=dates_
+00007b90: 6261 7463 685b 315d 2920 666f 720a 2020  batch[1]) for.  
+00007ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007bb0: 2064 6174 6573 5f62 6174 6368 2069 6e20   dates_batch in 
+00007bc0: 6461 7465 5f62 6174 6368 6573 5d0a 2020  date_batches].  
+00007bd0: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
+00007be0: 5b47 7344 6174 6141 7069 2e71 7565 7279  [GsDataApi.query
+00007bf0: 5f64 6174 6128 7175 6572 793d 7175 6572  _data(query=quer
+00007c00: 792c 2064 6174 6173 6574 5f69 643d 5265  y, dataset_id=Re
+00007c10: 706f 7274 4461 7461 7365 742e 504f 5254  portDataset.PORT
+00007c20: 464f 4c49 4f5f 434f 4e53 5449 5455 454e  FOLIO_CONSTITUEN
+00007c30: 5453 2e76 616c 7565 290a 2020 2020 2020  TS.value).      
+00007c40: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00007c50: 2071 7565 7279 2069 6e20 7175 6572 6965   query in querie
+00007c60: 735d 0a20 2020 2020 2020 2072 6573 756c  s].        resul
+00007c70: 7473 203d 2073 756d 2872 6573 756c 7473  ts = sum(results
+00007c80: 2c20 5b5d 290a 2020 2020 2020 2020 7265  , []).        re
+00007c90: 7475 726e 2070 642e 4461 7461 4672 616d  turn pd.DataFram
+00007ca0: 6528 7265 7375 6c74 7329 2069 6620 7265  e(results) if re
+00007cb0: 7475 726e 5f66 6f72 6d61 7420 3d3d 2052  turn_format == R
+00007cc0: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
+00007cd0: 5f46 5241 4d45 2065 6c73 6520 7265 7375  _FRAME else resu
+00007ce0: 6c74 730a 0a20 2020 2064 6566 2067 6574  lts..    def get
+00007cf0: 5f70 6e6c 5f63 6f6e 7472 6962 7574 696f  _pnl_contributio
+00007d00: 6e28 7365 6c66 2c0a 2020 2020 2020 2020  n(self,.        
+00007d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d20: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
+00007d30: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
+00007d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007d50: 2020 2020 2020 2020 2020 2020 2020 656e                en
+00007d60: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
+00007d70: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00007d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d90: 2020 2020 2063 7572 7265 6e63 793a 2043       currency: C
+00007da0: 7572 7265 6e63 7920 3d20 4e6f 6e65 2920  urrency = None) 
+00007db0: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
+00007dc0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00007dd0: 2020 2020 2047 6574 2050 6e4c 2043 6f6e       Get PnL Con
+00007de0: 7472 6962 7574 696f 6e20 6272 6f6b 656e  tribution broken
+00007df0: 2064 6f77 6e20 6279 2063 6f6e 7374 6974   down by constit
+00007e00: 7565 6e74 730a 0a20 2020 2020 2020 203a  uents..        :
+00007e10: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
+00007e20: 3a20 6f70 7469 6f6e 616c 2073 7461 7274  : optional start
+00007e30: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
+00007e40: 6172 616d 2065 6e64 5f64 6174 653a 206f  aram end_date: o
+00007e50: 7074 696f 6e61 6c20 656e 6420 6461 7465  ptional end date
+00007e60: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00007e70: 6375 7272 656e 6379 3a20 6f70 7469 6f6e  currency: option
+00007e80: 616c 2063 7572 7265 6e63 793b 2064 6566  al currency; def
+00007e90: 6175 6c74 7320 746f 2079 6f75 7220 706f  aults to your po
+00007ea0: 7274 666f 6c69 6f27 7320 6375 7272 656e  rtfolio's curren
+00007eb0: 6379 0a20 2020 2020 2020 203a 7265 7475  cy.        :retu
+00007ec0: 726e 3a20 6120 5061 6e64 6173 2044 6174  rn: a Pandas Dat
+00007ed0: 6146 7261 6d65 206f 6620 7265 7375 6c74  aFrame of result
+00007ee0: 730a 2020 2020 2020 2020 2222 220a 2020  s.        """.  
+00007ef0: 2020 2020 2020 7265 7475 726e 2070 642e        return pd.
+00007f00: 4461 7461 4672 616d 6528 4773 506f 7274  DataFrame(GsPort
+00007f10: 666f 6c69 6f41 7069 2e67 6574 5f61 7474  folioApi.get_att
+00007f20: 7269 6275 7469 6f6e 2873 656c 662e 706f  ribution(self.po
+00007f30: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
+00007f40: 2c20 7374 6172 745f 6461 7465 2c20 656e  , start_date, en
+00007f50: 645f 6461 7465 2c0a 2020 2020 2020 2020  d_date,.        
+00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f90: 2020 2063 7572 7265 6e63 792c 2073 656c     currency, sel
+00007fa0: 662e 6964 2929 0a0a 2020 2020 6465 6620  f.id))..    def 
+00007fb0: 6765 745f 6272 696e 736f 6e5f 6174 7472  get_brinson_attr
+00007fc0: 6962 7574 696f 6e28 7365 6c66 2c0a 2020  ibution(self,.  
+00007fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fe0: 2020 2020 2020 2020 2020 2020 2020 6265                be
+00007ff0: 6e63 686d 6172 6b3a 2073 7472 203d 204e  nchmark: str = N
+00008000: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00008010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008020: 2020 2020 2063 7572 7265 6e63 793a 2043       currency: C
+00008030: 7572 7265 6e63 7920 3d20 4e6f 6e65 2c0a  urrency = None,.
+00008040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008060: 696e 636c 7564 655f 696e 7465 7261 6374  include_interact
+00008070: 696f 6e3a 2062 6f6f 6c20 3d20 4661 6c73  ion: bool = Fals
+00008080: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00008090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000080a0: 2020 2061 6767 7265 6761 7469 6f6e 5f74     aggregation_t
+000080b0: 7970 653a 2041 7474 7269 6275 7469 6f6e  ype: Attribution
+000080c0: 4167 6772 6567 6174 696f 6e54 7970 6520  AggregationType 
+000080d0: 3d20 4174 7472 6962 7574 696f 6e41 6767  = AttributionAgg
+000080e0: 7265 6761 7469 6f6e 5479 7065 2e41 7269  regationType.Ari
+000080f0: 7468 6d65 7469 632c 0a20 2020 2020 2020  thmetic,.       
+00008100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008110: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+00008120: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+00008130: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00008140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008150: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
+00008160: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
+00008170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008180: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008190: 6574 7572 6e5f 666f 726d 6174 3a20 5265  eturn_format: Re
+000081a0: 7475 726e 466f 726d 6174 203d 2052 6574  turnFormat = Ret
+000081b0: 7572 6e46 6f72 6d61 742e 4441 5441 5f46  urnFormat.DATA_F
+000081c0: 5241 4d45 2920 2d3e 2055 6e69 6f6e 5b44  RAME) -> Union[D
+000081d0: 6963 742c 2070 642e 4461 7461 4672 616d  ict, pd.DataFram
+000081e0: 655d 3a0a 2020 2020 2020 2020 2222 220a  e]:.        """.
+000081f0: 2020 2020 2020 2020 4765 7420 506e 4c20          Get PnL 
+00008200: 616e 616c 7974 6963 7320 6361 6c6c 6564  analytics called
+00008210: 2042 7269 6e73 6f6e 2041 7474 7269 6275   Brinson Attribu
+00008220: 7469 6f6e 0a0a 2020 2020 2020 2020 3a70  tion..        :p
+00008230: 6172 616d 2062 656e 6368 6d61 726b 3a20  aram benchmark: 
+00008240: 6265 6e63 686d 6172 6b27 7320 756e 6971  benchmark's uniq
+00008250: 7565 204d 6172 7175 6565 2069 6465 6e74  ue Marquee ident
+00008260: 6966 6965 720a 2020 2020 2020 2020 3a70  ifier.        :p
+00008270: 6172 616d 2063 7572 7265 6e63 793a 2063  aram currency: c
+00008280: 7572 7265 6e63 7920 6f66 2072 6573 756c  urrency of resul
+00008290: 7473 3b20 6966 206e 6f6e 6520 7061 7373  ts; if none pass
+000082a0: 6564 2072 6573 756c 7473 2064 6566 6175  ed results defau
+000082b0: 6c74 2074 6f20 796f 7572 2070 6f72 7466  lt to your portf
+000082c0: 6f6c 696f 2773 2063 7572 7265 6e63 790a  olio's currency.
+000082d0: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
+000082e0: 6e63 6c75 6465 5f69 6e74 6572 6163 7469  nclude_interacti
+000082f0: 6f6e 3a20 7368 6f77 2069 6e74 6572 6163  on: show interac
+00008300: 7469 6f6e 2069 6e64 6570 656e 6465 6e74  tion independent
+00008310: 206f 6620 7365 6375 7269 7479 2073 656c   of security sel
+00008320: 6563 7469 6f6e 0a20 2020 2020 2020 203a  ection.        :
+00008330: 7061 7261 6d20 6167 6772 6567 6174 696f  param aggregatio
+00008340: 6e5f 7479 7065 3a20 6569 7468 6572 2061  n_type: either a
+00008350: 7274 6968 6d65 7469 6320 6f72 2067 656f  rtihmetic or geo
+00008360: 6d65 7472 6963 0a20 2020 2020 2020 203a  metric.        :
+00008370: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
+00008380: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
+00008390: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
+000083a0: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
+000083b0: 2020 2020 2020 203a 7061 7261 6d20 7265         :param re
+000083c0: 7475 726e 5f66 6f72 6d61 743a 2072 6574  turn_format: ret
+000083d0: 7572 6e20 666f 726d 6174 3b20 6465 6661  urn format; defa
+000083e0: 756c 7473 2074 6f20 6120 5061 6e64 6173  ults to a Pandas
+000083f0: 2044 6174 6146 7261 6d65 2c20 6275 7420   DataFrame, but 
+00008400: 6361 6e20 6265 206d 616e 7561 6c6c 790a  can be manually.
+00008410: 2020 2020 2020 2020 7365 7420 746f 2052          set to R
+00008420: 6574 7572 6e46 6f72 6d61 742e 4a53 4f4e  eturnFormat.JSON
+00008430: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00008440: 3a20 506f 7274 666f 6c69 6f20 4272 696e  : Portfolio Brin
+00008450: 736f 6e20 4174 7472 6962 7574 696f 6e20  son Attribution 
+00008460: 6461 7461 2066 6f72 2074 6865 2072 6571  data for the req
+00008470: 7565 7374 6564 2064 6174 6520 7261 6e67  uested date rang
+00008480: 650a 0a20 2020 2020 2020 202a 2a45 7861  e..        **Exa
+00008490: 6d70 6c65 732a 2a0a 0a20 2020 2020 2020  mples**..       
+000084a0: 203e 3e3e 2062 7269 6e73 6f6e 5f61 7474   >>> brinson_att
+000084b0: 7269 6275 7469 6f6e 5f72 6573 756c 7473  ribution_results
+000084c0: 203d 2070 6572 666f 726d 616e 6365 5f72   = performance_r
+000084d0: 6570 6f72 742e 6765 745f 6272 696e 736f  eport.get_brinso
+000084e0: 6e5f 6174 7472 6962 7574 696f 6e20 280a  n_attribution (.
+000084f0: 2020 2020 2020 2020 3e3e 3e20 2020 2020          >>>     
+00008500: 6265 6e63 686d 6172 6b3d 6173 7365 742e  benchmark=asset.
+00008510: 6765 745f 6d61 7271 7565 655f 6964 2829  get_marquee_id()
+00008520: 2c0a 2020 2020 2020 2020 3e3e 3e20 2020  ,.        >>>   
+00008530: 2020 696e 636c 7564 655f 696e 7465 7261    include_intera
+00008540: 6374 696f 6e3d 5472 7565 2c0a 2020 2020  ction=True,.    
+00008550: 2020 2020 3e3e 3e20 2020 2020 7374 6172      >>>     star
+00008560: 745f 6461 7465 3d70 6572 666f 726d 616e  t_date=performan
+00008570: 6365 5f72 6570 6f72 742e 6561 726c 6965  ce_report.earlie
+00008580: 7374 5f73 7461 7274 5f64 6174 652c 0a20  st_start_date,. 
+00008590: 2020 2020 2020 203e 3e3e 2020 2020 2065         >>>     e
+000085a0: 6e64 5f64 6174 653d 7065 7266 6f72 6d61  nd_date=performa
+000085b0: 6e63 655f 7265 706f 7274 2e6c 6174 6573  nce_report.lates
+000085c0: 745f 656e 645f 6461 7465 2c0a 2020 2020  t_end_date,.    
+000085d0: 2020 2020 3e3e 3e20 290a 2020 2020 2020      >>> ).      
+000085e0: 2020 3e3e 3e20 6469 7370 6c61 7928 7064    >>> display(pd
+000085f0: 2e44 6174 6146 7261 6d65 2862 7269 6e73  .DataFrame(brins
+00008600: 6f6e 5f61 7474 7269 6275 7469 6f6e 5f72  on_attribution_r
+00008610: 6573 756c 7473 2929 0a20 2020 2020 2020  esults)).       
+00008620: 2022 2222 0a20 2020 2020 2020 2072 6573   """.        res
+00008630: 756c 7473 203d 2047 7352 6570 6f72 7441  ults = GsReportA
+00008640: 7069 2e67 6574 5f62 7269 6e73 6f6e 5f61  pi.get_brinson_a
+00008650: 7474 7269 6275 7469 6f6e 5f72 6573 756c  ttribution_resul
+00008660: 7473 2870 6f72 7466 6f6c 696f 5f69 643d  ts(portfolio_id=
+00008670: 7365 6c66 2e70 6f73 6974 696f 6e5f 736f  self.position_so
+00008680: 7572 6365 5f69 642c 0a20 2020 2020 2020  urce_id,.       
 00008690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086a0: 2020 2020 2020 2020 2020 2020 2020 6375                cu
-000086b0: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
-000086c0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000086d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086e0: 2020 2020 2020 2020 2069 6e63 6c75 6465           include
-000086f0: 5f69 6e74 6572 6163 7469 6f6e 3a20 626f  _interaction: bo
-00008700: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00008710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008720: 2020 2020 2020 2020 2020 2020 6167 6772              aggr
-00008730: 6567 6174 696f 6e5f 7479 7065 3a20 4174  egation_type: At
-00008740: 7472 6962 7574 696f 6e41 6767 7265 6761  tributionAggrega
-00008750: 7469 6f6e 5479 7065 203d 2041 7474 7269  tionType = Attri
-00008760: 6275 7469 6f6e 4167 6772 6567 6174 696f  butionAggregatio
-00008770: 6e54 7970 652e 4172 6974 686d 6574 6963  nType.Arithmetic
-00008780: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00008790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000087a0: 2020 6167 6772 6567 6174 696f 6e5f 6361    aggregation_ca
-000087b0: 7465 676f 7279 3a20 4167 6772 6567 6174  tegory: Aggregat
-000087c0: 696f 6e43 6174 6567 6f72 7954 7970 6520  ionCategoryType 
-000087d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000087e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000087f0: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
-00008800: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
-00008810: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+000086a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086c0: 2020 2020 2020 2062 656e 6368 6d61 726b         benchmark
+000086d0: 3d62 656e 6368 6d61 726b 2c0a 2020 2020  =benchmark,.    
+000086e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008710: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+00008720: 6379 3d63 7572 7265 6e63 792c 0a20 2020  cy=currency,.   
+00008730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008760: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
+00008770: 6465 5f69 6e74 6572 6163 7469 6f6e 3d69  de_interaction=i
+00008780: 6e63 6c75 6465 5f69 6e74 6572 6163 7469  nclude_interacti
+00008790: 6f6e 2c0a 2020 2020 2020 2020 2020 2020  on,.            
+000087a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087d0: 2020 6167 6772 6567 6174 696f 6e5f 7479    aggregation_ty
+000087e0: 7065 3d61 6767 7265 6761 7469 6f6e 5f74  pe=aggregation_t
+000087f0: 7970 652e 7661 6c75 652c 0a20 2020 2020  ype.value,.     
+00008800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008810: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00008820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008830: 2020 2020 656e 645f 6461 7465 3a20 6474      end_date: dt
-00008840: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
+00008830: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+00008840: 6174 653d 7374 6172 745f 6461 7465 2c0a  ate=start_date,.
 00008850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008860: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00008870: 7475 726e 5f66 6f72 6d61 743a 2052 6574  turn_format: Ret
-00008880: 7572 6e46 6f72 6d61 7420 3d20 5265 7475  urnFormat = Retu
-00008890: 726e 466f 726d 6174 2e44 4154 415f 4652  rnFormat.DATA_FR
-000088a0: 414d 4529 202d 3e20 556e 696f 6e5b 4469  AME) -> Union[Di
-000088b0: 6374 2c20 7064 2e44 6174 6146 7261 6d65  ct, pd.DataFrame
-000088c0: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
-000088d0: 2020 2020 2020 2047 6574 2050 6e4c 2061         Get PnL a
-000088e0: 6e61 6c79 7469 6373 2063 616c 6c65 6420  nalytics called 
-000088f0: 4272 696e 736f 6e20 4174 7472 6962 7574  Brinson Attribut
-00008900: 696f 6e0a 0a20 2020 2020 2020 203a 7061  ion..        :pa
-00008910: 7261 6d20 6265 6e63 686d 6172 6b3a 2062  ram benchmark: b
-00008920: 656e 6368 6d61 726b 2773 2075 6e69 7175  enchmark's uniqu
-00008930: 6520 4d61 7271 7565 6520 6964 656e 7469  e Marquee identi
-00008940: 6669 6572 0a20 2020 2020 2020 203a 7061  fier.        :pa
-00008950: 7261 6d20 6375 7272 656e 6379 3a20 6375  ram currency: cu
-00008960: 7272 656e 6379 206f 6620 7265 7375 6c74  rrency of result
-00008970: 733b 2069 6620 6e6f 6e65 2070 6173 7365  s; if none passe
-00008980: 6420 7265 7375 6c74 7320 6465 6661 756c  d results defaul
-00008990: 7420 746f 2079 6f75 7220 706f 7274 666f  t to your portfo
-000089a0: 6c69 6f27 7320 6375 7272 656e 6379 0a20  lio's currency. 
-000089b0: 2020 2020 2020 203a 7061 7261 6d20 696e         :param in
-000089c0: 636c 7564 655f 696e 7465 7261 6374 696f  clude_interactio
-000089d0: 6e3a 2073 686f 7720 696e 7465 7261 6374  n: show interact
-000089e0: 696f 6e20 696e 6465 7065 6e64 656e 7420  ion independent 
-000089f0: 6f66 2073 6563 7572 6974 7920 7365 6c65  of security sele
-00008a00: 6374 696f 6e0a 2020 2020 2020 2020 3a70  ction.        :p
-00008a10: 6172 616d 2061 6767 7265 6761 7469 6f6e  aram aggregation
-00008a20: 5f74 7970 653a 2065 6974 6865 7220 6172  _type: either ar
-00008a30: 7469 686d 6574 6963 206f 7220 6765 6f6d  tihmetic or geom
-00008a40: 6574 7269 630a 2020 2020 2020 2020 3a70  etric.        :p
-00008a50: 6172 616d 2061 6767 7265 6761 7469 6f6e  aram aggregation
-00008a60: 5f63 6174 6567 6f72 793a 2061 6767 7265  _category: aggre
-00008a70: 6761 7465 2072 6573 756c 7473 2062 7920  gate results by 
-00008a80: 7365 6374 6f72 2c20 696e 6475 7374 7279  sector, industry
-00008a90: 2c20 7265 6769 6f6e 206f 7220 636f 756e  , region or coun
-00008aa0: 7472 7920 6e61 6d65 0a20 2020 2020 2020  try name.       
-00008ab0: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
-00008ac0: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
-00008ad0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-00008ae0: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
-00008af0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00008b00: 7265 7475 726e 5f66 6f72 6d61 743a 2072  return_format: r
-00008b10: 6574 7572 6e20 666f 726d 6174 3b20 6465  eturn format; de
-00008b20: 6661 756c 7473 2074 6f20 6120 5061 6e64  faults to a Pand
-00008b30: 6173 2044 6174 6146 7261 6d65 2c20 6275  as DataFrame, bu
-00008b40: 7420 6361 6e20 6265 206d 616e 7561 6c6c  t can be manuall
-00008b50: 790a 2020 2020 2020 2020 7365 7420 746f  y.        set to
-00008b60: 2052 6574 7572 6e46 6f72 6d61 742e 4a53   ReturnFormat.JS
-00008b70: 4f4e 0a20 2020 2020 2020 203a 7265 7475  ON.        :retu
-00008b80: 726e 3a20 506f 7274 666f 6c69 6f20 4272  rn: Portfolio Br
-00008b90: 696e 736f 6e20 4174 7472 6962 7574 696f  inson Attributio
-00008ba0: 6e20 6461 7461 2066 6f72 2074 6865 2072  n data for the r
-00008bb0: 6571 7565 7374 6564 2064 6174 6520 7261  equested date ra
-00008bc0: 6e67 650a 0a20 2020 2020 2020 202a 2a45  nge..        **E
-00008bd0: 7861 6d70 6c65 732a 2a0a 0a20 2020 2020  xamples**..     
-00008be0: 2020 203e 3e3e 2062 7269 6e73 6f6e 5f61     >>> brinson_a
-00008bf0: 7474 7269 6275 7469 6f6e 5f72 6573 756c  ttribution_resul
-00008c00: 7473 203d 2070 6572 666f 726d 616e 6365  ts = performance
-00008c10: 5f72 6570 6f72 742e 6765 745f 6272 696e  _report.get_brin
-00008c20: 736f 6e5f 6174 7472 6962 7574 696f 6e20  son_attribution 
-00008c30: 280a 2020 2020 2020 2020 3e3e 3e20 2020  (.        >>>   
-00008c40: 2020 6265 6e63 686d 6172 6b3d 6173 7365    benchmark=asse
-00008c50: 742e 6765 745f 6d61 7271 7565 655f 6964  t.get_marquee_id
-00008c60: 2829 2c0a 2020 2020 2020 2020 3e3e 3e20  (),.        >>> 
-00008c70: 2020 2020 696e 636c 7564 655f 696e 7465      include_inte
-00008c80: 7261 6374 696f 6e3d 5472 7565 2c0a 2020  raction=True,.  
-00008c90: 2020 2020 2020 3e3e 3e20 2020 2020 7374        >>>     st
-00008ca0: 6172 745f 6461 7465 3d70 6572 666f 726d  art_date=perform
-00008cb0: 616e 6365 5f72 6570 6f72 742e 6561 726c  ance_report.earl
-00008cc0: 6965 7374 5f73 7461 7274 5f64 6174 652c  iest_start_date,
-00008cd0: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
-00008ce0: 2065 6e64 5f64 6174 653d 7065 7266 6f72   end_date=perfor
-00008cf0: 6d61 6e63 655f 7265 706f 7274 2e6c 6174  mance_report.lat
-00008d00: 6573 745f 656e 645f 6461 7465 2c0a 2020  est_end_date,.  
-00008d10: 2020 2020 2020 3e3e 3e20 290a 2020 2020        >>> ).    
-00008d20: 2020 2020 3e3e 3e20 6469 7370 6c61 7928      >>> display(
-00008d30: 7064 2e44 6174 6146 7261 6d65 2862 7269  pd.DataFrame(bri
-00008d40: 6e73 6f6e 5f61 7474 7269 6275 7469 6f6e  nson_attribution
-00008d50: 5f72 6573 756c 7473 2929 0a20 2020 2020  _results)).     
-00008d60: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
-00008d70: 6573 756c 7473 203d 2047 7352 6570 6f72  esults = GsRepor
-00008d80: 7441 7069 2e67 6574 5f62 7269 6e73 6f6e  tApi.get_brinson
-00008d90: 5f61 7474 7269 6275 7469 6f6e 5f72 6573  _attribution_res
-00008da0: 756c 7473 2870 6f72 7466 6f6c 696f 5f69  ults(portfolio_i
-00008db0: 643d 7365 6c66 2e70 6f73 6974 696f 6e5f  d=self.position_
-00008dc0: 736f 7572 6365 5f69 642c 0a20 2020 2020  source_id,.     
-00008dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e00: 2020 2020 2020 2020 2062 656e 6368 6d61           benchma
-00008e10: 726b 3d62 656e 6368 6d61 726b 2c0a 2020  rk=benchmark,.  
-00008e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e50: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-00008e60: 656e 6379 3d63 7572 7265 6e63 792c 0a20  ency=currency,. 
-00008e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ea0: 2020 2020 2020 2020 2020 2020 2069 6e63               inc
-00008eb0: 6c75 6465 5f69 6e74 6572 6163 7469 6f6e  lude_interaction
-00008ec0: 3d69 6e63 6c75 6465 5f69 6e74 6572 6163  =include_interac
-00008ed0: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
-00008ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f10: 2020 2020 6167 6772 6567 6174 696f 6e5f      aggregation_
-00008f20: 7479 7065 3d61 6767 7265 6761 7469 6f6e  type=aggregation
-00008f30: 5f74 7970 652e 7661 6c75 652c 0a20 2020  _type.value,.   
-00008f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f70: 2020 2020 2020 2020 2020 2061 6767 7265             aggre
-00008f80: 6761 7469 6f6e 5f63 6174 6567 6f72 793d  gation_category=
-00008f90: 6167 6772 6567 6174 696f 6e5f 6361 7465  aggregation_cate
-00008fa0: 676f 7279 2e76 616c 7565 0a20 2020 2020  gory.value.     
-00008fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008fe0: 2020 2020 2020 2020 2069 6620 6167 6772           if aggr
-00008ff0: 6567 6174 696f 6e5f 6361 7465 676f 7279  egation_category
-00009000: 2065 6c73 6520 4e6f 6e65 2c0a 2020 2020   else None,.    
-00009010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009040: 2020 2020 2020 2020 2020 7374 6172 745f            start_
-00009050: 6461 7465 3d73 7461 7274 5f64 6174 652c  date=start_date,
-00009060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009090: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000090a0: 6e64 5f64 6174 653d 656e 645f 6461 7465  nd_date=end_date
-000090b0: 290a 2020 2020 2020 2020 6966 2072 6574  ).        if ret
-000090c0: 7572 6e5f 666f 726d 6174 203d 3d20 5265  urn_format == Re
-000090d0: 7475 726e 466f 726d 6174 2e44 4154 415f  turnFormat.DATA_
-000090e0: 4652 414d 453a 0a20 2020 2020 2020 2020  FRAME:.         
-000090f0: 2020 2072 6f77 7320 3d20 7265 7375 6c74     rows = result
-00009100: 732e 6765 7428 2772 6573 756c 7473 2729  s.get('results')
-00009110: 0a20 2020 2020 2020 2020 2020 2072 6f77  .            row
-00009120: 735f 6461 7461 5f66 7261 6d65 203d 2070  s_data_frame = p
-00009130: 642e 4461 7461 4672 616d 6528 726f 7773  d.DataFrame(rows
-00009140: 290a 2020 2020 2020 2020 2020 2020 726f  ).            ro
-00009150: 7773 5f64 6174 615f 6672 616d 652e 7265  ws_data_frame.re
-00009160: 6e61 6d65 2863 6f6c 756d 6e73 3d6c 616d  name(columns=lam
-00009170: 6264 6120 633a 2074 6974 6c65 697a 6528  bda c: titleize(
-00009180: 6329 2c20 696e 706c 6163 653d 5472 7565  c), inplace=True
-00009190: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-000091a0: 7475 726e 2072 6f77 735f 6461 7461 5f66  turn rows_data_f
-000091b0: 7261 6d65 0a20 2020 2020 2020 2072 6574  rame.        ret
-000091c0: 7572 6e20 7265 7375 6c74 730a 0a0a 636c  urn results...cl
-000091d0: 6173 7320 4661 6374 6f72 5269 736b 5265  ass FactorRiskRe
-000091e0: 706f 7274 2852 6570 6f72 7429 3a0a 2020  port(Report):.  
-000091f0: 2020 2222 220a 2020 2020 4869 7374 6f72    """.    Histor
-00009200: 6963 616c 2061 6e61 6c79 7365 7320 6f6e  ical analyses on
-00009210: 2062 6f74 6820 7468 6520 7269 736b 2061   both the risk a
-00009220: 6e64 2061 7474 7269 6275 7469 6f6e 206f  nd attribution o
-00009230: 6620 6120 706f 7274 666f 6c69 6f20 6f72  f a portfolio or
-00009240: 2061 7373 6574 2074 6f20 7661 7269 6f75   asset to variou
-00009250: 7320 6661 6374 6f72 7320 6465 7465 726d  s factors determ
-00009260: 696e 6564 2062 7920 7468 650a 2020 2020  ined by the.    
-00009270: 7370 6563 6966 6965 6420 7269 736b 206d  specified risk m
-00009280: 6f64 656c 0a20 2020 2022 2222 0a0a 2020  odel.    """..  
-00009290: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-000092a0: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
-000092b0: 2020 2020 2020 7269 736b 5f6d 6f64 656c        risk_model
-000092c0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
-000092d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000092e0: 2020 6678 5f68 6564 6765 643a 2062 6f6f    fx_hedged: boo
-000092f0: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
-00009300: 2020 2020 2020 2020 2020 2062 656e 6368             bench
-00009310: 6d61 726b 5f69 643a 2073 7472 203d 204e  mark_id: str = N
-00009320: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00009330: 2020 2020 2020 7265 706f 7274 5f69 643a        report_id:
-00009340: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00009350: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-00009360: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
-00009370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009380: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-00009390: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
-000093a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000093b0: 2020 706f 7369 7469 6f6e 5f73 6f75 7263    position_sourc
-000093c0: 655f 7479 7065 3a20 556e 696f 6e5b 7374  e_type: Union[st
-000093d0: 722c 2050 6f73 6974 696f 6e53 6f75 7263  r, PositionSourc
-000093e0: 6554 7970 655d 203d 204e 6f6e 652c 0a20  eType] = None,. 
-000093f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009400: 7265 706f 7274 5f74 7970 653a 2055 6e69  report_type: Uni
-00009410: 6f6e 5b73 7472 2c20 5265 706f 7274 5479  on[str, ReportTy
-00009420: 7065 5d20 3d20 4e6f 6e65 2c0a 2020 2020  pe] = None,.    
-00009430: 2020 2020 2020 2020 2020 2020 2065 6172               ear
-00009440: 6c69 6573 745f 7374 6172 745f 6461 7465  liest_start_date
-00009450: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-00009460: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00009470: 2020 206c 6174 6573 745f 656e 645f 6461     latest_end_da
-00009480: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
-00009490: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-000094a0: 2020 2020 206c 6174 6573 745f 6578 6563       latest_exec
-000094b0: 7574 696f 6e5f 7469 6d65 3a20 6474 2e64  ution_time: dt.d
-000094c0: 6174 6574 696d 6520 3d20 4e6f 6e65 2c0a  atetime = None,.
-000094d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000094e0: 2073 7461 7475 733a 2055 6e69 6f6e 5b73   status: Union[s
-000094f0: 7472 2c20 5265 706f 7274 5374 6174 7573  tr, ReportStatus
-00009500: 5d20 3d20 5265 706f 7274 5374 6174 7573  ] = ReportStatus
-00009510: 2e6e 6577 2c0a 2020 2020 2020 2020 2020  .new,.          
-00009520: 2020 2020 2020 2070 6572 6365 6e74 6167         percentag
-00009530: 655f 636f 6d70 6c65 7465 3a20 666c 6f61  e_complete: floa
-00009540: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-00009550: 2020 2020 2020 2020 2020 2074 6167 733a             tags:
-00009560: 2054 7570 6c65 5b50 6f73 6974 696f 6e54   Tuple[PositionT
-00009570: 6167 2c20 2e2e 2e5d 203d 204e 6f6e 652c  ag, ...] = None,
-00009580: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009590: 2020 2a2a 6b77 6172 6773 293a 0a20 2020    **kwargs):.   
-000095a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000095b0: 2048 6973 746f 7269 6361 6c20 616e 616c   Historical anal
-000095c0: 7973 6573 206f 6e20 626f 7468 2074 6865  yses on both the
-000095d0: 2072 6973 6b20 616e 6420 6174 7472 6962   risk and attrib
-000095e0: 7574 696f 6e20 6f66 2061 2070 6f72 7466  ution of a portf
-000095f0: 6f6c 696f 206f 7220 6173 7365 7420 746f  olio or asset to
-00009600: 2076 6172 696f 7573 2066 6163 746f 7273   various factors
-00009610: 2064 6574 6572 6d69 6e65 6420 6279 0a20   determined by. 
-00009620: 2020 2020 2020 2074 6865 2073 7065 6369         the speci
-00009630: 6669 6564 2072 6973 6b20 6d6f 6465 6c0a  fied risk model.
-00009640: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00009650: 7269 736b 5f6d 6f64 656c 5f69 643a 2072  risk_model_id: r
-00009660: 6973 6b20 6d6f 6465 6c20 4944 0a20 2020  isk model ID.   
-00009670: 2020 2020 203a 7061 7261 6d20 6678 5f68       :param fx_h
-00009680: 6564 6765 643a 2069 6620 706f 7369 7469  edged: if positi
-00009690: 6f6e 2073 6f75 7263 6520 6973 2046 5820  on source is FX 
-000096a0: 6865 6467 6564 0a20 2020 2020 2020 203a  hedged.        :
-000096b0: 7061 7261 6d20 6265 6e63 686d 6172 6b5f  param benchmark_
-000096c0: 6964 3a20 6f70 7469 6f6e 616c 2062 656e  id: optional ben
-000096d0: 6368 6d61 726b 2061 7373 6574 2049 4420  chmark asset ID 
-000096e0: 746f 2069 6e63 6c75 6465 2069 6e20 7265  to include in re
-000096f0: 7375 6c74 730a 2020 2020 2020 2020 3a70  sults.        :p
-00009700: 6172 616d 2072 6570 6f72 745f 6964 3a20  aram report_id: 
-00009710: 4d61 7271 7565 6520 7265 706f 7274 2049  Marquee report I
-00009720: 440a 2020 2020 2020 2020 3a70 6172 616d  D.        :param
-00009730: 206e 616d 653a 2072 6570 6f72 7420 6e61   name: report na
-00009740: 6d65 0a20 2020 2020 2020 203a 7061 7261  me.        :para
-00009750: 6d20 706f 7369 7469 6f6e 5f73 6f75 7263  m position_sourc
-00009760: 655f 6964 3a20 706f 7369 7469 6f6e 2073  e_id: position s
-00009770: 6f75 7263 6520 4944 0a20 2020 2020 2020  ource ID.       
-00009780: 203a 7061 7261 6d20 706f 7369 7469 6f6e   :param position
-00009790: 5f73 6f75 7263 655f 7479 7065 3a20 706f  _source_type: po
-000097a0: 7369 7469 6f6e 2073 6f75 7263 6520 2869  sition source (i
-000097b0: 2e65 2e20 2750 6f72 7466 6f6c 696f 272c  .e. 'Portfolio',
-000097c0: 2027 4173 7365 7427 2c20 6f72 2027 4865   'Asset', or 'He
-000097d0: 6467 6527 290a 2020 2020 2020 2020 3a70  dge').        :p
-000097e0: 6172 616d 2072 6570 6f72 745f 7479 7065  aram report_type
-000097f0: 3a20 7265 706f 7274 2074 7970 6520 2869  : report type (i
-00009800: 2e65 2e20 2741 7373 6574 2046 6163 746f  .e. 'Asset Facto
-00009810: 7220 5269 736b 2720 6f72 2027 506f 7274  r Risk' or 'Port
-00009820: 666f 6c69 6f20 4661 6374 6f72 2052 6973  folio Factor Ris
-00009830: 6b27 290a 2020 2020 2020 2020 3a70 6172  k').        :par
-00009840: 616d 2065 6172 6c69 6573 745f 7374 6172  am earliest_star
-00009850: 745f 6461 7465 3a20 7374 6172 7420 6461  t_date: start da
-00009860: 7465 206f 6620 7265 706f 7274 0a20 2020  te of report.   
-00009870: 2020 2020 203a 7061 7261 6d20 6c61 7465       :param late
-00009880: 7374 5f65 6e64 5f64 6174 653a 2065 6e64  st_end_date: end
-00009890: 2064 6174 6520 6f66 2072 6570 6f72 740a   date of report.
-000098a0: 2020 2020 2020 2020 3a70 6172 616d 206c          :param l
-000098b0: 6174 6573 745f 6578 6563 7574 696f 6e5f  atest_execution_
-000098c0: 7469 6d65 3a20 6461 7465 206f 6620 7468  time: date of th
-000098d0: 6520 6c61 7465 7374 2065 7865 6375 7469  e latest executi
-000098e0: 6f6e 0a20 2020 2020 2020 203a 7061 7261  on.        :para
-000098f0: 6d20 7374 6174 7573 3a20 7374 6174 7573  m status: status
-00009900: 206f 6620 6f66 2072 6570 6f72 7420 2869   of of report (i
-00009910: 2e65 2e20 2772 6561 6479 272c 2027 6578  .e. 'ready', 'ex
-00009920: 6563 7574 696e 6727 2c20 6f72 2027 646f  ecuting', or 'do
-00009930: 6e65 2729 0a20 2020 2020 2020 203a 7061  ne').        :pa
-00009940: 7261 6d20 7065 7263 656e 7461 6765 5f63  ram percentage_c
-00009950: 6f6d 706c 6574 653a 2070 6572 6365 6e74  omplete: percent
-00009960: 206f 6620 7468 6520 7265 706f 7274 2074   of the report t
-00009970: 6861 7420 6973 2063 6f6d 706c 6574 650a  hat is complete.
-00009980: 2020 2020 2020 2020 3a70 6172 616d 2074          :param t
-00009990: 6167 733a 2074 6167 7320 6f66 2074 6865  ags: tags of the
-000099a0: 2072 6570 6f72 740a 0a20 2020 2020 2020   report..       
-000099b0: 202a 2a45 7861 6d70 6c65 732a 2a0a 0a20   **Examples**.. 
-000099c0: 2020 2020 2020 203e 3e3e 2072 6973 6b5f         >>> risk_
-000099d0: 7265 706f 7274 203d 2046 6163 746f 7252  report = FactorR
-000099e0: 6973 6b52 6570 6f72 7428 0a20 2020 2020  iskReport(.     
-000099f0: 2020 203e 3e3e 2020 2020 2072 6973 6b5f     >>>     risk_
-00009a00: 6d6f 6465 6c5f 6964 3d27 5249 534b 4d4f  model_id='RISKMO
-00009a10: 4445 4c49 4427 2c0a 2020 2020 2020 2020  DELID',.        
-00009a20: 3e3e 3e20 2020 2020 6678 5f68 6564 6765  >>>     fx_hedge
-00009a30: 643d 5472 7565 2c0a 2020 2020 2020 2020  d=True,.        
-00009a40: 3e3e 3e20 2020 2020 6265 6e63 686d 6172  >>>     benchmar
-00009a50: 6b5f 6964 3d62 656e 6368 6d61 726b 2e67  k_id=benchmark.g
-00009a60: 6574 5f6d 6172 7175 6565 5f69 6428 292c  et_marquee_id(),
-00009a70: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
-00009a80: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-00009a90: 5f69 643d 2750 4f52 5446 4f4c 494f 4944  _id='PORTFOLIOID
-00009aa0: 272c 0a20 2020 2020 2020 203e 3e3e 2020  ',.        >>>  
-00009ab0: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
-00009ac0: 6365 5f74 7970 653d 506f 7369 7469 6f6e  ce_type=Position
-00009ad0: 536f 7572 6365 5479 7065 2e50 6f72 7466  SourceType.Portf
-00009ae0: 6f6c 696f 0a20 2020 2020 2020 203e 3e3e  olio.        >>>
-00009af0: 2029 0a20 2020 2020 2020 2022 2222 0a20   ).        """. 
-00009b00: 2020 2020 2020 2069 6620 706f 7369 7469         if positi
-00009b10: 6f6e 5f73 6f75 7263 655f 6964 2061 6e64  on_source_id and
-00009b20: 206e 6f74 2070 6f73 6974 696f 6e5f 736f   not position_so
-00009b30: 7572 6365 5f74 7970 653a 0a20 2020 2020  urce_type:.     
-00009b40: 2020 2020 2020 2070 6f73 6974 696f 6e5f         position_
-00009b50: 736f 7572 6365 5f74 7970 6520 3d20 506f  source_type = Po
-00009b60: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
-00009b70: 2e50 6f72 7466 6f6c 696f 2069 6620 706f  .Portfolio if po
-00009b80: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
-00009b90: 2e73 7461 7274 7377 6974 6828 274d 5027  .startswith('MP'
-00009ba0: 2920 656c 7365 205c 0a20 2020 2020 2020  ) else \.       
-00009bb0: 2020 2020 2020 2020 2050 6f73 6974 696f           Positio
-00009bc0: 6e53 6f75 7263 6554 7970 652e 4173 7365  nSourceType.Asse
-00009bd0: 740a 0a20 2020 2020 2020 2069 6620 706f  t..        if po
-00009be0: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
-00009bf0: 7065 2061 6e64 206e 6f74 2072 6570 6f72  pe and not repor
-00009c00: 745f 7479 7065 3a0a 2020 2020 2020 2020  t_type:.        
-00009c10: 2020 2020 7265 706f 7274 5f74 7970 6520      report_type 
-00009c20: 3d20 5265 706f 7274 5479 7065 2e50 6f72  = ReportType.Por
-00009c30: 7466 6f6c 696f 5f46 6163 746f 725f 5269  tfolio_Factor_Ri
-00009c40: 736b 2069 6620 706f 7369 7469 6f6e 5f73  sk if position_s
-00009c50: 6f75 7263 655f 7479 7065 2069 7320 506f  ource_type is Po
-00009c60: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
-00009c70: 2e50 6f72 7466 6f6c 696f 205c 0a20 2020  .Portfolio \.   
-00009c80: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00009c90: 6520 5265 706f 7274 5479 7065 2e41 7373  e ReportType.Ass
-00009ca0: 6574 5f46 6163 746f 725f 5269 736b 0a0a  et_Factor_Risk..
-00009cb0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00009cc0: 5f5f 696e 6974 5f5f 2872 6570 6f72 745f  __init__(report_
-00009cd0: 6964 2c20 6e61 6d65 2c20 706f 7369 7469  id, name, positi
-00009ce0: 6f6e 5f73 6f75 7263 655f 6964 2c20 706f  on_source_id, po
-00009cf0: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
-00009d00: 7065 2c20 7265 706f 7274 5f74 7970 652c  pe, report_type,
-00009d10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009d20: 2020 2020 2020 2020 2020 5265 706f 7274            Report
-00009d30: 5061 7261 6d65 7465 7273 2872 6973 6b5f  Parameters(risk_
-00009d40: 6d6f 6465 6c3d 7269 736b 5f6d 6f64 656c  model=risk_model
-00009d50: 5f69 642c 2066 785f 6865 6467 6564 3d66  _id, fx_hedged=f
-00009d60: 785f 6865 6467 6564 2c20 6265 6e63 686d  x_hedged, benchm
-00009d70: 6172 6b3d 6265 6e63 686d 6172 6b5f 6964  ark=benchmark_id
-00009d80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00009d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009da0: 2020 2020 2020 2020 2020 2020 7461 6773              tags
-00009db0: 3d74 6167 7329 2c0a 2020 2020 2020 2020  =tags),.        
-00009dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009dd0: 2065 6172 6c69 6573 745f 7374 6172 745f   earliest_start_
-00009de0: 6461 7465 2c20 6c61 7465 7374 5f65 6e64  date, latest_end
-00009df0: 5f64 6174 652c 206c 6174 6573 745f 6578  _date, latest_ex
-00009e00: 6563 7574 696f 6e5f 7469 6d65 2c20 7374  ecution_time, st
-00009e10: 6174 7573 2c20 7065 7263 656e 7461 6765  atus, percentage
-00009e20: 5f63 6f6d 706c 6574 6529 0a0a 2020 2020  _complete)..    
-00009e30: 4063 6c61 7373 6d65 7468 6f64 0a20 2020  @classmethod.   
-00009e40: 2064 6566 2067 6574 2863 6c73 2c0a 2020   def get(cls,.  
-00009e50: 2020 2020 2020 2020 2020 7265 706f 7274            report
-00009e60: 5f69 643a 2073 7472 2c0a 2020 2020 2020  _id: str,.      
-00009e70: 2020 2020 2020 2a2a 6b77 6172 6773 293a        **kwargs):
-00009e80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00009e90: 2020 2020 2047 6574 2061 2066 6163 746f       Get a facto
-00009ea0: 7220 7269 736b 2072 6570 6f72 7420 6672  r risk report fr
-00009eb0: 6f6d 2074 6865 2075 6e69 7175 6520 7265  om the unique re
-00009ec0: 706f 7274 2069 6465 6e74 6966 6965 720a  port identifier.
-00009ed0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00009ee0: 7265 706f 7274 5f69 643a 204d 6172 7175  report_id: Marqu
-00009ef0: 6565 2072 6570 6f72 7420 4944 0a20 2020  ee report ID.   
-00009f00: 2020 2020 203a 7265 7475 726e 3a20 7265       :return: re
-00009f10: 7475 726e 7320 6120 4661 6374 6f72 5269  turns a FactorRi
-00009f20: 736b 5265 706f 7274 206f 626a 6563 7420  skReport object 
-00009f30: 7468 6174 2063 6f72 7265 6c61 7465 7320  that correlates 
-00009f40: 746f 2074 6865 204d 6172 7175 6565 2072  to the Marquee r
-00009f50: 6570 6f72 740a 2020 2020 2020 2020 2222  eport.        ""
-00009f60: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-00009f70: 2063 6c73 2e66 726f 6d5f 7461 7267 6574   cls.from_target
-00009f80: 2847 7352 6570 6f72 7441 7069 2e67 6574  (GsReportApi.get
-00009f90: 5f72 6570 6f72 7428 7265 706f 7274 5f69  _report(report_i
-00009fa0: 6429 290a 0a20 2020 2040 636c 6173 736d  d))..    @classm
-00009fb0: 6574 686f 640a 2020 2020 6465 6620 6672  ethod.    def fr
-00009fc0: 6f6d 5f74 6172 6765 7428 636c 732c 0a20  om_target(cls,. 
-00009fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009fe0: 2020 2072 6570 6f72 743a 2054 6172 6765     report: Targe
-00009ff0: 7452 6570 6f72 7429 3a0a 2020 2020 2020  tReport):.      
-0000a000: 2020 6966 2072 6570 6f72 742e 7479 7065    if report.type
-0000a010: 206e 6f74 2069 6e20 5b52 6570 6f72 7454   not in [ReportT
-0000a020: 7970 652e 506f 7274 666f 6c69 6f5f 4661  ype.Portfolio_Fa
-0000a030: 6374 6f72 5f52 6973 6b2c 2052 6570 6f72  ctor_Risk, Repor
-0000a040: 7454 7970 652e 4173 7365 745f 4661 6374  tType.Asset_Fact
-0000a050: 6f72 5f52 6973 6b5d 3a0a 2020 2020 2020  or_Risk]:.      
-0000a060: 2020 2020 2020 7261 6973 6520 4d71 5661        raise MqVa
-0000a070: 6c75 6545 7272 6f72 2827 5468 6973 2072  lueError('This r
-0000a080: 6570 6f72 7420 6973 206e 6f74 2061 2066  eport is not a f
-0000a090: 6163 746f 7220 7269 736b 2072 6570 6f72  actor risk repor
-0000a0a0: 742e 2729 0a20 2020 2020 2020 2072 6574  t.').        ret
-0000a0b0: 7572 6e20 4661 6374 6f72 5269 736b 5265  urn FactorRiskRe
-0000a0c0: 706f 7274 2872 6973 6b5f 6d6f 6465 6c5f  port(risk_model_
-0000a0d0: 6964 3d72 6570 6f72 742e 7061 7261 6d65  id=report.parame
-0000a0e0: 7465 7273 2e72 6973 6b5f 6d6f 6465 6c2c  ters.risk_model,
-0000a0f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a110: 2066 785f 6865 6467 6564 3d72 6570 6f72   fx_hedged=repor
-0000a120: 742e 7061 7261 6d65 7465 7273 2e66 785f  t.parameters.fx_
-0000a130: 6865 6467 6564 2c0a 2020 2020 2020 2020  hedged,.        
-0000a140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a150: 2020 2020 2020 2020 6265 6e63 686d 6172          benchmar
-0000a160: 6b5f 6964 3d72 6570 6f72 742e 7061 7261  k_id=report.para
-0000a170: 6d65 7465 7273 2e62 656e 6368 6d61 726b  meters.benchmark
-0000a180: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000a190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a1a0: 2020 7265 706f 7274 5f69 643d 7265 706f    report_id=repo
-0000a1b0: 7274 2e69 642c 0a20 2020 2020 2020 2020  rt.id,.         
-0000a1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a1d0: 2020 2020 2020 2070 6f73 6974 696f 6e5f         position_
-0000a1e0: 736f 7572 6365 5f69 643d 7265 706f 7274  source_id=report
-0000a1f0: 2e70 6f73 6974 696f 6e5f 736f 7572 6365  .position_source
-0000a200: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-0000a210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a220: 2020 2020 2070 6f73 6974 696f 6e5f 736f       position_so
-0000a230: 7572 6365 5f74 7970 653d 7265 706f 7274  urce_type=report
-0000a240: 2e70 6f73 6974 696f 6e5f 736f 7572 6365  .position_source
-0000a250: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-0000a260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a270: 2020 2020 2020 2072 6570 6f72 745f 7479         report_ty
-0000a280: 7065 3d72 6570 6f72 742e 7479 7065 2c0a  pe=report.type,.
-0000a290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a2b0: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
-0000a2c0: 6174 653d 7265 706f 7274 2e65 6172 6c69  ate=report.earli
-0000a2d0: 6573 745f 7374 6172 745f 6461 7465 2c0a  est_start_date,.
+00008860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008880: 2020 2020 2020 2020 2020 2020 2020 656e                en
+00008890: 645f 6461 7465 3d65 6e64 5f64 6174 6529  d_date=end_date)
+000088a0: 0a20 2020 2020 2020 2069 6620 7265 7475  .        if retu
+000088b0: 726e 5f66 6f72 6d61 7420 3d3d 2052 6574  rn_format == Ret
+000088c0: 7572 6e46 6f72 6d61 742e 4441 5441 5f46  urnFormat.DATA_F
+000088d0: 5241 4d45 3a0a 2020 2020 2020 2020 2020  RAME:.          
+000088e0: 2020 726f 7773 203d 2072 6573 756c 7473    rows = results
+000088f0: 2e67 6574 2827 7265 7375 6c74 7327 290a  .get('results').
+00008900: 2020 2020 2020 2020 2020 2020 726f 7773              rows
+00008910: 5f64 6174 615f 6672 616d 6520 3d20 7064  _data_frame = pd
+00008920: 2e44 6174 6146 7261 6d65 2872 6f77 7329  .DataFrame(rows)
+00008930: 0a20 2020 2020 2020 2020 2020 2072 6f77  .            row
+00008940: 735f 6461 7461 5f66 7261 6d65 2e72 656e  s_data_frame.ren
+00008950: 616d 6528 636f 6c75 6d6e 733d 6c61 6d62  ame(columns=lamb
+00008960: 6461 2063 3a20 7469 746c 6569 7a65 2863  da c: titleize(c
+00008970: 292c 2069 6e70 6c61 6365 3d54 7275 6529  ), inplace=True)
+00008980: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00008990: 7572 6e20 726f 7773 5f64 6174 615f 6672  urn rows_data_fr
+000089a0: 616d 650a 2020 2020 2020 2020 7265 7475  ame.        retu
+000089b0: 726e 2072 6573 756c 7473 0a0a 0a63 6c61  rn results...cla
+000089c0: 7373 2046 6163 746f 7252 6973 6b52 6570  ss FactorRiskRep
+000089d0: 6f72 7428 5265 706f 7274 293a 0a20 2020  ort(Report):.   
+000089e0: 2022 2222 0a20 2020 2048 6973 746f 7269   """.    Histori
+000089f0: 6361 6c20 616e 616c 7973 6573 206f 6e20  cal analyses on 
+00008a00: 626f 7468 2074 6865 2072 6973 6b20 616e  both the risk an
+00008a10: 6420 6174 7472 6962 7574 696f 6e20 6f66  d attribution of
+00008a20: 2061 2070 6f72 7466 6f6c 696f 206f 7220   a portfolio or 
+00008a30: 6173 7365 7420 746f 2076 6172 696f 7573  asset to various
+00008a40: 2066 6163 746f 7273 2064 6574 6572 6d69   factors determi
+00008a50: 6e65 6420 6279 2074 6865 0a20 2020 2073  ned by the.    s
+00008a60: 7065 6369 6669 6564 2072 6973 6b20 6d6f  pecified risk mo
+00008a70: 6465 6c0a 2020 2020 2222 220a 0a20 2020  del.    """..   
+00008a80: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00008a90: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+00008aa0: 2020 2020 2072 6973 6b5f 6d6f 6465 6c5f       risk_model_
+00008ab0: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+00008ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ad0: 2066 785f 6865 6467 6564 3a20 626f 6f6c   fx_hedged: bool
+00008ae0: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
+00008af0: 2020 2020 2020 2020 2020 6265 6e63 686d            benchm
+00008b00: 6172 6b5f 6964 3a20 7374 7220 3d20 4e6f  ark_id: str = No
+00008b10: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00008b20: 2020 2020 2072 6570 6f72 745f 6964 3a20       report_id: 
+00008b30: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00008b40: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+00008b50: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+00008b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008b70: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00008b80: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+00008b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ba0: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+00008bb0: 5f74 7970 653a 2055 6e69 6f6e 5b73 7472  _type: Union[str
+00008bc0: 2c20 506f 7369 7469 6f6e 536f 7572 6365  , PositionSource
+00008bd0: 5479 7065 5d20 3d20 4e6f 6e65 2c0a 2020  Type] = None,.  
+00008be0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00008bf0: 6570 6f72 745f 7479 7065 3a20 556e 696f  eport_type: Unio
+00008c00: 6e5b 7374 722c 2052 6570 6f72 7454 7970  n[str, ReportTyp
+00008c10: 655d 203d 204e 6f6e 652c 0a20 2020 2020  e] = None,.     
+00008c20: 2020 2020 2020 2020 2020 2020 6561 726c              earl
+00008c30: 6965 7374 5f73 7461 7274 5f64 6174 653a  iest_start_date:
+00008c40: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
+00008c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008c60: 2020 6c61 7465 7374 5f65 6e64 5f64 6174    latest_end_dat
+00008c70: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
+00008c80: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00008c90: 2020 2020 6c61 7465 7374 5f65 7865 6375      latest_execu
+00008ca0: 7469 6f6e 5f74 696d 653a 2064 742e 6461  tion_time: dt.da
+00008cb0: 7465 7469 6d65 203d 204e 6f6e 652c 0a20  tetime = None,. 
+00008cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008cd0: 7374 6174 7573 3a20 556e 696f 6e5b 7374  status: Union[st
+00008ce0: 722c 2052 6570 6f72 7453 7461 7475 735d  r, ReportStatus]
+00008cf0: 203d 2052 6570 6f72 7453 7461 7475 732e   = ReportStatus.
+00008d00: 6e65 772c 0a20 2020 2020 2020 2020 2020  new,.           
+00008d10: 2020 2020 2020 7065 7263 656e 7461 6765        percentage
+00008d20: 5f63 6f6d 706c 6574 653a 2066 6c6f 6174  _complete: float
+00008d30: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00008d40: 2020 2020 2020 2020 2020 2a2a 6b77 6172            **kwar
+00008d50: 6773 293a 0a20 2020 2020 2020 2022 2222  gs):.        """
+00008d60: 0a20 2020 2020 2020 2048 6973 746f 7269  .        Histori
+00008d70: 6361 6c20 616e 616c 7973 6573 206f 6e20  cal analyses on 
+00008d80: 626f 7468 2074 6865 2072 6973 6b20 616e  both the risk an
+00008d90: 6420 6174 7472 6962 7574 696f 6e20 6f66  d attribution of
+00008da0: 2061 2070 6f72 7466 6f6c 696f 206f 7220   a portfolio or 
+00008db0: 6173 7365 7420 746f 2076 6172 696f 7573  asset to various
+00008dc0: 2066 6163 746f 7273 2064 6574 6572 6d69   factors determi
+00008dd0: 6e65 6420 6279 0a20 2020 2020 2020 2074  ned by.        t
+00008de0: 6865 2073 7065 6369 6669 6564 2072 6973  he specified ris
+00008df0: 6b20 6d6f 6465 6c0a 0a20 2020 2020 2020  k model..       
+00008e00: 203a 7061 7261 6d20 7269 736b 5f6d 6f64   :param risk_mod
+00008e10: 656c 5f69 643a 2072 6973 6b20 6d6f 6465  el_id: risk mode
+00008e20: 6c20 4944 0a20 2020 2020 2020 203a 7061  l ID.        :pa
+00008e30: 7261 6d20 6678 5f68 6564 6765 643a 2069  ram fx_hedged: i
+00008e40: 6620 706f 7369 7469 6f6e 2073 6f75 7263  f position sourc
+00008e50: 6520 6973 2046 5820 6865 6467 6564 0a20  e is FX hedged. 
+00008e60: 2020 2020 2020 203a 7061 7261 6d20 6265         :param be
+00008e70: 6e63 686d 6172 6b5f 6964 3a20 6f70 7469  nchmark_id: opti
+00008e80: 6f6e 616c 2062 656e 6368 6d61 726b 2061  onal benchmark a
+00008e90: 7373 6574 2049 4420 746f 2069 6e63 6c75  sset ID to inclu
+00008ea0: 6465 2069 6e20 7265 7375 6c74 730a 2020  de in results.  
+00008eb0: 2020 2020 2020 3a70 6172 616d 2072 6570        :param rep
+00008ec0: 6f72 745f 6964 3a20 4d61 7271 7565 6520  ort_id: Marquee 
+00008ed0: 7265 706f 7274 2049 440a 2020 2020 2020  report ID.      
+00008ee0: 2020 3a70 6172 616d 206e 616d 653a 2072    :param name: r
+00008ef0: 6570 6f72 7420 6e61 6d65 0a20 2020 2020  eport name.     
+00008f00: 2020 203a 7061 7261 6d20 706f 7369 7469     :param positi
+00008f10: 6f6e 5f73 6f75 7263 655f 6964 3a20 706f  on_source_id: po
+00008f20: 7369 7469 6f6e 2073 6f75 7263 6520 4944  sition source ID
+00008f30: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00008f40: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00008f50: 7479 7065 3a20 706f 7369 7469 6f6e 2073  type: position s
+00008f60: 6f75 7263 6520 2869 2e65 2e20 2750 6f72  ource (i.e. 'Por
+00008f70: 7466 6f6c 696f 272c 2027 4173 7365 7427  tfolio', 'Asset'
+00008f80: 2c20 6f72 2027 4865 6467 6527 290a 2020  , or 'Hedge').  
+00008f90: 2020 2020 2020 3a70 6172 616d 2072 6570        :param rep
+00008fa0: 6f72 745f 7479 7065 3a20 7265 706f 7274  ort_type: report
+00008fb0: 2074 7970 6520 2869 2e65 2e20 2741 7373   type (i.e. 'Ass
+00008fc0: 6574 2046 6163 746f 7220 5269 736b 2720  et Factor Risk' 
+00008fd0: 6f72 2027 506f 7274 666f 6c69 6f20 4661  or 'Portfolio Fa
+00008fe0: 6374 6f72 2052 6973 6b27 290a 2020 2020  ctor Risk').    
+00008ff0: 2020 2020 3a70 6172 616d 2065 6172 6c69      :param earli
+00009000: 6573 745f 7374 6172 745f 6461 7465 3a20  est_start_date: 
+00009010: 7374 6172 7420 6461 7465 206f 6620 7265  start date of re
+00009020: 706f 7274 0a20 2020 2020 2020 203a 7061  port.        :pa
+00009030: 7261 6d20 6c61 7465 7374 5f65 6e64 5f64  ram latest_end_d
+00009040: 6174 653a 2065 6e64 2064 6174 6520 6f66  ate: end date of
+00009050: 2072 6570 6f72 740a 2020 2020 2020 2020   report.        
+00009060: 3a70 6172 616d 206c 6174 6573 745f 6578  :param latest_ex
+00009070: 6563 7574 696f 6e5f 7469 6d65 3a20 6461  ecution_time: da
+00009080: 7465 206f 6620 7468 6520 6c61 7465 7374  te of the latest
+00009090: 2065 7865 6375 7469 6f6e 0a20 2020 2020   execution.     
+000090a0: 2020 203a 7061 7261 6d20 7374 6174 7573     :param status
+000090b0: 3a20 7374 6174 7573 206f 6620 6f66 2072  : status of of r
+000090c0: 6570 6f72 7420 2869 2e65 2e20 2772 6561  eport (i.e. 'rea
+000090d0: 6479 272c 2027 6578 6563 7574 696e 6727  dy', 'executing'
+000090e0: 2c20 6f72 2027 646f 6e65 2729 0a20 2020  , or 'done').   
+000090f0: 2020 2020 203a 7061 7261 6d20 7065 7263       :param perc
+00009100: 656e 7461 6765 5f63 6f6d 706c 6574 653a  entage_complete:
+00009110: 2070 6572 6365 6e74 206f 6620 7468 6520   percent of the 
+00009120: 7265 706f 7274 2074 6861 7420 6973 2063  report that is c
+00009130: 6f6d 706c 6574 650a 0a20 2020 2020 2020  omplete..       
+00009140: 202a 2a45 7861 6d70 6c65 732a 2a0a 0a20   **Examples**.. 
+00009150: 2020 2020 2020 203e 3e3e 2072 6973 6b5f         >>> risk_
+00009160: 7265 706f 7274 203d 2046 6163 746f 7252  report = FactorR
+00009170: 6973 6b52 6570 6f72 7428 0a20 2020 2020  iskReport(.     
+00009180: 2020 203e 3e3e 2020 2020 2072 6973 6b5f     >>>     risk_
+00009190: 6d6f 6465 6c5f 6964 3d27 5249 534b 4d4f  model_id='RISKMO
+000091a0: 4445 4c49 4427 2c0a 2020 2020 2020 2020  DELID',.        
+000091b0: 3e3e 3e20 2020 2020 6678 5f68 6564 6765  >>>     fx_hedge
+000091c0: 643d 5472 7565 2c0a 2020 2020 2020 2020  d=True,.        
+000091d0: 3e3e 3e20 2020 2020 6265 6e63 686d 6172  >>>     benchmar
+000091e0: 6b5f 6964 3d62 656e 6368 6d61 726b 2e67  k_id=benchmark.g
+000091f0: 6574 5f6d 6172 7175 6565 5f69 6428 292c  et_marquee_id(),
+00009200: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
+00009210: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+00009220: 5f69 643d 2750 4f52 5446 4f4c 494f 4944  _id='PORTFOLIOID
+00009230: 272c 0a20 2020 2020 2020 203e 3e3e 2020  ',.        >>>  
+00009240: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
+00009250: 6365 5f74 7970 653d 506f 7369 7469 6f6e  ce_type=Position
+00009260: 536f 7572 6365 5479 7065 2e50 6f72 7466  SourceType.Portf
+00009270: 6f6c 696f 0a20 2020 2020 2020 203e 3e3e  olio.        >>>
+00009280: 2029 0a20 2020 2020 2020 2022 2222 0a20   ).        """. 
+00009290: 2020 2020 2020 2069 6620 706f 7369 7469         if positi
+000092a0: 6f6e 5f73 6f75 7263 655f 6964 2061 6e64  on_source_id and
+000092b0: 206e 6f74 2070 6f73 6974 696f 6e5f 736f   not position_so
+000092c0: 7572 6365 5f74 7970 653a 0a20 2020 2020  urce_type:.     
+000092d0: 2020 2020 2020 2070 6f73 6974 696f 6e5f         position_
+000092e0: 736f 7572 6365 5f74 7970 6520 3d20 506f  source_type = Po
+000092f0: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
+00009300: 2e50 6f72 7466 6f6c 696f 2069 6620 706f  .Portfolio if po
+00009310: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
+00009320: 2e73 7461 7274 7377 6974 6828 274d 5027  .startswith('MP'
+00009330: 2920 656c 7365 205c 0a20 2020 2020 2020  ) else \.       
+00009340: 2020 2020 2020 2020 2050 6f73 6974 696f           Positio
+00009350: 6e53 6f75 7263 6554 7970 652e 4173 7365  nSourceType.Asse
+00009360: 740a 0a20 2020 2020 2020 2069 6620 706f  t..        if po
+00009370: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
+00009380: 7065 2061 6e64 206e 6f74 2072 6570 6f72  pe and not repor
+00009390: 745f 7479 7065 3a0a 2020 2020 2020 2020  t_type:.        
+000093a0: 2020 2020 7265 706f 7274 5f74 7970 6520      report_type 
+000093b0: 3d20 5265 706f 7274 5479 7065 2e50 6f72  = ReportType.Por
+000093c0: 7466 6f6c 696f 5f46 6163 746f 725f 5269  tfolio_Factor_Ri
+000093d0: 736b 2069 6620 706f 7369 7469 6f6e 5f73  sk if position_s
+000093e0: 6f75 7263 655f 7479 7065 2069 7320 506f  ource_type is Po
+000093f0: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
+00009400: 2e50 6f72 7466 6f6c 696f 205c 0a20 2020  .Portfolio \.   
+00009410: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00009420: 6520 5265 706f 7274 5479 7065 2e41 7373  e ReportType.Ass
+00009430: 6574 5f46 6163 746f 725f 5269 736b 0a0a  et_Factor_Risk..
+00009440: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00009450: 5f5f 696e 6974 5f5f 2872 6570 6f72 745f  __init__(report_
+00009460: 6964 2c20 6e61 6d65 2c20 706f 7369 7469  id, name, positi
+00009470: 6f6e 5f73 6f75 7263 655f 6964 2c20 706f  on_source_id, po
+00009480: 7369 7469 6f6e 5f73 6f75 7263 655f 7479  sition_source_ty
+00009490: 7065 2c20 7265 706f 7274 5f74 7970 652c  pe, report_type,
+000094a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000094b0: 2020 2020 2020 2020 2020 5265 706f 7274            Report
+000094c0: 5061 7261 6d65 7465 7273 2872 6973 6b5f  Parameters(risk_
+000094d0: 6d6f 6465 6c3d 7269 736b 5f6d 6f64 656c  model=risk_model
+000094e0: 5f69 642c 2066 785f 6865 6467 6564 3d66  _id, fx_hedged=f
+000094f0: 785f 6865 6467 6564 2c20 6265 6e63 686d  x_hedged, benchm
+00009500: 6172 6b3d 6265 6e63 686d 6172 6b5f 6964  ark=benchmark_id
+00009510: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00009520: 2020 2020 2020 2020 2020 2020 6561 726c              earl
+00009530: 6965 7374 5f73 7461 7274 5f64 6174 652c  iest_start_date,
+00009540: 206c 6174 6573 745f 656e 645f 6461 7465   latest_end_date
+00009550: 2c20 6c61 7465 7374 5f65 7865 6375 7469  , latest_executi
+00009560: 6f6e 5f74 696d 652c 2073 7461 7475 732c  on_time, status,
+00009570: 2070 6572 6365 6e74 6167 655f 636f 6d70   percentage_comp
+00009580: 6c65 7465 290a 0a20 2020 2040 636c 6173  lete)..    @clas
+00009590: 736d 6574 686f 640a 2020 2020 6465 6620  smethod.    def 
+000095a0: 6765 7428 636c 732c 0a20 2020 2020 2020  get(cls,.       
+000095b0: 2020 2020 2072 6570 6f72 745f 6964 3a20       report_id: 
+000095c0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+000095d0: 202a 2a6b 7761 7267 7329 3a0a 2020 2020   **kwargs):.    
+000095e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000095f0: 4765 7420 6120 6661 6374 6f72 2072 6973  Get a factor ris
+00009600: 6b20 7265 706f 7274 2066 726f 6d20 7468  k report from th
+00009610: 6520 756e 6971 7565 2072 6570 6f72 7420  e unique report 
+00009620: 6964 656e 7469 6669 6572 0a0a 2020 2020  identifier..    
+00009630: 2020 2020 3a70 6172 616d 2072 6570 6f72      :param repor
+00009640: 745f 6964 3a20 4d61 7271 7565 6520 7265  t_id: Marquee re
+00009650: 706f 7274 2049 440a 2020 2020 2020 2020  port ID.        
+00009660: 3a72 6574 7572 6e3a 2072 6574 7572 6e73  :return: returns
+00009670: 2061 2046 6163 746f 7252 6973 6b52 6570   a FactorRiskRep
+00009680: 6f72 7420 6f62 6a65 6374 2074 6861 7420  ort object that 
+00009690: 636f 7272 656c 6174 6573 2074 6f20 7468  correlates to th
+000096a0: 6520 4d61 7271 7565 6520 7265 706f 7274  e Marquee report
+000096b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000096c0: 2020 2020 2072 6574 7572 6e20 636c 732e       return cls.
+000096d0: 6672 6f6d 5f74 6172 6765 7428 4773 5265  from_target(GsRe
+000096e0: 706f 7274 4170 692e 6765 745f 7265 706f  portApi.get_repo
+000096f0: 7274 2872 6570 6f72 745f 6964 2929 0a0a  rt(report_id))..
+00009700: 2020 2020 4063 6c61 7373 6d65 7468 6f64      @classmethod
+00009710: 0a20 2020 2064 6566 2066 726f 6d5f 7461  .    def from_ta
+00009720: 7267 6574 2863 6c73 2c0a 2020 2020 2020  rget(cls,.      
+00009730: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00009740: 706f 7274 3a20 5461 7267 6574 5265 706f  port: TargetRepo
+00009750: 7274 293a 0a20 2020 2020 2020 2069 6620  rt):.        if 
+00009760: 7265 706f 7274 2e74 7970 6520 6e6f 7420  report.type not 
+00009770: 696e 205b 5265 706f 7274 5479 7065 2e50  in [ReportType.P
+00009780: 6f72 7466 6f6c 696f 5f46 6163 746f 725f  ortfolio_Factor_
+00009790: 5269 736b 2c20 5265 706f 7274 5479 7065  Risk, ReportType
+000097a0: 2e41 7373 6574 5f46 6163 746f 725f 5269  .Asset_Factor_Ri
+000097b0: 736b 5d3a 0a20 2020 2020 2020 2020 2020  sk]:.           
+000097c0: 2072 6169 7365 204d 7156 616c 7565 4572   raise MqValueEr
+000097d0: 726f 7228 2754 6869 7320 7265 706f 7274  ror('This report
+000097e0: 2069 7320 6e6f 7420 6120 6661 6374 6f72   is not a factor
+000097f0: 2072 6973 6b20 7265 706f 7274 2e27 290a   risk report.').
+00009800: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00009810: 6163 746f 7252 6973 6b52 6570 6f72 7428  actorRiskReport(
+00009820: 7269 736b 5f6d 6f64 656c 5f69 643d 7265  risk_model_id=re
+00009830: 706f 7274 2e70 6172 616d 6574 6572 732e  port.parameters.
+00009840: 7269 736b 5f6d 6f64 656c 2c0a 2020 2020  risk_model,.    
+00009850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009860: 2020 2020 2020 2020 2020 2020 6678 5f68              fx_h
+00009870: 6564 6765 643d 7265 706f 7274 2e70 6172  edged=report.par
+00009880: 616d 6574 6572 732e 6678 5f68 6564 6765  ameters.fx_hedge
+00009890: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+000098a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000098b0: 2020 2062 656e 6368 6d61 726b 5f69 643d     benchmark_id=
+000098c0: 7265 706f 7274 2e70 6172 616d 6574 6572  report.parameter
+000098d0: 732e 6265 6e63 686d 6172 6b2c 0a20 2020  s.benchmark,.   
+000098e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000098f0: 2020 2020 2020 2020 2020 2020 2072 6570               rep
+00009900: 6f72 745f 6964 3d72 6570 6f72 742e 6964  ort_id=report.id
+00009910: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009930: 2020 706f 7369 7469 6f6e 5f73 6f75 7263    position_sourc
+00009940: 655f 6964 3d72 6570 6f72 742e 706f 7369  e_id=report.posi
+00009950: 7469 6f6e 5f73 6f75 7263 655f 6964 2c0a  tion_source_id,.
+00009960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009980: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00009990: 7479 7065 3d72 6570 6f72 742e 706f 7369  type=report.posi
+000099a0: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+000099b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000099c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000099d0: 2020 7265 706f 7274 5f74 7970 653d 7265    report_type=re
+000099e0: 706f 7274 2e74 7970 652c 0a20 2020 2020  port.type,.     
+000099f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009a00: 2020 2020 2020 2020 2020 2065 6172 6c69             earli
+00009a10: 6573 745f 7374 6172 745f 6461 7465 3d72  est_start_date=r
+00009a20: 6570 6f72 742e 6561 726c 6965 7374 5f73  eport.earliest_s
+00009a30: 7461 7274 5f64 6174 652c 0a20 2020 2020  tart_date,.     
+00009a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009a50: 2020 2020 2020 2020 2020 206c 6174 6573             lates
+00009a60: 745f 656e 645f 6461 7465 3d72 6570 6f72  t_end_date=repor
+00009a70: 742e 6c61 7465 7374 5f65 6e64 5f64 6174  t.latest_end_dat
+00009a80: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00009a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009aa0: 2020 2073 7461 7475 733d 7265 706f 7274     status=report
+00009ab0: 2e73 7461 7475 732c 0a20 2020 2020 2020  .status,.       
+00009ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009ad0: 2020 2020 2020 2020 2070 6572 6365 6e74           percent
+00009ae0: 6167 655f 636f 6d70 6c65 7465 3d72 6570  age_complete=rep
+00009af0: 6f72 742e 7065 7263 656e 7461 6765 5f63  ort.percentage_c
+00009b00: 6f6d 706c 6574 6529 0a0a 2020 2020 6465  omplete)..    de
+00009b10: 6620 6765 745f 7269 736b 5f6d 6f64 656c  f get_risk_model
+00009b20: 5f69 6428 7365 6c66 2920 2d3e 2073 7472  _id(self) -> str
+00009b30: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00009b40: 2020 2020 2020 3a72 6574 7572 6e3a 2074        :return: t
+00009b50: 6865 2049 4420 6f66 2074 6865 2072 6973  he ID of the ris
+00009b60: 6b20 6d6f 6465 6c20 6173 736f 6369 6174  k model associat
+00009b70: 6564 2077 6974 6820 7468 6520 6661 6374  ed with the fact
+00009b80: 6f72 2072 6973 6b20 7265 706f 7274 0a20  or risk report. 
+00009b90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00009ba0: 2020 2072 6574 7572 6e20 7365 6c66 2e70     return self.p
+00009bb0: 6172 616d 6574 6572 732e 7269 736b 5f6d  arameters.risk_m
+00009bc0: 6f64 656c 0a0a 2020 2020 6465 6620 6765  odel..    def ge
+00009bd0: 745f 6265 6e63 686d 6172 6b5f 6964 2873  t_benchmark_id(s
+00009be0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+00009bf0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00009c00: 203a 7265 7475 726e 3a20 7468 6520 756e   :return: the un
+00009c10: 6971 7565 204d 6172 7175 6565 2069 6465  ique Marquee ide
+00009c20: 6e74 6966 6965 7220 6f66 2074 6865 2062  ntifier of the b
+00009c30: 656e 6368 6d61 726b 2061 7373 6f63 6961  enchmark associa
+00009c40: 7465 6420 7769 7468 2074 6865 2066 6163  ted with the fac
+00009c50: 746f 7220 7269 736b 2072 6570 6f72 740a  tor risk report.
+00009c60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00009c70: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00009c80: 7061 7261 6d65 7465 7273 2e62 656e 6368  parameters.bench
+00009c90: 6d61 726b 0a0a 2020 2020 6465 6620 6765  mark..    def ge
+00009ca0: 745f 7265 7375 6c74 7328 7365 6c66 2c0a  t_results(self,.
+00009cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009cc0: 2020 2020 6d6f 6465 3a20 4661 6374 6f72      mode: Factor
+00009cd0: 5269 736b 5265 7375 6c74 734d 6f64 6520  RiskResultsMode 
+00009ce0: 3d20 4661 6374 6f72 5269 736b 5265 7375  = FactorRiskResu
+00009cf0: 6c74 734d 6f64 652e 506f 7274 666f 6c69  ltsMode.Portfoli
+00009d00: 6f2c 0a20 2020 2020 2020 2020 2020 2020  o,.             
+00009d10: 2020 2020 2020 2066 6163 746f 7273 3a20         factors: 
+00009d20: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+00009d30: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009d40: 2020 2020 2020 6661 6374 6f72 5f63 6174        factor_cat
+00009d50: 6567 6f72 6965 733a 204c 6973 745b 7374  egories: List[st
+00009d60: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+00009d70: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00009d80: 7461 7274 5f64 6174 653a 2064 742e 6461  tart_date: dt.da
+00009d90: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
+00009da0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00009db0: 6e64 5f64 6174 653a 2064 742e 6461 7465  nd_date: dt.date
+00009dc0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00009dd0: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+00009de0: 7265 6e63 793a 2043 7572 7265 6e63 7920  rency: Currency 
+00009df0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00009e00: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00009e10: 726e 5f66 6f72 6d61 743a 2052 6574 7572  rn_format: Retur
+00009e20: 6e46 6f72 6d61 7420 3d20 5265 7475 726e  nFormat = Return
+00009e30: 466f 726d 6174 2e44 4154 415f 4652 414d  Format.DATA_FRAM
+00009e40: 452c 0a20 2020 2020 2020 2020 2020 2020  E,.             
+00009e50: 2020 2020 2020 2075 6e69 743a 2046 6163         unit: Fac
+00009e60: 746f 7252 6973 6b55 6e69 7420 3d20 4661  torRiskUnit = Fa
+00009e70: 6374 6f72 5269 736b 556e 6974 2e4e 6f74  ctorRiskUnit.Not
+00009e80: 696f 6e61 6c29 202d 3e20 556e 696f 6e5b  ional) -> Union[
+00009e90: 4469 6374 2c20 7064 2e44 6174 6146 7261  Dict, pd.DataFra
+00009ea0: 6d65 5d3a 0a20 2020 2020 2020 2022 2222  me]:.        """
+00009eb0: 0a20 2020 2020 2020 2047 6574 2074 6865  .        Get the
+00009ec0: 2072 6177 2072 6573 756c 7473 2061 7373   raw results ass
+00009ed0: 6f63 6961 7465 6420 7769 7468 2074 6865  ociated with the
+00009ee0: 2066 6163 746f 7220 7269 736b 2072 6570   factor risk rep
+00009ef0: 6f72 740a 0a20 2020 2020 2020 203a 7061  ort..        :pa
+00009f00: 7261 6d20 6d6f 6465 3a20 7265 7375 6c74  ram mode: result
+00009f10: 7320 6d6f 6465 3b20 6465 6661 756c 7473  s mode; defaults
+00009f20: 2074 6f20 7468 6520 706f 7274 666f 6c69   to the portfoli
+00009f30: 6f20 6c65 7665 6c0a 2020 2020 2020 2020  o level.        
+00009f40: 3a70 6172 616d 2066 6163 746f 7273 3a20  :param factors: 
+00009f50: 6f70 7469 6f6e 616c 206c 6973 7420 6f66  optional list of
+00009f60: 2066 6163 746f 7273 3b20 6465 6661 756c   factors; defaul
+00009f70: 7473 2074 6f20 616c 6c20 6f66 2074 6865  ts to all of the
+00009f80: 6d0a 2020 2020 2020 2020 3a70 6172 616d  m.        :param
+00009f90: 2066 6163 746f 725f 6361 7465 676f 7269   factor_categori
+00009fa0: 6573 3a20 6f70 7469 6f6e 616c 206c 6973  es: optional lis
+00009fb0: 7420 6f66 2066 6163 746f 7220 6361 7465  t of factor cate
+00009fc0: 676f 7269 6573 3b20 6465 6661 756c 7473  gories; defaults
+00009fd0: 2074 6f20 616c 6c20 6f66 2074 6865 6d0a   to all of them.
+00009fe0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+00009ff0: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
+0000a000: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
+0000a010: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
+0000a020: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
+0000a030: 3a70 6172 616d 2063 7572 7265 6e63 793a  :param currency:
+0000a040: 2063 7572 7265 6e63 790a 2020 2020 2020   currency.      
+0000a050: 2020 3a70 6172 616d 2072 6574 7572 6e5f    :param return_
+0000a060: 666f 726d 6174 3a20 7265 7475 726e 2066  format: return f
+0000a070: 6f72 6d61 743b 2064 6566 6175 6c74 7320  ormat; defaults 
+0000a080: 746f 2061 2050 616e 6461 7320 4461 7461  to a Pandas Data
+0000a090: 4672 616d 652c 2062 7574 2063 616e 2062  Frame, but can b
+0000a0a0: 6520 6d61 6e75 616c 6c79 0a20 2020 2020  e manually.     
+0000a0b0: 2020 2073 6574 2074 6f20 5265 7475 726e     set to Return
+0000a0c0: 466f 726d 6174 2e4a 534f 4e0a 2020 2020  Format.JSON.    
+0000a0d0: 2020 2020 3a70 6172 616d 3a20 756e 6974      :param: unit
+0000a0e0: 3a20 7265 7475 726e 2074 6865 2072 6573  : return the res
+0000a0f0: 756c 7473 2069 6e20 7465 726d 7320 6f66  ults in terms of
+0000a100: 206e 6f74 696f 6e61 6c20 6f72 2070 6572   notional or per
+0000a110: 6365 6e74 2028 6465 6661 756c 7473 2074  cent (defaults t
+0000a120: 6f20 6e6f 7469 6f6e 616c 290a 2020 2020  o notional).    
+0000a130: 2020 2020 3a72 6574 7572 6e3a 2072 6973      :return: ris
+0000a140: 6b20 7265 706f 7274 2072 6573 756c 7473  k report results
+0000a150: 0a0a 2020 2020 2020 2020 2a2a 4578 616d  ..        **Exam
+0000a160: 706c 6573 2a2a 0a0a 2020 2020 2020 2020  ples**..        
+0000a170: 3e3e 3e20 6661 6374 6f72 5f61 6e64 5f74  >>> factor_and_t
+0000a180: 6f74 616c 5f72 6573 756c 7473 203d 2072  otal_results = r
+0000a190: 6973 6b5f 7265 706f 7274 2e67 6574 5f72  isk_report.get_r
+0000a1a0: 6573 756c 7473 280a 2020 2020 2020 2020  esults(.        
+0000a1b0: 3e3e 3e20 2020 2020 6661 6374 6f72 733d  >>>     factors=
+0000a1c0: 5b27 4661 6374 6f72 272c 2027 5370 6563  ['Factor', 'Spec
+0000a1d0: 6966 6963 275d 2c0a 2020 2020 2020 2020  ific'],.        
+0000a1e0: 3e3e 3e20 2020 2020 7374 6172 745f 6461  >>>     start_da
+0000a1f0: 7465 3d64 742e 6461 7465 2832 3032 322c  te=dt.date(2022,
+0000a200: 2031 2c20 3129 2c0a 2020 2020 2020 2020   1, 1),.        
+0000a210: 3e3e 3e20 2020 2020 656e 645f 6461 7465  >>>     end_date
+0000a220: 3d64 742e 6461 7465 2832 3032 312c 2031  =dt.date(2021, 1
+0000a230: 2c20 3129 0a20 2020 2020 2020 203e 3e3e  , 1).        >>>
+0000a240: 2029 0a20 2020 2020 2020 203e 3e3e 2070   ).        >>> p
+0000a250: 7269 6e74 2866 6163 746f 725f 616e 645f  rint(factor_and_
+0000a260: 746f 7461 6c5f 7265 7375 6c74 7329 0a20  total_results). 
+0000a270: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000a280: 2020 2072 6573 756c 7473 203d 2047 7352     results = GsR
+0000a290: 6570 6f72 7441 7069 2e67 6574 5f66 6163  eportApi.get_fac
+0000a2a0: 746f 725f 7269 736b 5f72 6570 6f72 745f  tor_risk_report_
+0000a2b0: 7265 7375 6c74 7328 7269 736b 5f72 6570  results(risk_rep
+0000a2c0: 6f72 745f 6964 3d73 656c 662e 6964 2c0a  ort_id=self.id,.
+0000a2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000a2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000a2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a300: 6c61 7465 7374 5f65 6e64 5f64 6174 653d  latest_end_date=
-0000a310: 7265 706f 7274 2e6c 6174 6573 745f 656e  report.latest_en
-0000a320: 645f 6461 7465 2c0a 2020 2020 2020 2020  d_date,.        
+0000a300: 2020 2020 2020 2020 2020 2020 2076 6965               vie
+0000a310: 773d 6d6f 6465 2e76 616c 7565 2c0a 2020  w=mode.value,.  
+0000a320: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000a330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a340: 2020 2020 2020 2020 7374 6174 7573 3d72          status=r
-0000a350: 6570 6f72 742e 7374 6174 7573 2c0a 2020  eport.status,.  
-0000a360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a370: 2020 2020 2020 2020 2020 2020 2020 7065                pe
-0000a380: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-0000a390: 653d 7265 706f 7274 2e70 6572 6365 6e74  e=report.percent
-0000a3a0: 6167 655f 636f 6d70 6c65 7465 2c0a 2020  age_complete,.  
-0000a3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a3c0: 2020 2020 2020 2020 2020 2020 2020 7461                ta
-0000a3d0: 6773 3d72 6570 6f72 742e 7061 7261 6d65  gs=report.parame
-0000a3e0: 7465 7273 2e74 6167 7329 0a0a 2020 2020  ters.tags)..    
-0000a3f0: 6465 6620 6765 745f 7269 736b 5f6d 6f64  def get_risk_mod
-0000a400: 656c 5f69 6428 7365 6c66 2920 2d3e 2073  el_id(self) -> s
-0000a410: 7472 3a0a 2020 2020 2020 2020 2222 220a  tr:.        """.
-0000a420: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0000a430: 2074 6865 2049 4420 6f66 2074 6865 2072   the ID of the r
-0000a440: 6973 6b20 6d6f 6465 6c20 6173 736f 6369  isk model associ
-0000a450: 6174 6564 2077 6974 6820 7468 6520 6661  ated with the fa
-0000a460: 6374 6f72 2072 6973 6b20 7265 706f 7274  ctor risk report
-0000a470: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000a480: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-0000a490: 2e70 6172 616d 6574 6572 732e 7269 736b  .parameters.risk
-0000a4a0: 5f6d 6f64 656c 0a0a 2020 2020 6465 6620  _model..    def 
-0000a4b0: 6765 745f 6265 6e63 686d 6172 6b5f 6964  get_benchmark_id
-0000a4c0: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-0000a4d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000a4e0: 2020 203a 7265 7475 726e 3a20 7468 6520     :return: the 
-0000a4f0: 756e 6971 7565 204d 6172 7175 6565 2069  unique Marquee i
-0000a500: 6465 6e74 6966 6965 7220 6f66 2074 6865  dentifier of the
-0000a510: 2062 656e 6368 6d61 726b 2061 7373 6f63   benchmark assoc
-0000a520: 6961 7465 6420 7769 7468 2074 6865 2066  iated with the f
-0000a530: 6163 746f 7220 7269 736b 2072 6570 6f72  actor risk repor
-0000a540: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0000a550: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0000a560: 662e 7061 7261 6d65 7465 7273 2e62 656e  f.parameters.ben
-0000a570: 6368 6d61 726b 0a0a 2020 2020 6465 6620  chmark..    def 
-0000a580: 6765 745f 7265 7375 6c74 7328 7365 6c66  get_results(self
-0000a590: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000a5a0: 2020 2020 2020 6d6f 6465 3a20 4661 6374        mode: Fact
-0000a5b0: 6f72 5269 736b 5265 7375 6c74 734d 6f64  orRiskResultsMod
-0000a5c0: 6520 3d20 4661 6374 6f72 5269 736b 5265  e = FactorRiskRe
-0000a5d0: 7375 6c74 734d 6f64 652e 506f 7274 666f  sultsMode.Portfo
-0000a5e0: 6c69 6f2c 0a20 2020 2020 2020 2020 2020  lio,.           
-0000a5f0: 2020 2020 2020 2020 2066 6163 746f 7273           factors
-0000a600: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0000a610: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-0000a620: 2020 2020 2020 2020 6661 6374 6f72 5f63          factor_c
-0000a630: 6174 6567 6f72 6965 733a 204c 6973 745b  ategories: List[
-0000a640: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
-0000a650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a660: 2073 7461 7274 5f64 6174 653a 2064 742e   start_date: dt.
-0000a670: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
-0000a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a690: 2065 6e64 5f64 6174 653a 2064 742e 6461   end_date: dt.da
-0000a6a0: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
-0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000a6c0: 7572 7265 6e63 793a 2043 7572 7265 6e63  urrency: Currenc
-0000a6d0: 7920 3d20 4e6f 6e65 2c0a 2020 2020 2020  y = None,.      
-0000a6e0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000a6f0: 7475 726e 5f66 6f72 6d61 743a 2052 6574  turn_format: Ret
-0000a700: 7572 6e46 6f72 6d61 7420 3d20 5265 7475  urnFormat = Retu
-0000a710: 726e 466f 726d 6174 2e44 4154 415f 4652  rnFormat.DATA_FR
-0000a720: 414d 452c 0a20 2020 2020 2020 2020 2020  AME,.           
-0000a730: 2020 2020 2020 2020 2075 6e69 743a 2046           unit: F
-0000a740: 6163 746f 7252 6973 6b55 6e69 7420 3d20  actorRiskUnit = 
-0000a750: 4661 6374 6f72 5269 736b 556e 6974 2e4e  FactorRiskUnit.N
-0000a760: 6f74 696f 6e61 6c29 202d 3e20 556e 696f  otional) -> Unio
-0000a770: 6e5b 4469 6374 2c20 7064 2e44 6174 6146  n[Dict, pd.DataF
-0000a780: 7261 6d65 5d3a 0a20 2020 2020 2020 2022  rame]:.        "
-0000a790: 2222 0a20 2020 2020 2020 2047 6574 2074  "".        Get t
-0000a7a0: 6865 2072 6177 2072 6573 756c 7473 2061  he raw results a
-0000a7b0: 7373 6f63 6961 7465 6420 7769 7468 2074  ssociated with t
-0000a7c0: 6865 2066 6163 746f 7220 7269 736b 2072  he factor risk r
-0000a7d0: 6570 6f72 740a 0a20 2020 2020 2020 203a  eport..        :
-0000a7e0: 7061 7261 6d20 6d6f 6465 3a20 7265 7375  param mode: resu
-0000a7f0: 6c74 7320 6d6f 6465 3b20 6465 6661 756c  lts mode; defaul
-0000a800: 7473 2074 6f20 7468 6520 706f 7274 666f  ts to the portfo
-0000a810: 6c69 6f20 6c65 7665 6c0a 2020 2020 2020  lio level.      
-0000a820: 2020 3a70 6172 616d 2066 6163 746f 7273    :param factors
-0000a830: 3a20 6f70 7469 6f6e 616c 206c 6973 7420  : optional list 
-0000a840: 6f66 2066 6163 746f 7273 3b20 6465 6661  of factors; defa
-0000a850: 756c 7473 2074 6f20 616c 6c20 6f66 2074  ults to all of t
-0000a860: 6865 6d0a 2020 2020 2020 2020 3a70 6172  hem.        :par
-0000a870: 616d 2066 6163 746f 725f 6361 7465 676f  am factor_catego
-0000a880: 7269 6573 3a20 6f70 7469 6f6e 616c 206c  ries: optional l
-0000a890: 6973 7420 6f66 2066 6163 746f 7220 6361  ist of factor ca
-0000a8a0: 7465 676f 7269 6573 3b20 6465 6661 756c  tegories; defaul
-0000a8b0: 7473 2074 6f20 616c 6c20 6f66 2074 6865  ts to all of the
-0000a8c0: 6d0a 2020 2020 2020 2020 3a70 6172 616d  m.        :param
-0000a8d0: 2073 7461 7274 5f64 6174 653a 2073 7461   start_date: sta
-0000a8e0: 7274 2064 6174 650a 2020 2020 2020 2020  rt date.        
-0000a8f0: 3a70 6172 616d 2065 6e64 5f64 6174 653a  :param end_date:
-0000a900: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
-0000a910: 2020 3a70 6172 616d 2063 7572 7265 6e63    :param currenc
-0000a920: 793a 2063 7572 7265 6e63 790a 2020 2020  y: currency.    
-0000a930: 2020 2020 3a70 6172 616d 2072 6574 7572      :param retur
-0000a940: 6e5f 666f 726d 6174 3a20 7265 7475 726e  n_format: return
-0000a950: 2066 6f72 6d61 743b 2064 6566 6175 6c74   format; default
-0000a960: 7320 746f 2061 2050 616e 6461 7320 4461  s to a Pandas Da
-0000a970: 7461 4672 616d 652c 2062 7574 2063 616e  taFrame, but can
-0000a980: 2062 6520 6d61 6e75 616c 6c79 0a20 2020   be manually.   
-0000a990: 2020 2020 2073 6574 2074 6f20 5265 7475       set to Retu
-0000a9a0: 726e 466f 726d 6174 2e4a 534f 4e0a 2020  rnFormat.JSON.  
-0000a9b0: 2020 2020 2020 3a70 6172 616d 3a20 756e        :param: un
-0000a9c0: 6974 3a20 7265 7475 726e 2074 6865 2072  it: return the r
-0000a9d0: 6573 756c 7473 2069 6e20 7465 726d 7320  esults in terms 
-0000a9e0: 6f66 206e 6f74 696f 6e61 6c20 6f72 2070  of notional or p
-0000a9f0: 6572 6365 6e74 2028 6465 6661 756c 7473  ercent (defaults
-0000aa00: 2074 6f20 6e6f 7469 6f6e 616c 290a 2020   to notional).  
-0000aa10: 2020 2020 2020 3a72 6574 7572 6e3a 2072        :return: r
-0000aa20: 6973 6b20 7265 706f 7274 2072 6573 756c  isk report resul
-0000aa30: 7473 0a0a 2020 2020 2020 2020 2a2a 4578  ts..        **Ex
-0000aa40: 616d 706c 6573 2a2a 0a0a 2020 2020 2020  amples**..      
-0000aa50: 2020 3e3e 3e20 6661 6374 6f72 5f61 6e64    >>> factor_and
-0000aa60: 5f74 6f74 616c 5f72 6573 756c 7473 203d  _total_results =
-0000aa70: 2072 6973 6b5f 7265 706f 7274 2e67 6574   risk_report.get
-0000aa80: 5f72 6573 756c 7473 280a 2020 2020 2020  _results(.      
-0000aa90: 2020 3e3e 3e20 2020 2020 6661 6374 6f72    >>>     factor
-0000aaa0: 733d 5b27 4661 6374 6f72 272c 2027 5370  s=['Factor', 'Sp
-0000aab0: 6563 6966 6963 275d 2c0a 2020 2020 2020  ecific'],.      
-0000aac0: 2020 3e3e 3e20 2020 2020 7374 6172 745f    >>>     start_
-0000aad0: 6461 7465 3d64 742e 6461 7465 2832 3032  date=dt.date(202
-0000aae0: 322c 2031 2c20 3129 2c0a 2020 2020 2020  2, 1, 1),.      
-0000aaf0: 2020 3e3e 3e20 2020 2020 656e 645f 6461    >>>     end_da
-0000ab00: 7465 3d64 742e 6461 7465 2832 3032 312c  te=dt.date(2021,
-0000ab10: 2031 2c20 3129 0a20 2020 2020 2020 203e   1, 1).        >
-0000ab20: 3e3e 2029 0a20 2020 2020 2020 203e 3e3e  >> ).        >>>
-0000ab30: 2070 7269 6e74 2866 6163 746f 725f 616e   print(factor_an
-0000ab40: 645f 746f 7461 6c5f 7265 7375 6c74 7329  d_total_results)
-0000ab50: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000ab60: 2020 2020 2072 6573 756c 7473 203d 2047       results = G
-0000ab70: 7352 6570 6f72 7441 7069 2e67 6574 5f66  sReportApi.get_f
-0000ab80: 6163 746f 725f 7269 736b 5f72 6570 6f72  actor_risk_repor
-0000ab90: 745f 7265 7375 6c74 7328 7269 736b 5f72  t_results(risk_r
-0000aba0: 6570 6f72 745f 6964 3d73 656c 662e 6964  eport_id=self.id
-0000abb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000abc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000abd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000abe0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0000abf0: 6965 773d 6d6f 6465 2e76 616c 7565 2c0a  iew=mode.value,.
-0000ac00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac30: 2020 2020 2020 2020 2020 2020 2066 6163               fac
-0000ac40: 746f 7273 3d66 6163 746f 7273 2c0a 2020  tors=factors,.  
-0000ac50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac80: 2020 2020 2020 2020 2020 2066 6163 746f             facto
-0000ac90: 725f 6361 7465 676f 7269 6573 3d66 6163  r_categories=fac
-0000aca0: 746f 725f 6361 7465 676f 7269 6573 2c0a  tor_categories,.
-0000acb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ace0: 2020 2020 2020 2020 2020 2020 2063 7572               cur
-0000acf0: 7265 6e63 793d 6375 7272 656e 6379 2c0a  rency=currency,.
-0000ad00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a350: 2020 2020 2020 2020 2020 2066 6163 746f             facto
+0000a360: 7273 3d66 6163 746f 7273 2c0a 2020 2020  rs=factors,.    
+0000a370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3a0: 2020 2020 2020 2020 2066 6163 746f 725f           factor_
+0000a3b0: 6361 7465 676f 7269 6573 3d66 6163 746f  categories=facto
+0000a3c0: 725f 6361 7465 676f 7269 6573 2c0a 2020  r_categories,.  
+0000a3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a400: 2020 2020 2020 2020 2020 2063 7572 7265             curre
+0000a410: 6e63 793d 6375 7272 656e 6379 2c0a 2020  ncy=currency,.  
+0000a420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a450: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0000a460: 5f64 6174 653d 7374 6172 745f 6461 7465  _date=start_date
+0000a470: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4a0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000a4b0: 6e64 5f64 6174 653d 656e 645f 6461 7465  nd_date=end_date
+0000a4c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4f0: 2020 2020 2020 2020 2020 2020 2020 2075                 u
+0000a500: 6e69 743d 756e 6974 2e76 616c 7565 290a  nit=unit.value).
+0000a510: 2020 2020 2020 2020 7265 7475 726e 2070          return p
+0000a520: 642e 4461 7461 4672 616d 6528 7265 7375  d.DataFrame(resu
+0000a530: 6c74 7329 2069 6620 7265 7475 726e 5f66  lts) if return_f
+0000a540: 6f72 6d61 7420 3d3d 2052 6574 7572 6e46  ormat == ReturnF
+0000a550: 6f72 6d61 742e 4441 5441 5f46 5241 4d45  ormat.DATA_FRAME
+0000a560: 2065 6c73 6520 7265 7375 6c74 730a 0a20   else results.. 
+0000a570: 2020 2064 6566 2067 6574 5f76 6965 7728     def get_view(
+0000a580: 7365 6c66 2c0a 2020 2020 2020 2020 2020  self,.          
+0000a590: 2020 2020 2020 206d 6f64 653a 2046 6163         mode: Fac
+0000a5a0: 746f 7252 6973 6b56 6965 7773 4d6f 6465  torRiskViewsMode
+0000a5b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000a5c0: 2020 2066 6163 746f 723a 2073 7472 203d     factor: str =
+0000a5d0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000a5e0: 2020 2020 2020 2020 6661 6374 6f72 5f63          factor_c
+0000a5f0: 6174 6567 6f72 793a 2073 7472 203d 204e  ategory: str = N
+0000a600: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000a610: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
+0000a620: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
+0000a630: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000a640: 2020 2065 6e64 5f64 6174 653a 2064 742e     end_date: dt.
+0000a650: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
+0000a660: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0000a670: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
+0000a680: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000a690: 2020 2020 2020 2020 2020 756e 6974 3a20            unit: 
+0000a6a0: 4661 6374 6f72 5269 736b 556e 6974 203d  FactorRiskUnit =
+0000a6b0: 2046 6163 746f 7252 6973 6b55 6e69 742e   FactorRiskUnit.
+0000a6c0: 4e6f 7469 6f6e 616c 2920 2d3e 2044 6963  Notional) -> Dic
+0000a6d0: 743a 0a20 2020 2020 2020 2022 2222 0a20  t:.        """. 
+0000a6e0: 2020 2020 2020 2047 6574 2074 6865 2072         Get the r
+0000a6f0: 6573 756c 7473 2061 7373 6f63 6961 7465  esults associate
+0000a700: 6420 7769 7468 2074 6865 2066 6163 746f  d with the facto
+0000a710: 7220 7269 736b 2072 6570 6f72 7420 6173  r risk report as
+0000a720: 2073 6565 6e20 6f6e 2074 6865 204d 6172   seen on the Mar
+0000a730: 7175 6565 2075 7365 7220 696e 7465 7266  quee user interf
+0000a740: 6163 650a 0a20 2020 2020 2020 203a 7061  ace..        :pa
+0000a750: 7261 6d20 6d6f 6465 3a20 7669 6577 7320  ram mode: views 
+0000a760: 6d6f 6465 0a20 2020 2020 2020 203a 7061  mode.        :pa
+0000a770: 7261 6d20 6661 6374 6f72 3a20 6f70 7469  ram factor: opti
+0000a780: 6f6e 616c 2066 6163 746f 7220 6e61 6d65  onal factor name
+0000a790: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000a7a0: 6661 6374 6f72 5f63 6174 6567 6f72 793a  factor_category:
+0000a7b0: 206f 7074 696f 6e61 6c20 6661 6374 6f72   optional factor
+0000a7c0: 2063 6174 6567 6f72 790a 2020 2020 2020   category.      
+0000a7d0: 2020 3a70 6172 616d 2073 7461 7274 5f64    :param start_d
+0000a7e0: 6174 653a 2073 7461 7274 2064 6174 650a  ate: start date.
+0000a7f0: 2020 2020 2020 2020 3a70 6172 616d 2065          :param e
+0000a800: 6e64 5f64 6174 653a 2065 6e64 2064 6174  nd_date: end dat
+0000a810: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+0000a820: 2063 7572 7265 6e63 793a 2063 7572 7265   currency: curre
+0000a830: 6e63 790a 2020 2020 2020 2020 3a70 6172  ncy.        :par
+0000a840: 616d 3a20 756e 6974 3a20 7265 7475 726e  am: unit: return
+0000a850: 2074 6865 2072 6573 756c 7473 2069 6e20   the results in 
+0000a860: 7465 726d 7320 6f66 206e 6f74 696f 6e61  terms of notiona
+0000a870: 6c20 6f72 2070 6572 6365 6e74 2028 6465  l or percent (de
+0000a880: 6661 756c 7473 2074 6f20 6e6f 7469 6f6e  faults to notion
+0000a890: 616c 290a 2020 2020 2020 2020 3a72 6574  al).        :ret
+0000a8a0: 7572 6e3a 2072 6973 6b20 7265 706f 7274  urn: risk report
+0000a8b0: 2072 6573 756c 7473 0a0a 2020 2020 2020   results..      
+0000a8c0: 2020 2a2a 4578 616d 706c 6573 2a2a 0a0a    **Examples**..
+0000a8d0: 2020 2020 2020 2020 3e3e 3e20 6361 7465          >>> cate
+0000a8e0: 676f 7279 5f74 6162 6c65 203d 2072 6973  gory_table = ris
+0000a8f0: 6b5f 7265 706f 7274 2e67 6574 5f76 6965  k_report.get_vie
+0000a900: 7728 0a20 2020 2020 2020 203e 3e3e 2020  w(.        >>>  
+0000a910: 2020 206d 6f64 653d 4661 6374 6f72 5269     mode=FactorRi
+0000a920: 736b 5669 6577 734d 6f64 652e 5269 736b  skViewsMode.Risk
+0000a930: 2c0a 2020 2020 2020 2020 3e3e 3e20 2020  ,.        >>>   
+0000a940: 2020 7374 6172 745f 6461 7465 3d72 6973    start_date=ris
+0000a950: 6b5f 7265 706f 7274 2e6c 6174 6573 745f  k_report.latest_
+0000a960: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
+0000a970: 2020 3e3e 3e20 2020 2020 656e 645f 6461    >>>     end_da
+0000a980: 7465 3d72 6973 6b5f 7265 706f 7274 2e6c  te=risk_report.l
+0000a990: 6174 6573 745f 656e 645f 6461 7465 2c0a  atest_end_date,.
+0000a9a0: 2020 2020 2020 2020 3e3e 3e20 2020 2020          >>>     
+0000a9b0: 756e 6974 3d46 6163 746f 7252 6973 6b55  unit=FactorRiskU
+0000a9c0: 6e69 742e 4e6f 7469 6f6e 616c 0a20 2020  nit.Notional.   
+0000a9d0: 2020 2020 203e 3e3e 2029 2e67 6574 2827       >>> ).get('
+0000a9e0: 6661 6374 6f72 4361 7465 676f 7269 6573  factorCategories
+0000a9f0: 5461 626c 6527 290a 2020 2020 2020 2020  Table').        
+0000aa00: 3e3e 3e20 6361 7465 676f 7279 5f64 6620  >>> category_df 
+0000aa10: 3d20 7064 2e44 6174 6146 7261 6d65 2863  = pd.DataFrame(c
+0000aa20: 6174 6567 6f72 795f 7461 626c 6529 2e66  ategory_table).f
+0000aa30: 696c 7465 7228 6974 656d 733d 5b0a 2020  ilter(items=[.  
+0000aa40: 2020 2020 2020 3e3e 3e20 2020 2020 276e        >>>     'n
+0000aa50: 616d 6527 2c0a 2020 2020 2020 2020 3e3e  ame',.        >>
+0000aa60: 3e20 2020 2020 2770 726f 706f 7274 696f  >     'proportio
+0000aa70: 6e4f 6652 6973 6b27 2c0a 2020 2020 2020  nOfRisk',.      
+0000aa80: 2020 3e3e 3e20 2020 2020 276d 6172 6769    >>>     'margi
+0000aa90: 6e61 6c43 6f6e 7472 6962 7574 696f 6e54  nalContributionT
+0000aaa0: 6f52 6973 6b50 6572 6365 6e74 272c 0a20  oRiskPercent',. 
+0000aab0: 2020 2020 2020 203e 3e3e 2020 2020 2027         >>>     '
+0000aac0: 7265 6c61 7469 7665 4d61 7267 696e 616c  relativeMarginal
+0000aad0: 436f 6e74 7269 6275 7469 6f6e 546f 5269  ContributionToRi
+0000aae0: 736b 272c 0a20 2020 2020 2020 203e 3e3e  sk',.        >>>
+0000aaf0: 2020 2020 2027 6578 706f 7375 7265 272c       'exposure',
+0000ab00: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
+0000ab10: 2027 6176 6750 726f 706f 7274 696f 6e4f   'avgProportionO
+0000ab20: 6652 6973 6b27 0a20 2020 2020 2020 203e  fRisk'.        >
+0000ab30: 3e3e 205d 290a 2020 2020 2020 2020 3e3e  >> ]).        >>
+0000ab40: 3e20 6469 7370 6c61 7928 6361 7465 676f  > display(catego
+0000ab50: 7279 5f64 6629 0a20 2020 2020 2020 2022  ry_df).        "
+0000ab60: 2222 0a20 2020 2020 2020 2072 6574 7572  "".        retur
+0000ab70: 6e20 4773 5265 706f 7274 4170 692e 6765  n GsReportApi.ge
+0000ab80: 745f 6661 6374 6f72 5f72 6973 6b5f 7265  t_factor_risk_re
+0000ab90: 706f 7274 5f76 6965 7728 0a20 2020 2020  port_view(.     
+0000aba0: 2020 2020 2020 2072 6973 6b5f 7265 706f         risk_repo
+0000abb0: 7274 5f69 643d 7365 6c66 2e69 642c 0a20  rt_id=self.id,. 
+0000abc0: 2020 2020 2020 2020 2020 2076 6965 773d             view=
+0000abd0: 6d6f 6465 2e76 616c 7565 2c0a 2020 2020  mode.value,.    
+0000abe0: 2020 2020 2020 2020 6661 6374 6f72 3d66          factor=f
+0000abf0: 6163 746f 722c 0a20 2020 2020 2020 2020  actor,.         
+0000ac00: 2020 2066 6163 746f 725f 6361 7465 676f     factor_catego
+0000ac10: 7279 3d66 6163 746f 725f 6361 7465 676f  ry=factor_catego
+0000ac20: 7279 2c0a 2020 2020 2020 2020 2020 2020  ry,.            
+0000ac30: 6375 7272 656e 6379 3d63 7572 7265 6e63  currency=currenc
+0000ac40: 792c 0a20 2020 2020 2020 2020 2020 2073  y,.            s
+0000ac50: 7461 7274 5f64 6174 653d 7374 6172 745f  tart_date=start_
+0000ac60: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
+0000ac70: 2020 656e 645f 6461 7465 3d65 6e64 5f64    end_date=end_d
+0000ac80: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
+0000ac90: 2075 6e69 743d 756e 6974 2e76 616c 7565   unit=unit.value
+0000aca0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
+0000acb0: 6465 6620 6765 745f 7461 626c 6528 7365  def get_table(se
+0000acc0: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+0000acd0: 2020 2020 2020 6d6f 6465 3a20 4661 6374        mode: Fact
+0000ace0: 6f72 5269 736b 5461 626c 654d 6f64 652c  orRiskTableMode,
+0000acf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ad00: 2020 2066 6163 746f 7273 3a20 4c69 7374     factors: List
+0000ad10: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
 0000ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad30: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-0000ad40: 7274 5f64 6174 653d 7374 6172 745f 6461  rt_date=start_da
-0000ad50: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-0000ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad90: 2065 6e64 5f64 6174 653d 656e 645f 6461   end_date=end_da
-0000ada0: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-0000adb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000adc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ade0: 2075 6e69 743d 756e 6974 2e76 616c 7565   unit=unit.value
-0000adf0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-0000ae00: 2070 642e 4461 7461 4672 616d 6528 7265   pd.DataFrame(re
-0000ae10: 7375 6c74 7329 2069 6620 7265 7475 726e  sults) if return
-0000ae20: 5f66 6f72 6d61 7420 3d3d 2052 6574 7572  _format == Retur
-0000ae30: 6e46 6f72 6d61 742e 4441 5441 5f46 5241  nFormat.DATA_FRA
-0000ae40: 4d45 2065 6c73 6520 7265 7375 6c74 730a  ME else results.
-0000ae50: 0a20 2020 2064 6566 2067 6574 5f76 6965  .    def get_vie
-0000ae60: 7728 7365 6c66 2c0a 2020 2020 2020 2020  w(self,.        
-0000ae70: 2020 2020 2020 2020 2066 6163 746f 723a           factor:
-0000ae80: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000ae90: 2020 2020 2020 2020 2020 2020 2020 6661                fa
-0000aea0: 6374 6f72 5f63 6174 6567 6f72 793a 2073  ctor_category: s
-0000aeb0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000aec0: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0000aed0: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
-0000aee0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000aef0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
-0000af00: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
-0000af10: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000af20: 2020 2020 6375 7272 656e 6379 3a20 4375      currency: Cu
-0000af30: 7272 656e 6379 203d 204e 6f6e 652c 0a20  rrency = None,. 
-0000af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af50: 756e 6974 3a20 4661 6374 6f72 5269 736b  unit: FactorRisk
-0000af60: 556e 6974 203d 2046 6163 746f 7252 6973  Unit = FactorRis
-0000af70: 6b55 6e69 742e 4e6f 7469 6f6e 616c 2920  kUnit.Notional) 
-0000af80: 2d3e 2044 6963 743a 0a20 2020 2020 2020  -> Dict:.       
-0000af90: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-0000afa0: 2074 6865 2072 6573 756c 7473 2061 7373   the results ass
-0000afb0: 6f63 6961 7465 6420 7769 7468 2074 6865  ociated with the
-0000afc0: 2066 6163 746f 7220 7269 736b 2072 6570   factor risk rep
-0000afd0: 6f72 7420 6173 2073 6565 6e20 6f6e 2074  ort as seen on t
-0000afe0: 6865 204d 6172 7175 6565 2075 7365 7220  he Marquee user 
-0000aff0: 696e 7465 7266 6163 650a 0a20 2020 2020  interface..     
-0000b000: 2020 203a 7061 7261 6d20 6661 6374 6f72     :param factor
-0000b010: 3a20 6f70 7469 6f6e 616c 2066 6163 746f  : optional facto
-0000b020: 7220 6e61 6d65 0a20 2020 2020 2020 203a  r name.        :
-0000b030: 7061 7261 6d20 6661 6374 6f72 5f63 6174  param factor_cat
-0000b040: 6567 6f72 793a 206f 7074 696f 6e61 6c20  egory: optional 
-0000b050: 6661 6374 6f72 2063 6174 6567 6f72 790a  factor category.
-0000b060: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-0000b070: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-0000b080: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-0000b090: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-0000b0a0: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-0000b0b0: 3a70 6172 616d 2063 7572 7265 6e63 793a  :param currency:
-0000b0c0: 2063 7572 7265 6e63 790a 2020 2020 2020   currency.      
-0000b0d0: 2020 3a70 6172 616d 3a20 756e 6974 3a20    :param: unit: 
-0000b0e0: 7265 7475 726e 2074 6865 2072 6573 756c  return the resul
-0000b0f0: 7473 2069 6e20 7465 726d 7320 6f66 206e  ts in terms of n
-0000b100: 6f74 696f 6e61 6c20 6f72 2070 6572 6365  otional or perce
-0000b110: 6e74 2028 6465 6661 756c 7473 2074 6f20  nt (defaults to 
-0000b120: 6e6f 7469 6f6e 616c 290a 2020 2020 2020  notional).      
-0000b130: 2020 3a72 6574 7572 6e3a 2072 6973 6b20    :return: risk 
-0000b140: 7265 706f 7274 2072 6573 756c 7473 0a0a  report results..
-0000b150: 0a0a 2020 2020 2020 2020 2a2a 4578 616d  ..        **Exam
-0000b160: 706c 6573 2a2a 0a0a 2020 2020 2020 2020  ples**..        
-0000b170: 3e3e 3e20 6361 7465 676f 7279 5f74 6162  >>> category_tab
-0000b180: 6c65 203d 2072 6973 6b5f 7265 706f 7274  le = risk_report
-0000b190: 2e67 6574 5f76 6965 7728 0a20 2020 2020  .get_view(.     
-0000b1a0: 2020 203e 3e3e 2020 2020 2073 7461 7274     >>>     start
-0000b1b0: 5f64 6174 653d 7269 736b 5f72 6570 6f72  _date=risk_repor
-0000b1c0: 742e 6c61 7465 7374 5f65 6e64 5f64 6174  t.latest_end_dat
-0000b1d0: 652c 0a20 2020 2020 2020 203e 3e3e 2020  e,.        >>>  
-0000b1e0: 2020 2065 6e64 5f64 6174 653d 7269 736b     end_date=risk
-0000b1f0: 5f72 6570 6f72 742e 6c61 7465 7374 5f65  _report.latest_e
-0000b200: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
-0000b210: 203e 3e3e 2020 2020 2075 6e69 743d 4661   >>>     unit=Fa
-0000b220: 6374 6f72 5269 736b 556e 6974 2e4e 6f74  ctorRiskUnit.Not
-0000b230: 696f 6e61 6c0a 2020 2020 2020 2020 3e3e  ional.        >>
-0000b240: 3e20 292e 6765 7428 2766 6163 746f 7243  > ).get('factorC
-0000b250: 6174 6567 6f72 6965 7354 6162 6c65 2729  ategoriesTable')
-0000b260: 0a20 2020 2020 2020 203e 3e3e 2063 6174  .        >>> cat
-0000b270: 6567 6f72 795f 6466 203d 2070 642e 4461  egory_df = pd.Da
-0000b280: 7461 4672 616d 6528 6361 7465 676f 7279  taFrame(category
-0000b290: 5f74 6162 6c65 292e 6669 6c74 6572 2869  _table).filter(i
-0000b2a0: 7465 6d73 3d5b 0a20 2020 2020 2020 203e  tems=[.        >
-0000b2b0: 3e3e 2020 2020 2027 6e61 6d65 272c 0a20  >>     'name',. 
-0000b2c0: 2020 2020 2020 203e 3e3e 2020 2020 2027         >>>     '
-0000b2d0: 7072 6f70 6f72 7469 6f6e 4f66 5269 736b  proportionOfRisk
-0000b2e0: 272c 0a20 2020 2020 2020 203e 3e3e 2020  ',.        >>>  
-0000b2f0: 2020 2027 6d61 7267 696e 616c 436f 6e74     'marginalCont
-0000b300: 7269 6275 7469 6f6e 546f 5269 736b 5065  ributionToRiskPe
-0000b310: 7263 656e 7427 2c0a 2020 2020 2020 2020  rcent',.        
-0000b320: 3e3e 3e20 2020 2020 2772 656c 6174 6976  >>>     'relativ
-0000b330: 654d 6172 6769 6e61 6c43 6f6e 7472 6962  eMarginalContrib
-0000b340: 7574 696f 6e54 6f52 6973 6b27 2c0a 2020  utionToRisk',.  
-0000b350: 2020 2020 2020 3e3e 3e20 2020 2020 2765        >>>     'e
-0000b360: 7870 6f73 7572 6527 2c0a 2020 2020 2020  xposure',.      
-0000b370: 2020 3e3e 3e20 2020 2020 2761 7667 5072    >>>     'avgPr
-0000b380: 6f70 6f72 7469 6f6e 4f66 5269 736b 270a  oportionOfRisk'.
-0000b390: 2020 2020 2020 2020 3e3e 3e20 5d29 0a20          >>> ]). 
-0000b3a0: 2020 2020 2020 203e 3e3e 2064 6973 706c         >>> displ
-0000b3b0: 6179 2863 6174 6567 6f72 795f 6466 290a  ay(category_df).
-0000b3c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000b3d0: 2020 2020 7265 7475 726e 2047 7352 6570      return GsRep
-0000b3e0: 6f72 7441 7069 2e67 6574 5f66 6163 746f  ortApi.get_facto
-0000b3f0: 725f 7269 736b 5f72 6570 6f72 745f 7669  r_risk_report_vi
-0000b400: 6577 280a 2020 2020 2020 2020 2020 2020  ew(.            
-0000b410: 7269 736b 5f72 6570 6f72 745f 6964 3d73  risk_report_id=s
-0000b420: 656c 662e 6964 2c0a 2020 2020 2020 2020  elf.id,.        
-0000b430: 2020 2020 6661 6374 6f72 3d66 6163 746f      factor=facto
-0000b440: 722c 0a20 2020 2020 2020 2020 2020 2066  r,.            f
-0000b450: 6163 746f 725f 6361 7465 676f 7279 3d66  actor_category=f
-0000b460: 6163 746f 725f 6361 7465 676f 7279 2c0a  actor_category,.
-0000b470: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-0000b480: 656e 6379 3d63 7572 7265 6e63 792c 0a20  ency=currency,. 
-0000b490: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000b4a0: 5f64 6174 653d 7374 6172 745f 6461 7465  _date=start_date
-0000b4b0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-0000b4c0: 645f 6461 7465 3d65 6e64 5f64 6174 652c  d_date=end_date,
-0000b4d0: 0a20 2020 2020 2020 2020 2020 2075 6e69  .            uni
-0000b4e0: 743d 756e 6974 2e76 616c 7565 0a20 2020  t=unit.value.   
-0000b4f0: 2020 2020 2029 0a0a 2020 2020 6465 6620       )..    def 
-0000b500: 6765 745f 7461 626c 6528 7365 6c66 2c0a  get_table(self,.
+0000ad30: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
+0000ad40: 733a 204c 6973 745b 7374 725d 203d 204e  s: List[str] = N
+0000ad50: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000ad60: 2020 2020 2020 2064 6174 653a 2064 742e         date: dt.
+0000ad70: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
+0000ad80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000ad90: 7461 7274 5f64 6174 653a 2064 742e 6461  tart_date: dt.da
+0000ada0: 7465 203d 204e 6f6e 652c 0a20 2020 2020  te = None,.     
+0000adb0: 2020 2020 2020 2020 2020 2020 2065 6e64               end
+0000adc0: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+0000add0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000ade0: 2020 2020 2020 2020 2075 6e69 743a 2046           unit: F
+0000adf0: 6163 746f 7252 6973 6b55 6e69 7420 3d20  actorRiskUnit = 
+0000ae00: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0000ae10: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+0000ae20: 3a20 4375 7272 656e 6379 203d 204e 6f6e  : Currency = Non
+0000ae30: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000ae40: 2020 2020 206f 7264 6572 5f62 795f 636f       order_by_co
+0000ae50: 6c75 6d6e 3a20 7374 7220 3d20 4e6f 6e65  lumn: str = None
+0000ae60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000ae70: 2020 2020 6f72 6465 725f 7479 7065 3a20      order_type: 
+0000ae80: 4f72 6465 7254 7970 6520 3d20 4e6f 6e65  OrderType = None
+0000ae90: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000aea0: 2020 2020 7265 7475 726e 5f66 6f72 6d61      return_forma
+0000aeb0: 743a 2052 6574 7572 6e46 6f72 6d61 7420  t: ReturnFormat 
+0000aec0: 3d20 5265 7475 726e 466f 726d 6174 2e44  = ReturnFormat.D
+0000aed0: 4154 415f 4652 414d 4529 202d 3e20 556e  ATA_FRAME) -> Un
+0000aee0: 696f 6e5b 4469 6374 2c20 7064 2e44 6174  ion[Dict, pd.Dat
+0000aef0: 6146 7261 6d65 5d3a 0a20 2020 2020 2020  aFrame]:.       
+0000af00: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+0000af10: 2074 6865 2072 6573 756c 7473 2061 7373   the results ass
+0000af20: 6f63 6961 7465 6420 7769 7468 2074 6865  ociated with the
+0000af30: 2066 6163 746f 7220 7269 736b 2072 6570   factor risk rep
+0000af40: 6f72 7420 666f 726d 6174 7465 6420 666f  ort formatted fo
+0000af50: 7220 7468 6520 6173 7365 7420 6c65 7665  r the asset leve
+0000af60: 6c20 7461 626c 6520 6f6e 2074 6865 2069  l table on the i
+0000af70: 6e74 6572 6661 6365 0a0a 2020 2020 2020  nterface..      
+0000af80: 2020 3a70 6172 616d 206d 6f64 653a 2074    :param mode: t
+0000af90: 6162 6c65 7320 6d6f 6465 0a20 2020 2020  ables mode.     
+0000afa0: 2020 203a 7061 7261 6d20 6661 6374 6f72     :param factor
+0000afb0: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
+0000afc0: 206f 6620 6661 6374 6f72 7320 746f 2066   of factors to f
+0000afd0: 696c 7465 7220 6279 3b20 6465 6661 756c  ilter by; defaul
+0000afe0: 7473 2074 6f20 616c 6c0a 2020 2020 2020  ts to all.      
+0000aff0: 2020 3a70 6172 616d 2066 6163 746f 725f    :param factor_
+0000b000: 6361 7465 676f 7269 6573 3a20 6f70 7469  categories: opti
+0000b010: 6f6e 616c 206c 6973 7420 6f66 2066 6163  onal list of fac
+0000b020: 746f 7220 6361 7465 676f 7269 6573 2074  tor categories t
+0000b030: 6f20 6669 6c74 6572 2062 793b 2064 6566  o filter by; def
+0000b040: 6175 6c74 7320 746f 2061 6c6c 0a20 2020  aults to all.   
+0000b050: 2020 2020 203a 7061 7261 6d20 6461 7465       :param date
+0000b060: 3a20 6461 7465 2066 6f72 206d 6f64 6573  : date for modes
+0000b070: 2072 6571 7569 7269 6e67 2073 6e61 7073   requiring snaps
+0000b080: 686f 7420 6461 7461 2028 6465 6661 756c  hot data (defaul
+0000b090: 7473 2074 6f20 7468 6520 6c61 7465 7374  ts to the latest
+0000b0a0: 2061 7661 696c 6162 6c65 2064 6174 6529   available date)
+0000b0b0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000b0c0: 7374 6172 745f 6461 7465 3a20 7374 6172  start_date: star
+0000b0d0: 7420 6461 7465 2066 6f72 206d 6f64 6573  t date for modes
+0000b0e0: 2072 6571 7569 7269 6e67 2064 6174 6520   requiring date 
+0000b0f0: 7261 6e67 6520 2864 6566 6175 6c74 7320  range (defaults 
+0000b100: 746f 2031 206d 6f6e 7468 2062 6566 6f72  to 1 month befor
+0000b110: 6520 7468 6520 656e 6420 6461 7465 290a  e the end date).
+0000b120: 2020 2020 2020 2020 3a70 6172 616d 2065          :param e
+0000b130: 6e64 5f64 6174 653a 2065 6e64 2064 6174  nd_date: end dat
+0000b140: 6520 666f 7220 6d6f 6465 7320 7265 7175  e for modes requ
+0000b150: 6972 696e 6720 6461 7465 2072 616e 6765  iring date range
+0000b160: 2028 6465 6661 756c 7473 2074 6f20 7468   (defaults to th
+0000b170: 6520 6c61 7465 7374 2061 7661 696c 6162  e latest availab
+0000b180: 6c65 2064 6174 6529 0a20 2020 2020 2020  le date).       
+0000b190: 203a 7061 7261 6d20 756e 6974 3a20 7265   :param unit: re
+0000b1a0: 7475 726e 2074 6865 2072 6573 756c 7473  turn the results
+0000b1b0: 2069 6e20 7465 726d 7320 6f66 206e 6f74   in terms of not
+0000b1c0: 696f 6e61 6c20 6f72 2070 6572 6365 6e74  ional or percent
+0000b1d0: 2028 6465 6661 756c 7473 2074 6f20 6e6f   (defaults to no
+0000b1e0: 7469 6f6e 616c 290a 2020 2020 2020 2020  tional).        
+0000b1f0: 3a70 6172 616d 2063 7572 7265 6e63 793a  :param currency:
+0000b200: 2063 7572 7265 6e63 790a 2020 2020 2020   currency.      
+0000b210: 2020 3a70 6172 616d 206f 7264 6572 5f62    :param order_b
+0000b220: 795f 636f 6c75 6d6e 3a20 636f 6c75 6d6e  y_column: column
+0000b230: 2074 6f20 6f72 6465 7220 7468 6520 726f   to order the ro
+0000b240: 7773 2062 7920 2864 6566 6175 6c74 7320  ws by (defaults 
+0000b250: 746f 206e 616d 6529 0a20 2020 2020 2020  to name).       
+0000b260: 203a 7061 7261 6d20 6f72 6465 725f 7479   :param order_ty
+0000b270: 7065 3a20 6f72 6465 7220 6173 6365 6e64  pe: order ascend
+0000b280: 696e 6720 6f72 2064 6573 6365 6e64 696e  ing or descendin
+0000b290: 6720 2864 6566 6175 6c74 7320 746f 2061  g (defaults to a
+0000b2a0: 7363 656e 6469 6e67 290a 2020 2020 2020  scending).      
+0000b2b0: 2020 3a72 6574 7572 6e3a 2072 6973 6b20    :return: risk 
+0000b2c0: 7265 706f 7274 2074 6162 6c65 2061 7420  report table at 
+0000b2d0: 6173 7365 7420 6c65 7665 6c0a 0a20 2020  asset level..   
+0000b2e0: 2020 2020 202a 2a45 7861 6d70 6c65 732a       **Examples*
+0000b2f0: 2a0a 0a20 2020 2020 2020 203e 3e3e 2070  *..        >>> p
+0000b300: 6e6c 5f74 6162 6c65 203d 2072 6973 6b5f  nl_table = risk_
+0000b310: 7265 706f 7274 2e67 6574 5f74 6162 6c65  report.get_table
+0000b320: 280a 2020 2020 2020 2020 3e3e 3e20 2020  (.        >>>   
+0000b330: 2020 6d6f 6465 3d46 6163 746f 7252 6973    mode=FactorRis
+0000b340: 6b54 6162 6c65 4d6f 6465 2e50 6e6c 2c0a  kTableMode.Pnl,.
+0000b350: 2020 2020 2020 2020 3e3e 3e20 2020 2020          >>>     
+0000b360: 7374 6172 745f 6461 7465 3d72 6973 6b5f  start_date=risk_
+0000b370: 7265 706f 7274 2e65 6172 6c69 6573 745f  report.earliest_
+0000b380: 7374 6172 745f 6461 7465 2c0a 2020 2020  start_date,.    
+0000b390: 2020 2020 3e3e 3e20 2020 2020 656e 645f      >>>     end_
+0000b3a0: 6461 7465 3d72 6973 6b5f 7265 706f 7274  date=risk_report
+0000b3b0: 2e6c 6174 6573 745f 656e 645f 6461 7465  .latest_end_date
+0000b3c0: 0a20 2020 2020 2020 203e 3e3e 2029 0a20  .        >>> ). 
+0000b3d0: 2020 2020 2020 203e 3e3e 2064 6973 706c         >>> displ
+0000b3e0: 6179 2870 642e 4461 7461 4672 616d 6528  ay(pd.DataFrame(
+0000b3f0: 706e 6c5f 7461 626c 6529 290a 2020 2020  pnl_table)).    
+0000b400: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000b410: 7461 626c 6520 3d20 4773 5265 706f 7274  table = GsReport
+0000b420: 4170 692e 6765 745f 6661 6374 6f72 5f72  Api.get_factor_r
+0000b430: 6973 6b5f 7265 706f 7274 5f74 6162 6c65  isk_report_table
+0000b440: 2872 6973 6b5f 7265 706f 7274 5f69 643d  (risk_report_id=
+0000b450: 7365 6c66 2e69 642c 0a20 2020 2020 2020  self.id,.       
+0000b460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b490: 2020 6d6f 6465 3d6d 6f64 652c 0a20 2020    mode=mode,.   
+0000b4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b4d0: 2020 2020 2020 6661 6374 6f72 733d 6661        factors=fa
+0000b4e0: 6374 6f72 732c 0a20 2020 2020 2020 2020  ctors,.         
+0000b4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b500: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000b510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b520: 2020 6d6f 6465 3a20 4661 6374 6f72 5269    mode: FactorRi
-0000b530: 736b 5461 626c 654d 6f64 652c 0a20 2020  skTableMode,.   
-0000b540: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000b550: 6163 746f 7273 3a20 4c69 7374 5b73 7472  actors: List[str
-0000b560: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0000b570: 2020 2020 2020 2020 2020 2020 6661 6374              fact
-0000b580: 6f72 5f63 6174 6567 6f72 6965 733a 204c  or_categories: L
-0000b590: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
+0000b520: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
+0000b530: 733d 6661 6374 6f72 5f63 6174 6567 6f72  s=factor_categor
+0000b540: 6965 732c 0a20 2020 2020 2020 2020 2020  ies,.           
+0000b550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b570: 2020 2020 2020 2020 2020 2020 2020 756e                un
+0000b580: 6974 3d75 6e69 742e 7661 6c75 6520 6966  it=unit.value if
+0000b590: 2075 6e69 7420 656c 7365 204e 6f6e 652c   unit else None,
 0000b5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b5b0: 2020 2064 6174 653a 2064 742e 6461 7465     date: dt.date
-0000b5c0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000b5d0: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000b5e0: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
-0000b5f0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0000b600: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
-0000b610: 653a 2064 742e 6461 7465 203d 204e 6f6e  e: dt.date = Non
-0000b620: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000b630: 2020 2020 2075 6e69 743a 2046 6163 746f       unit: Facto
-0000b640: 7252 6973 6b55 6e69 7420 3d20 4e6f 6e65  rRiskUnit = None
-0000b650: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000b660: 2020 2020 6375 7272 656e 6379 3a20 4375      currency: Cu
-0000b670: 7272 656e 6379 203d 204e 6f6e 652c 0a20  rrency = None,. 
-0000b680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b690: 2072 6574 7572 6e5f 666f 726d 6174 3a20   return_format: 
-0000b6a0: 5265 7475 726e 466f 726d 6174 203d 2052  ReturnFormat = R
-0000b6b0: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
-0000b6c0: 5f46 5241 4d45 2920 2d3e 2055 6e69 6f6e  _FRAME) -> Union
-0000b6d0: 5b44 6963 742c 2070 642e 4461 7461 4672  [Dict, pd.DataFr
-0000b6e0: 616d 655d 3a0a 2020 2020 2020 2020 2222  ame]:.        ""
-0000b6f0: 220a 2020 2020 2020 2020 4765 7420 7468  ".        Get th
-0000b700: 6520 7265 7375 6c74 7320 6173 736f 6369  e results associ
-0000b710: 6174 6564 2077 6974 6820 7468 6520 6661  ated with the fa
-0000b720: 6374 6f72 2072 6973 6b20 7265 706f 7274  ctor risk report
-0000b730: 2066 6f72 6d61 7474 6564 2066 6f72 2074   formatted for t
-0000b740: 6865 2061 7373 6574 206c 6576 656c 2074  he asset level t
-0000b750: 6162 6c65 206f 6e20 7468 6520 696e 7465  able on the inte
-0000b760: 7266 6163 650a 0a20 2020 2020 2020 203a  rface..        :
-0000b770: 7061 7261 6d20 6d6f 6465 3a20 7461 626c  param mode: tabl
-0000b780: 6573 206d 6f64 650a 2020 2020 2020 2020  es mode.        
-0000b790: 3a70 6172 616d 2066 6163 746f 7273 3a20  :param factors: 
-0000b7a0: 6f70 7469 6f6e 616c 206c 6973 7420 6f66  optional list of
-0000b7b0: 2066 6163 746f 7273 2074 6f20 6669 6c74   factors to filt
-0000b7c0: 6572 2062 793b 2064 6566 6175 6c74 7320  er by; defaults 
-0000b7d0: 746f 2061 6c6c 0a20 2020 2020 2020 203a  to all.        :
-0000b7e0: 7061 7261 6d20 6661 6374 6f72 5f63 6174  param factor_cat
-0000b7f0: 6567 6f72 6965 733a 206f 7074 696f 6e61  egories: optiona
-0000b800: 6c20 6c69 7374 206f 6620 6661 6374 6f72  l list of factor
-0000b810: 2063 6174 6567 6f72 6965 7320 746f 2066   categories to f
-0000b820: 696c 7465 7220 6279 3b20 6465 6661 756c  ilter by; defaul
-0000b830: 7473 2074 6f20 616c 6c0a 2020 2020 2020  ts to all.      
-0000b840: 2020 3a70 6172 616d 2064 6174 653a 2064    :param date: d
-0000b850: 6174 6520 666f 7220 6d6f 6465 7320 7265  ate for modes re
-0000b860: 7175 6972 696e 6720 736e 6170 7368 6f74  quiring snapshot
-0000b870: 2064 6174 6120 2864 6566 6175 6c74 7320   data (defaults 
-0000b880: 746f 2074 6865 206c 6174 6573 7420 6176  to the latest av
-0000b890: 6169 6c61 626c 6520 6461 7465 290a 2020  ailable date).  
-0000b8a0: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-0000b8b0: 7274 5f64 6174 653a 2073 7461 7274 2064  rt_date: start d
-0000b8c0: 6174 6520 666f 7220 6d6f 6465 7320 7265  ate for modes re
-0000b8d0: 7175 6972 696e 6720 6461 7465 2072 616e  quiring date ran
-0000b8e0: 6765 2028 6465 6661 756c 7473 2074 6f20  ge (defaults to 
-0000b8f0: 3120 6d6f 6e74 6820 6265 666f 7265 2074  1 month before t
-0000b900: 6865 2065 6e64 2064 6174 6529 0a20 2020  he end date).   
-0000b910: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
-0000b920: 6461 7465 3a20 656e 6420 6461 7465 2066  date: end date f
-0000b930: 6f72 206d 6f64 6573 2072 6571 7569 7269  or modes requiri
-0000b940: 6e67 2064 6174 6520 7261 6e67 6520 2864  ng date range (d
-0000b950: 6566 6175 6c74 7320 746f 2074 6865 206c  efaults to the l
-0000b960: 6174 6573 7420 6176 6169 6c61 626c 6520  atest available 
-0000b970: 6461 7465 290a 2020 2020 2020 2020 3a70  date).        :p
-0000b980: 6172 616d 2075 6e69 743a 2072 6574 7572  aram unit: retur
-0000b990: 6e20 7468 6520 7265 7375 6c74 7320 696e  n the results in
-0000b9a0: 2074 6572 6d73 206f 6620 6e6f 7469 6f6e   terms of notion
-0000b9b0: 616c 206f 7220 7065 7263 656e 7420 2864  al or percent (d
-0000b9c0: 6566 6175 6c74 7320 746f 206e 6f74 696f  efaults to notio
-0000b9d0: 6e61 6c29 0a20 2020 2020 2020 203a 7061  nal).        :pa
-0000b9e0: 7261 6d20 6375 7272 656e 6379 3a20 6375  ram currency: cu
-0000b9f0: 7272 656e 6379 0a20 2020 2020 2020 203a  rrency.        :
-0000ba00: 7265 7475 726e 3a20 7269 736b 2072 6570  return: risk rep
-0000ba10: 6f72 7420 7461 626c 6520 6174 2061 7373  ort table at ass
-0000ba20: 6574 206c 6576 656c 0a0a 2020 2020 2020  et level..      
-0000ba30: 2020 2a2a 4578 616d 706c 6573 2a2a 0a0a    **Examples**..
-0000ba40: 2020 2020 2020 2020 3e3e 3e20 706e 6c5f          >>> pnl_
-0000ba50: 7461 626c 6520 3d20 7269 736b 5f72 6570  table = risk_rep
-0000ba60: 6f72 742e 6765 745f 7461 626c 6528 0a20  ort.get_table(. 
-0000ba70: 2020 2020 2020 203e 3e3e 2020 2020 206d         >>>     m
-0000ba80: 6f64 653d 4661 6374 6f72 5269 736b 5461  ode=FactorRiskTa
-0000ba90: 626c 654d 6f64 652e 506e 6c2c 0a20 2020  bleMode.Pnl,.   
-0000baa0: 2020 2020 203e 3e3e 2020 2020 2073 7461       >>>     sta
-0000bab0: 7274 5f64 6174 653d 7269 736b 5f72 6570  rt_date=risk_rep
-0000bac0: 6f72 742e 6561 726c 6965 7374 5f73 7461  ort.earliest_sta
-0000bad0: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
-0000bae0: 203e 3e3e 2020 2020 2065 6e64 5f64 6174   >>>     end_dat
-0000baf0: 653d 7269 736b 5f72 6570 6f72 742e 6c61  e=risk_report.la
-0000bb00: 7465 7374 5f65 6e64 5f64 6174 650a 2020  test_end_date.  
-0000bb10: 2020 2020 2020 3e3e 3e20 290a 2020 2020        >>> ).    
-0000bb20: 2020 2020 3e3e 3e20 6469 7370 6c61 7928      >>> display(
-0000bb30: 7064 2e44 6174 6146 7261 6d65 2870 6e6c  pd.DataFrame(pnl
-0000bb40: 5f74 6162 6c65 2929 0a20 2020 2020 2020  _table)).       
-0000bb50: 2022 2222 0a20 2020 2020 2020 2074 6162   """.        tab
-0000bb60: 6c65 203d 2047 7352 6570 6f72 7441 7069  le = GsReportApi
-0000bb70: 2e67 6574 5f66 6163 746f 725f 7269 736b  .get_factor_risk
-0000bb80: 5f72 6570 6f72 745f 7461 626c 6528 7269  _report_table(ri
-0000bb90: 736b 5f72 6570 6f72 745f 6964 3d73 656c  sk_report_id=sel
-0000bba0: 662e 6964 2c0a 2020 2020 2020 2020 2020  f.id,.          
-0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bbd0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000bbe0: 6f64 653d 6d6f 6465 2c0a 2020 2020 2020  ode=mode,.      
-0000bbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc20: 2020 2075 6e69 743d 756e 6974 2e76 616c     unit=unit.val
-0000bc30: 7565 2069 6620 756e 6974 2065 6c73 6520  ue if unit else 
-0000bc40: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-0000bc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc70: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000bc80: 7572 7265 6e63 793d 6375 7272 656e 6379  urrency=currency
-0000bc90: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000bca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bcc0: 2020 2020 2020 2020 2020 2064 6174 653d             date=
-0000bcd0: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
-0000bce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd00: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000bd10: 7461 7274 5f64 6174 653d 7374 6172 745f  tart_date=start_
-0000bd20: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
-0000bd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd50: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000bd60: 6e64 5f64 6174 653d 656e 645f 6461 7465  nd_date=end_date
-0000bd70: 290a 2020 2020 2020 2020 6966 2072 6574  ).        if ret
-0000bd80: 7572 6e5f 666f 726d 6174 203d 3d20 5265  urn_format == Re
-0000bd90: 7475 726e 466f 726d 6174 2e44 4154 415f  turnFormat.DATA_
-0000bda0: 4652 414d 453a 0a20 2020 2020 2020 2020  FRAME:.         
-0000bdb0: 2020 2063 6f6c 756d 6e5f 696e 666f 203d     column_info =
-0000bdc0: 2074 6162 6c65 2e67 6574 2827 7461 626c   table.get('tabl
-0000bdd0: 6527 292e 6765 7428 276d 6574 6164 6174  e').get('metadat
-0000bde0: 6127 292e 6765 7428 2763 6f6c 756d 6e49  a').get('columnI
-0000bdf0: 6e66 6f27 290a 2020 2020 2020 2020 2020  nfo').          
-0000be00: 2020 636f 6c75 6d6e 5f69 6e66 6f5b 305d    column_info[0]
-0000be10: 2e75 7064 6174 6528 7b27 636f 6c75 6d6e  .update({'column
-0000be20: 7327 3a20 5b27 6e61 6d65 272c 2027 7379  s': ['name', 'sy
-0000be30: 6d62 6f6c 272c 2027 7365 6374 6f72 275d  mbol', 'sector']
-0000be40: 7d29 0a20 2020 2020 2020 2020 2020 2072  }).            r
-0000be50: 6f77 7320 3d20 7461 626c 652e 6765 7428  ows = table.get(
-0000be60: 2774 6162 6c65 2729 2e67 6574 2827 726f  'table').get('ro
-0000be70: 7773 2729 0a20 2020 2020 2020 2020 2020  ws').           
-0000be80: 2073 6f72 7465 645f 636f 6c75 6d6e 7320   sorted_columns 
-0000be90: 3d20 5f66 696c 7465 725f 7461 626c 655f  = _filter_table_
-0000bea0: 6279 5f66 6163 746f 725f 616e 645f 6361  by_factor_and_ca
-0000beb0: 7465 676f 7279 2863 6f6c 756d 6e5f 696e  tegory(column_in
-0000bec0: 666f 2c20 6661 6374 6f72 732c 2066 6163  fo, factors, fac
-0000bed0: 746f 725f 6361 7465 676f 7269 6573 290a  tor_categories).
-0000bee0: 2020 2020 2020 2020 2020 2020 736f 7274              sort
-0000bef0: 6564 5f63 6f6c 756d 6e73 203d 206c 6973  ed_columns = lis
-0000bf00: 7428 4f72 6465 7265 6444 6963 742e 6672  t(OrderedDict.fr
-0000bf10: 6f6d 6b65 7973 2873 6f72 7465 645f 636f  omkeys(sorted_co
-0000bf20: 6c75 6d6e 7329 290a 2020 2020 2020 2020  lumns)).        
-0000bf30: 2020 2020 726f 7773 5f64 6174 615f 6672      rows_data_fr
-0000bf40: 616d 6520 3d20 7064 2e44 6174 6146 7261  ame = pd.DataFra
-0000bf50: 6d65 2872 6f77 7329 0a20 2020 2020 2020  me(rows).       
-0000bf60: 2020 2020 2072 6f77 735f 6461 7461 5f66       rows_data_f
-0000bf70: 7261 6d65 203d 2072 6f77 735f 6461 7461  rame = rows_data
-0000bf80: 5f66 7261 6d65 2e72 6569 6e64 6578 2863  _frame.reindex(c
-0000bf90: 6f6c 756d 6e73 3d73 6f72 7465 645f 636f  olumns=sorted_co
-0000bfa0: 6c75 6d6e 7329 0a20 2020 2020 2020 2020  lumns).         
-0000bfb0: 2020 2072 6f77 735f 6461 7461 5f66 7261     rows_data_fra
-0000bfc0: 6d65 203d 2072 6f77 735f 6461 7461 5f66  me = rows_data_f
-0000bfd0: 7261 6d65 2e73 6574 5f69 6e64 6578 2827  rame.set_index('
-0000bfe0: 6e61 6d65 2729 0a20 2020 2020 2020 2020  name').         
-0000bff0: 2020 2072 6574 7572 6e20 726f 7773 5f64     return rows_d
-0000c000: 6174 615f 6672 616d 650a 2020 2020 2020  ata_frame.      
-0000c010: 2020 7265 7475 726e 2074 6162 6c65 0a0a    return table..
-0000c020: 2020 2020 6465 6620 6765 745f 6661 6374      def get_fact
-0000c030: 6f72 5f70 6e6c 2873 656c 662c 0a20 2020  or_pnl(self,.   
-0000c040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c050: 2020 2020 6d6f 6465 3a20 4661 6374 6f72      mode: Factor
-0000c060: 5269 736b 5265 7375 6c74 734d 6f64 6520  RiskResultsMode 
-0000c070: 3d20 4661 6374 6f72 5269 736b 5265 7375  = FactorRiskResu
-0000c080: 6c74 734d 6f64 652e 506f 7274 666f 6c69  ltsMode.Portfoli
-0000c090: 6f2c 0a20 2020 2020 2020 2020 2020 2020  o,.             
-0000c0a0: 2020 2020 2020 2020 2020 6661 6374 6f72            factor
-0000c0b0: 5f6e 616d 6573 3a20 4c69 7374 5b73 7472  _names: List[str
-0000c0c0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0000c0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0e0: 2066 6163 746f 725f 6361 7465 676f 7269   factor_categori
-0000c0f0: 6573 3a20 4c69 7374 5b73 7472 5d20 3d20  es: List[str] = 
-0000c100: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-0000c110: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-0000c120: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
-0000c130: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000b5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5d0: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+0000b5e0: 6379 3d63 7572 7265 6e63 792c 0a20 2020  cy=currency,.   
+0000b5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b620: 2020 2020 2020 6461 7465 3d64 6174 652c        date=date,
+0000b630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b660: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+0000b670: 6461 7465 3d73 7461 7274 5f64 6174 652c  date=start_date,
+0000b680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6b0: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
+0000b6c0: 7465 3d65 6e64 5f64 6174 652c 0a20 2020  te=end_date,.   
+0000b6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b700: 2020 2020 2020 6f72 6465 725f 6279 5f63        order_by_c
+0000b710: 6f6c 756d 6e3d 6f72 6465 725f 6279 5f63  olumn=order_by_c
+0000b720: 6f6c 756d 6e2c 0a20 2020 2020 2020 2020  olumn,.         
+0000b730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b760: 6f72 6465 725f 7479 7065 3d6f 7264 6572  order_type=order
+0000b770: 5f74 7970 6529 0a20 2020 2020 2020 2069  _type).        i
+0000b780: 6620 7265 7475 726e 5f66 6f72 6d61 7420  f return_format 
+0000b790: 3d3d 2052 6574 7572 6e46 6f72 6d61 742e  == ReturnFormat.
+0000b7a0: 4441 5441 5f46 5241 4d45 3a0a 2020 2020  DATA_FRAME:.    
+0000b7b0: 2020 2020 2020 2020 636f 6c75 6d6e 5f69          column_i
+0000b7c0: 6e66 6f20 3d20 7461 626c 652e 6765 7428  nfo = table.get(
+0000b7d0: 2774 6162 6c65 2729 2e67 6574 2827 6d65  'table').get('me
+0000b7e0: 7461 6461 7461 2729 2e67 6574 2827 636f  tadata').get('co
+0000b7f0: 6c75 6d6e 496e 666f 2729 0a20 2020 2020  lumnInfo').     
+0000b800: 2020 2020 2020 2063 6f6c 756d 6e5f 696e         column_in
+0000b810: 666f 5b30 5d2e 7570 6461 7465 287b 2763  fo[0].update({'c
+0000b820: 6f6c 756d 6e73 273a 205b 276e 616d 6527  olumns': ['name'
+0000b830: 2c20 2773 796d 626f 6c27 2c20 2773 6563  , 'symbol', 'sec
+0000b840: 746f 7227 5d7d 290a 2020 2020 2020 2020  tor']}).        
+0000b850: 2020 2020 726f 7773 203d 2074 6162 6c65      rows = table
+0000b860: 2e67 6574 2827 7461 626c 6527 292e 6765  .get('table').ge
+0000b870: 7428 2772 6f77 7327 290a 2020 2020 2020  t('rows').      
+0000b880: 2020 2020 2020 736f 7274 6564 5f63 6f6c        sorted_col
+0000b890: 756d 6e73 203d 205b 5d0a 2020 2020 2020  umns = [].      
+0000b8a0: 2020 2020 2020 666f 7220 636f 6c75 6d6e        for column
+0000b8b0: 5f67 726f 7570 2069 6e20 636f 6c75 6d6e  _group in column
+0000b8c0: 5f69 6e66 6f3a 0a20 2020 2020 2020 2020  _info:.         
+0000b8d0: 2020 2020 2020 2073 6f72 7465 645f 636f         sorted_co
+0000b8e0: 6c75 6d6e 7320 3d20 736f 7274 6564 5f63  lumns = sorted_c
+0000b8f0: 6f6c 756d 6e73 202b 2063 6f6c 756d 6e5f  olumns + column_
+0000b900: 6772 6f75 702e 6765 7428 2763 6f6c 756d  group.get('colum
+0000b910: 6e73 2729 0a20 2020 2020 2020 2020 2020  ns').           
+0000b920: 2072 6f77 735f 6461 7461 5f66 7261 6d65   rows_data_frame
+0000b930: 203d 2070 642e 4461 7461 4672 616d 6528   = pd.DataFrame(
+0000b940: 726f 7773 290a 2020 2020 2020 2020 2020  rows).          
+0000b950: 2020 726f 7773 5f64 6174 615f 6672 616d    rows_data_fram
+0000b960: 6520 3d20 726f 7773 5f64 6174 615f 6672  e = rows_data_fr
+0000b970: 616d 652e 7265 696e 6465 7828 636f 6c75  ame.reindex(colu
+0000b980: 6d6e 733d 736f 7274 6564 5f63 6f6c 756d  mns=sorted_colum
+0000b990: 6e73 290a 2020 2020 2020 2020 2020 2020  ns).            
+0000b9a0: 726f 7773 5f64 6174 615f 6672 616d 6520  rows_data_frame 
+0000b9b0: 3d20 726f 7773 5f64 6174 615f 6672 616d  = rows_data_fram
+0000b9c0: 652e 7365 745f 696e 6465 7828 276e 616d  e.set_index('nam
+0000b9d0: 6527 290a 2020 2020 2020 2020 2020 2020  e').            
+0000b9e0: 7265 7475 726e 2072 6f77 735f 6461 7461  return rows_data
+0000b9f0: 5f66 7261 6d65 0a20 2020 2020 2020 2072  _frame.        r
+0000ba00: 6574 7572 6e20 7461 626c 650a 0a20 2020  eturn table..   
+0000ba10: 2064 6566 2067 6574 5f66 6163 746f 725f   def get_factor_
+0000ba20: 706e 6c28 7365 6c66 2c0a 2020 2020 2020  pnl(self,.      
+0000ba30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba40: 206d 6f64 653a 2046 6163 746f 7252 6973   mode: FactorRis
+0000ba50: 6b52 6573 756c 7473 4d6f 6465 203d 2046  kResultsMode = F
+0000ba60: 6163 746f 7252 6973 6b52 6573 756c 7473  actorRiskResults
+0000ba70: 4d6f 6465 2e50 6f72 7466 6f6c 696f 2c0a  Mode.Portfolio,.
+0000ba80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba90: 2020 2020 2020 2066 6163 746f 725f 6e61         factor_na
+0000baa0: 6d65 733a 204c 6973 745b 7374 725d 203d  mes: List[str] =
+0000bab0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000bac0: 2020 2020 2020 2020 2020 2020 2020 6661                fa
+0000bad0: 6374 6f72 5f63 6174 6567 6f72 6965 733a  ctor_categories:
+0000bae0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0000baf0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000bb00: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+0000bb10: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
+0000bb20: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0000bb30: 2020 2020 2020 2020 2020 2020 2065 6e64               end
+0000bb40: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+0000bb50: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000bb60: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0000bb70: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
+0000bb80: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000bb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bba0: 756e 6974 3a20 4661 6374 6f72 5269 736b  unit: FactorRisk
+0000bbb0: 556e 6974 203d 2046 6163 746f 7252 6973  Unit = FactorRis
+0000bbc0: 6b55 6e69 742e 4e6f 7469 6f6e 616c 2920  kUnit.Notional) 
+0000bbd0: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
+0000bbe0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000bbf0: 2020 2020 2047 6574 2068 6973 746f 7269       Get histori
+0000bc00: 6361 6c20 6661 6374 6f72 2050 6e4c 0a0a  cal factor PnL..
+0000bc10: 2020 2020 2020 2020 3a70 6172 616d 206d          :param m
+0000bc20: 6f64 653a 2072 6573 756c 7473 206d 6f64  ode: results mod
+0000bc30: 653b 2064 6566 6175 6c74 7320 746f 2074  e; defaults to t
+0000bc40: 6865 2070 6f72 7466 6f6c 696f 206c 6576  he portfolio lev
+0000bc50: 656c 0a20 2020 2020 2020 203a 7061 7261  el.        :para
+0000bc60: 6d20 6661 6374 6f72 5f6e 616d 6573 3a20  m factor_names: 
+0000bc70: 6f70 7469 6f6e 616c 206c 6973 7420 6f66  optional list of
+0000bc80: 2066 6163 746f 7220 6e61 6d65 733b 2064   factor names; d
+0000bc90: 6566 6175 6c74 7320 746f 2061 6c6c 206f  efaults to all o
+0000bca0: 6620 7468 656d 0a20 2020 2020 2020 203a  f them.        :
+0000bcb0: 7061 7261 6d20 6661 6374 6f72 5f63 6174  param factor_cat
+0000bcc0: 6567 6f72 6965 733a 206f 7074 696f 6e61  egories: optiona
+0000bcd0: 6c20 6c69 7374 206f 6620 6661 6374 6f72  l list of factor
+0000bce0: 2063 6174 6567 6f72 6965 733b 2064 6566   categories; def
+0000bcf0: 6175 6c74 7320 746f 2061 6c6c 206f 6620  aults to all of 
+0000bd00: 7468 656d 0a20 2020 2020 2020 203a 7061  them.        :pa
+0000bd10: 7261 6d20 7374 6172 745f 6461 7465 3a20  ram start_date: 
+0000bd20: 7374 6172 7420 6461 7465 0a20 2020 2020  start date.     
+0000bd30: 2020 203a 7061 7261 6d20 656e 645f 6461     :param end_da
+0000bd40: 7465 3a20 656e 6420 6461 7465 0a20 2020  te: end date.   
+0000bd50: 2020 2020 203a 7061 7261 6d20 6375 7272       :param curr
+0000bd60: 656e 6379 3a20 6375 7272 656e 6379 0a20  ency: currency. 
+0000bd70: 2020 2020 2020 203a 7061 7261 6d3a 2075         :param: u
+0000bd80: 6e69 743a 2072 6574 7572 6e20 7468 6520  nit: return the 
+0000bd90: 7265 7375 6c74 7320 696e 2074 6572 6d73  results in terms
+0000bda0: 206f 6620 6e6f 7469 6f6e 616c 206f 7220   of notional or 
+0000bdb0: 7065 7263 656e 7420 2864 6566 6175 6c74  percent (default
+0000bdc0: 7320 746f 206e 6f74 696f 6e61 6c29 0a20  s to notional). 
+0000bdd0: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
+0000bde0: 6120 5061 6e64 6173 2044 6174 6146 7261  a Pandas DataFra
+0000bdf0: 6d65 2077 6974 6820 7468 6520 7265 7375  me with the resu
+0000be00: 6c74 730a 2020 2020 2020 2020 2222 220a  lts.        """.
+0000be10: 2020 2020 2020 2020 6661 6374 6f72 5f64          factor_d
+0000be20: 6174 6120 3d20 7365 6c66 2e67 6574 5f72  ata = self.get_r
+0000be30: 6573 756c 7473 286d 6f64 653d 6d6f 6465  esults(mode=mode
+0000be40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000be50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be60: 2020 2020 2020 2020 2066 6163 746f 7273           factors
+0000be70: 3d66 6163 746f 725f 6e61 6d65 732c 0a20  =factor_names,. 
+0000be80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bea0: 2020 2020 2020 6661 6374 6f72 5f63 6174        factor_cat
+0000beb0: 6567 6f72 6965 733d 6661 6374 6f72 5f63  egories=factor_c
+0000bec0: 6174 6567 6f72 6965 732c 0a20 2020 2020  ategories,.     
+0000bed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bef0: 2020 7374 6172 745f 6461 7465 3d73 7461    start_date=sta
+0000bf00: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
+0000bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf30: 656e 645f 6461 7465 3d65 6e64 5f64 6174  end_date=end_dat
+0000bf40: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000bf50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf60: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+0000bf70: 6379 3d63 7572 7265 6e63 792c 0a20 2020  cy=currency,.   
+0000bf80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfa0: 2020 2020 7265 7475 726e 5f66 6f72 6d61      return_forma
+0000bfb0: 743d 5265 7475 726e 466f 726d 6174 2e4a  t=ReturnFormat.J
+0000bfc0: 534f 4e2c 0a20 2020 2020 2020 2020 2020  SON,.           
+0000bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfe0: 2020 2020 2020 2020 2020 2020 756e 6974              unit
+0000bff0: 3d75 6e69 7429 0a0a 2020 2020 2020 2020  =unit)..        
+0000c000: 7265 7475 726e 205f 666f 726d 6174 5f6d  return _format_m
+0000c010: 756c 7469 706c 655f 6661 6374 6f72 5f74  ultiple_factor_t
+0000c020: 6162 6c65 2866 6163 746f 725f 6461 7461  able(factor_data
+0000c030: 2c20 2770 6e6c 2729 0a0a 2020 2020 6465  , 'pnl')..    de
+0000c040: 6620 6765 745f 6661 6374 6f72 5f65 7870  f get_factor_exp
+0000c050: 6f73 7572 6528 7365 6c66 2c0a 2020 2020  osure(self,.    
+0000c060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c070: 2020 2020 2020 2020 6d6f 6465 3a20 4661          mode: Fa
+0000c080: 6374 6f72 5269 736b 5265 7375 6c74 734d  ctorRiskResultsM
+0000c090: 6f64 6520 3d20 4661 6374 6f72 5269 736b  ode = FactorRisk
+0000c0a0: 5265 7375 6c74 734d 6f64 652e 506f 7274  ResultsMode.Port
+0000c0b0: 666f 6c69 6f2c 0a20 2020 2020 2020 2020  folio,.         
+0000c0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c0d0: 2020 2066 6163 746f 725f 6e61 6d65 733a     factor_names:
+0000c0e0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0000c0f0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000c100: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000c110: 6163 746f 725f 6361 7465 676f 7269 6573  actor_categories
+0000c120: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
+0000c130: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
 0000c140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c150: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
-0000c160: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
+0000c150: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
+0000c160: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
 0000c170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c180: 2063 7572 7265 6e63 793a 2043 7572 7265   currency: Curre
-0000c190: 6e63 7920 3d20 4e6f 6e65 2c0a 2020 2020  ncy = None,.    
-0000c1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c1b0: 2020 2075 6e69 743a 2046 6163 746f 7252     unit: FactorR
-0000c1c0: 6973 6b55 6e69 7420 3d20 4661 6374 6f72  iskUnit = Factor
-0000c1d0: 5269 736b 556e 6974 2e4e 6f74 696f 6e61  RiskUnit.Notiona
-0000c1e0: 6c29 202d 3e20 7064 2e44 6174 6146 7261  l) -> pd.DataFra
-0000c1f0: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
-0000c200: 2020 2020 2020 2020 4765 7420 6869 7374          Get hist
-0000c210: 6f72 6963 616c 2066 6163 746f 7220 506e  orical factor Pn
-0000c220: 4c0a 0a20 2020 2020 2020 203a 7061 7261  L..        :para
-0000c230: 6d20 6d6f 6465 3a20 7265 7375 6c74 7320  m mode: results 
-0000c240: 6d6f 6465 3b20 6465 6661 756c 7473 2074  mode; defaults t
-0000c250: 6f20 7468 6520 706f 7274 666f 6c69 6f20  o the portfolio 
-0000c260: 6c65 7665 6c0a 2020 2020 2020 2020 3a70  level.        :p
-0000c270: 6172 616d 2066 6163 746f 725f 6e61 6d65  aram factor_name
-0000c280: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
-0000c290: 206f 6620 6661 6374 6f72 206e 616d 6573   of factor names
-0000c2a0: 3b20 6465 6661 756c 7473 2074 6f20 616c  ; defaults to al
-0000c2b0: 6c20 6f66 2074 6865 6d0a 2020 2020 2020  l of them.      
-0000c2c0: 2020 3a70 6172 616d 2066 6163 746f 725f    :param factor_
-0000c2d0: 6361 7465 676f 7269 6573 3a20 6f70 7469  categories: opti
-0000c2e0: 6f6e 616c 206c 6973 7420 6f66 2066 6163  onal list of fac
-0000c2f0: 746f 7220 6361 7465 676f 7269 6573 3b20  tor categories; 
-0000c300: 6465 6661 756c 7473 2074 6f20 616c 6c20  defaults to all 
-0000c310: 6f66 2074 6865 6d0a 2020 2020 2020 2020  of them.        
-0000c320: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
-0000c330: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
-0000c340: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
-0000c350: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
-0000c360: 2020 2020 2020 2020 3a70 6172 616d 2063          :param c
-0000c370: 7572 7265 6e63 793a 2063 7572 7265 6e63  urrency: currenc
-0000c380: 790a 2020 2020 2020 2020 3a70 6172 616d  y.        :param
-0000c390: 2075 6e69 743a 2072 6574 7572 6e20 7468   unit: return th
-0000c3a0: 6520 7265 7375 6c74 7320 696e 2074 6572  e results in ter
-0000c3b0: 6d73 206f 6620 6e6f 7469 6f6e 616c 206f  ms of notional o
-0000c3c0: 7220 7065 7263 656e 7420 2864 6566 6175  r percent (defau
-0000c3d0: 6c74 7320 746f 206e 6f74 696f 6e61 6c29  lts to notional)
-0000c3e0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0000c3f0: 3a20 6120 5061 6e64 6173 2044 6174 6146  : a Pandas DataF
-0000c400: 7261 6d65 2077 6974 6820 7468 6520 7265  rame with the re
-0000c410: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
-0000c420: 220a 0a20 2020 2020 2020 2066 6163 746f  "..        facto
-0000c430: 725f 6e61 6d65 735f 746f 5f71 7565 7279  r_names_to_query
-0000c440: 203d 2066 6163 746f 725f 6e61 6d65 730a   = factor_names.
-0000c450: 2020 2020 2020 2020 6966 2075 6e69 7420          if unit 
-0000c460: 3d3d 2046 6163 746f 7252 6973 6b55 6e69  == FactorRiskUni
-0000c470: 742e 5065 7263 656e 7420 616e 6420 6661  t.Percent and fa
-0000c480: 6374 6f72 5f6e 616d 6573 5f74 6f5f 7175  ctor_names_to_qu
-0000c490: 6572 7920 6973 206e 6f74 204e 6f6e 653a  ery is not None:
-0000c4a0: 0a20 2020 2020 2020 2020 2020 2066 6163  .            fac
-0000c4b0: 746f 725f 6e61 6d65 735f 746f 5f71 7565  tor_names_to_que
-0000c4c0: 7279 2e61 7070 656e 6428 2754 6f74 616c  ry.append('Total
-0000c4d0: 2729 0a0a 2020 2020 2020 2020 6661 6374  ')..        fact
-0000c4e0: 6f72 5f64 6174 6120 3d20 7365 6c66 2e67  or_data = self.g
-0000c4f0: 6574 5f72 6573 756c 7473 286d 6f64 653d  et_results(mode=
-0000c500: 6d6f 6465 2c0a 2020 2020 2020 2020 2020  mode,.          
-0000c510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c520: 2020 2020 2020 2020 2020 2020 2066 6163               fac
-0000c530: 746f 7273 3d66 6163 746f 725f 6e61 6d65  tors=factor_name
-0000c540: 735f 746f 5f71 7565 7279 2c0a 2020 2020  s_to_query,.    
-0000c550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c570: 2020 2066 6163 746f 725f 6361 7465 676f     factor_catego
-0000c580: 7269 6573 3d66 6163 746f 725f 6361 7465  ries=factor_cate
-0000c590: 676f 7269 6573 2c0a 2020 2020 2020 2020  gories,.        
+0000c180: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
+0000c190: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
+0000c1a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000c1b0: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0000c1c0: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
+0000c1d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000c1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c1f0: 2020 2020 2075 6e69 743a 2046 6163 746f       unit: Facto
+0000c200: 7252 6973 6b55 6e69 7420 3d20 4661 6374  rRiskUnit = Fact
+0000c210: 6f72 5269 736b 556e 6974 2e4e 6f74 696f  orRiskUnit.Notio
+0000c220: 6e61 6c29 202d 3e20 7064 2e44 6174 6146  nal) -> pd.DataF
+0000c230: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
+0000c240: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
+0000c250: 7374 6f72 6963 616c 2066 6163 746f 7220  storical factor 
+0000c260: 6578 706f 7375 7265 0a0a 2020 2020 2020  exposure..      
+0000c270: 2020 3a70 6172 616d 206d 6f64 653a 2072    :param mode: r
+0000c280: 6573 756c 7473 206d 6f64 653b 2064 6566  esults mode; def
+0000c290: 6175 6c74 7320 746f 2074 6865 2070 6f72  aults to the por
+0000c2a0: 7466 6f6c 696f 206c 6576 656c 0a20 2020  tfolio level.   
+0000c2b0: 2020 2020 203a 7061 7261 6d20 6661 6374       :param fact
+0000c2c0: 6f72 5f6e 616d 6573 3a20 6f70 7469 6f6e  or_names: option
+0000c2d0: 616c 206c 6973 7420 6f66 2066 6163 746f  al list of facto
+0000c2e0: 7220 6e61 6d65 733b 2064 6566 6175 6c74  r names; default
+0000c2f0: 7320 746f 2061 6c6c 206f 6620 7468 656d  s to all of them
+0000c300: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000c310: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
+0000c320: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
+0000c330: 206f 6620 6661 6374 6f72 2063 6174 6567   of factor categ
+0000c340: 6f72 6965 733b 2064 6566 6175 6c74 7320  ories; defaults 
+0000c350: 746f 2061 6c6c 206f 6620 7468 656d 0a20  to all of them. 
+0000c360: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+0000c370: 6172 745f 6461 7465 3a20 7374 6172 7420  art_date: start 
+0000c380: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
+0000c390: 7261 6d20 656e 645f 6461 7465 3a20 656e  ram end_date: en
+0000c3a0: 6420 6461 7465 0a20 2020 2020 2020 203a  d date.        :
+0000c3b0: 7061 7261 6d20 6375 7272 656e 6379 3a20  param currency: 
+0000c3c0: 6375 7272 656e 6379 0a20 2020 2020 2020  currency.       
+0000c3d0: 203a 7061 7261 6d3a 2075 6e69 743a 2072   :param: unit: r
+0000c3e0: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
+0000c3f0: 7320 696e 2074 6572 6d73 206f 6620 6e6f  s in terms of no
+0000c400: 7469 6f6e 616c 206f 7220 7065 7263 656e  tional or percen
+0000c410: 7420 2864 6566 6175 6c74 7320 746f 206e  t (defaults to n
+0000c420: 6f74 696f 6e61 6c29 0a20 2020 2020 2020  otional).       
+0000c430: 203a 7265 7475 726e 3a20 6120 5061 6e64   :return: a Pand
+0000c440: 6173 2044 6174 6146 7261 6d65 2077 6974  as DataFrame wit
+0000c450: 6820 7468 6520 7265 7375 6c74 730a 2020  h the results.  
+0000c460: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000c470: 2020 6661 6374 6f72 5f64 6174 6120 3d20    factor_data = 
+0000c480: 7365 6c66 2e67 6574 5f72 6573 756c 7473  self.get_results
+0000c490: 286d 6f64 653d 6d6f 6465 2c0a 2020 2020  (mode=mode,.    
+0000c4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4c0: 2020 2066 6163 746f 7273 3d66 6163 746f     factors=facto
+0000c4d0: 725f 6e61 6d65 732c 0a20 2020 2020 2020  r_names,.       
+0000c4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c500: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
+0000c510: 733d 6661 6374 6f72 5f63 6174 6567 6f72  s=factor_categor
+0000c520: 6965 732c 0a20 2020 2020 2020 2020 2020  ies,.           
+0000c530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c540: 2020 2020 2020 2020 2020 2020 7374 6172              star
+0000c550: 745f 6461 7465 3d73 7461 7274 5f64 6174  t_date=start_dat
+0000c560: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000c570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c580: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
+0000c590: 7465 3d65 6e64 5f64 6174 652c 0a20 2020  te=end_date,.   
 0000c5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000c5c0: 7461 7274 5f64 6174 653d 7374 6172 745f  tart_date=start_
-0000c5d0: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
+0000c5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5c0: 2020 2020 6375 7272 656e 6379 3d63 7572      currency=cur
+0000c5d0: 7265 6e63 792c 0a20 2020 2020 2020 2020  rency,.         
 0000c5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5f0: 2020 2020 2020 2020 2020 2020 2065 6e64               end
-0000c600: 5f64 6174 653d 656e 645f 6461 7465 2c0a  _date=end_date,.
-0000c610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5f0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000c600: 7475 726e 5f66 6f72 6d61 743d 5265 7475  turn_format=Retu
+0000c610: 726e 466f 726d 6174 2e4a 534f 4e2c 0a20  rnFormat.JSON,. 
 0000c620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c630: 2020 2020 2020 2063 7572 7265 6e63 793d         currency=
-0000c640: 6375 7272 656e 6379 2c0a 2020 2020 2020  currency,.      
-0000c650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c670: 2072 6574 7572 6e5f 666f 726d 6174 3d52   return_format=R
-0000c680: 6574 7572 6e46 6f72 6d61 742e 4a53 4f4e  eturnFormat.JSON
-0000c690: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000c6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6b0: 2020 2020 2020 2020 2075 6e69 743d 756e           unit=un
-0000c6c0: 6974 2069 6620 7365 6c66 2e70 6f73 6974  it if self.posit
-0000c6d0: 696f 6e5f 736f 7572 6365 5f74 7970 6520  ion_source_type 
-0000c6e0: 213d 2050 6f73 6974 696f 6e53 6f75 7263  != PositionSourc
-0000c6f0: 6554 7970 652e 506f 7274 666f 6c69 6f0a  eType.Portfolio.
-0000c700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c640: 2020 2020 2020 756e 6974 3d75 6e69 7429        unit=unit)
+0000c650: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000c660: 5f66 6f72 6d61 745f 6d75 6c74 6970 6c65  _format_multiple
+0000c670: 5f66 6163 746f 725f 7461 626c 6528 6661  _factor_table(fa
+0000c680: 6374 6f72 5f64 6174 612c 2027 6578 706f  ctor_data, 'expo
+0000c690: 7375 7265 2729 0a0a 2020 2020 6465 6620  sure')..    def 
+0000c6a0: 6765 745f 6661 6374 6f72 5f70 726f 706f  get_factor_propo
+0000c6b0: 7274 696f 6e5f 6f66 5f72 6973 6b28 7365  rtion_of_risk(se
+0000c6c0: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+0000c6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6e0: 2020 2020 2020 2020 2020 6661 6374 6f72            factor
+0000c6f0: 5f6e 616d 6573 3a20 4c69 7374 5b73 7472  _names: List[str
+0000c700: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
 0000c710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c720: 2020 2020 2020 2065 6c73 6520 4661 6374         else Fact
-0000c730: 6f72 5269 736b 556e 6974 2e4e 6f74 696f  orRiskUnit.Notio
-0000c740: 6e61 6c29 0a0a 2020 2020 2020 2020 6966  nal)..        if
-0000c750: 2075 6e69 7420 3d3d 2046 6163 746f 7252   unit == FactorR
-0000c760: 6973 6b55 6e69 742e 4e6f 7469 6f6e 616c  iskUnit.Notional
-0000c770: 206f 7220 7365 6c66 2e70 6f73 6974 696f   or self.positio
-0000c780: 6e5f 736f 7572 6365 5f74 7970 6520 213d  n_source_type !=
-0000c790: 2050 6f73 6974 696f 6e53 6f75 7263 6554   PositionSourceT
-0000c7a0: 7970 652e 506f 7274 666f 6c69 6f3a 0a20  ype.Portfolio:. 
-0000c7b0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000c7c0: 6e20 5f66 6f72 6d61 745f 6d75 6c74 6970  n _format_multip
-0000c7d0: 6c65 5f66 6163 746f 725f 7461 626c 6528  le_factor_table(
-0000c7e0: 6661 6374 6f72 5f64 6174 612c 2027 706e  factor_data, 'pn
-0000c7f0: 6c27 290a 2020 2020 2020 2020 656c 7365  l').        else
-0000c800: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0000c810: 2066 6163 746f 725f 6e61 6d65 7320 6973   factor_names is
-0000c820: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0000c830: 2020 2020 2020 2066 6163 746f 725f 6e61         factor_na
-0000c840: 6d65 7320 3d20 6c69 7374 2873 6574 285b  mes = list(set([
-0000c850: 782e 6765 7428 2766 6163 746f 7227 2920  x.get('factor') 
-0000c860: 666f 7220 7820 696e 2066 6163 746f 725f  for x in factor_
-0000c870: 6461 7461 5d29 290a 0a20 2020 2020 2020  data]))..       
-0000c880: 2020 2020 2061 6c6c 5f72 6570 6f72 7473       all_reports
-0000c890: 203d 2047 7350 6f72 7466 6f6c 696f 4170   = GsPortfolioAp
-0000c8a0: 692e 6765 745f 7265 706f 7274 7328 7365  i.get_reports(se
-0000c8b0: 6c66 2e70 6f73 6974 696f 6e5f 736f 7572  lf.position_sour
-0000c8c0: 6365 5f69 642c 204e 6f6e 6529 0a20 2020  ce_id, None).   
-0000c8d0: 2020 2020 2020 2020 2070 6572 666f 726d           perform
-0000c8e0: 616e 6365 5f72 6570 6f72 7473 203d 205b  ance_reports = [
-0000c8f0: 5065 7266 6f72 6d61 6e63 6552 6570 6f72  PerformanceRepor
-0000c900: 742e 6765 7428 722e 6964 2920 666f 7220  t.get(r.id) for 
-0000c910: 7220 696e 2061 6c6c 5f72 6570 6f72 7473  r in all_reports
-0000c920: 2069 6620 722e 7479 7065 5f20 3d3d 0a20   if r.type_ ==. 
-0000c930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c950: 2020 5265 706f 7274 5479 7065 2e50 6f72    ReportType.Por
-0000c960: 7466 6f6c 696f 5f50 6572 666f 726d 616e  tfolio_Performan
-0000c970: 6365 5f41 6e61 6c79 7469 6373 5d0a 2020  ce_Analytics].  
-0000c980: 2020 2020 2020 2020 2020 7065 7266 6f72            perfor
-0000c990: 6d61 6e63 655f 7265 706f 7274 203d 205b  mance_report = [
-0000c9a0: 7220 666f 7220 7220 696e 2070 6572 666f  r for r in perfo
-0000c9b0: 726d 616e 6365 5f72 6570 6f72 7473 2069  rmance_reports i
-0000c9c0: 6620 722e 7061 7261 6d65 7465 7273 2e74  f r.parameters.t
-0000c9d0: 6167 7320 3d3d 2073 656c 662e 7061 7261  ags == self.para
-0000c9e0: 6d65 7465 7273 2e74 6167 735d 5b30 5d0a  meters.tags][0].
-0000c9f0: 2020 2020 2020 2020 2020 2020 6175 6d5f              aum_
-0000ca00: 6466 203d 2066 6f72 6d61 745f 6175 6d5f  df = format_aum_
-0000ca10: 666f 725f 7265 7475 726e 5f63 616c 6375  for_return_calcu
-0000ca20: 6c61 7469 6f6e 2870 6572 666f 726d 616e  lation(performan
-0000ca30: 6365 5f72 6570 6f72 742c 2073 7461 7274  ce_report, start
-0000ca40: 5f64 6174 652c 2065 6e64 5f64 6174 6529  _date, end_date)
-0000ca50: 0a0a 2020 2020 2020 2020 2020 2020 746f  ..            to
-0000ca60: 7461 6c5f 6461 7461 203d 205b 6420 666f  tal_data = [d fo
-0000ca70: 7220 6420 696e 2066 6163 746f 725f 6461  r d in factor_da
-0000ca80: 7461 2069 6620 642e 6765 7428 2766 6163  ta if d.get('fac
-0000ca90: 746f 7227 2920 3d3d 2027 546f 7461 6c27  tor') == 'Total'
-0000caa0: 5d0a 2020 2020 2020 2020 2020 2020 2320  ].            # 
-0000cab0: 546f 7461 6c20 706e 6c20 6d75 7374 2062  Total pnl must b
-0000cac0: 6520 7265 7469 6576 6564 2077 6865 6e20  e retieved when 
-0000cad0: 7573 696e 6720 736d 6f6f 7468 656e 696e  using smoothenin
-0000cae0: 6720 746f 2063 616c 6375 6c61 7465 2050  g to calculate P
-0000caf0: 6e6c 2025 0a20 2020 2020 2020 2020 2020  nl %.           
-0000cb00: 2069 6620 6c65 6e28 746f 7461 6c5f 6461   if len(total_da
-0000cb10: 7461 2920 3d3d 2030 3a0a 2020 2020 2020  ta) == 0:.      
-0000cb20: 2020 2020 2020 2020 2020 746f 7461 6c5f            total_
-0000cb30: 6461 7461 203d 2073 656c 662e 6765 745f  data = self.get_
-0000cb40: 7265 7375 6c74 7328 6d6f 6465 3d6d 6f64  results(mode=mod
-0000cb50: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000cb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb80: 2066 6163 746f 7273 3d5b 2754 6f74 616c   factors=['Total
-0000cb90: 275d 2c0a 2020 2020 2020 2020 2020 2020  '],.            
-0000cba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbc0: 2020 7374 6172 745f 6461 7465 3d73 7461    start_date=sta
-0000cbd0: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
-0000cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c730: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
+0000c740: 733a 204c 6973 745b 7374 725d 203d 204e  s: List[str] = N
+0000c750: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000c760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c770: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0000c780: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+0000c790: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000c7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7b0: 2020 2020 2020 2020 2020 2020 2065 6e64               end
+0000c7c0: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
+0000c7d0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000c7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7f0: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0000c800: 7265 6e63 793a 2043 7572 7265 6e63 7920  rency: Currency 
+0000c810: 3d20 4e6f 6e65 2920 2d3e 2070 642e 4461  = None) -> pd.Da
+0000c820: 7461 4672 616d 653a 0a20 2020 2020 2020  taFrame:.       
+0000c830: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+0000c840: 2068 6973 746f 7269 6361 6c20 6661 6374   historical fact
+0000c850: 6f72 2070 726f 706f 7274 696f 6e20 6f66  or proportion of
+0000c860: 2072 6973 6b0a 0a20 2020 2020 2020 203a   risk..        :
+0000c870: 7061 7261 6d20 6661 6374 6f72 5f6e 616d  param factor_nam
+0000c880: 6573 3a20 6f70 7469 6f6e 616c 206c 6973  es: optional lis
+0000c890: 7420 6f66 2066 6163 746f 7220 6e61 6d65  t of factor name
+0000c8a0: 733b 2064 6566 6175 6c74 7320 746f 2061  s; defaults to a
+0000c8b0: 6c6c 206f 6620 7468 656d 0a20 2020 2020  ll of them.     
+0000c8c0: 2020 203a 7061 7261 6d20 6661 6374 6f72     :param factor
+0000c8d0: 5f63 6174 6567 6f72 6965 733a 206f 7074  _categories: opt
+0000c8e0: 696f 6e61 6c20 6c69 7374 206f 6620 6661  ional list of fa
+0000c8f0: 6374 6f72 2063 6174 6567 6f72 6965 733b  ctor categories;
+0000c900: 2064 6566 6175 6c74 7320 746f 2061 6c6c   defaults to all
+0000c910: 206f 6620 7468 656d 0a20 2020 2020 2020   of them.       
+0000c920: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
+0000c930: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
+0000c940: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
+0000c950: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
+0000c960: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000c970: 6375 7272 656e 6379 3a20 6375 7272 656e  currency: curren
+0000c980: 6379 0a20 2020 2020 2020 203a 7265 7475  cy.        :retu
+0000c990: 726e 3a20 6120 5061 6e64 6173 2044 6174  rn: a Pandas Dat
+0000c9a0: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
+0000c9b0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+0000c9c0: 2222 220a 2020 2020 2020 2020 6661 6374  """.        fact
+0000c9d0: 6f72 5f64 6174 6120 3d20 7365 6c66 2e67  or_data = self.g
+0000c9e0: 6574 5f72 6573 756c 7473 2866 6163 746f  et_results(facto
+0000c9f0: 7273 3d66 6163 746f 725f 6e61 6d65 732c  rs=factor_names,
+0000ca00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ca10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca20: 2020 2020 2020 2020 6661 6374 6f72 5f63          factor_c
+0000ca30: 6174 6567 6f72 6965 733d 6661 6374 6f72  ategories=factor
+0000ca40: 5f63 6174 6567 6f72 6965 732c 0a20 2020  _categories,.   
+0000ca50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ca70: 2020 2020 7374 6172 745f 6461 7465 3d73      start_date=s
+0000ca80: 7461 7274 5f64 6174 652c 0a20 2020 2020  tart_date,.     
+0000ca90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000caa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cab0: 2020 656e 645f 6461 7465 3d65 6e64 5f64    end_date=end_d
+0000cac0: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
+0000cad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cae0: 2020 2020 2020 2020 2020 2020 6375 7272              curr
+0000caf0: 656e 6379 3d63 7572 7265 6e63 792c 0a20  ency=currency,. 
+0000cb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb20: 2020 2020 2020 7265 7475 726e 5f66 6f72        return_for
+0000cb30: 6d61 743d 5265 7475 726e 466f 726d 6174  mat=ReturnFormat
+0000cb40: 2e4a 534f 4e29 0a20 2020 2020 2020 2072  .JSON).        r
+0000cb50: 6574 7572 6e20 5f66 6f72 6d61 745f 6d75  eturn _format_mu
+0000cb60: 6c74 6970 6c65 5f66 6163 746f 725f 7461  ltiple_factor_ta
+0000cb70: 626c 6528 6661 6374 6f72 5f64 6174 612c  ble(factor_data,
+0000cb80: 2027 7072 6f70 6f72 7469 6f6e 4f66 5269   'proportionOfRi
+0000cb90: 736b 2729 0a0a 2020 2020 6465 6620 6765  sk')..    def ge
+0000cba0: 745f 616e 6e75 616c 5f72 6973 6b28 7365  t_annual_risk(se
+0000cbb0: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+0000cbc0: 2020 2020 2020 2020 2020 2020 6661 6374              fact
+0000cbd0: 6f72 5f6e 616d 6573 3a20 4c69 7374 5b73  or_names: List[s
+0000cbe0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
 0000cbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc00: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
-0000cc10: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
+0000cc00: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
+0000cc10: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
 0000cc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc40: 2020 2020 2020 2020 6375 7272 656e 6379          currency
-0000cc50: 3d63 7572 7265 6e63 792c 0a20 2020 2020  =currency,.     
-0000cc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc80: 2020 2020 2020 2020 2072 6574 7572 6e5f           return_
-0000cc90: 666f 726d 6174 3d52 6574 7572 6e46 6f72  format=ReturnFor
-0000cca0: 6d61 742e 4a53 4f4e 2c0a 2020 2020 2020  mat.JSON,.      
-0000ccb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccd0: 2020 2020 2020 2020 756e 6974 3d46 6163          unit=Fac
-0000cce0: 746f 7252 6973 6b55 6e69 742e 4e6f 7469  torRiskUnit.Noti
-0000ccf0: 6f6e 616c 290a 0a20 2020 2020 2020 2020  onal)..         
-0000cd00: 2020 2073 6d6f 6f74 6865 6e65 645f 6661     smoothened_fa
-0000cd10: 6374 6f72 5f64 6174 6120 3d20 7b7d 0a20  ctor_data = {}. 
-0000cd20: 2020 2020 2020 2020 2020 2066 6f72 2066             for f
-0000cd30: 6163 746f 725f 6e61 6d65 2069 6e20 6661  actor_name in fa
-0000cd40: 6374 6f72 5f6e 616d 6573 3a0a 2020 2020  ctor_names:.    
-0000cd50: 2020 2020 2020 2020 2020 2020 7365 6c65              sele
-0000cd60: 6374 6564 5f66 6163 746f 725f 6461 7461  cted_factor_data
-0000cd70: 203d 205b 6420 666f 7220 6420 696e 2066   = [d for d in f
-0000cd80: 6163 746f 725f 6461 7461 2069 6620 642e  actor_data if d.
-0000cd90: 6765 7428 2766 6163 746f 7227 2920 3d3d  get('factor') ==
-0000cda0: 2066 6163 746f 725f 6e61 6d65 5d0a 2020   factor_name].  
-0000cdb0: 2020 2020 2020 2020 2020 2020 2020 7374                st
-0000cdc0: 6172 745f 6461 7465 203d 2064 742e 6461  art_date = dt.da
-0000cdd0: 7465 7469 6d65 2e73 7472 7074 696d 6528  tetime.strptime(
-0000cde0: 6d69 6e28 5b64 5b27 6461 7465 275d 2066  min([d['date'] f
-0000cdf0: 6f72 2064 2069 6e20 7365 6c65 6374 6564  or d in selected
-0000ce00: 5f66 6163 746f 725f 6461 7461 5d29 2c20  _factor_data]), 
-0000ce10: 2725 592d 256d 2d25 6427 292e 6461 7465  '%Y-%m-%d').date
-0000ce20: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000ce30: 2020 2073 6d6f 6f74 6865 6e65 645f 6661     smoothened_fa
-0000ce40: 6374 6f72 5f64 6174 615b 6661 6374 6f72  ctor_data[factor
-0000ce50: 5f6e 616d 655d 203d 205c 0a20 2020 2020  _name] = \.     
-0000ce60: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-0000ce70: 6574 5f66 6163 746f 725f 706e 6c5f 7065  et_factor_pnl_pe
-0000ce80: 7263 656e 745f 666f 725f 7369 6e67 6c65  rcent_for_single
-0000ce90: 5f66 6163 746f 7228 7365 6c65 6374 6564  _factor(selected
-0000cea0: 5f66 6163 746f 725f 6461 7461 2c20 746f  _factor_data, to
-0000ceb0: 7461 6c5f 6461 7461 2c20 6175 6d5f 6466  tal_data, aum_df
-0000cec0: 2c20 7374 6172 745f 6461 7465 290a 0a20  , start_date).. 
-0000ced0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0000cee0: 7420 3d20 7064 2e44 6174 6146 7261 6d65  t = pd.DataFrame
-0000cef0: 2873 6d6f 6f74 6865 6e65 645f 6661 6374  (smoothened_fact
-0000cf00: 6f72 5f64 6174 6129 2e72 6573 6574 5f69  or_data).reset_i
-0000cf10: 6e64 6578 2829 2e72 656e 616d 6528 636f  ndex().rename(co
-0000cf20: 6c75 6d6e 733d 7b27 6461 7465 273a 2027  lumns={'date': '
-0000cf30: 4461 7465 277d 290a 2020 2020 2020 2020  Date'}).        
-0000cf40: 2020 2020 7265 7475 726e 2072 6573 756c      return resul
-0000cf50: 742e 6c6f 635b 7265 7375 6c74 5b27 4461  t.loc[result['Da
-0000cf60: 7465 275d 203e 3d20 7374 6172 745f 6461  te'] >= start_da
-0000cf70: 7465 2e73 7472 6674 696d 6528 2225 592d  te.strftime("%Y-
-0000cf80: 256d 2d26 6422 295d 0a0a 2020 2020 6465  %m-&d")]..    de
-0000cf90: 6620 6765 745f 6661 6374 6f72 5f65 7870  f get_factor_exp
-0000cfa0: 6f73 7572 6528 7365 6c66 2c0a 2020 2020  osure(self,.    
-0000cfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cfc0: 2020 2020 2020 2020 6d6f 6465 3a20 4661          mode: Fa
-0000cfd0: 6374 6f72 5269 736b 5265 7375 6c74 734d  ctorRiskResultsM
-0000cfe0: 6f64 6520 3d20 4661 6374 6f72 5269 736b  ode = FactorRisk
-0000cff0: 5265 7375 6c74 734d 6f64 652e 506f 7274  ResultsMode.Port
-0000d000: 666f 6c69 6f2c 0a20 2020 2020 2020 2020  folio,.         
-0000d010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d020: 2020 2066 6163 746f 725f 6e61 6d65 733a     factor_names:
-0000d030: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-0000d040: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000d050: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000d060: 6163 746f 725f 6361 7465 676f 7269 6573  actor_categories
-0000d070: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0000d080: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-0000d090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0a0: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
-0000d0b0: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
-0000d0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d0d0: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-0000d0e0: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-0000d0f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000d100: 2020 2020 2020 2020 2020 2020 2020 6375                cu
-0000d110: 7272 656e 6379 3a20 4375 7272 656e 6379  rrency: Currency
-0000d120: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000d130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d140: 2020 2020 2075 6e69 743a 2046 6163 746f       unit: Facto
-0000d150: 7252 6973 6b55 6e69 7420 3d20 4661 6374  rRiskUnit = Fact
-0000d160: 6f72 5269 736b 556e 6974 2e4e 6f74 696f  orRiskUnit.Notio
-0000d170: 6e61 6c29 202d 3e20 7064 2e44 6174 6146  nal) -> pd.DataF
-0000d180: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
-0000d190: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
-0000d1a0: 7374 6f72 6963 616c 2066 6163 746f 7220  storical factor 
-0000d1b0: 6578 706f 7375 7265 0a0a 2020 2020 2020  exposure..      
-0000d1c0: 2020 3a70 6172 616d 206d 6f64 653a 2072    :param mode: r
-0000d1d0: 6573 756c 7473 206d 6f64 653b 2064 6566  esults mode; def
-0000d1e0: 6175 6c74 7320 746f 2074 6865 2070 6f72  aults to the por
-0000d1f0: 7466 6f6c 696f 206c 6576 656c 0a20 2020  tfolio level.   
-0000d200: 2020 2020 203a 7061 7261 6d20 6661 6374       :param fact
-0000d210: 6f72 5f6e 616d 6573 3a20 6f70 7469 6f6e  or_names: option
-0000d220: 616c 206c 6973 7420 6f66 2066 6163 746f  al list of facto
-0000d230: 7220 6e61 6d65 733b 2064 6566 6175 6c74  r names; default
-0000d240: 7320 746f 2061 6c6c 206f 6620 7468 656d  s to all of them
-0000d250: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000d260: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
-0000d270: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
-0000d280: 206f 6620 6661 6374 6f72 2063 6174 6567   of factor categ
-0000d290: 6f72 6965 733b 2064 6566 6175 6c74 7320  ories; defaults 
-0000d2a0: 746f 2061 6c6c 206f 6620 7468 656d 0a20  to all of them. 
-0000d2b0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-0000d2c0: 6172 745f 6461 7465 3a20 7374 6172 7420  art_date: start 
-0000d2d0: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
-0000d2e0: 7261 6d20 656e 645f 6461 7465 3a20 656e  ram end_date: en
-0000d2f0: 6420 6461 7465 0a20 2020 2020 2020 203a  d date.        :
-0000d300: 7061 7261 6d20 6375 7272 656e 6379 3a20  param currency: 
-0000d310: 6375 7272 656e 6379 0a20 2020 2020 2020  currency.       
-0000d320: 203a 7061 7261 6d3a 2075 6e69 743a 2072   :param: unit: r
-0000d330: 6574 7572 6e20 7468 6520 7265 7375 6c74  eturn the result
-0000d340: 7320 696e 2074 6572 6d73 206f 6620 6e6f  s in terms of no
-0000d350: 7469 6f6e 616c 206f 7220 7065 7263 656e  tional or percen
-0000d360: 7420 2864 6566 6175 6c74 7320 746f 206e  t (defaults to n
-0000d370: 6f74 696f 6e61 6c29 0a20 2020 2020 2020  otional).       
-0000d380: 203a 7265 7475 726e 3a20 6120 5061 6e64   :return: a Pand
-0000d390: 6173 2044 6174 6146 7261 6d65 2077 6974  as DataFrame wit
-0000d3a0: 6820 7468 6520 7265 7375 6c74 730a 2020  h the results.  
-0000d3b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000d3c0: 2020 6661 6374 6f72 5f64 6174 6120 3d20    factor_data = 
-0000d3d0: 7365 6c66 2e67 6574 5f72 6573 756c 7473  self.get_results
-0000d3e0: 286d 6f64 653d 6d6f 6465 2c0a 2020 2020  (mode=mode,.    
+0000cc30: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
+0000cc40: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
+0000cc50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000cc60: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+0000cc70: 6379 3a20 4375 7272 656e 6379 203d 204e  cy: Currency = N
+0000cc80: 6f6e 6529 202d 3e20 7064 2e44 6174 6146  one) -> pd.DataF
+0000cc90: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
+0000cca0: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
+0000ccb0: 7374 6f72 6963 616c 2061 6e6e 7561 6c20  storical annual 
+0000ccc0: 7269 736b 0a0a 2020 2020 2020 2020 3a70  risk..        :p
+0000ccd0: 6172 616d 2066 6163 746f 725f 6e61 6d65  aram factor_name
+0000cce0: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
+0000ccf0: 206f 6620 6661 6374 6f72 206e 616d 6573   of factor names
+0000cd00: 3b20 6d75 7374 2062 6520 6672 6f6d 2074  ; must be from t
+0000cd10: 6865 2066 6f6c 6c6f 7769 6e67 3a20 2246  he following: "F
+0000cd20: 6163 746f 7222 2c20 2253 7065 6369 6669  actor", "Specifi
+0000cd30: 6322 2c20 2254 6f74 616c 220a 2020 2020  c", "Total".    
+0000cd40: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
+0000cd50: 5f64 6174 653a 2073 7461 7274 2064 6174  _date: start dat
+0000cd60: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+0000cd70: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
+0000cd80: 6174 650a 2020 2020 2020 2020 3a70 6172  ate.        :par
+0000cd90: 616d 2063 7572 7265 6e63 793a 2063 7572  am currency: cur
+0000cda0: 7265 6e63 790a 2020 2020 2020 2020 3a72  rency.        :r
+0000cdb0: 6574 7572 6e3a 2061 2050 616e 6461 7320  eturn: a Pandas 
+0000cdc0: 4461 7461 4672 616d 6520 7769 7468 2074  DataFrame with t
+0000cdd0: 6865 2072 6573 756c 7473 0a20 2020 2020  he results.     
+0000cde0: 2020 2022 2222 0a20 2020 2020 2020 2066     """.        f
+0000cdf0: 6163 746f 725f 6461 7461 203d 2073 656c  actor_data = sel
+0000ce00: 662e 6765 745f 7265 7375 6c74 7328 6661  f.get_results(fa
+0000ce10: 6374 6f72 733d 6661 6374 6f72 5f6e 616d  ctors=factor_nam
+0000ce20: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
+0000ce30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ce40: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0000ce50: 5f64 6174 653d 7374 6172 745f 6461 7465  _date=start_date
+0000ce60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000ce70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ce80: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
+0000ce90: 653d 656e 645f 6461 7465 2c0a 2020 2020  e=end_date,.    
+0000cea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ceb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cec0: 2020 2063 7572 7265 6e63 793d 6375 7272     currency=curr
+0000ced0: 656e 6379 2c0a 2020 2020 2020 2020 2020  ency,.          
+0000cee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cef0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0000cf00: 7572 6e5f 666f 726d 6174 3d52 6574 7572  urn_format=Retur
+0000cf10: 6e46 6f72 6d61 742e 4a53 4f4e 290a 2020  nFormat.JSON).  
+0000cf20: 2020 2020 2020 7265 7475 726e 205f 666f        return _fo
+0000cf30: 726d 6174 5f6d 756c 7469 706c 655f 6661  rmat_multiple_fa
+0000cf40: 6374 6f72 5f74 6162 6c65 2866 6163 746f  ctor_table(facto
+0000cf50: 725f 6461 7461 2c20 2761 6e6e 7561 6c52  r_data, 'annualR
+0000cf60: 6973 6b27 290a 0a20 2020 2064 6566 2067  isk')..    def g
+0000cf70: 6574 5f64 6169 6c79 5f72 6973 6b28 7365  et_daily_risk(se
+0000cf80: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
+0000cf90: 2020 2020 2020 2020 2020 2066 6163 746f             facto
+0000cfa0: 725f 6e61 6d65 733a 204c 6973 745b 7374  r_names: List[st
+0000cfb0: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+0000cfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cfd0: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
+0000cfe0: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
+0000cff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d000: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
+0000d010: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
+0000d020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d030: 2020 2020 2020 6375 7272 656e 6379 3a20        currency: 
+0000d040: 4375 7272 656e 6379 203d 204e 6f6e 6529  Currency = None)
+0000d050: 202d 3e20 7064 2e44 6174 6146 7261 6d65   -> pd.DataFrame
+0000d060: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000d070: 2020 2020 2020 4765 7420 6869 7374 6f72        Get histor
+0000d080: 6963 616c 2064 6169 6c79 2072 6973 6b0a  ical daily risk.
+0000d090: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000d0a0: 6661 6374 6f72 5f6e 616d 6573 3a20 6f70  factor_names: op
+0000d0b0: 7469 6f6e 616c 206c 6973 7420 6f66 2066  tional list of f
+0000d0c0: 6163 746f 7220 6e61 6d65 733b 206d 7573  actor names; mus
+0000d0d0: 7420 6265 2066 726f 6d20 7468 6520 666f  t be from the fo
+0000d0e0: 6c6c 6f77 696e 673a 2022 4661 6374 6f72  llowing: "Factor
+0000d0f0: 222c 2022 5370 6563 6966 6963 222c 2022  ", "Specific", "
+0000d100: 546f 7461 6c22 0a20 2020 2020 2020 203a  Total".        :
+0000d110: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
+0000d120: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
+0000d130: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
+0000d140: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
+0000d150: 2020 2020 2020 203a 7061 7261 6d20 6375         :param cu
+0000d160: 7272 656e 6379 3a20 6375 7272 656e 6379  rrency: currency
+0000d170: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+0000d180: 3a20 6120 5061 6e64 6173 2044 6174 6146  : a Pandas DataF
+0000d190: 7261 6d65 2077 6974 6820 7468 6520 7265  rame with the re
+0000d1a0: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
+0000d1b0: 220a 2020 2020 2020 2020 6661 6374 6f72  ".        factor
+0000d1c0: 5f64 6174 6120 3d20 7365 6c66 2e67 6574  _data = self.get
+0000d1d0: 5f72 6573 756c 7473 2866 6163 746f 7273  _results(factors
+0000d1e0: 3d66 6163 746f 725f 6e61 6d65 732c 0a20  =factor_names,. 
+0000d1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d210: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
+0000d220: 3d73 7461 7274 5f64 6174 652c 0a20 2020  =start_date,.   
+0000d230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d250: 2020 2020 656e 645f 6461 7465 3d65 6e64      end_date=end
+0000d260: 5f64 6174 652c 0a20 2020 2020 2020 2020  _date,.         
+0000d270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d280: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0000d290: 7272 656e 6379 3d63 7572 7265 6e63 792c  rrency=currency,
+0000d2a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d2c0: 2020 2020 2020 2020 7265 7475 726e 5f66          return_f
+0000d2d0: 6f72 6d61 743d 5265 7475 726e 466f 726d  ormat=ReturnForm
+0000d2e0: 6174 2e4a 534f 4e29 0a20 2020 2020 2020  at.JSON).       
+0000d2f0: 2072 6574 7572 6e20 5f66 6f72 6d61 745f   return _format_
+0000d300: 6d75 6c74 6970 6c65 5f66 6163 746f 725f  multiple_factor_
+0000d310: 7461 626c 6528 6661 6374 6f72 5f64 6174  table(factor_dat
+0000d320: 612c 2027 6461 696c 7952 6973 6b27 290a  a, 'dailyRisk').
+0000d330: 0a20 2020 2064 6566 2067 6574 5f65 785f  .    def get_ex_
+0000d340: 616e 7465 5f76 6172 2873 656c 662c 0a20  ante_var(self,. 
+0000d350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d360: 2020 2020 2020 2063 6f6e 6669 6465 6e63         confidenc
+0000d370: 655f 696e 7465 7276 616c 3a20 666c 6f61  e_interval: floa
+0000d380: 7420 3d20 3935 2e30 2c0a 2020 2020 2020  t = 95.0,.      
+0000d390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d3a0: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
+0000d3b0: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
+0000d3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d3d0: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
+0000d3e0: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
 0000d3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d410: 2020 2066 6163 746f 7273 3d66 6163 746f     factors=facto
-0000d420: 725f 6e61 6d65 732c 0a20 2020 2020 2020  r_names,.       
-0000d430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d450: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
-0000d460: 733d 6661 6374 6f72 5f63 6174 6567 6f72  s=factor_categor
-0000d470: 6965 732c 0a20 2020 2020 2020 2020 2020  ies,.           
-0000d480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d490: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0000d4a0: 745f 6461 7465 3d73 7461 7274 5f64 6174  t_date=start_dat
-0000d4b0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000d4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d4d0: 2020 2020 2020 2020 2020 656e 645f 6461            end_da
-0000d4e0: 7465 3d65 6e64 5f64 6174 652c 0a20 2020  te=end_date,.   
-0000d4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d510: 2020 2020 6375 7272 656e 6379 3d63 7572      currency=cur
-0000d520: 7265 6e63 792c 0a20 2020 2020 2020 2020  rency,.         
-0000d530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d540: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000d550: 7475 726e 5f66 6f72 6d61 743d 5265 7475  turn_format=Retu
-0000d560: 726e 466f 726d 6174 2e4a 534f 4e2c 0a20  rnFormat.JSON,. 
-0000d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d590: 2020 2020 2020 756e 6974 3d75 6e69 7429        unit=unit)
-0000d5a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000d5b0: 5f66 6f72 6d61 745f 6d75 6c74 6970 6c65  _format_multiple
-0000d5c0: 5f66 6163 746f 725f 7461 626c 6528 6661  _factor_table(fa
-0000d5d0: 6374 6f72 5f64 6174 612c 2027 6578 706f  ctor_data, 'expo
-0000d5e0: 7375 7265 2729 0a0a 2020 2020 6465 6620  sure')..    def 
-0000d5f0: 6765 745f 6661 6374 6f72 5f70 726f 706f  get_factor_propo
-0000d600: 7274 696f 6e5f 6f66 5f72 6973 6b28 7365  rtion_of_risk(se
-0000d610: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-0000d620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d630: 2020 2020 2020 2020 2020 6661 6374 6f72            factor
-0000d640: 5f6e 616d 6573 3a20 4c69 7374 5b73 7472  _names: List[str
-0000d650: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0000d660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d400: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+0000d410: 3a20 4375 7272 656e 6379 203d 204e 6f6e  : Currency = Non
+0000d420: 6529 202d 3e20 7064 2e44 6174 6146 7261  e) -> pd.DataFra
+0000d430: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
+0000d440: 2020 2020 2020 2020 4765 7420 6578 2d61          Get ex-a
+0000d450: 6e74 6520 5661 6c75 6520 6174 2052 6973  nte Value at Ris
+0000d460: 6b20 6173 2064 6566 696e 6564 2062 7920  k as defined by 
+0000d470: 7468 6520 7269 736b 206d 6f64 656c 0a0a  the risk model..
+0000d480: 2020 2020 2020 2020 3a70 6172 616d 2063          :param c
+0000d490: 6f6e 6669 6465 6e63 655f 696e 7465 7276  onfidence_interv
+0000d4a0: 616c 3a20 7468 6520 5661 5220 636f 6e66  al: the VaR conf
+0000d4b0: 6964 656e 6365 2069 6e74 6572 7661 6c20  idence interval 
+0000d4c0: 6173 2061 2070 6572 6365 6e74 0a20 2020  as a percent.   
+0000d4d0: 2020 2020 203a 7061 7261 6d20 7374 6172       :param star
+0000d4e0: 745f 6461 7465 3a20 7374 6172 7420 6461  t_date: start da
+0000d4f0: 7465 0a20 2020 2020 2020 203a 7061 7261  te.        :para
+0000d500: 6d20 656e 645f 6461 7465 3a20 656e 6420  m end_date: end 
+0000d510: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
+0000d520: 7261 6d20 6375 7272 656e 6379 3a20 6375  ram currency: cu
+0000d530: 7272 656e 6379 0a20 2020 2020 2020 203a  rrency.        :
+0000d540: 7265 7475 726e 3a20 6120 5061 6e64 6173  return: a Pandas
+0000d550: 2044 6174 6146 7261 6d65 2077 6974 6820   DataFrame with 
+0000d560: 7468 6520 7265 7375 6c74 730a 2020 2020  the results.    
+0000d570: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000d580: 6661 6374 6f72 5f64 6174 6120 3d20 7365  factor_data = se
+0000d590: 6c66 2e67 6574 5f72 6573 756c 7473 2866  lf.get_results(f
+0000d5a0: 6163 746f 7273 3d5b 2754 6f74 616c 275d  actors=['Total']
+0000d5b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000d5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d5d0: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+0000d5e0: 6174 653d 7374 6172 745f 6461 7465 2c0a  ate=start_date,.
+0000d5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d610: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
+0000d620: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
+0000d630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d650: 2063 7572 7265 6e63 793d 6375 7272 656e   currency=curren
+0000d660: 6379 2c0a 2020 2020 2020 2020 2020 2020  cy,.            
 0000d670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d680: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
-0000d690: 733a 204c 6973 745b 7374 725d 203d 204e  s: List[str] = N
-0000d6a0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-0000d6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d6c0: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000d6d0: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
-0000d6e0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0000d6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d700: 2020 2020 2020 2020 2020 2020 2065 6e64               end
-0000d710: 5f64 6174 653a 2064 742e 6461 7465 203d  _date: dt.date =
-0000d720: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0000d730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d740: 2020 2020 2020 2020 2020 2020 2063 7572               cur
-0000d750: 7265 6e63 793a 2043 7572 7265 6e63 7920  rency: Currency 
-0000d760: 3d20 4e6f 6e65 2920 2d3e 2070 642e 4461  = None) -> pd.Da
-0000d770: 7461 4672 616d 653a 0a20 2020 2020 2020  taFrame:.       
-0000d780: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-0000d790: 2068 6973 746f 7269 6361 6c20 6661 6374   historical fact
-0000d7a0: 6f72 2070 726f 706f 7274 696f 6e20 6f66  or proportion of
-0000d7b0: 2072 6973 6b0a 0a20 2020 2020 2020 203a   risk..        :
-0000d7c0: 7061 7261 6d20 6661 6374 6f72 5f6e 616d  param factor_nam
-0000d7d0: 6573 3a20 6f70 7469 6f6e 616c 206c 6973  es: optional lis
-0000d7e0: 7420 6f66 2066 6163 746f 7220 6e61 6d65  t of factor name
-0000d7f0: 733b 2064 6566 6175 6c74 7320 746f 2061  s; defaults to a
-0000d800: 6c6c 206f 6620 7468 656d 0a20 2020 2020  ll of them.     
-0000d810: 2020 203a 7061 7261 6d20 6661 6374 6f72     :param factor
-0000d820: 5f63 6174 6567 6f72 6965 733a 206f 7074  _categories: opt
-0000d830: 696f 6e61 6c20 6c69 7374 206f 6620 6661  ional list of fa
-0000d840: 6374 6f72 2063 6174 6567 6f72 6965 733b  ctor categories;
-0000d850: 2064 6566 6175 6c74 7320 746f 2061 6c6c   defaults to all
-0000d860: 206f 6620 7468 656d 0a20 2020 2020 2020   of them.       
-0000d870: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
-0000d880: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
-0000d890: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-0000d8a0: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
-0000d8b0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000d8c0: 6375 7272 656e 6379 3a20 6375 7272 656e  currency: curren
-0000d8d0: 6379 0a20 2020 2020 2020 203a 7265 7475  cy.        :retu
-0000d8e0: 726e 3a20 6120 5061 6e64 6173 2044 6174  rn: a Pandas Dat
-0000d8f0: 6146 7261 6d65 2077 6974 6820 7468 6520  aFrame with the 
-0000d900: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
-0000d910: 2222 220a 2020 2020 2020 2020 6661 6374  """.        fact
-0000d920: 6f72 5f64 6174 6120 3d20 7365 6c66 2e67  or_data = self.g
-0000d930: 6574 5f72 6573 756c 7473 2866 6163 746f  et_results(facto
-0000d940: 7273 3d66 6163 746f 725f 6e61 6d65 732c  rs=factor_names,
-0000d950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d970: 2020 2020 2020 2020 6661 6374 6f72 5f63          factor_c
-0000d980: 6174 6567 6f72 6965 733d 6661 6374 6f72  ategories=factor
-0000d990: 5f63 6174 6567 6f72 6965 732c 0a20 2020  _categories,.   
-0000d9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d9b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d9c0: 2020 2020 7374 6172 745f 6461 7465 3d73      start_date=s
-0000d9d0: 7461 7274 5f64 6174 652c 0a20 2020 2020  tart_date,.     
-0000d9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da00: 2020 656e 645f 6461 7465 3d65 6e64 5f64    end_date=end_d
-0000da10: 6174 652c 0a20 2020 2020 2020 2020 2020  ate,.           
-0000da20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da30: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-0000da40: 656e 6379 3d63 7572 7265 6e63 792c 0a20  ency=currency,. 
-0000da50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da70: 2020 2020 2020 7265 7475 726e 5f66 6f72        return_for
-0000da80: 6d61 743d 5265 7475 726e 466f 726d 6174  mat=ReturnFormat
-0000da90: 2e4a 534f 4e29 0a20 2020 2020 2020 2072  .JSON).        r
-0000daa0: 6574 7572 6e20 5f66 6f72 6d61 745f 6d75  eturn _format_mu
-0000dab0: 6c74 6970 6c65 5f66 6163 746f 725f 7461  ltiple_factor_ta
-0000dac0: 626c 6528 6661 6374 6f72 5f64 6174 612c  ble(factor_data,
-0000dad0: 2027 7072 6f70 6f72 7469 6f6e 4f66 5269   'proportionOfRi
-0000dae0: 736b 2729 0a0a 2020 2020 6465 6620 6765  sk')..    def ge
-0000daf0: 745f 616e 6e75 616c 5f72 6973 6b28 7365  t_annual_risk(se
-0000db00: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-0000db10: 2020 2020 2020 2020 2020 2020 6661 6374              fact
-0000db20: 6f72 5f6e 616d 6573 3a20 4c69 7374 5b73  or_names: List[s
-0000db30: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-0000db40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000db50: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
-0000db60: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
-0000db70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000db80: 2020 2020 2020 2020 656e 645f 6461 7465          end_date
-0000db90: 3a20 6474 2e64 6174 6520 3d20 4e6f 6e65  : dt.date = None
-0000dba0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000dbb0: 2020 2020 2020 2020 2020 6375 7272 656e            curren
-0000dbc0: 6379 3a20 4375 7272 656e 6379 203d 204e  cy: Currency = N
-0000dbd0: 6f6e 6529 202d 3e20 7064 2e44 6174 6146  one) -> pd.DataF
-0000dbe0: 7261 6d65 3a0a 2020 2020 2020 2020 2222  rame:.        ""
-0000dbf0: 220a 2020 2020 2020 2020 4765 7420 6869  ".        Get hi
-0000dc00: 7374 6f72 6963 616c 2061 6e6e 7561 6c20  storical annual 
-0000dc10: 7269 736b 0a0a 2020 2020 2020 2020 3a70  risk..        :p
-0000dc20: 6172 616d 2066 6163 746f 725f 6e61 6d65  aram factor_name
-0000dc30: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
-0000dc40: 206f 6620 6661 6374 6f72 206e 616d 6573   of factor names
-0000dc50: 3b20 6d75 7374 2062 6520 6672 6f6d 2074  ; must be from t
-0000dc60: 6865 2066 6f6c 6c6f 7769 6e67 3a20 2246  he following: "F
-0000dc70: 6163 746f 7222 2c20 2253 7065 6369 6669  actor", "Specifi
-0000dc80: 6322 2c20 2254 6f74 616c 220a 2020 2020  c", "Total".    
-0000dc90: 2020 2020 3a70 6172 616d 2073 7461 7274      :param start
-0000dca0: 5f64 6174 653a 2073 7461 7274 2064 6174  _date: start dat
-0000dcb0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-0000dcc0: 2065 6e64 5f64 6174 653a 2065 6e64 2064   end_date: end d
-0000dcd0: 6174 650a 2020 2020 2020 2020 3a70 6172  ate.        :par
-0000dce0: 616d 2063 7572 7265 6e63 793a 2063 7572  am currency: cur
-0000dcf0: 7265 6e63 790a 2020 2020 2020 2020 3a72  rency.        :r
-0000dd00: 6574 7572 6e3a 2061 2050 616e 6461 7320  eturn: a Pandas 
-0000dd10: 4461 7461 4672 616d 6520 7769 7468 2074  DataFrame with t
-0000dd20: 6865 2072 6573 756c 7473 0a20 2020 2020  he results.     
-0000dd30: 2020 2022 2222 0a20 2020 2020 2020 2066     """.        f
-0000dd40: 6163 746f 725f 6461 7461 203d 2073 656c  actor_data = sel
-0000dd50: 662e 6765 745f 7265 7375 6c74 7328 6661  f.get_results(fa
-0000dd60: 6374 6f72 733d 6661 6374 6f72 5f6e 616d  ctors=factor_nam
-0000dd70: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
-0000dd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd90: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0000dda0: 5f64 6174 653d 7374 6172 745f 6461 7465  _date=start_date
-0000ddb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000ddc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ddd0: 2020 2020 2020 2020 2065 6e64 5f64 6174           end_dat
-0000dde0: 653d 656e 645f 6461 7465 2c0a 2020 2020  e=end_date,.    
-0000ddf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de10: 2020 2063 7572 7265 6e63 793d 6375 7272     currency=curr
-0000de20: 656e 6379 2c0a 2020 2020 2020 2020 2020  ency,.          
-0000de30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de40: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000de50: 7572 6e5f 666f 726d 6174 3d52 6574 7572  urn_format=Retur
-0000de60: 6e46 6f72 6d61 742e 4a53 4f4e 290a 2020  nFormat.JSON).  
-0000de70: 2020 2020 2020 7265 7475 726e 205f 666f        return _fo
-0000de80: 726d 6174 5f6d 756c 7469 706c 655f 6661  rmat_multiple_fa
-0000de90: 6374 6f72 5f74 6162 6c65 2866 6163 746f  ctor_table(facto
-0000dea0: 725f 6461 7461 2c20 2761 6e6e 7561 6c52  r_data, 'annualR
-0000deb0: 6973 6b27 290a 0a20 2020 2064 6566 2067  isk')..    def g
-0000dec0: 6574 5f64 6169 6c79 5f72 6973 6b28 7365  et_daily_risk(se
-0000ded0: 6c66 2c0a 2020 2020 2020 2020 2020 2020  lf,.            
-0000dee0: 2020 2020 2020 2020 2020 2066 6163 746f             facto
-0000def0: 725f 6e61 6d65 733a 204c 6973 745b 7374  r_names: List[st
-0000df00: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-0000df10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000df20: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
-0000df30: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
-0000df40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000df50: 2020 2020 2065 6e64 5f64 6174 653a 2064       end_date: d
-0000df60: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
-0000df70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000df80: 2020 2020 2020 6375 7272 656e 6379 3a20        currency: 
-0000df90: 4375 7272 656e 6379 203d 204e 6f6e 6529  Currency = None)
-0000dfa0: 202d 3e20 7064 2e44 6174 6146 7261 6d65   -> pd.DataFrame
-0000dfb0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000dfc0: 2020 2020 2020 4765 7420 6869 7374 6f72        Get histor
-0000dfd0: 6963 616c 2064 6169 6c79 2072 6973 6b0a  ical daily risk.
-0000dfe0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000dff0: 6661 6374 6f72 5f6e 616d 6573 3a20 6f70  factor_names: op
-0000e000: 7469 6f6e 616c 206c 6973 7420 6f66 2066  tional list of f
-0000e010: 6163 746f 7220 6e61 6d65 733b 206d 7573  actor names; mus
-0000e020: 7420 6265 2066 726f 6d20 7468 6520 666f  t be from the fo
-0000e030: 6c6c 6f77 696e 673a 2022 4661 6374 6f72  llowing: "Factor
-0000e040: 222c 2022 5370 6563 6966 6963 222c 2022  ", "Specific", "
-0000e050: 546f 7461 6c22 0a20 2020 2020 2020 203a  Total".        :
-0000e060: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
-0000e070: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
-0000e080: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
-0000e090: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
-0000e0a0: 2020 2020 2020 203a 7061 7261 6d20 6375         :param cu
-0000e0b0: 7272 656e 6379 3a20 6375 7272 656e 6379  rrency: currency
-0000e0c0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0000e0d0: 3a20 6120 5061 6e64 6173 2044 6174 6146  : a Pandas DataF
-0000e0e0: 7261 6d65 2077 6974 6820 7468 6520 7265  rame with the re
-0000e0f0: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
-0000e100: 220a 2020 2020 2020 2020 6661 6374 6f72  ".        factor
-0000e110: 5f64 6174 6120 3d20 7365 6c66 2e67 6574  _data = self.get
-0000e120: 5f72 6573 756c 7473 2866 6163 746f 7273  _results(factors
-0000e130: 3d66 6163 746f 725f 6e61 6d65 732c 0a20  =factor_names,. 
-0000e140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e160: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
-0000e170: 3d73 7461 7274 5f64 6174 652c 0a20 2020  =start_date,.   
-0000e180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e1a0: 2020 2020 656e 645f 6461 7465 3d65 6e64      end_date=end
-0000e1b0: 5f64 6174 652c 0a20 2020 2020 2020 2020  _date,.         
-0000e1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e1d0: 2020 2020 2020 2020 2020 2020 2020 6375                cu
-0000e1e0: 7272 656e 6379 3d63 7572 7265 6e63 792c  rrency=currency,
-0000e1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e210: 2020 2020 2020 2020 7265 7475 726e 5f66          return_f
-0000e220: 6f72 6d61 743d 5265 7475 726e 466f 726d  ormat=ReturnForm
-0000e230: 6174 2e4a 534f 4e29 0a20 2020 2020 2020  at.JSON).       
-0000e240: 2072 6574 7572 6e20 5f66 6f72 6d61 745f   return _format_
-0000e250: 6d75 6c74 6970 6c65 5f66 6163 746f 725f  multiple_factor_
-0000e260: 7461 626c 6528 6661 6374 6f72 5f64 6174  table(factor_dat
-0000e270: 612c 2027 6461 696c 7952 6973 6b27 290a  a, 'dailyRisk').
-0000e280: 0a20 2020 2064 6566 2067 6574 5f65 785f  .    def get_ex_
-0000e290: 616e 7465 5f76 6172 2873 656c 662c 0a20  ante_var(self,. 
-0000e2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e2b0: 2020 2020 2020 2063 6f6e 6669 6465 6e63         confidenc
-0000e2c0: 655f 696e 7465 7276 616c 3a20 666c 6f61  e_interval: floa
-0000e2d0: 7420 3d20 3935 2e30 2c0a 2020 2020 2020  t = 95.0,.      
-0000e2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e2f0: 2020 7374 6172 745f 6461 7465 3a20 6474    start_date: dt
-0000e300: 2e64 6174 6520 3d20 4e6f 6e65 2c0a 2020  .date = None,.  
+0000d680: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000d690: 6e5f 666f 726d 6174 3d52 6574 7572 6e46  n_format=ReturnF
+0000d6a0: 6f72 6d61 742e 4a53 4f4e 290a 2020 2020  ormat.JSON).    
+0000d6b0: 2020 2020 7a5f 7363 6f72 6520 3d20 7374      z_score = st
+0000d6c0: 2e6e 6f72 6d2e 7070 6628 636f 6e66 6964  .norm.ppf(confid
+0000d6d0: 656e 6365 5f69 6e74 6572 7661 6c20 2f20  ence_interval / 
+0000d6e0: 3130 3029 0a20 2020 2020 2020 2066 6f72  100).        for
+0000d6f0: 2064 6174 6120 696e 2066 6163 746f 725f   data in factor_
+0000d700: 6461 7461 3a0a 2020 2020 2020 2020 2020  data:.          
+0000d710: 2020 6461 7461 5b27 7661 7227 5d20 3d20    data['var'] = 
+0000d720: 6461 7461 5b27 6461 696c 7952 6973 6b27  data['dailyRisk'
+0000d730: 5d20 2a20 7a5f 7363 6f72 650a 2020 2020  ] * z_score.    
+0000d740: 2020 2020 7265 7475 726e 205f 666f 726d      return _form
+0000d750: 6174 5f6d 756c 7469 706c 655f 6661 6374  at_multiple_fact
+0000d760: 6f72 5f74 6162 6c65 2866 6163 746f 725f  or_table(factor_
+0000d770: 6461 7461 2c20 2776 6172 2729 0a0a 0a64  data, 'var')...d
+0000d780: 6566 205f 666f 726d 6174 5f6d 756c 7469  ef _format_multi
+0000d790: 706c 655f 6661 6374 6f72 5f74 6162 6c65  ple_factor_table
+0000d7a0: 2866 6163 746f 725f 6461 7461 3a20 4c69  (factor_data: Li
+0000d7b0: 7374 5b44 6963 745d 2c0a 2020 2020 2020  st[Dict],.      
+0000d7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d7d0: 2020 2020 2020 2020 2020 2020 6b65 793a              key:
+0000d7e0: 2073 7472 2920 2d3e 2070 642e 4461 7461   str) -> pd.Data
+0000d7f0: 4672 616d 653a 0a20 2020 2066 6f72 6d61  Frame:.    forma
+0000d800: 7474 6564 5f64 6174 6120 3d20 7b7d 0a20  tted_data = {}. 
+0000d810: 2020 2066 6f72 2064 6174 6120 696e 2066     for data in f
+0000d820: 6163 746f 725f 6461 7461 3a0a 2020 2020  actor_data:.    
+0000d830: 2020 2020 6461 7465 203d 2064 6174 615b      date = data[
+0000d840: 2764 6174 6527 5d0a 2020 2020 2020 2020  'date'].        
+0000d850: 6966 2064 6174 6520 696e 2066 6f72 6d61  if date in forma
+0000d860: 7474 6564 5f64 6174 613a 0a20 2020 2020  tted_data:.     
+0000d870: 2020 2020 2020 2066 6f72 6d61 7474 6564         formatted
+0000d880: 5f64 6174 615b 6461 7465 5d5b 6461 7461  _data[date][data
+0000d890: 5b27 6661 6374 6f72 275d 5d20 3d20 6461  ['factor']] = da
+0000d8a0: 7461 5b6b 6579 5d0a 2020 2020 2020 2020  ta[key].        
+0000d8b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000d8c0: 2020 666f 726d 6174 7465 645f 6461 7461    formatted_data
+0000d8d0: 5b64 6174 655d 203d 207b 0a20 2020 2020  [date] = {.     
+0000d8e0: 2020 2020 2020 2020 2020 2027 4461 7465             'Date
+0000d8f0: 273a 2064 6174 652c 0a20 2020 2020 2020  ': date,.       
+0000d900: 2020 2020 2020 2020 2064 6174 615b 2766           data['f
+0000d910: 6163 746f 7227 5d3a 2064 6174 615b 6b65  actor']: data[ke
+0000d920: 795d 0a20 2020 2020 2020 2020 2020 207d  y].            }
+0000d930: 0a0a 2020 2020 7265 7475 726e 2070 642e  ..    return pd.
+0000d940: 4461 7461 4672 616d 6528 666f 726d 6174  DataFrame(format
+0000d950: 7465 645f 6461 7461 2e76 616c 7565 7328  ted_data.values(
+0000d960: 2929 0a0a 0a63 6c61 7373 2054 6865 6d61  ))...class Thema
+0000d970: 7469 6352 6570 6f72 7428 5265 706f 7274  ticReport(Report
+0000d980: 293a 0a20 2020 2022 2222 0a20 2020 2048  ):.    """.    H
+0000d990: 6973 746f 7269 6361 6c20 616e 616c 7973  istorical analys
+0000d9a0: 6573 206f 6e20 7468 6520 6578 706f 7375  es on the exposu
+0000d9b0: 7265 206f 6620 6120 706f 7274 666f 6c69  re of a portfoli
+0000d9c0: 6f20 746f 2076 6172 696f 7573 2047 5320  o to various GS 
+0000d9d0: 466c 6167 7368 6970 2054 6865 6d61 7469  Flagship Themati
+0000d9e0: 6320 6261 736b 6574 7320 6f76 6572 2061  c baskets over a
+0000d9f0: 2064 6174 6520 7261 6e67 650a 2020 2020   date range.    
+0000da00: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+0000da10: 6e69 745f 5f28 7365 6c66 2c0a 2020 2020  nit__(self,.    
+0000da20: 2020 2020 2020 2020 2020 2020 2072 6570               rep
+0000da30: 6f72 745f 6964 3a20 7374 7220 3d20 4e6f  ort_id: str = No
+0000da40: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0000da50: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
+0000da60: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000da70: 2020 2020 2020 2020 706f 7369 7469 6f6e          position
+0000da80: 5f73 6f75 7263 655f 6964 3a20 7374 7220  _source_id: str 
+0000da90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000daa0: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
+0000dab0: 6572 733a 2052 6570 6f72 7450 6172 616d  ers: ReportParam
+0000dac0: 6574 6572 7320 3d20 4e6f 6e65 2c0a 2020  eters = None,.  
+0000dad0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000dae0: 6f73 6974 696f 6e5f 736f 7572 6365 5f74  osition_source_t
+0000daf0: 7970 653a 2055 6e69 6f6e 5b73 7472 2c20  ype: Union[str, 
+0000db00: 506f 7369 7469 6f6e 536f 7572 6365 5479  PositionSourceTy
+0000db10: 7065 5d20 3d20 4e6f 6e65 2c0a 2020 2020  pe] = None,.    
+0000db20: 2020 2020 2020 2020 2020 2020 2072 6570               rep
+0000db30: 6f72 745f 7479 7065 3a20 556e 696f 6e5b  ort_type: Union[
+0000db40: 7374 722c 2052 6570 6f72 7454 7970 655d  str, ReportType]
+0000db50: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000db60: 2020 2020 2020 2020 2020 6561 726c 6965            earlie
+0000db70: 7374 5f73 7461 7274 5f64 6174 653a 2064  st_start_date: d
+0000db80: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
+0000db90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dba0: 6c61 7465 7374 5f65 6e64 5f64 6174 653a  latest_end_date:
+0000dbb0: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
+0000dbc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dbd0: 2020 6c61 7465 7374 5f65 7865 6375 7469    latest_executi
+0000dbe0: 6f6e 5f74 696d 653a 2064 742e 6461 7465  on_time: dt.date
+0000dbf0: 7469 6d65 203d 204e 6f6e 652c 0a20 2020  time = None,.   
+0000dc00: 2020 2020 2020 2020 2020 2020 2020 7374                st
+0000dc10: 6174 7573 3a20 556e 696f 6e5b 7374 722c  atus: Union[str,
+0000dc20: 2052 6570 6f72 7453 7461 7475 735d 203d   ReportStatus] =
+0000dc30: 2052 6570 6f72 7453 7461 7475 732e 6e65   ReportStatus.ne
+0000dc40: 772c 0a20 2020 2020 2020 2020 2020 2020  w,.             
+0000dc50: 2020 2020 7065 7263 656e 7461 6765 5f63      percentage_c
+0000dc60: 6f6d 706c 6574 653a 2066 6c6f 6174 203d  omplete: float =
+0000dc70: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0000dc80: 2020 2020 2020 2020 2a2a 6b77 6172 6773          **kwargs
+0000dc90: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0000dca0: 2020 2020 2020 2048 6973 746f 7269 6361         Historica
+0000dcb0: 6c20 616e 616c 7973 6573 206f 6e20 7468  l analyses on th
+0000dcc0: 6520 6578 706f 7375 7265 206f 6620 6120  e exposure of a 
+0000dcd0: 706f 7274 666f 6c69 6f20 746f 2076 6172  portfolio to var
+0000dce0: 696f 7573 2047 5320 466c 6167 7368 6970  ious GS Flagship
+0000dcf0: 2054 6865 6d61 7469 6320 6261 736b 6574   Thematic basket
+0000dd00: 7320 6f76 6572 2061 2064 6174 6520 7261  s over a date ra
+0000dd10: 6e67 650a 0a20 2020 2020 2020 203a 7061  nge..        :pa
+0000dd20: 7261 6d20 7265 706f 7274 5f69 643a 204d  ram report_id: M
+0000dd30: 6172 7175 6565 2072 6570 6f72 7420 4944  arquee report ID
+0000dd40: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000dd50: 6e61 6d65 3a20 7265 706f 7274 206e 616d  name: report nam
+0000dd60: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+0000dd70: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+0000dd80: 5f69 643a 2070 6f73 6974 696f 6e20 736f  _id: position so
+0000dd90: 7572 6365 2049 440a 2020 2020 2020 2020  urce ID.        
+0000dda0: 3a70 6172 616d 2070 6172 616d 6574 6572  :param parameter
+0000ddb0: 733a 2070 6172 616d 6574 6572 7320 6f66  s: parameters of
+0000ddc0: 2074 6865 2072 6570 6f72 740a 2020 2020   the report.    
+0000ddd0: 2020 2020 3a70 6172 616d 2070 6f73 6974      :param posit
+0000dde0: 696f 6e5f 736f 7572 6365 5f74 7970 653a  ion_source_type:
+0000ddf0: 2070 6f73 6974 696f 6e20 736f 7572 6365   position source
+0000de00: 2028 692e 652e 2027 506f 7274 666f 6c69   (i.e. 'Portfoli
+0000de10: 6f27 2c20 2741 7373 6574 272c 206f 7220  o', 'Asset', or 
+0000de20: 2748 6564 6765 2729 0a20 2020 2020 2020  'Hedge').       
+0000de30: 203a 7061 7261 6d20 7265 706f 7274 5f74   :param report_t
+0000de40: 7970 653a 2072 6570 6f72 7420 7479 7065  ype: report type
+0000de50: 2028 692e 652e 2027 506f 7274 666f 6c69   (i.e. 'Portfoli
+0000de60: 6f20 5468 656d 6174 6963 2041 6e61 6c79  o Thematic Analy
+0000de70: 7469 6373 2720 6f72 2027 4173 7365 7420  tics' or 'Asset 
+0000de80: 5468 656d 6174 6963 2041 6e61 6c79 7469  Thematic Analyti
+0000de90: 6373 2729 0a20 2020 2020 2020 203a 7061  cs').        :pa
+0000dea0: 7261 6d20 6561 726c 6965 7374 5f73 7461  ram earliest_sta
+0000deb0: 7274 5f64 6174 653a 2073 7461 7274 2064  rt_date: start d
+0000dec0: 6174 6520 6f66 2072 6570 6f72 740a 2020  ate of report.  
+0000ded0: 2020 2020 2020 3a70 6172 616d 206c 6174        :param lat
+0000dee0: 6573 745f 656e 645f 6461 7465 3a20 656e  est_end_date: en
+0000def0: 6420 6461 7465 206f 6620 7265 706f 7274  d date of report
+0000df00: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000df10: 6c61 7465 7374 5f65 7865 6375 7469 6f6e  latest_execution
+0000df20: 5f74 696d 653a 2064 6174 6520 6f66 2074  _time: date of t
+0000df30: 6865 206c 6174 6573 7420 6578 6563 7574  he latest execut
+0000df40: 696f 6e0a 2020 2020 2020 2020 3a70 6172  ion.        :par
+0000df50: 616d 2073 7461 7475 733a 2073 7461 7475  am status: statu
+0000df60: 7320 6f66 206f 6620 7265 706f 7274 2028  s of of report (
+0000df70: 692e 652e 2027 7265 6164 7927 2c20 2765  i.e. 'ready', 'e
+0000df80: 7865 6375 7469 6e67 272c 206f 7220 2764  xecuting', or 'd
+0000df90: 6f6e 6527 290a 2020 2020 2020 2020 3a70  one').        :p
+0000dfa0: 6172 616d 2070 6572 6365 6e74 6167 655f  aram percentage_
+0000dfb0: 636f 6d70 6c65 7465 3a20 7065 7263 656e  complete: percen
+0000dfc0: 7420 6f66 2074 6865 2072 6570 6f72 7420  t of the report 
+0000dfd0: 7468 6174 2069 7320 636f 6d70 6c65 7465  that is complete
+0000dfe0: 0a0a 2020 2020 2020 2020 2a2a 4578 616d  ..        **Exam
+0000dff0: 706c 6573 2a2a 0a0a 2020 2020 2020 2020  ples**..        
+0000e000: 3e3e 3e20 7468 656d 6174 6963 5f72 6570  >>> thematic_rep
+0000e010: 6f72 7420 3d20 5468 656d 6174 6963 5265  ort = ThematicRe
+0000e020: 706f 7274 280a 2020 2020 2020 2020 3e3e  port(.        >>
+0000e030: 3e20 2020 2020 7265 706f 7274 5f69 643d  >     report_id=
+0000e040: 2752 4550 4f52 5449 4427 2c0a 2020 2020  'REPORTID',.    
+0000e050: 2020 2020 3e3e 3e20 2020 2020 706f 7369      >>>     posi
+0000e060: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+0000e070: 3d50 6f73 6974 696f 6e53 6f75 7263 6554  =PositionSourceT
+0000e080: 7970 652e 506f 7274 666f 6c69 6f2c 0a20  ype.Portfolio,. 
+0000e090: 2020 2020 2020 203e 3e3e 2020 2020 2070         >>>     p
+0000e0a0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
+0000e0b0: 643d 2750 4f52 5446 4f4c 494f 4944 272c  d='PORTFOLIOID',
+0000e0c0: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
+0000e0d0: 2070 6172 616d 6574 6572 733d 4e6f 6e65   parameters=None
+0000e0e0: 0a20 2020 2020 2020 203e 3e3e 2029 0a20  .        >>> ). 
+0000e0f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000e100: 2020 2069 6620 706f 7369 7469 6f6e 5f73     if position_s
+0000e110: 6f75 7263 655f 6964 2061 6e64 206e 6f74  ource_id and not
+0000e120: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
+0000e130: 5f74 7970 653a 0a20 2020 2020 2020 2020  _type:.         
+0000e140: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
+0000e150: 6365 5f74 7970 6520 3d20 506f 7369 7469  ce_type = Positi
+0000e160: 6f6e 536f 7572 6365 5479 7065 2e50 6f72  onSourceType.Por
+0000e170: 7466 6f6c 696f 2069 6620 706f 7369 7469  tfolio if positi
+0000e180: 6f6e 5f73 6f75 7263 655f 6964 2e73 7461  on_source_id.sta
+0000e190: 7274 7377 6974 6828 274d 5027 2920 656c  rtswith('MP') el
+0000e1a0: 7365 205c 0a20 2020 2020 2020 2020 2020  se \.           
+0000e1b0: 2020 2020 2050 6f73 6974 696f 6e53 6f75       PositionSou
+0000e1c0: 7263 6554 7970 652e 4173 7365 740a 0a20  rceType.Asset.. 
+0000e1d0: 2020 2020 2020 2069 6620 706f 7369 7469         if positi
+0000e1e0: 6f6e 5f73 6f75 7263 655f 7479 7065 2061  on_source_type a
+0000e1f0: 6e64 206e 6f74 2072 6570 6f72 745f 7479  nd not report_ty
+0000e200: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
+0000e210: 7265 706f 7274 5f74 7970 6520 3d20 5265  report_type = Re
+0000e220: 706f 7274 5479 7065 2e50 6f72 7466 6f6c  portType.Portfol
+0000e230: 696f 5f54 6865 6d61 7469 635f 416e 616c  io_Thematic_Anal
+0000e240: 7974 6963 7320 6966 2070 6f73 6974 696f  ytics if positio
+0000e250: 6e5f 736f 7572 6365 5f74 7970 6520 6973  n_source_type is
+0000e260: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
+0000e270: 2020 2050 6f73 6974 696f 6e53 6f75 7263     PositionSourc
+0000e280: 6554 7970 652e 506f 7274 666f 6c69 6f20  eType.Portfolio 
+0000e290: 656c 7365 2052 6570 6f72 7454 7970 652e  else ReportType.
+0000e2a0: 4173 7365 745f 5468 656d 6174 6963 5f41  Asset_Thematic_A
+0000e2b0: 6e61 6c79 7469 6373 0a0a 2020 2020 2020  nalytics..      
+0000e2c0: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+0000e2d0: 5f5f 2872 6570 6f72 745f 6964 2c20 6e61  __(report_id, na
+0000e2e0: 6d65 2c20 706f 7369 7469 6f6e 5f73 6f75  me, position_sou
+0000e2f0: 7263 655f 6964 2c20 706f 7369 7469 6f6e  rce_id, position
+0000e300: 5f73 6f75 7263 655f 7479 7065 2c0a 2020  _source_type,.  
 0000e310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e320: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
-0000e330: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
-0000e340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e350: 2020 2020 2020 2020 6375 7272 656e 6379          currency
-0000e360: 3a20 4375 7272 656e 6379 203d 204e 6f6e  : Currency = Non
-0000e370: 6529 202d 3e20 7064 2e44 6174 6146 7261  e) -> pd.DataFra
-0000e380: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
-0000e390: 2020 2020 2020 2020 4765 7420 6578 2d61          Get ex-a
-0000e3a0: 6e74 6520 5661 6c75 6520 6174 2052 6973  nte Value at Ris
-0000e3b0: 6b20 6173 2064 6566 696e 6564 2062 7920  k as defined by 
-0000e3c0: 7468 6520 7269 736b 206d 6f64 656c 0a0a  the risk model..
-0000e3d0: 2020 2020 2020 2020 3a70 6172 616d 2063          :param c
-0000e3e0: 6f6e 6669 6465 6e63 655f 696e 7465 7276  onfidence_interv
-0000e3f0: 616c 3a20 7468 6520 5661 5220 636f 6e66  al: the VaR conf
-0000e400: 6964 656e 6365 2069 6e74 6572 7661 6c20  idence interval 
-0000e410: 6173 2061 2070 6572 6365 6e74 0a20 2020  as a percent.   
-0000e420: 2020 2020 203a 7061 7261 6d20 7374 6172       :param star
-0000e430: 745f 6461 7465 3a20 7374 6172 7420 6461  t_date: start da
-0000e440: 7465 0a20 2020 2020 2020 203a 7061 7261  te.        :para
-0000e450: 6d20 656e 645f 6461 7465 3a20 656e 6420  m end_date: end 
-0000e460: 6461 7465 0a20 2020 2020 2020 203a 7061  date.        :pa
-0000e470: 7261 6d20 6375 7272 656e 6379 3a20 6375  ram currency: cu
-0000e480: 7272 656e 6379 0a20 2020 2020 2020 203a  rrency.        :
-0000e490: 7265 7475 726e 3a20 6120 5061 6e64 6173  return: a Pandas
-0000e4a0: 2044 6174 6146 7261 6d65 2077 6974 6820   DataFrame with 
-0000e4b0: 7468 6520 7265 7375 6c74 730a 2020 2020  the results.    
-0000e4c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e4d0: 6661 6374 6f72 5f64 6174 6120 3d20 7365  factor_data = se
-0000e4e0: 6c66 2e67 6574 5f72 6573 756c 7473 2866  lf.get_results(f
-0000e4f0: 6163 746f 7273 3d5b 2754 6f74 616c 275d  actors=['Total']
-0000e500: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000e510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e520: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
-0000e530: 6174 653d 7374 6172 745f 6461 7465 2c0a  ate=start_date,.
-0000e540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e560: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
-0000e570: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
-0000e580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5a0: 2063 7572 7265 6e63 793d 6375 7272 656e   currency=curren
-0000e5b0: 6379 2c0a 2020 2020 2020 2020 2020 2020  cy,.            
-0000e5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000e5e0: 6e5f 666f 726d 6174 3d52 6574 7572 6e46  n_format=ReturnF
-0000e5f0: 6f72 6d61 742e 4a53 4f4e 290a 2020 2020  ormat.JSON).    
-0000e600: 2020 2020 7a5f 7363 6f72 6520 3d20 7374      z_score = st
-0000e610: 2e6e 6f72 6d2e 7070 6628 636f 6e66 6964  .norm.ppf(confid
-0000e620: 656e 6365 5f69 6e74 6572 7661 6c20 2f20  ence_interval / 
-0000e630: 3130 3029 0a20 2020 2020 2020 2066 6f72  100).        for
-0000e640: 2064 6174 6120 696e 2066 6163 746f 725f   data in factor_
-0000e650: 6461 7461 3a0a 2020 2020 2020 2020 2020  data:.          
-0000e660: 2020 6461 7461 5b27 7661 7227 5d20 3d20    data['var'] = 
-0000e670: 6461 7461 5b27 6461 696c 7952 6973 6b27  data['dailyRisk'
-0000e680: 5d20 2a20 7a5f 7363 6f72 650a 2020 2020  ] * z_score.    
-0000e690: 2020 2020 7265 7475 726e 205f 666f 726d      return _form
-0000e6a0: 6174 5f6d 756c 7469 706c 655f 6661 6374  at_multiple_fact
-0000e6b0: 6f72 5f74 6162 6c65 2866 6163 746f 725f  or_table(factor_
-0000e6c0: 6461 7461 2c20 2776 6172 2729 0a0a 0a64  data, 'var')...d
-0000e6d0: 6566 205f 666f 726d 6174 5f6d 756c 7469  ef _format_multi
-0000e6e0: 706c 655f 6661 6374 6f72 5f74 6162 6c65  ple_factor_table
-0000e6f0: 2866 6163 746f 725f 6461 7461 3a20 4c69  (factor_data: Li
-0000e700: 7374 5b44 6963 745d 2c0a 2020 2020 2020  st[Dict],.      
-0000e710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e720: 2020 2020 2020 2020 2020 2020 6b65 793a              key:
-0000e730: 2073 7472 2920 2d3e 2070 642e 4461 7461   str) -> pd.Data
-0000e740: 4672 616d 653a 0a20 2020 2066 6f72 6d61  Frame:.    forma
-0000e750: 7474 6564 5f64 6174 6120 3d20 7b7d 0a20  tted_data = {}. 
-0000e760: 2020 2066 6f72 2064 6174 6120 696e 2066     for data in f
-0000e770: 6163 746f 725f 6461 7461 3a0a 2020 2020  actor_data:.    
-0000e780: 2020 2020 6461 7465 203d 2064 6174 615b      date = data[
-0000e790: 2764 6174 6527 5d0a 2020 2020 2020 2020  'date'].        
-0000e7a0: 6966 2064 6174 6520 696e 2066 6f72 6d61  if date in forma
-0000e7b0: 7474 6564 5f64 6174 613a 0a20 2020 2020  tted_data:.     
-0000e7c0: 2020 2020 2020 2066 6f72 6d61 7474 6564         formatted
-0000e7d0: 5f64 6174 615b 6461 7465 5d5b 6461 7461  _data[date][data
-0000e7e0: 5b27 6661 6374 6f72 275d 5d20 3d20 6461  ['factor']] = da
-0000e7f0: 7461 5b6b 6579 5d0a 2020 2020 2020 2020  ta[key].        
-0000e800: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000e810: 2020 666f 726d 6174 7465 645f 6461 7461    formatted_data
-0000e820: 5b64 6174 655d 203d 207b 0a20 2020 2020  [date] = {.     
-0000e830: 2020 2020 2020 2020 2020 2027 4461 7465             'Date
-0000e840: 273a 2064 6174 652c 0a20 2020 2020 2020  ': date,.       
-0000e850: 2020 2020 2020 2020 2064 6174 615b 2766           data['f
-0000e860: 6163 746f 7227 5d3a 2064 6174 615b 6b65  actor']: data[ke
-0000e870: 795d 0a20 2020 2020 2020 2020 2020 207d  y].            }
-0000e880: 0a0a 2020 2020 7265 7475 726e 2070 642e  ..    return pd.
-0000e890: 4461 7461 4672 616d 6528 666f 726d 6174  DataFrame(format
-0000e8a0: 7465 645f 6461 7461 2e76 616c 7565 7328  ted_data.values(
-0000e8b0: 2929 0a0a 0a63 6c61 7373 2054 6865 6d61  ))...class Thema
-0000e8c0: 7469 6352 6570 6f72 7428 5265 706f 7274  ticReport(Report
-0000e8d0: 293a 0a20 2020 2022 2222 0a20 2020 2048  ):.    """.    H
-0000e8e0: 6973 746f 7269 6361 6c20 616e 616c 7973  istorical analys
-0000e8f0: 6573 206f 6e20 7468 6520 6578 706f 7375  es on the exposu
-0000e900: 7265 206f 6620 6120 706f 7274 666f 6c69  re of a portfoli
-0000e910: 6f20 746f 2076 6172 696f 7573 2047 5320  o to various GS 
-0000e920: 466c 6167 7368 6970 2054 6865 6d61 7469  Flagship Themati
-0000e930: 6320 6261 736b 6574 7320 6f76 6572 2061  c baskets over a
-0000e940: 2064 6174 6520 7261 6e67 650a 2020 2020   date range.    
-0000e950: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-0000e960: 6e69 745f 5f28 7365 6c66 2c0a 2020 2020  nit__(self,.    
-0000e970: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0000e980: 6f72 745f 6964 3a20 7374 7220 3d20 4e6f  ort_id: str = No
-0000e990: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-0000e9a0: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-0000e9b0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0000e9c0: 2020 2020 2020 2020 706f 7369 7469 6f6e          position
-0000e9d0: 5f73 6f75 7263 655f 6964 3a20 7374 7220  _source_id: str 
-0000e9e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000e9f0: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
-0000ea00: 6572 733a 2052 6570 6f72 7450 6172 616d  ers: ReportParam
-0000ea10: 6574 6572 7320 3d20 4e6f 6e65 2c0a 2020  eters = None,.  
-0000ea20: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0000ea30: 6f73 6974 696f 6e5f 736f 7572 6365 5f74  osition_source_t
-0000ea40: 7970 653a 2055 6e69 6f6e 5b73 7472 2c20  ype: Union[str, 
-0000ea50: 506f 7369 7469 6f6e 536f 7572 6365 5479  PositionSourceTy
-0000ea60: 7065 5d20 3d20 4e6f 6e65 2c0a 2020 2020  pe] = None,.    
-0000ea70: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0000ea80: 6f72 745f 7479 7065 3a20 556e 696f 6e5b  ort_type: Union[
-0000ea90: 7374 722c 2052 6570 6f72 7454 7970 655d  str, ReportType]
-0000eaa0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000eab0: 2020 2020 2020 2020 2020 6561 726c 6965            earlie
-0000eac0: 7374 5f73 7461 7274 5f64 6174 653a 2064  st_start_date: d
-0000ead0: 742e 6461 7465 203d 204e 6f6e 652c 0a20  t.date = None,. 
-0000eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eaf0: 6c61 7465 7374 5f65 6e64 5f64 6174 653a  latest_end_date:
-0000eb00: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-0000eb10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000eb20: 2020 6c61 7465 7374 5f65 7865 6375 7469    latest_executi
-0000eb30: 6f6e 5f74 696d 653a 2064 742e 6461 7465  on_time: dt.date
-0000eb40: 7469 6d65 203d 204e 6f6e 652c 0a20 2020  time = None,.   
-0000eb50: 2020 2020 2020 2020 2020 2020 2020 7374                st
-0000eb60: 6174 7573 3a20 556e 696f 6e5b 7374 722c  atus: Union[str,
-0000eb70: 2052 6570 6f72 7453 7461 7475 735d 203d   ReportStatus] =
-0000eb80: 2052 6570 6f72 7453 7461 7475 732e 6e65   ReportStatus.ne
-0000eb90: 772c 0a20 2020 2020 2020 2020 2020 2020  w,.             
-0000eba0: 2020 2020 7065 7263 656e 7461 6765 5f63      percentage_c
-0000ebb0: 6f6d 706c 6574 653a 2066 6c6f 6174 203d  omplete: float =
-0000ebc0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-0000ebd0: 2020 2020 2020 2020 2a2a 6b77 6172 6773          **kwargs
-0000ebe0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-0000ebf0: 2020 2020 2020 2048 6973 746f 7269 6361         Historica
-0000ec00: 6c20 616e 616c 7973 6573 206f 6e20 7468  l analyses on th
-0000ec10: 6520 6578 706f 7375 7265 206f 6620 6120  e exposure of a 
-0000ec20: 706f 7274 666f 6c69 6f20 746f 2076 6172  portfolio to var
-0000ec30: 696f 7573 2047 5320 466c 6167 7368 6970  ious GS Flagship
-0000ec40: 2054 6865 6d61 7469 6320 6261 736b 6574   Thematic basket
-0000ec50: 7320 6f76 6572 2061 2064 6174 6520 7261  s over a date ra
-0000ec60: 6e67 650a 0a20 2020 2020 2020 203a 7061  nge..        :pa
-0000ec70: 7261 6d20 7265 706f 7274 5f69 643a 204d  ram report_id: M
-0000ec80: 6172 7175 6565 2072 6570 6f72 7420 4944  arquee report ID
-0000ec90: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000eca0: 6e61 6d65 3a20 7265 706f 7274 206e 616d  name: report nam
-0000ecb0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-0000ecc0: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-0000ecd0: 5f69 643a 2070 6f73 6974 696f 6e20 736f  _id: position so
-0000ece0: 7572 6365 2049 440a 2020 2020 2020 2020  urce ID.        
-0000ecf0: 3a70 6172 616d 2070 6172 616d 6574 6572  :param parameter
-0000ed00: 733a 2070 6172 616d 6574 6572 7320 6f66  s: parameters of
-0000ed10: 2074 6865 2072 6570 6f72 740a 2020 2020   the report.    
-0000ed20: 2020 2020 3a70 6172 616d 2070 6f73 6974      :param posit
-0000ed30: 696f 6e5f 736f 7572 6365 5f74 7970 653a  ion_source_type:
-0000ed40: 2070 6f73 6974 696f 6e20 736f 7572 6365   position source
-0000ed50: 2028 692e 652e 2027 506f 7274 666f 6c69   (i.e. 'Portfoli
-0000ed60: 6f27 2c20 2741 7373 6574 272c 206f 7220  o', 'Asset', or 
-0000ed70: 2748 6564 6765 2729 0a20 2020 2020 2020  'Hedge').       
-0000ed80: 203a 7061 7261 6d20 7265 706f 7274 5f74   :param report_t
-0000ed90: 7970 653a 2072 6570 6f72 7420 7479 7065  ype: report type
-0000eda0: 2028 692e 652e 2027 506f 7274 666f 6c69   (i.e. 'Portfoli
-0000edb0: 6f20 5468 656d 6174 6963 2041 6e61 6c79  o Thematic Analy
-0000edc0: 7469 6373 2720 6f72 2027 4173 7365 7420  tics' or 'Asset 
-0000edd0: 5468 656d 6174 6963 2041 6e61 6c79 7469  Thematic Analyti
-0000ede0: 6373 2729 0a20 2020 2020 2020 203a 7061  cs').        :pa
-0000edf0: 7261 6d20 6561 726c 6965 7374 5f73 7461  ram earliest_sta
-0000ee00: 7274 5f64 6174 653a 2073 7461 7274 2064  rt_date: start d
-0000ee10: 6174 6520 6f66 2072 6570 6f72 740a 2020  ate of report.  
-0000ee20: 2020 2020 2020 3a70 6172 616d 206c 6174        :param lat
-0000ee30: 6573 745f 656e 645f 6461 7465 3a20 656e  est_end_date: en
-0000ee40: 6420 6461 7465 206f 6620 7265 706f 7274  d date of report
-0000ee50: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000ee60: 6c61 7465 7374 5f65 7865 6375 7469 6f6e  latest_execution
-0000ee70: 5f74 696d 653a 2064 6174 6520 6f66 2074  _time: date of t
-0000ee80: 6865 206c 6174 6573 7420 6578 6563 7574  he latest execut
-0000ee90: 696f 6e0a 2020 2020 2020 2020 3a70 6172  ion.        :par
-0000eea0: 616d 2073 7461 7475 733a 2073 7461 7475  am status: statu
-0000eeb0: 7320 6f66 206f 6620 7265 706f 7274 2028  s of of report (
-0000eec0: 692e 652e 2027 7265 6164 7927 2c20 2765  i.e. 'ready', 'e
-0000eed0: 7865 6375 7469 6e67 272c 206f 7220 2764  xecuting', or 'd
-0000eee0: 6f6e 6527 290a 2020 2020 2020 2020 3a70  one').        :p
-0000eef0: 6172 616d 2070 6572 6365 6e74 6167 655f  aram percentage_
-0000ef00: 636f 6d70 6c65 7465 3a20 7065 7263 656e  complete: percen
-0000ef10: 7420 6f66 2074 6865 2072 6570 6f72 7420  t of the report 
-0000ef20: 7468 6174 2069 7320 636f 6d70 6c65 7465  that is complete
-0000ef30: 0a0a 2020 2020 2020 2020 2a2a 4578 616d  ..        **Exam
-0000ef40: 706c 6573 2a2a 0a0a 2020 2020 2020 2020  ples**..        
-0000ef50: 3e3e 3e20 7468 656d 6174 6963 5f72 6570  >>> thematic_rep
-0000ef60: 6f72 7420 3d20 5468 656d 6174 6963 5265  ort = ThematicRe
-0000ef70: 706f 7274 280a 2020 2020 2020 2020 3e3e  port(.        >>
-0000ef80: 3e20 2020 2020 7265 706f 7274 5f69 643d  >     report_id=
-0000ef90: 2752 4550 4f52 5449 4427 2c0a 2020 2020  'REPORTID',.    
-0000efa0: 2020 2020 3e3e 3e20 2020 2020 706f 7369      >>>     posi
-0000efb0: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
-0000efc0: 3d50 6f73 6974 696f 6e53 6f75 7263 6554  =PositionSourceT
-0000efd0: 7970 652e 506f 7274 666f 6c69 6f2c 0a20  ype.Portfolio,. 
-0000efe0: 2020 2020 2020 203e 3e3e 2020 2020 2070         >>>     p
-0000eff0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-0000f000: 643d 2750 4f52 5446 4f4c 494f 4944 272c  d='PORTFOLIOID',
-0000f010: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
-0000f020: 2070 6172 616d 6574 6572 733d 4e6f 6e65   parameters=None
-0000f030: 0a20 2020 2020 2020 203e 3e3e 2029 0a20  .        >>> ). 
-0000f040: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000f050: 2020 2069 6620 706f 7369 7469 6f6e 5f73     if position_s
-0000f060: 6f75 7263 655f 6964 2061 6e64 206e 6f74  ource_id and not
-0000f070: 2070 6f73 6974 696f 6e5f 736f 7572 6365   position_source
-0000f080: 5f74 7970 653a 0a20 2020 2020 2020 2020  _type:.         
-0000f090: 2020 2070 6f73 6974 696f 6e5f 736f 7572     position_sour
-0000f0a0: 6365 5f74 7970 6520 3d20 506f 7369 7469  ce_type = Positi
-0000f0b0: 6f6e 536f 7572 6365 5479 7065 2e50 6f72  onSourceType.Por
-0000f0c0: 7466 6f6c 696f 2069 6620 706f 7369 7469  tfolio if positi
-0000f0d0: 6f6e 5f73 6f75 7263 655f 6964 2e73 7461  on_source_id.sta
-0000f0e0: 7274 7377 6974 6828 274d 5027 2920 656c  rtswith('MP') el
-0000f0f0: 7365 205c 0a20 2020 2020 2020 2020 2020  se \.           
-0000f100: 2020 2020 2050 6f73 6974 696f 6e53 6f75       PositionSou
-0000f110: 7263 6554 7970 652e 4173 7365 740a 0a20  rceType.Asset.. 
-0000f120: 2020 2020 2020 2069 6620 706f 7369 7469         if positi
-0000f130: 6f6e 5f73 6f75 7263 655f 7479 7065 2061  on_source_type a
-0000f140: 6e64 206e 6f74 2072 6570 6f72 745f 7479  nd not report_ty
-0000f150: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
-0000f160: 7265 706f 7274 5f74 7970 6520 3d20 5265  report_type = Re
-0000f170: 706f 7274 5479 7065 2e50 6f72 7466 6f6c  portType.Portfol
-0000f180: 696f 5f54 6865 6d61 7469 635f 416e 616c  io_Thematic_Anal
-0000f190: 7974 6963 7320 6966 2070 6f73 6974 696f  ytics if positio
-0000f1a0: 6e5f 736f 7572 6365 5f74 7970 6520 6973  n_source_type is
-0000f1b0: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-0000f1c0: 2020 2050 6f73 6974 696f 6e53 6f75 7263     PositionSourc
-0000f1d0: 6554 7970 652e 506f 7274 666f 6c69 6f20  eType.Portfolio 
-0000f1e0: 656c 7365 2052 6570 6f72 7454 7970 652e  else ReportType.
-0000f1f0: 4173 7365 745f 5468 656d 6174 6963 5f41  Asset_Thematic_A
-0000f200: 6e61 6c79 7469 6373 0a0a 2020 2020 2020  nalytics..      
-0000f210: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0000f220: 5f5f 2872 6570 6f72 745f 6964 2c20 6e61  __(report_id, na
-0000f230: 6d65 2c20 706f 7369 7469 6f6e 5f73 6f75  me, position_sou
-0000f240: 7263 655f 6964 2c20 706f 7369 7469 6f6e  rce_id, position
-0000f250: 5f73 6f75 7263 655f 7479 7065 2c0a 2020  _source_type,.  
-0000f260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f270: 2020 2020 2020 2072 6570 6f72 745f 7479         report_ty
-0000f280: 7065 2c20 7061 7261 6d65 7465 7273 2c20  pe, parameters, 
-0000f290: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
-0000f2a0: 6174 652c 206c 6174 6573 745f 656e 645f  ate, latest_end_
-0000f2b0: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
-0000f2c0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000f2d0: 6174 6573 745f 6578 6563 7574 696f 6e5f  atest_execution_
-0000f2e0: 7469 6d65 2c20 7374 6174 7573 2c20 7065  time, status, pe
-0000f2f0: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
-0000f300: 6529 0a0a 2020 2020 4063 6c61 7373 6d65  e)..    @classme
-0000f310: 7468 6f64 0a20 2020 2064 6566 2067 6574  thod.    def get
-0000f320: 2863 6c73 2c0a 2020 2020 2020 2020 2020  (cls,.          
-0000f330: 2020 7265 706f 7274 5f69 643a 2073 7472    report_id: str
-0000f340: 2c0a 2020 2020 2020 2020 2020 2020 2a2a  ,.            **
-0000f350: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
-0000f360: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-0000f370: 2061 2074 6865 6d61 7469 6320 7265 706f   a thematic repo
-0000f380: 7274 2066 726f 6d20 7468 6520 756e 6971  rt from the uniq
-0000f390: 7565 2072 6570 6f72 7420 6964 656e 7469  ue report identi
-0000f3a0: 6669 6572 0a0a 2020 2020 2020 2020 3a70  fier..        :p
-0000f3b0: 6172 616d 2072 6570 6f72 745f 6964 3a20  aram report_id: 
-0000f3c0: 4d61 7271 7565 6520 7265 706f 7274 2049  Marquee report I
-0000f3d0: 440a 2020 2020 2020 2020 3a72 6574 7572  D.        :retur
-0000f3e0: 6e3a 2072 6574 7572 6e73 2061 2054 6865  n: returns a The
-0000f3f0: 6d61 7469 6352 6570 6f72 7420 6f62 6a65  maticReport obje
-0000f400: 6374 2074 6861 7420 636f 7272 656c 6174  ct that correlat
-0000f410: 6573 2074 6f20 7468 6520 4d61 7271 7565  es to the Marque
-0000f420: 6520 7265 706f 7274 0a20 2020 2020 2020  e report.       
-0000f430: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-0000f440: 7572 6e20 636c 732e 6672 6f6d 5f74 6172  urn cls.from_tar
-0000f450: 6765 7428 4773 5265 706f 7274 4170 692e  get(GsReportApi.
-0000f460: 6765 745f 7265 706f 7274 2872 6570 6f72  get_report(repor
-0000f470: 745f 6964 2929 0a0a 2020 2020 4063 6c61  t_id))..    @cla
-0000f480: 7373 6d65 7468 6f64 0a20 2020 2064 6566  ssmethod.    def
-0000f490: 2066 726f 6d5f 7461 7267 6574 2863 6c73   from_target(cls
-0000f4a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000f4b0: 2020 2020 2020 7265 706f 7274 3a20 5461        report: Ta
-0000f4c0: 7267 6574 5265 706f 7274 293a 0a20 2020  rgetReport):.   
-0000f4d0: 2020 2020 2069 6620 7265 706f 7274 2e74       if report.t
-0000f4e0: 7970 6520 6e6f 7420 696e 205b 5265 706f  ype not in [Repo
-0000f4f0: 7274 5479 7065 2e50 6f72 7466 6f6c 696f  rtType.Portfolio
-0000f500: 5f54 6865 6d61 7469 635f 416e 616c 7974  _Thematic_Analyt
-0000f510: 6963 732c 2052 6570 6f72 7454 7970 652e  ics, ReportType.
-0000f520: 4173 7365 745f 5468 656d 6174 6963 5f41  Asset_Thematic_A
-0000f530: 6e61 6c79 7469 6373 5d3a 0a20 2020 2020  nalytics]:.     
-0000f540: 2020 2020 2020 2072 6169 7365 204d 7156         raise MqV
-0000f550: 616c 7565 4572 726f 7228 2754 6869 7320  alueError('This 
-0000f560: 7265 706f 7274 2069 7320 6e6f 7420 6120  report is not a 
-0000f570: 7468 656d 6174 6963 2072 6570 6f72 742e  thematic report.
-0000f580: 2729 0a20 2020 2020 2020 2072 6574 7572  ').        retur
-0000f590: 6e20 5468 656d 6174 6963 5265 706f 7274  n ThematicReport
-0000f5a0: 2872 6570 6f72 745f 6964 3d72 6570 6f72  (report_id=repor
-0000f5b0: 742e 6964 2c0a 2020 2020 2020 2020 2020  t.id,.          
-0000f5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f5d0: 2020 2020 6e61 6d65 3d72 6570 6f72 742e      name=report.
-0000f5e0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-0000f5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f600: 2020 2020 706f 7369 7469 6f6e 5f73 6f75      position_sou
-0000f610: 7263 655f 6964 3d72 6570 6f72 742e 706f  rce_id=report.po
-0000f620: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
-0000f630: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e320: 2020 2020 2020 2072 6570 6f72 745f 7479         report_ty
+0000e330: 7065 2c20 7061 7261 6d65 7465 7273 2c20  pe, parameters, 
+0000e340: 6561 726c 6965 7374 5f73 7461 7274 5f64  earliest_start_d
+0000e350: 6174 652c 206c 6174 6573 745f 656e 645f  ate, latest_end_
+0000e360: 6461 7465 2c0a 2020 2020 2020 2020 2020  date,.          
+0000e370: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0000e380: 6174 6573 745f 6578 6563 7574 696f 6e5f  atest_execution_
+0000e390: 7469 6d65 2c20 7374 6174 7573 2c20 7065  time, status, pe
+0000e3a0: 7263 656e 7461 6765 5f63 6f6d 706c 6574  rcentage_complet
+0000e3b0: 6529 0a0a 2020 2020 4063 6c61 7373 6d65  e)..    @classme
+0000e3c0: 7468 6f64 0a20 2020 2064 6566 2067 6574  thod.    def get
+0000e3d0: 2863 6c73 2c0a 2020 2020 2020 2020 2020  (cls,.          
+0000e3e0: 2020 7265 706f 7274 5f69 643a 2073 7472    report_id: str
+0000e3f0: 2c0a 2020 2020 2020 2020 2020 2020 2a2a  ,.            **
+0000e400: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
+0000e410: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
+0000e420: 2061 2074 6865 6d61 7469 6320 7265 706f   a thematic repo
+0000e430: 7274 2066 726f 6d20 7468 6520 756e 6971  rt from the uniq
+0000e440: 7565 2072 6570 6f72 7420 6964 656e 7469  ue report identi
+0000e450: 6669 6572 0a0a 2020 2020 2020 2020 3a70  fier..        :p
+0000e460: 6172 616d 2072 6570 6f72 745f 6964 3a20  aram report_id: 
+0000e470: 4d61 7271 7565 6520 7265 706f 7274 2049  Marquee report I
+0000e480: 440a 2020 2020 2020 2020 3a72 6574 7572  D.        :retur
+0000e490: 6e3a 2072 6574 7572 6e73 2061 2054 6865  n: returns a The
+0000e4a0: 6d61 7469 6352 6570 6f72 7420 6f62 6a65  maticReport obje
+0000e4b0: 6374 2074 6861 7420 636f 7272 656c 6174  ct that correlat
+0000e4c0: 6573 2074 6f20 7468 6520 4d61 7271 7565  es to the Marque
+0000e4d0: 6520 7265 706f 7274 0a20 2020 2020 2020  e report.       
+0000e4e0: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
+0000e4f0: 7572 6e20 636c 732e 6672 6f6d 5f74 6172  urn cls.from_tar
+0000e500: 6765 7428 4773 5265 706f 7274 4170 692e  get(GsReportApi.
+0000e510: 6765 745f 7265 706f 7274 2872 6570 6f72  get_report(repor
+0000e520: 745f 6964 2929 0a0a 2020 2020 4063 6c61  t_id))..    @cla
+0000e530: 7373 6d65 7468 6f64 0a20 2020 2064 6566  ssmethod.    def
+0000e540: 2066 726f 6d5f 7461 7267 6574 2863 6c73   from_target(cls
+0000e550: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e560: 2020 2020 2020 7265 706f 7274 3a20 5461        report: Ta
+0000e570: 7267 6574 5265 706f 7274 293a 0a20 2020  rgetReport):.   
+0000e580: 2020 2020 2069 6620 7265 706f 7274 2e74       if report.t
+0000e590: 7970 6520 6e6f 7420 696e 205b 5265 706f  ype not in [Repo
+0000e5a0: 7274 5479 7065 2e50 6f72 7466 6f6c 696f  rtType.Portfolio
+0000e5b0: 5f54 6865 6d61 7469 635f 416e 616c 7974  _Thematic_Analyt
+0000e5c0: 6963 732c 2052 6570 6f72 7454 7970 652e  ics, ReportType.
+0000e5d0: 4173 7365 745f 5468 656d 6174 6963 5f41  Asset_Thematic_A
+0000e5e0: 6e61 6c79 7469 6373 5d3a 0a20 2020 2020  nalytics]:.     
+0000e5f0: 2020 2020 2020 2072 6169 7365 204d 7156         raise MqV
+0000e600: 616c 7565 4572 726f 7228 2754 6869 7320  alueError('This 
+0000e610: 7265 706f 7274 2069 7320 6e6f 7420 6120  report is not a 
+0000e620: 7468 656d 6174 6963 2072 6570 6f72 742e  thematic report.
+0000e630: 2729 0a20 2020 2020 2020 2072 6574 7572  ').        retur
+0000e640: 6e20 5468 656d 6174 6963 5265 706f 7274  n ThematicReport
+0000e650: 2872 6570 6f72 745f 6964 3d72 6570 6f72  (report_id=repor
+0000e660: 742e 6964 2c0a 2020 2020 2020 2020 2020  t.id,.          
+0000e670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e680: 2020 2020 6e61 6d65 3d72 6570 6f72 742e      name=report.
+0000e690: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+0000e6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e6b0: 2020 2020 706f 7369 7469 6f6e 5f73 6f75      position_sou
+0000e6c0: 7263 655f 6964 3d72 6570 6f72 742e 706f  rce_id=report.po
+0000e6d0: 7369 7469 6f6e 5f73 6f75 7263 655f 6964  sition_source_id
+0000e6e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e700: 7061 7261 6d65 7465 7273 3d72 6570 6f72  parameters=repor
+0000e710: 742e 7061 7261 6d65 7465 7273 2c0a 2020  t.parameters,.  
+0000e720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e730: 2020 2020 2020 2020 2020 2020 706f 7369              posi
+0000e740: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
+0000e750: 3d72 6570 6f72 742e 706f 7369 7469 6f6e  =report.position
+0000e760: 5f73 6f75 7263 655f 7479 7065 2c0a 2020  _source_type,.  
+0000e770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e780: 2020 2020 2020 2020 2020 2020 7265 706f              repo
+0000e790: 7274 5f74 7970 653d 7265 706f 7274 2e74  rt_type=report.t
+0000e7a0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+0000e7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e7c0: 2020 2065 6172 6c69 6573 745f 7374 6172     earliest_star
+0000e7d0: 745f 6461 7465 3d72 6570 6f72 742e 6561  t_date=report.ea
+0000e7e0: 726c 6965 7374 5f73 7461 7274 5f64 6174  rliest_start_dat
+0000e7f0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000e800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e810: 206c 6174 6573 745f 656e 645f 6461 7465   latest_end_date
+0000e820: 3d72 6570 6f72 742e 6c61 7465 7374 5f65  =report.latest_e
+0000e830: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
+0000e840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e850: 2020 2020 2020 206c 6174 6573 745f 6578         latest_ex
+0000e860: 6563 7574 696f 6e5f 7469 6d65 3d72 6570  ecution_time=rep
+0000e870: 6f72 742e 6c61 7465 7374 5f65 7865 6375  ort.latest_execu
+0000e880: 7469 6f6e 5f74 696d 652c 0a20 2020 2020  tion_time,.     
+0000e890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e8a0: 2020 2020 2020 2020 2073 7461 7475 733d           status=
+0000e8b0: 7265 706f 7274 2e73 7461 7475 732c 0a20  report.status,. 
+0000e8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e8d0: 2020 2020 2020 2020 2020 2020 2070 6572               per
+0000e8e0: 6365 6e74 6167 655f 636f 6d70 6c65 7465  centage_complete
+0000e8f0: 3d72 6570 6f72 742e 7065 7263 656e 7461  =report.percenta
+0000e900: 6765 5f63 6f6d 706c 6574 6529 0a0a 2020  ge_complete)..  
+0000e910: 2020 6465 6620 6765 745f 7468 656d 6174    def get_themat
+0000e920: 6963 5f64 6174 6128 7365 6c66 2c0a 2020  ic_data(self,.  
+0000e930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e940: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
+0000e950: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
+0000e960: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0000e970: 2020 2020 2020 2020 2020 2020 2020 656e                en
+0000e980: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
+0000e990: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000e9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e9b0: 2020 6261 736b 6574 5f69 6473 3a20 4c69    basket_ids: Li
+0000e9c0: 7374 5b73 7472 5d20 3d20 4e6f 6e65 2920  st[str] = None) 
+0000e9d0: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
+0000e9e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000e9f0: 2020 2020 2047 6574 2061 6c6c 2072 6573       Get all res
+0000ea00: 756c 7473 2066 726f 6d20 7468 6520 7468  ults from the th
+0000ea10: 656d 6174 6963 2072 6570 6f72 7420 666f  ematic report fo
+0000ea20: 7220 6120 6461 7465 2072 616e 6765 0a0a  r a date range..
+0000ea30: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+0000ea40: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
+0000ea50: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
+0000ea60: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
+0000ea70: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
+0000ea80: 3a70 6172 616d 2062 6173 6b65 745f 6964  :param basket_id
+0000ea90: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
+0000eaa0: 206f 6620 7468 656d 6174 6963 2062 6173   of thematic bas
+0000eab0: 6b65 7420 4944 7320 746f 2069 6e63 6c75  ket IDs to inclu
+0000eac0: 6465 3b20 6465 6661 756c 7473 2074 6f20  de; defaults to 
+0000ead0: 616c 6c20 6f66 2074 6865 6d0a 2020 2020  all of them.    
+0000eae0: 2020 2020 3a72 6574 7572 6e3a 2061 2050      :return: a P
+0000eaf0: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
+0000eb00: 7769 7468 2072 6573 756c 7473 0a20 2020  with results.   
+0000eb10: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0000eb20: 2020 7265 7375 6c74 7320 3d20 7365 6c66    results = self
+0000eb30: 2e5f 6765 745f 6d65 6173 7572 6573 285b  ._get_measures([
+0000eb40: 2274 6865 6d61 7469 6345 7870 6f73 7572  "thematicExposur
+0000eb50: 6522 2c20 2267 726f 7373 4578 706f 7375  e", "grossExposu
+0000eb60: 7265 225d 2c20 7374 6172 745f 6461 7465  re"], start_date
+0000eb70: 2c20 656e 645f 6461 7465 2c20 6261 736b  , end_date, bask
+0000eb80: 6574 5f69 6473 2c0a 2020 2020 2020 2020  et_ids,.        
+0000eb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eba0: 2020 2020 2020 2020 2020 2020 2052 6574               Ret
+0000ebb0: 7572 6e46 6f72 6d61 742e 4a53 4f4e 290a  urnFormat.JSON).
+0000ebc0: 2020 2020 2020 2020 666f 7220 7265 7375          for resu
+0000ebd0: 6c74 2069 6e20 7265 7375 6c74 733a 0a20  lt in results:. 
+0000ebe0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+0000ebf0: 745b 2774 6865 6d61 7469 6342 6574 6127  t['thematicBeta'
+0000ec00: 5d20 3d20 7265 7375 6c74 5b27 7468 656d  ] = result['them
+0000ec10: 6174 6963 4578 706f 7375 7265 275d 202f  aticExposure'] /
+0000ec20: 2072 6573 756c 745b 2767 726f 7373 4578   result['grossEx
+0000ec30: 706f 7375 7265 275d 0a20 2020 2020 2020  posure'].       
+0000ec40: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
+0000ec50: 7261 6d65 2872 6573 756c 7473 292e 6669  rame(results).fi
+0000ec60: 6c74 6572 2869 7465 6d73 3d5b 2764 6174  lter(items=['dat
+0000ec70: 6527 2c20 2774 6865 6d61 7469 6345 7870  e', 'thematicExp
+0000ec80: 6f73 7572 6527 2c20 2774 6865 6d61 7469  osure', 'themati
+0000ec90: 6342 6574 6127 5d29 0a0a 2020 2020 6465  cBeta'])..    de
+0000eca0: 6620 6765 745f 7468 656d 6174 6963 5f65  f get_thematic_e
+0000ecb0: 7870 6f73 7572 6528 7365 6c66 2c0a 2020  xposure(self,.  
+0000ecc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ecd0: 2020 2020 2020 2020 2020 2020 7374 6172              star
+0000ece0: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
+0000ecf0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000ed00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed10: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
+0000ed20: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
+0000ed30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed40: 2020 2020 2020 2020 2020 2020 2020 6261                ba
+0000ed50: 736b 6574 5f69 6473 3a20 4c69 7374 5b73  sket_ids: List[s
+0000ed60: 7472 5d20 3d20 4e6f 6e65 2920 2d3e 2070  tr] = None) -> p
+0000ed70: 642e 4461 7461 4672 616d 653a 0a20 2020  d.DataFrame:.   
+0000ed80: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000ed90: 2047 6574 2070 6f72 7466 6f6c 696f 2068   Get portfolio h
+0000eda0: 6973 746f 7269 6361 6c20 6578 706f 7375  istorical exposu
+0000edb0: 7265 2074 6f20 4753 2046 6c61 6773 6869  re to GS Flagshi
+0000edc0: 7020 5468 656d 6174 6963 2062 6173 6b65  p Thematic baske
+0000edd0: 7473 0a0a 2020 2020 2020 2020 3a70 6172  ts..        :par
+0000ede0: 616d 2073 7461 7274 5f64 6174 653a 2073  am start_date: s
+0000edf0: 7461 7274 2064 6174 650a 2020 2020 2020  tart date.      
+0000ee00: 2020 3a70 6172 616d 2065 6e64 5f64 6174    :param end_dat
+0000ee10: 653a 2065 6e64 2064 6174 650a 2020 2020  e: end date.    
+0000ee20: 2020 2020 3a70 6172 616d 2062 6173 6b65      :param baske
+0000ee30: 745f 6964 733a 206f 7074 696f 6e61 6c20  t_ids: optional 
+0000ee40: 6c69 7374 206f 6620 7468 656d 6174 6963  list of thematic
+0000ee50: 2062 6173 6b65 7420 4944 7320 746f 2069   basket IDs to i
+0000ee60: 6e63 6c75 6465 3b20 6465 6661 756c 7473  nclude; defaults
+0000ee70: 2074 6f20 616c 6c20 6f66 2074 6865 6d0a   to all of them.
+0000ee80: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+0000ee90: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
+0000eea0: 616d 6520 7769 7468 2072 6573 756c 7473  ame with results
+0000eeb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000eec0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000eed0: 2e5f 6765 745f 6d65 6173 7572 6573 285b  ._get_measures([
+0000eee0: 2274 6865 6d61 7469 6345 7870 6f73 7572  "thematicExposur
+0000eef0: 6522 5d2c 2073 7461 7274 5f64 6174 652c  e"], start_date,
+0000ef00: 2065 6e64 5f64 6174 652c 2062 6173 6b65   end_date, baske
+0000ef10: 745f 6964 7329 0a0a 2020 2020 6465 6620  t_ids)..    def 
+0000ef20: 6765 745f 7468 656d 6174 6963 5f62 6574  get_thematic_bet
+0000ef30: 6173 2873 656c 662c 0a20 2020 2020 2020  as(self,.       
+0000ef40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ef50: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
+0000ef60: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
+0000ef70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ef80: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+0000ef90: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+0000efa0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000efb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000efc0: 6261 736b 6574 5f69 6473 3a20 4c69 7374  basket_ids: List
+0000efd0: 5b73 7472 5d20 3d20 4e6f 6e65 2920 2d3e  [str] = None) ->
+0000efe0: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
+0000eff0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000f000: 2020 2047 6574 2070 6f72 7466 6f6c 696f     Get portfolio
+0000f010: 2068 6973 746f 7269 6361 6c20 6265 7461   historical beta
+0000f020: 2074 6f20 4753 2046 6c61 6773 6869 7020   to GS Flagship 
+0000f030: 5468 656d 6174 6963 2062 6173 6b65 7473  Thematic baskets
+0000f040: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0000f050: 2073 7461 7274 5f64 6174 653a 2073 7461   start_date: sta
+0000f060: 7274 2064 6174 650a 2020 2020 2020 2020  rt date.        
+0000f070: 3a70 6172 616d 2065 6e64 5f64 6174 653a  :param end_date:
+0000f080: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
+0000f090: 2020 3a70 6172 616d 2062 6173 6b65 745f    :param basket_
+0000f0a0: 6964 733a 206f 7074 696f 6e61 6c20 6c69  ids: optional li
+0000f0b0: 7374 206f 6620 7468 656d 6174 6963 2062  st of thematic b
+0000f0c0: 6173 6b65 7420 4944 7320 746f 2069 6e63  asket IDs to inc
+0000f0d0: 6c75 6465 3b20 6465 6661 756c 7473 2074  lude; defaults t
+0000f0e0: 6f20 616c 6c20 6f66 2074 6865 6d0a 2020  o all of them.  
+0000f0f0: 2020 2020 2020 3a72 6574 7572 6e3a 2061        :return: a
+0000f100: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
+0000f110: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
+0000f120: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000f130: 2020 2072 6573 756c 7473 203d 2073 656c     results = sel
+0000f140: 662e 5f67 6574 5f6d 6561 7375 7265 7328  f._get_measures(
+0000f150: 5b22 7468 656d 6174 6963 4578 706f 7375  ["thematicExposu
+0000f160: 7265 222c 2022 6772 6f73 7345 7870 6f73  re", "grossExpos
+0000f170: 7572 6522 5d2c 2073 7461 7274 5f64 6174  ure"], start_dat
+0000f180: 652c 2065 6e64 5f64 6174 652c 2062 6173  e, end_date, bas
+0000f190: 6b65 745f 6964 732c 0a20 2020 2020 2020  ket_ids,.       
+0000f1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f1b0: 2020 2020 2020 2020 2020 2020 2020 5265                Re
+0000f1c0: 7475 726e 466f 726d 6174 2e4a 534f 4e29  turnFormat.JSON)
+0000f1d0: 0a20 2020 2020 2020 2066 6f72 2072 6573  .        for res
+0000f1e0: 756c 7420 696e 2072 6573 756c 7473 3a0a  ult in results:.
+0000f1f0: 2020 2020 2020 2020 2020 2020 7265 7375              resu
+0000f200: 6c74 5b27 7468 656d 6174 6963 4265 7461  lt['thematicBeta
+0000f210: 275d 203d 2072 6573 756c 745b 2774 6865  '] = result['the
+0000f220: 6d61 7469 6345 7870 6f73 7572 6527 5d20  maticExposure'] 
+0000f230: 2f20 7265 7375 6c74 5b27 6772 6f73 7345  / result['grossE
+0000f240: 7870 6f73 7572 6527 5d0a 2020 2020 2020  xposure'].      
+0000f250: 2020 2020 2020 7265 7375 6c74 2e70 6f70        result.pop
+0000f260: 2827 7468 656d 6174 6963 4578 706f 7375  ('thematicExposu
+0000f270: 7265 2729 0a20 2020 2020 2020 2020 2020  re').           
+0000f280: 2072 6573 756c 742e 706f 7028 2767 726f   result.pop('gro
+0000f290: 7373 4578 706f 7375 7265 2729 0a20 2020  ssExposure').   
+0000f2a0: 2020 2020 2072 6574 7572 6e20 7064 2e44       return pd.D
+0000f2b0: 6174 6146 7261 6d65 2872 6573 756c 7473  ataFrame(results
+0000f2c0: 290a 0a20 2020 2064 6566 205f 6765 745f  )..    def _get_
+0000f2d0: 6d65 6173 7572 6573 2873 656c 662c 0a20  measures(self,. 
+0000f2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f2f0: 2020 2020 2066 6965 6c64 733a 204c 6973       fields: Lis
+0000f300: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
+0000f310: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
+0000f320: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+0000f330: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000f340: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+0000f350: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
+0000f360: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000f370: 2020 2020 2020 2020 2020 2062 6173 6b65             baske
+0000f380: 745f 6964 733a 204c 6973 745b 7374 725d  t_ids: List[str]
+0000f390: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000f3a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000f3b0: 6574 7572 6e5f 666f 726d 6174 3a20 5265  eturn_format: Re
+0000f3c0: 7475 726e 466f 726d 6174 203d 2052 6574  turnFormat = Ret
+0000f3d0: 7572 6e46 6f72 6d61 742e 4441 5441 5f46  urnFormat.DATA_F
+0000f3e0: 5241 4d45 2920 2d3e 2055 6e69 6f6e 5b44  RAME) -> Union[D
+0000f3f0: 6963 742c 2070 642e 4461 7461 4672 616d  ict, pd.DataFram
+0000f400: 655d 3a0a 2020 2020 2020 2020 7768 6572  e]:.        wher
+0000f410: 6520 3d20 7b27 7265 706f 7274 4964 273a  e = {'reportId':
+0000f420: 2073 656c 662e 6964 7d0a 2020 2020 2020   self.id}.      
+0000f430: 2020 6966 2062 6173 6b65 745f 6964 733a    if basket_ids:
+0000f440: 0a20 2020 2020 2020 2020 2020 2077 6865  .            whe
+0000f450: 7265 5b27 6261 736b 6574 4964 275d 203d  re['basketId'] =
+0000f460: 2062 6173 6b65 745f 6964 730a 2020 2020   basket_ids.    
+0000f470: 2020 2020 6461 7461 7365 7420 3d20 5265      dataset = Re
+0000f480: 706f 7274 4461 7461 7365 742e 5054 415f  portDataset.PTA_
+0000f490: 4441 5441 5345 542e 7661 6c75 6520 6966  DATASET.value if
+0000f4a0: 2073 656c 662e 706f 7369 7469 6f6e 5f73   self.position_s
+0000f4b0: 6f75 7263 655f 7479 7065 203d 3d20 506f  ource_type == Po
+0000f4c0: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
+0000f4d0: 2e50 6f72 7466 6f6c 696f 205c 0a20 2020  .Portfolio \.   
+0000f4e0: 2020 2020 2020 2020 2065 6c73 6520 5265           else Re
+0000f4f0: 706f 7274 4461 7461 7365 742e 4154 415f  portDataset.ATA_
+0000f500: 4441 5441 5345 542e 7661 6c75 650a 2020  DATASET.value.  
+0000f510: 2020 2020 2020 7175 6572 7920 3d20 4461        query = Da
+0000f520: 7461 5175 6572 7928 7768 6572 653d 7768  taQuery(where=wh
+0000f530: 6572 652c 2066 6965 6c64 733d 6669 656c  ere, fields=fiel
+0000f540: 6473 2c20 7374 6172 745f 6461 7465 3d73  ds, start_date=s
+0000f550: 7461 7274 5f64 6174 652c 2065 6e64 5f64  tart_date, end_d
+0000f560: 6174 653d 656e 645f 6461 7465 290a 2020  ate=end_date).  
+0000f570: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
+0000f580: 4773 4461 7461 4170 692e 7175 6572 795f  GsDataApi.query_
+0000f590: 6461 7461 2871 7565 7279 3d71 7565 7279  data(query=query
+0000f5a0: 2c20 6461 7461 7365 745f 6964 3d64 6174  , dataset_id=dat
+0000f5b0: 6173 6574 290a 2020 2020 2020 2020 7265  aset).        re
+0000f5c0: 7475 726e 2070 642e 4461 7461 4672 616d  turn pd.DataFram
+0000f5d0: 6528 7265 7375 6c74 7329 2069 6620 7265  e(results) if re
+0000f5e0: 7475 726e 5f66 6f72 6d61 7420 3d3d 2052  turn_format == R
+0000f5f0: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
+0000f600: 5f46 5241 4d45 2065 6c73 6520 7265 7375  _FRAME else resu
+0000f610: 6c74 730a 0a20 2020 2064 6566 2067 6574  lts..    def get
+0000f620: 5f61 6c6c 5f74 6865 6d61 7469 635f 6578  _all_thematic_ex
+0000f630: 706f 7375 7265 7328 7365 6c66 2c0a 2020  posures(self,.  
 0000f640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f650: 7061 7261 6d65 7465 7273 3d72 6570 6f72  parameters=repor
-0000f660: 742e 7061 7261 6d65 7465 7273 2c0a 2020  t.parameters,.  
-0000f670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f680: 2020 2020 2020 2020 2020 2020 706f 7369              posi
-0000f690: 7469 6f6e 5f73 6f75 7263 655f 7479 7065  tion_source_type
-0000f6a0: 3d72 6570 6f72 742e 706f 7369 7469 6f6e  =report.position
-0000f6b0: 5f73 6f75 7263 655f 7479 7065 2c0a 2020  _source_type,.  
+0000f650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f660: 2073 7461 7274 5f64 6174 653a 2064 742e   start_date: dt.
+0000f670: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
+0000f680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f6a0: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
+0000f6b0: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
 0000f6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f6d0: 2020 2020 2020 2020 2020 2020 7265 706f              repo
-0000f6e0: 7274 5f74 7970 653d 7265 706f 7274 2e74  rt_type=report.t
-0000f6f0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+0000f6d0: 2020 2020 2020 2020 2020 2020 2062 6173               bas
+0000f6e0: 6b65 745f 6964 733a 204c 6973 745b 7374  ket_ids: List[st
+0000f6f0: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
 0000f700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f710: 2020 2065 6172 6c69 6573 745f 7374 6172     earliest_star
-0000f720: 745f 6461 7465 3d72 6570 6f72 742e 6561  t_date=report.ea
-0000f730: 726c 6965 7374 5f73 7461 7274 5f64 6174  rliest_start_dat
-0000f740: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000f750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f760: 206c 6174 6573 745f 656e 645f 6461 7465   latest_end_date
-0000f770: 3d72 6570 6f72 742e 6c61 7465 7374 5f65  =report.latest_e
-0000f780: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
-0000f790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f7a0: 2020 2020 2020 206c 6174 6573 745f 6578         latest_ex
-0000f7b0: 6563 7574 696f 6e5f 7469 6d65 3d72 6570  ecution_time=rep
-0000f7c0: 6f72 742e 6c61 7465 7374 5f65 7865 6375  ort.latest_execu
-0000f7d0: 7469 6f6e 5f74 696d 652c 0a20 2020 2020  tion_time,.     
-0000f7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f7f0: 2020 2020 2020 2020 2073 7461 7475 733d           status=
-0000f800: 7265 706f 7274 2e73 7461 7475 732c 0a20  report.status,. 
-0000f810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f820: 2020 2020 2020 2020 2020 2020 2070 6572               per
-0000f830: 6365 6e74 6167 655f 636f 6d70 6c65 7465  centage_complete
-0000f840: 3d72 6570 6f72 742e 7065 7263 656e 7461  =report.percenta
-0000f850: 6765 5f63 6f6d 706c 6574 6529 0a0a 2020  ge_complete)..  
-0000f860: 2020 6465 6620 6765 745f 7468 656d 6174    def get_themat
-0000f870: 6963 5f64 6174 6128 7365 6c66 2c0a 2020  ic_data(self,.  
-0000f880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f890: 2020 2020 2020 2020 7374 6172 745f 6461          start_da
-0000f8a0: 7465 3a20 6474 2e64 6174 6520 3d20 4e6f  te: dt.date = No
-0000f8b0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-0000f8c0: 2020 2020 2020 2020 2020 2020 2020 656e                en
-0000f8d0: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
-0000f8e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000f8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f900: 2020 6261 736b 6574 5f69 6473 3a20 4c69    basket_ids: Li
-0000f910: 7374 5b73 7472 5d20 3d20 4e6f 6e65 2920  st[str] = None) 
-0000f920: 2d3e 2070 642e 4461 7461 4672 616d 653a  -> pd.DataFrame:
-0000f930: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000f940: 2020 2020 2047 6574 2061 6c6c 2072 6573       Get all res
-0000f950: 756c 7473 2066 726f 6d20 7468 6520 7468  ults from the th
-0000f960: 656d 6174 6963 2072 6570 6f72 7420 666f  ematic report fo
-0000f970: 7220 6120 6461 7465 2072 616e 6765 0a0a  r a date range..
-0000f980: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-0000f990: 7461 7274 5f64 6174 653a 2073 7461 7274  tart_date: start
-0000f9a0: 2064 6174 650a 2020 2020 2020 2020 3a70   date.        :p
-0000f9b0: 6172 616d 2065 6e64 5f64 6174 653a 2065  aram end_date: e
-0000f9c0: 6e64 2064 6174 650a 2020 2020 2020 2020  nd date.        
-0000f9d0: 3a70 6172 616d 2062 6173 6b65 745f 6964  :param basket_id
-0000f9e0: 733a 206f 7074 696f 6e61 6c20 6c69 7374  s: optional list
-0000f9f0: 206f 6620 7468 656d 6174 6963 2062 6173   of thematic bas
-0000fa00: 6b65 7420 4944 7320 746f 2069 6e63 6c75  ket IDs to inclu
-0000fa10: 6465 3b20 6465 6661 756c 7473 2074 6f20  de; defaults to 
-0000fa20: 616c 6c20 6f66 2074 6865 6d0a 2020 2020  all of them.    
-0000fa30: 2020 2020 3a72 6574 7572 6e3a 2061 2050      :return: a P
-0000fa40: 616e 6461 7320 4461 7461 4672 616d 6520  andas DataFrame 
-0000fa50: 7769 7468 2072 6573 756c 7473 0a20 2020  with results.   
-0000fa60: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
-0000fa70: 2020 7265 7375 6c74 7320 3d20 7365 6c66    results = self
-0000fa80: 2e5f 6765 745f 6d65 6173 7572 6573 285b  ._get_measures([
-0000fa90: 2274 6865 6d61 7469 6345 7870 6f73 7572  "thematicExposur
-0000faa0: 6522 2c20 2267 726f 7373 4578 706f 7375  e", "grossExposu
-0000fab0: 7265 225d 2c20 7374 6172 745f 6461 7465  re"], start_date
-0000fac0: 2c20 656e 645f 6461 7465 2c20 6261 736b  , end_date, bask
-0000fad0: 6574 5f69 6473 2c0a 2020 2020 2020 2020  et_ids,.        
-0000fae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000faf0: 2020 2020 2020 2020 2020 2020 2052 6574               Ret
-0000fb00: 7572 6e46 6f72 6d61 742e 4a53 4f4e 290a  urnFormat.JSON).
-0000fb10: 2020 2020 2020 2020 666f 7220 7265 7375          for resu
-0000fb20: 6c74 2069 6e20 7265 7375 6c74 733a 0a20  lt in results:. 
-0000fb30: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0000fb40: 745b 2774 6865 6d61 7469 6342 6574 6127  t['thematicBeta'
-0000fb50: 5d20 3d20 7265 7375 6c74 5b27 7468 656d  ] = result['them
-0000fb60: 6174 6963 4578 706f 7375 7265 275d 202f  aticExposure'] /
-0000fb70: 2072 6573 756c 745b 2767 726f 7373 4578   result['grossEx
-0000fb80: 706f 7375 7265 275d 0a20 2020 2020 2020  posure'].       
-0000fb90: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
-0000fba0: 7261 6d65 2872 6573 756c 7473 292e 6669  rame(results).fi
-0000fbb0: 6c74 6572 2869 7465 6d73 3d5b 2764 6174  lter(items=['dat
-0000fbc0: 6527 2c20 2774 6865 6d61 7469 6345 7870  e', 'thematicExp
-0000fbd0: 6f73 7572 6527 2c20 2774 6865 6d61 7469  osure', 'themati
-0000fbe0: 6342 6574 6127 5d29 0a0a 2020 2020 6465  cBeta'])..    de
-0000fbf0: 6620 6765 745f 7468 656d 6174 6963 5f65  f get_thematic_e
-0000fc00: 7870 6f73 7572 6528 7365 6c66 2c0a 2020  xposure(self,.  
-0000fc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc20: 2020 2020 2020 2020 2020 2020 7374 6172              star
-0000fc30: 745f 6461 7465 3a20 6474 2e64 6174 6520  t_date: dt.date 
-0000fc40: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000fc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc60: 2020 2020 2020 656e 645f 6461 7465 3a20        end_date: 
-0000fc70: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
-0000fc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc90: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-0000fca0: 736b 6574 5f69 6473 3a20 4c69 7374 5b73  sket_ids: List[s
-0000fcb0: 7472 5d20 3d20 4e6f 6e65 2920 2d3e 2070  tr] = None) -> p
-0000fcc0: 642e 4461 7461 4672 616d 653a 0a20 2020  d.DataFrame:.   
-0000fcd0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000fce0: 2047 6574 2070 6f72 7466 6f6c 696f 2068   Get portfolio h
-0000fcf0: 6973 746f 7269 6361 6c20 6578 706f 7375  istorical exposu
-0000fd00: 7265 2074 6f20 4753 2046 6c61 6773 6869  re to GS Flagshi
-0000fd10: 7020 5468 656d 6174 6963 2062 6173 6b65  p Thematic baske
-0000fd20: 7473 0a0a 2020 2020 2020 2020 3a70 6172  ts..        :par
-0000fd30: 616d 2073 7461 7274 5f64 6174 653a 2073  am start_date: s
-0000fd40: 7461 7274 2064 6174 650a 2020 2020 2020  tart date.      
-0000fd50: 2020 3a70 6172 616d 2065 6e64 5f64 6174    :param end_dat
-0000fd60: 653a 2065 6e64 2064 6174 650a 2020 2020  e: end date.    
-0000fd70: 2020 2020 3a70 6172 616d 2062 6173 6b65      :param baske
-0000fd80: 745f 6964 733a 206f 7074 696f 6e61 6c20  t_ids: optional 
-0000fd90: 6c69 7374 206f 6620 7468 656d 6174 6963  list of thematic
-0000fda0: 2062 6173 6b65 7420 4944 7320 746f 2069   basket IDs to i
-0000fdb0: 6e63 6c75 6465 3b20 6465 6661 756c 7473  nclude; defaults
-0000fdc0: 2074 6f20 616c 6c20 6f66 2074 6865 6d0a   to all of them.
-0000fdd0: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0000fde0: 2061 2050 616e 6461 7320 4461 7461 4672   a Pandas DataFr
-0000fdf0: 616d 6520 7769 7468 2072 6573 756c 7473  ame with results
-0000fe00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000fe10: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-0000fe20: 2e5f 6765 745f 6d65 6173 7572 6573 285b  ._get_measures([
-0000fe30: 2274 6865 6d61 7469 6345 7870 6f73 7572  "thematicExposur
-0000fe40: 6522 5d2c 2073 7461 7274 5f64 6174 652c  e"], start_date,
-0000fe50: 2065 6e64 5f64 6174 652c 2062 6173 6b65   end_date, baske
-0000fe60: 745f 6964 7329 0a0a 2020 2020 6465 6620  t_ids)..    def 
-0000fe70: 6765 745f 7468 656d 6174 6963 5f62 6574  get_thematic_bet
-0000fe80: 6173 2873 656c 662c 0a20 2020 2020 2020  as(self,.       
-0000fe90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fea0: 2020 2020 7374 6172 745f 6461 7465 3a20      start_date: 
-0000feb0: 6474 2e64 6174 6520 3d20 4e6f 6e65 2c0a  dt.date = None,.
+0000f710: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000f720: 6769 6f6e 733a 204c 6973 745b 5265 6769  gions: List[Regi
+0000f730: 6f6e 5d20 3d20 4e6f 6e65 2920 2d3e 2070  on] = None) -> p
+0000f740: 642e 4461 7461 4672 616d 653a 0a20 2020  d.DataFrame:.   
+0000f750: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000f760: 2047 6574 2061 6c6c 2070 6f72 7466 6f6c   Get all portfol
+0000f770: 696f 2074 6865 6d61 7469 6320 616e 616c  io thematic anal
+0000f780: 7974 6963 7320 666f 7220 4753 2046 6c61  ytics for GS Fla
+0000f790: 6773 686f 7020 5468 656d 6174 6963 2062  gshop Thematic b
+0000f7a0: 6173 6b65 7473 0a0a 2020 2020 2020 2020  askets..        
+0000f7b0: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
+0000f7c0: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
+0000f7d0: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
+0000f7e0: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
+0000f7f0: 2020 2020 2020 2020 3a70 6172 616d 2062          :param b
+0000f800: 6173 6b65 745f 6964 733a 206f 7074 696f  asket_ids: optio
+0000f810: 6e61 6c20 6c69 7374 206f 6620 7468 656d  nal list of them
+0000f820: 6174 6963 2062 6173 6b65 7420 4944 7320  atic basket IDs 
+0000f830: 746f 2069 6e63 6c75 6465 3b20 6465 6661  to include; defa
+0000f840: 756c 7473 2074 6f20 616c 6c20 6f66 2074  ults to all of t
+0000f850: 6865 6d0a 2020 2020 2020 2020 3a70 6172  hem.        :par
+0000f860: 616d 2072 6567 696f 6e73 3a20 7265 6769  am regions: regi
+0000f870: 6f6e 7320 6279 2077 6869 6368 2074 6f20  ons by which to 
+0000f880: 6669 6c74 6572 2066 6c61 6773 6869 7020  filter flagship 
+0000f890: 7468 656d 6174 6963 2062 6173 6b65 7473  thematic baskets
+0000f8a0: 3b20 6465 6661 756c 7473 2074 6f20 616c  ; defaults to al
+0000f8b0: 6c20 7265 6769 6f6e 730a 2020 2020 2020  l regions.      
+0000f8c0: 2020 3a72 6574 7572 6e3a 2061 2050 616e    :return: a Pan
+0000f8d0: 6461 7320 4461 7461 4672 616d 6520 7769  das DataFrame wi
+0000f8e0: 7468 2072 6573 756c 7473 0a20 2020 2020  th results.     
+0000f8f0: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
+0000f900: 6573 756c 7473 203d 2047 7354 6865 6d61  esults = GsThema
+0000f910: 7469 6341 7069 2e67 6574 5f74 6865 6d61  ticApi.get_thema
+0000f920: 7469 6373 2865 6e74 6974 795f 6964 3d73  tics(entity_id=s
+0000f930: 656c 662e 706f 7369 7469 6f6e 5f73 6f75  elf.position_sou
+0000f940: 7263 655f 6964 2c0a 2020 2020 2020 2020  rce_id,.        
+0000f950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f970: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
+0000f980: 3d73 7461 7274 5f64 6174 652c 0a20 2020  =start_date,.   
+0000f990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9b0: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+0000f9c0: 6174 653d 656e 645f 6461 7465 2c0a 2020  ate=end_date,.  
+0000f9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9f0: 2020 2020 2020 2020 2020 2020 6261 736b              bask
+0000fa00: 6574 5f69 6473 3d62 6173 6b65 745f 6964  et_ids=basket_id
+0000fa10: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
+0000fa20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa40: 2072 6567 696f 6e73 3d72 6567 696f 6e73   regions=regions
+0000fa50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fa80: 6d65 6173 7572 6573 3d5b 5468 656d 6174  measures=[Themat
+0000fa90: 6963 4d65 6173 7572 652e 414c 4c5f 5448  icMeasure.ALL_TH
+0000faa0: 454d 4154 4943 5f45 5850 4f53 5552 4553  EMATIC_EXPOSURES
+0000fab0: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
+0000fac0: 6e20 666c 6174 7465 6e5f 7265 7375 6c74  n flatten_result
+0000fad0: 735f 696e 746f 5f64 6628 7265 7375 6c74  s_into_df(result
+0000fae0: 7329 0a0a 2020 2020 6465 6620 6765 745f  s)..    def get_
+0000faf0: 746f 705f 6669 7665 5f74 6865 6d61 7469  top_five_themati
+0000fb00: 635f 6578 706f 7375 7265 7328 7365 6c66  c_exposures(self
+0000fb10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000fb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb30: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+0000fb40: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
+0000fb50: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+0000fb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb70: 2020 2020 2020 2020 2020 2020 2020 656e                en
+0000fb80: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
+0000fb90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000fba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fbc0: 6261 736b 6574 5f69 6473 3a20 4c69 7374  basket_ids: List
+0000fbd0: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0000fbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc00: 2020 2020 2020 7265 6769 6f6e 733a 204c        regions: L
+0000fc10: 6973 745b 5265 6769 6f6e 5d20 3d20 4e6f  ist[Region] = No
+0000fc20: 6e65 2920 2d3e 2070 642e 4461 7461 4672  ne) -> pd.DataFr
+0000fc30: 616d 653a 0a20 2020 2020 2020 2022 2222  ame:.        """
+0000fc40: 0a20 2020 2020 2020 2047 6574 2070 6f72  .        Get por
+0000fc50: 7466 6f6c 696f 2074 6865 6d61 7469 6320  tfolio thematic 
+0000fc60: 616e 616c 7974 6963 7320 666f 7220 7468  analytics for th
+0000fc70: 6520 6669 7665 2047 5320 466c 6167 7368  e five GS Flagsh
+0000fc80: 6970 2054 6865 6d61 7469 6320 6261 736b  ip Thematic bask
+0000fc90: 6574 7320 7769 7468 2074 6865 2068 6967  ets with the hig
+0000fca0: 6865 7374 2074 6865 6d61 7469 6320 6578  hest thematic ex
+0000fcb0: 706f 7375 7265 730a 0a20 2020 2020 2020  posures..       
+0000fcc0: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
+0000fcd0: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
+0000fce0: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
+0000fcf0: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
+0000fd00: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000fd10: 6261 736b 6574 5f69 6473 3a20 6f70 7469  basket_ids: opti
+0000fd20: 6f6e 616c 206c 6973 7420 6f66 2074 6865  onal list of the
+0000fd30: 6d61 7469 6320 6261 736b 6574 2049 4473  matic basket IDs
+0000fd40: 2074 6f20 696e 636c 7564 653b 2064 6566   to include; def
+0000fd50: 6175 6c74 7320 746f 2061 6c6c 206f 6620  aults to all of 
+0000fd60: 7468 656d 0a20 2020 2020 2020 203a 7061  them.        :pa
+0000fd70: 7261 6d20 7265 6769 6f6e 733a 2072 6567  ram regions: reg
+0000fd80: 696f 6e73 2062 7920 7768 6963 6820 746f  ions by which to
+0000fd90: 2066 696c 7465 7220 666c 6167 7368 6970   filter flagship
+0000fda0: 2074 6865 6d61 7469 6320 6261 736b 6574   thematic basket
+0000fdb0: 733b 2064 6566 6175 6c74 7320 746f 2061  s; defaults to a
+0000fdc0: 6c6c 2072 6567 696f 6e73 0a20 2020 2020  ll regions.     
+0000fdd0: 2020 203a 7265 7475 726e 3a20 6120 5061     :return: a Pa
+0000fde0: 6e64 6173 2044 6174 6146 7261 6d65 2077  ndas DataFrame w
+0000fdf0: 6974 6820 7468 6520 746f 7020 3520 7265  ith the top 5 re
+0000fe00: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
+0000fe10: 220a 2020 2020 2020 2020 7265 7375 6c74  ".        result
+0000fe20: 7320 3d20 4773 5468 656d 6174 6963 4170  s = GsThematicAp
+0000fe30: 692e 6765 745f 7468 656d 6174 6963 7328  i.get_thematics(
+0000fe40: 656e 7469 7479 5f69 643d 7365 6c66 2e70  entity_id=self.p
+0000fe50: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
+0000fe60: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+0000fe70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe90: 2073 7461 7274 5f64 6174 653d 7374 6172   start_date=star
+0000fea0: 745f 6461 7465 2c0a 2020 2020 2020 2020  t_date,.        
+0000feb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000fec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fed0: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
-0000fee0: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
-0000fef0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0000fed0: 2020 2020 2020 656e 645f 6461 7465 3d65        end_date=e
+0000fee0: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
+0000fef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000ff00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ff10: 6261 736b 6574 5f69 6473 3a20 4c69 7374  basket_ids: List
-0000ff20: 5b73 7472 5d20 3d20 4e6f 6e65 2920 2d3e  [str] = None) ->
-0000ff30: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
-0000ff40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000ff50: 2020 2047 6574 2070 6f72 7466 6f6c 696f     Get portfolio
-0000ff60: 2068 6973 746f 7269 6361 6c20 6265 7461   historical beta
-0000ff70: 2074 6f20 4753 2046 6c61 6773 6869 7020   to GS Flagship 
-0000ff80: 5468 656d 6174 6963 2062 6173 6b65 7473  Thematic baskets
-0000ff90: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0000ffa0: 2073 7461 7274 5f64 6174 653a 2073 7461   start_date: sta
-0000ffb0: 7274 2064 6174 650a 2020 2020 2020 2020  rt date.        
-0000ffc0: 3a70 6172 616d 2065 6e64 5f64 6174 653a  :param end_date:
-0000ffd0: 2065 6e64 2064 6174 650a 2020 2020 2020   end date.      
-0000ffe0: 2020 3a70 6172 616d 2062 6173 6b65 745f    :param basket_
-0000fff0: 6964 733a 206f 7074 696f 6e61 6c20 6c69  ids: optional li
-00010000: 7374 206f 6620 7468 656d 6174 6963 2062  st of thematic b
-00010010: 6173 6b65 7420 4944 7320 746f 2069 6e63  asket IDs to inc
-00010020: 6c75 6465 3b20 6465 6661 756c 7473 2074  lude; defaults t
-00010030: 6f20 616c 6c20 6f66 2074 6865 6d0a 2020  o all of them.  
-00010040: 2020 2020 2020 3a72 6574 7572 6e3a 2061        :return: a
-00010050: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
-00010060: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
-00010070: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00010080: 2020 2072 6573 756c 7473 203d 2073 656c     results = sel
-00010090: 662e 5f67 6574 5f6d 6561 7375 7265 7328  f._get_measures(
-000100a0: 5b22 7468 656d 6174 6963 4578 706f 7375  ["thematicExposu
-000100b0: 7265 222c 2022 6772 6f73 7345 7870 6f73  re", "grossExpos
-000100c0: 7572 6522 5d2c 2073 7461 7274 5f64 6174  ure"], start_dat
-000100d0: 652c 2065 6e64 5f64 6174 652c 2062 6173  e, end_date, bas
-000100e0: 6b65 745f 6964 732c 0a20 2020 2020 2020  ket_ids,.       
-000100f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010100: 2020 2020 2020 2020 2020 2020 2020 5265                Re
-00010110: 7475 726e 466f 726d 6174 2e4a 534f 4e29  turnFormat.JSON)
-00010120: 0a20 2020 2020 2020 2066 6f72 2072 6573  .        for res
-00010130: 756c 7420 696e 2072 6573 756c 7473 3a0a  ult in results:.
-00010140: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-00010150: 6c74 5b27 7468 656d 6174 6963 4265 7461  lt['thematicBeta
-00010160: 275d 203d 2072 6573 756c 745b 2774 6865  '] = result['the
-00010170: 6d61 7469 6345 7870 6f73 7572 6527 5d20  maticExposure'] 
-00010180: 2f20 7265 7375 6c74 5b27 6772 6f73 7345  / result['grossE
-00010190: 7870 6f73 7572 6527 5d0a 2020 2020 2020  xposure'].      
-000101a0: 2020 2020 2020 7265 7375 6c74 2e70 6f70        result.pop
-000101b0: 2827 7468 656d 6174 6963 4578 706f 7375  ('thematicExposu
-000101c0: 7265 2729 0a20 2020 2020 2020 2020 2020  re').           
-000101d0: 2072 6573 756c 742e 706f 7028 2767 726f   result.pop('gro
-000101e0: 7373 4578 706f 7375 7265 2729 0a20 2020  ssExposure').   
-000101f0: 2020 2020 2072 6574 7572 6e20 7064 2e44       return pd.D
-00010200: 6174 6146 7261 6d65 2872 6573 756c 7473  ataFrame(results
-00010210: 290a 0a20 2020 2064 6566 205f 6765 745f  )..    def _get_
-00010220: 6d65 6173 7572 6573 2873 656c 662c 0a20  measures(self,. 
-00010230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010240: 2020 2020 2066 6965 6c64 733a 204c 6973       fields: Lis
-00010250: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-00010260: 2020 2020 2020 2020 2073 7461 7274 5f64           start_d
-00010270: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
-00010280: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00010290: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
-000102a0: 6174 653a 2064 742e 6461 7465 203d 204e  ate: dt.date = N
-000102b0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-000102c0: 2020 2020 2020 2020 2020 2062 6173 6b65             baske
-000102d0: 745f 6964 733a 204c 6973 745b 7374 725d  t_ids: List[str]
-000102e0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000102f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00010300: 6574 7572 6e5f 666f 726d 6174 3a20 5265  eturn_format: Re
-00010310: 7475 726e 466f 726d 6174 203d 2052 6574  turnFormat = Ret
-00010320: 7572 6e46 6f72 6d61 742e 4441 5441 5f46  urnFormat.DATA_F
-00010330: 5241 4d45 2920 2d3e 2055 6e69 6f6e 5b44  RAME) -> Union[D
-00010340: 6963 742c 2070 642e 4461 7461 4672 616d  ict, pd.DataFram
-00010350: 655d 3a0a 2020 2020 2020 2020 7768 6572  e]:.        wher
-00010360: 6520 3d20 7b27 7265 706f 7274 4964 273a  e = {'reportId':
-00010370: 2073 656c 662e 6964 7d0a 2020 2020 2020   self.id}.      
-00010380: 2020 6966 2062 6173 6b65 745f 6964 733a    if basket_ids:
-00010390: 0a20 2020 2020 2020 2020 2020 2077 6865  .            whe
-000103a0: 7265 5b27 6261 736b 6574 4964 275d 203d  re['basketId'] =
-000103b0: 2062 6173 6b65 745f 6964 730a 2020 2020   basket_ids.    
-000103c0: 2020 2020 6461 7461 7365 7420 3d20 5265      dataset = Re
-000103d0: 706f 7274 4461 7461 7365 742e 5054 415f  portDataset.PTA_
-000103e0: 4441 5441 5345 542e 7661 6c75 6520 6966  DATASET.value if
-000103f0: 2073 656c 662e 706f 7369 7469 6f6e 5f73   self.position_s
-00010400: 6f75 7263 655f 7479 7065 203d 3d20 506f  ource_type == Po
-00010410: 7369 7469 6f6e 536f 7572 6365 5479 7065  sitionSourceType
-00010420: 2e50 6f72 7466 6f6c 696f 205c 0a20 2020  .Portfolio \.   
-00010430: 2020 2020 2020 2020 2065 6c73 6520 5265           else Re
-00010440: 706f 7274 4461 7461 7365 742e 4154 415f  portDataset.ATA_
-00010450: 4441 5441 5345 542e 7661 6c75 650a 2020  DATASET.value.  
-00010460: 2020 2020 2020 7175 6572 7920 3d20 4461        query = Da
-00010470: 7461 5175 6572 7928 7768 6572 653d 7768  taQuery(where=wh
-00010480: 6572 652c 2066 6965 6c64 733d 6669 656c  ere, fields=fiel
-00010490: 6473 2c20 7374 6172 745f 6461 7465 3d73  ds, start_date=s
-000104a0: 7461 7274 5f64 6174 652c 2065 6e64 5f64  tart_date, end_d
-000104b0: 6174 653d 656e 645f 6461 7465 290a 2020  ate=end_date).  
-000104c0: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
-000104d0: 4773 4461 7461 4170 692e 7175 6572 795f  GsDataApi.query_
-000104e0: 6461 7461 2871 7565 7279 3d71 7565 7279  data(query=query
-000104f0: 2c20 6461 7461 7365 745f 6964 3d64 6174  , dataset_id=dat
-00010500: 6173 6574 290a 2020 2020 2020 2020 7265  aset).        re
-00010510: 7475 726e 2070 642e 4461 7461 4672 616d  turn pd.DataFram
-00010520: 6528 7265 7375 6c74 7329 2069 6620 7265  e(results) if re
-00010530: 7475 726e 5f66 6f72 6d61 7420 3d3d 2052  turn_format == R
-00010540: 6574 7572 6e46 6f72 6d61 742e 4441 5441  eturnFormat.DATA
-00010550: 5f46 5241 4d45 2065 6c73 6520 7265 7375  _FRAME else resu
-00010560: 6c74 730a 0a20 2020 2064 6566 2067 6574  lts..    def get
-00010570: 5f61 6c6c 5f74 6865 6d61 7469 635f 6578  _all_thematic_ex
-00010580: 706f 7375 7265 7328 7365 6c66 2c0a 2020  posures(self,.  
+0000ff10: 2020 2020 2020 2062 6173 6b65 745f 6964         basket_id
+0000ff20: 733d 6261 736b 6574 5f69 6473 2c0a 2020  s=basket_ids,.  
+0000ff30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff50: 2020 2020 2020 2020 2020 2020 7265 6769              regi
+0000ff60: 6f6e 733d 7265 6769 6f6e 732c 0a20 2020  ons=regions,.   
+0000ff70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff90: 2020 2020 2020 2020 2020 206d 6561 7375             measu
+0000ffa0: 7265 733d 5b54 6865 6d61 7469 634d 6561  res=[ThematicMea
+0000ffb0: 7375 7265 2e54 4f50 5f46 4956 455f 5448  sure.TOP_FIVE_TH
+0000ffc0: 454d 4154 4943 5f45 5850 4f53 5552 4553  EMATIC_EXPOSURES
+0000ffd0: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
+0000ffe0: 6e20 666c 6174 7465 6e5f 7265 7375 6c74  n flatten_result
+0000fff0: 735f 696e 746f 5f64 6628 7265 7375 6c74  s_into_df(result
+00010000: 7329 0a0a 2020 2020 6465 6620 6765 745f  s)..    def get_
+00010010: 626f 7474 6f6d 5f66 6976 655f 7468 656d  bottom_five_them
+00010020: 6174 6963 5f65 7870 6f73 7572 6573 2873  atic_exposures(s
+00010030: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
+00010040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010060: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
+00010070: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
+00010080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100a0: 2020 2020 2020 2065 6e64 5f64 6174 653a         end_date:
+000100b0: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
+000100c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000100d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100e0: 2020 2020 2020 2020 2020 2020 6261 736b              bask
+000100f0: 6574 5f69 6473 3a20 4c69 7374 5b73 7472  et_ids: List[str
+00010100: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+00010110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010130: 2020 2020 2072 6567 696f 6e73 3a20 4c69       regions: Li
+00010140: 7374 5b52 6567 696f 6e5d 203d 204e 6f6e  st[Region] = Non
+00010150: 6529 202d 3e20 7064 2e44 6174 6146 7261  e) -> pd.DataFra
+00010160: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
+00010170: 2020 2020 2020 2020 4765 7420 706f 7274          Get port
+00010180: 666f 6c69 6f20 7468 656d 6174 6963 2061  folio thematic a
+00010190: 6e61 6c79 7469 6373 2066 6f72 2074 6865  nalytics for the
+000101a0: 2066 6976 6520 4753 2046 6c61 6773 6869   five GS Flagshi
+000101b0: 7020 5468 656d 6174 6963 2062 6173 6b65  p Thematic baske
+000101c0: 7473 2077 6974 6820 7468 6520 6c6f 7765  ts with the lowe
+000101d0: 7374 2074 6865 6d61 7469 6320 6578 706f  st thematic expo
+000101e0: 7375 7265 730a 0a20 2020 2020 2020 203a  sures..        :
+000101f0: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
+00010200: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
+00010210: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
+00010220: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
+00010230: 2020 2020 2020 203a 7061 7261 6d20 6261         :param ba
+00010240: 736b 6574 5f69 6473 3a20 6f70 7469 6f6e  sket_ids: option
+00010250: 616c 206c 6973 7420 6f66 2074 6865 6d61  al list of thema
+00010260: 7469 6320 6261 736b 6574 2049 4473 2074  tic basket IDs t
+00010270: 6f20 696e 636c 7564 653b 2064 6566 6175  o include; defau
+00010280: 6c74 7320 746f 2061 6c6c 206f 6620 7468  lts to all of th
+00010290: 656d 0a20 2020 2020 2020 203a 7061 7261  em.        :para
+000102a0: 6d20 7265 6769 6f6e 733a 2072 6567 696f  m regions: regio
+000102b0: 6e73 2062 7920 7768 6963 6820 746f 2066  ns by which to f
+000102c0: 696c 7465 7220 666c 6167 7368 6970 2074  ilter flagship t
+000102d0: 6865 6d61 7469 6320 6261 736b 6574 733b  hematic baskets;
+000102e0: 2064 6566 6175 6c74 7320 746f 2061 6c6c   defaults to all
+000102f0: 2072 6567 696f 6e73 0a20 2020 2020 2020   regions.       
+00010300: 203a 7265 7475 726e 3a20 6120 5061 6e64   :return: a Pand
+00010310: 6173 2044 6174 6146 7261 6d65 2077 6974  as DataFrame wit
+00010320: 6820 7468 6520 626f 7474 6f6d 2035 2072  h the bottom 5 r
+00010330: 6573 756c 7473 0a20 2020 2020 2020 2022  esults.        "
+00010340: 2222 0a20 2020 2020 2020 2072 6573 756c  "".        resul
+00010350: 7473 203d 2047 7354 6865 6d61 7469 6341  ts = GsThematicA
+00010360: 7069 2e67 6574 5f74 6865 6d61 7469 6373  pi.get_thematics
+00010370: 2865 6e74 6974 795f 6964 3d73 656c 662e  (entity_id=self.
+00010380: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
+00010390: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+000103a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000103b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000103c0: 2020 7374 6172 745f 6461 7465 3d73 7461    start_date=sta
+000103d0: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
+000103e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000103f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010400: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
+00010410: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
+00010420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010440: 2020 2020 2020 2020 6261 736b 6574 5f69          basket_i
+00010450: 6473 3d62 6173 6b65 745f 6964 732c 0a20  ds=basket_ids,. 
+00010460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010480: 2020 2020 2020 2020 2020 2020 2072 6567               reg
+00010490: 696f 6e73 3d72 6567 696f 6e73 2c0a 2020  ions=regions,.  
+000104a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000104b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000104c0: 2020 2020 2020 2020 2020 2020 6d65 6173              meas
+000104d0: 7572 6573 3d5b 5468 656d 6174 6963 4d65  ures=[ThematicMe
+000104e0: 6173 7572 652e 424f 5454 4f4d 5f46 4956  asure.BOTTOM_FIV
+000104f0: 455f 5448 454d 4154 4943 5f45 5850 4f53  E_THEMATIC_EXPOS
+00010500: 5552 4553 5d29 0a20 2020 2020 2020 2072  URES]).        r
+00010510: 6574 7572 6e20 666c 6174 7465 6e5f 7265  eturn flatten_re
+00010520: 7375 6c74 735f 696e 746f 5f64 6628 7265  sults_into_df(re
+00010530: 7375 6c74 7329 0a0a 2020 2020 6465 6620  sults)..    def 
+00010540: 6765 745f 7468 656d 6174 6963 5f62 7265  get_thematic_bre
+00010550: 616b 646f 776e 2873 656c 662c 0a20 2020  akdown(self,.   
+00010560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010570: 2020 2020 2020 2020 2020 2020 6461 7465              date
+00010580: 3a20 6474 2e64 6174 652c 0a20 2020 2020  : dt.date,.     
 00010590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105b0: 2073 7461 7274 5f64 6174 653a 2064 742e   start_date: dt.
-000105c0: 6461 7465 203d 204e 6f6e 652c 0a20 2020  date = None,.   
-000105d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105f0: 656e 645f 6461 7465 3a20 6474 2e64 6174  end_date: dt.dat
-00010600: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
-00010610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010620: 2020 2020 2020 2020 2020 2020 2062 6173               bas
-00010630: 6b65 745f 6964 733a 204c 6973 745b 7374  ket_ids: List[st
-00010640: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-00010650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010660: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00010670: 6769 6f6e 733a 204c 6973 745b 5265 6769  gions: List[Regi
-00010680: 6f6e 5d20 3d20 4e6f 6e65 2920 2d3e 2070  on] = None) -> p
-00010690: 642e 4461 7461 4672 616d 653a 0a20 2020  d.DataFrame:.   
-000106a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000106b0: 2047 6574 2061 6c6c 2070 6f72 7466 6f6c   Get all portfol
-000106c0: 696f 2074 6865 6d61 7469 6320 616e 616c  io thematic anal
-000106d0: 7974 6963 7320 666f 7220 4753 2046 6c61  ytics for GS Fla
-000106e0: 6773 686f 7020 5468 656d 6174 6963 2062  gshop Thematic b
-000106f0: 6173 6b65 7473 0a0a 2020 2020 2020 2020  askets..        
-00010700: 3a70 6172 616d 2073 7461 7274 5f64 6174  :param start_dat
-00010710: 653a 2073 7461 7274 2064 6174 650a 2020  e: start date.  
-00010720: 2020 2020 2020 3a70 6172 616d 2065 6e64        :param end
-00010730: 5f64 6174 653a 2065 6e64 2064 6174 650a  _date: end date.
-00010740: 2020 2020 2020 2020 3a70 6172 616d 2062          :param b
-00010750: 6173 6b65 745f 6964 733a 206f 7074 696f  asket_ids: optio
-00010760: 6e61 6c20 6c69 7374 206f 6620 7468 656d  nal list of them
-00010770: 6174 6963 2062 6173 6b65 7420 4944 7320  atic basket IDs 
-00010780: 746f 2069 6e63 6c75 6465 3b20 6465 6661  to include; defa
-00010790: 756c 7473 2074 6f20 616c 6c20 6f66 2074  ults to all of t
-000107a0: 6865 6d0a 2020 2020 2020 2020 3a70 6172  hem.        :par
-000107b0: 616d 2072 6567 696f 6e73 3a20 7265 6769  am regions: regi
-000107c0: 6f6e 7320 6279 2077 6869 6368 2074 6f20  ons by which to 
-000107d0: 6669 6c74 6572 2066 6c61 6773 6869 7020  filter flagship 
-000107e0: 7468 656d 6174 6963 2062 6173 6b65 7473  thematic baskets
-000107f0: 3b20 6465 6661 756c 7473 2074 6f20 616c  ; defaults to al
-00010800: 6c20 7265 6769 6f6e 730a 2020 2020 2020  l regions.      
-00010810: 2020 3a72 6574 7572 6e3a 2061 2050 616e    :return: a Pan
-00010820: 6461 7320 4461 7461 4672 616d 6520 7769  das DataFrame wi
-00010830: 7468 2072 6573 756c 7473 0a20 2020 2020  th results.     
-00010840: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
-00010850: 6573 756c 7473 203d 2047 7354 6865 6d61  esults = GsThema
-00010860: 7469 6341 7069 2e67 6574 5f74 6865 6d61  ticApi.get_thema
-00010870: 7469 6373 2865 6e74 6974 795f 6964 3d73  tics(entity_id=s
-00010880: 656c 662e 706f 7369 7469 6f6e 5f73 6f75  elf.position_sou
-00010890: 7263 655f 6964 2c0a 2020 2020 2020 2020  rce_id,.        
-000108a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108c0: 2020 2020 2020 7374 6172 745f 6461 7465        start_date
-000108d0: 3d73 7461 7274 5f64 6174 652c 0a20 2020  =start_date,.   
-000108e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010900: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
-00010910: 6174 653d 656e 645f 6461 7465 2c0a 2020  ate=end_date,.  
-00010920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010940: 2020 2020 2020 2020 2020 2020 6261 736b              bask
-00010950: 6574 5f69 6473 3d62 6173 6b65 745f 6964  et_ids=basket_id
-00010960: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-00010970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010990: 2072 6567 696f 6e73 3d72 6567 696f 6e73   regions=regions
-000109a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000109b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000109c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000109d0: 6d65 6173 7572 6573 3d5b 5468 656d 6174  measures=[Themat
-000109e0: 6963 4d65 6173 7572 652e 414c 4c5f 5448  icMeasure.ALL_TH
-000109f0: 454d 4154 4943 5f45 5850 4f53 5552 4553  EMATIC_EXPOSURES
-00010a00: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
-00010a10: 6e20 666c 6174 7465 6e5f 7265 7375 6c74  n flatten_result
-00010a20: 735f 696e 746f 5f64 6628 7265 7375 6c74  s_into_df(result
-00010a30: 7329 0a0a 2020 2020 6465 6620 6765 745f  s)..    def get_
-00010a40: 746f 705f 6669 7665 5f74 6865 6d61 7469  top_five_themati
-00010a50: 635f 6578 706f 7375 7265 7328 7365 6c66  c_exposures(self
-00010a60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00010a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010a80: 2020 2020 2020 2020 2020 7374 6172 745f            start_
-00010a90: 6461 7465 3a20 6474 2e64 6174 6520 3d20  date: dt.date = 
-00010aa0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00010ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ac0: 2020 2020 2020 2020 2020 2020 2020 656e                en
-00010ad0: 645f 6461 7465 3a20 6474 2e64 6174 6520  d_date: dt.date 
-00010ae0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00010af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b10: 6261 736b 6574 5f69 6473 3a20 4c69 7374  basket_ids: List
-00010b20: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
-00010b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b50: 2020 2020 2020 7265 6769 6f6e 733a 204c        regions: L
-00010b60: 6973 745b 5265 6769 6f6e 5d20 3d20 4e6f  ist[Region] = No
-00010b70: 6e65 2920 2d3e 2070 642e 4461 7461 4672  ne) -> pd.DataFr
-00010b80: 616d 653a 0a20 2020 2020 2020 2022 2222  ame:.        """
-00010b90: 0a20 2020 2020 2020 2047 6574 2070 6f72  .        Get por
-00010ba0: 7466 6f6c 696f 2074 6865 6d61 7469 6320  tfolio thematic 
-00010bb0: 616e 616c 7974 6963 7320 666f 7220 7468  analytics for th
-00010bc0: 6520 6669 7665 2047 5320 466c 6167 7368  e five GS Flagsh
-00010bd0: 6970 2054 6865 6d61 7469 6320 6261 736b  ip Thematic bask
-00010be0: 6574 7320 7769 7468 2074 6865 2068 6967  ets with the hig
-00010bf0: 6865 7374 2074 6865 6d61 7469 6320 6578  hest thematic ex
-00010c00: 706f 7375 7265 730a 0a20 2020 2020 2020  posures..       
-00010c10: 203a 7061 7261 6d20 7374 6172 745f 6461   :param start_da
-00010c20: 7465 3a20 7374 6172 7420 6461 7465 0a20  te: start date. 
-00010c30: 2020 2020 2020 203a 7061 7261 6d20 656e         :param en
-00010c40: 645f 6461 7465 3a20 656e 6420 6461 7465  d_date: end date
-00010c50: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00010c60: 6261 736b 6574 5f69 6473 3a20 6f70 7469  basket_ids: opti
-00010c70: 6f6e 616c 206c 6973 7420 6f66 2074 6865  onal list of the
-00010c80: 6d61 7469 6320 6261 736b 6574 2049 4473  matic basket IDs
-00010c90: 2074 6f20 696e 636c 7564 653b 2064 6566   to include; def
-00010ca0: 6175 6c74 7320 746f 2061 6c6c 206f 6620  aults to all of 
-00010cb0: 7468 656d 0a20 2020 2020 2020 203a 7061  them.        :pa
-00010cc0: 7261 6d20 7265 6769 6f6e 733a 2072 6567  ram regions: reg
-00010cd0: 696f 6e73 2062 7920 7768 6963 6820 746f  ions by which to
-00010ce0: 2066 696c 7465 7220 666c 6167 7368 6970   filter flagship
-00010cf0: 2074 6865 6d61 7469 6320 6261 736b 6574   thematic basket
-00010d00: 733b 2064 6566 6175 6c74 7320 746f 2061  s; defaults to a
-00010d10: 6c6c 2072 6567 696f 6e73 0a20 2020 2020  ll regions.     
-00010d20: 2020 203a 7265 7475 726e 3a20 6120 5061     :return: a Pa
-00010d30: 6e64 6173 2044 6174 6146 7261 6d65 2077  ndas DataFrame w
-00010d40: 6974 6820 7468 6520 746f 7020 3520 7265  ith the top 5 re
-00010d50: 7375 6c74 730a 2020 2020 2020 2020 2222  sults.        ""
-00010d60: 220a 2020 2020 2020 2020 7265 7375 6c74  ".        result
-00010d70: 7320 3d20 4773 5468 656d 6174 6963 4170  s = GsThematicAp
-00010d80: 692e 6765 745f 7468 656d 6174 6963 7328  i.get_thematics(
-00010d90: 656e 7469 7479 5f69 643d 7365 6c66 2e70  entity_id=self.p
-00010da0: 6f73 6974 696f 6e5f 736f 7572 6365 5f69  osition_source_i
-00010db0: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-00010dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010de0: 2073 7461 7274 5f64 6174 653d 7374 6172   start_date=star
-00010df0: 745f 6461 7465 2c0a 2020 2020 2020 2020  t_date,.        
-00010e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e20: 2020 2020 2020 656e 645f 6461 7465 3d65        end_date=e
-00010e30: 6e64 5f64 6174 652c 0a20 2020 2020 2020  nd_date,.       
+000105a0: 2020 2020 2020 2020 2020 6261 736b 6574            basket
+000105b0: 5f69 643a 2073 7472 2920 2d3e 2070 642e  _id: str) -> pd.
+000105c0: 4461 7461 4672 616d 653a 0a20 2020 2020  DataFrame:.     
+000105d0: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
+000105e0: 6574 2061 2062 792d 6173 7365 7420 6272  et a by-asset br
+000105f0: 6561 6b64 6f77 6e20 6f66 2061 2070 6f72  eakdown of a por
+00010600: 7466 6f6c 696f 206f 7220 6261 736b 6574  tfolio or basket
+00010610: 2773 2074 6865 6d61 7469 6320 6578 706f  's thematic expo
+00010620: 7375 7265 2074 6f20 6120 7061 7274 6963  sure to a partic
+00010630: 756c 6172 2066 6c61 6773 6869 7020 6261  ular flagship ba
+00010640: 736b 6574 206f 6e20 610a 2020 2020 2020  sket on a.      
+00010650: 2020 7061 7274 6963 756c 6172 2064 6174    particular dat
+00010660: 650a 0a20 2020 2020 2020 203a 7061 7261  e..        :para
+00010670: 6d20 6461 7465 3a20 6461 7465 0a20 2020  m date: date.   
+00010680: 2020 2020 203a 7061 7261 6d20 6261 736b       :param bask
+00010690: 6574 5f69 643a 2047 5320 666c 6167 7368  et_id: GS flagsh
+000106a0: 6970 2062 6173 6b65 7427 7320 756e 6971  ip basket's uniq
+000106b0: 7565 204d 6172 7175 6565 2049 440a 2020  ue Marquee ID.  
+000106c0: 2020 2020 2020 3a72 6574 7572 6e3a 2061        :return: a
+000106d0: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
+000106e0: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
+000106f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010700: 2020 2072 6574 7572 6e20 6765 745f 7468     return get_th
+00010710: 656d 6174 6963 5f62 7265 616b 646f 776e  ematic_breakdown
+00010720: 5f61 735f 6466 2865 6e74 6974 795f 6964  _as_df(entity_id
+00010730: 3d73 656c 662e 706f 7369 7469 6f6e 5f73  =self.position_s
+00010740: 6f75 7263 655f 6964 2c20 6461 7465 3d64  ource_id, date=d
+00010750: 6174 652c 2062 6173 6b65 745f 6964 3d62  ate, basket_id=b
+00010760: 6173 6b65 745f 6964 290a 0a0a 6465 6620  asket_id)...def 
+00010770: 6765 745f 7468 656d 6174 6963 5f62 7265  get_thematic_bre
+00010780: 616b 646f 776e 5f61 735f 6466 2865 6e74  akdown_as_df(ent
+00010790: 6974 795f 6964 3a20 7374 722c 0a20 2020  ity_id: str,.   
+000107a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107b0: 2020 2020 2020 2020 2020 2020 2020 6461                da
+000107c0: 7465 3a20 6474 2e64 6174 652c 0a20 2020  te: dt.date,.   
+000107d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107e0: 2020 2020 2020 2020 2020 2020 2020 6261                ba
+000107f0: 736b 6574 5f69 643a 2073 7472 2920 2d3e  sket_id: str) ->
+00010800: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
+00010810: 2020 2022 2222 0a20 2020 2047 6574 2061     """.    Get a
+00010820: 2062 792d 6173 7365 7420 6272 6561 6b64   by-asset breakd
+00010830: 6f77 6e20 6f66 2061 2070 6f72 7466 6f6c  own of a portfol
+00010840: 696f 206f 7220 6261 736b 6574 2773 2074  io or basket's t
+00010850: 6865 6d61 7469 6320 6578 706f 7375 7265  hematic exposure
+00010860: 2074 6f20 6120 7061 7274 6963 756c 6172   to a particular
+00010870: 2066 6c61 6773 6869 7020 6261 736b 6574   flagship basket
+00010880: 206f 6e20 610a 2020 2020 7061 7274 6963   on a.    partic
+00010890: 756c 6172 2064 6174 6120 616e 6420 7265  ular data and re
+000108a0: 7475 726e 2061 7320 6120 5061 6e64 6173  turn as a Pandas
+000108b0: 2044 6174 6146 7261 6d65 0a0a 2020 2020   DataFrame..    
+000108c0: 3a70 6172 616d 2065 6e74 6974 795f 6964  :param entity_id
+000108d0: 3a20 706f 7369 7469 6f6e 2073 6f75 7263  : position sourc
+000108e0: 6520 4944 3b20 692e 652e 2070 6f72 7466  e ID; i.e. portf
+000108f0: 6f6c 696f 206f 7220 6261 736b 6574 0a20  olio or basket. 
+00010900: 2020 203a 7061 7261 6d20 6461 7465 3a20     :param date: 
+00010910: 6461 7465 0a20 2020 203a 7061 7261 6d20  date.    :param 
+00010920: 6261 736b 6574 5f69 643a 2047 5320 666c  basket_id: GS fl
+00010930: 6167 7368 6970 2062 6173 6b65 7427 7320  agship basket's 
+00010940: 756e 6971 7565 204d 6172 7175 6565 2049  unique Marquee I
+00010950: 440a 2020 2020 3a72 6574 7572 6e3a 2061  D.    :return: a
+00010960: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
+00010970: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
+00010980: 2020 2022 2222 0a20 2020 2072 6573 756c     """.    resul
+00010990: 7473 203d 2047 7354 6865 6d61 7469 6341  ts = GsThematicA
+000109a0: 7069 2e67 6574 5f74 6865 6d61 7469 6373  pi.get_thematics
+000109b0: 2865 6e74 6974 795f 6964 3d65 6e74 6974  (entity_id=entit
+000109c0: 795f 6964 2c0a 2020 2020 2020 2020 2020  y_id,.          
+000109d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109f0: 7374 6172 745f 6461 7465 3d64 6174 652c  start_date=date,
+00010a00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a20: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
+00010a30: 6174 653d 6461 7465 2c0a 2020 2020 2020  ate=date,.      
+00010a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a60: 2020 2020 6261 736b 6574 5f69 6473 3d5b      basket_ids=[
+00010a70: 6261 736b 6574 5f69 645d 2c0a 2020 2020  basket_id],.    
+00010a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010aa0: 2020 2020 2020 6d65 6173 7572 6573 3d5b        measures=[
+00010ab0: 5468 656d 6174 6963 4d65 6173 7572 652e  ThematicMeasure.
+00010ac0: 5448 454d 4154 4943 5f42 5245 414b 444f  THEMATIC_BREAKDO
+00010ad0: 574e 5f42 595f 4153 5345 545d 290a 2020  WN_BY_ASSET]).  
+00010ae0: 2020 6272 6561 6b64 6f77 6e20 3d20 7265    breakdown = re
+00010af0: 7375 6c74 735b 305d 2e67 6574 280a 2020  sults[0].get(.  
+00010b00: 2020 2020 2020 5468 656d 6174 6963 4d65        ThematicMe
+00010b10: 6173 7572 652e 5448 454d 4154 4943 5f42  asure.THEMATIC_B
+00010b20: 5245 414b 444f 574e 5f42 595f 4153 5345  REAKDOWN_BY_ASSE
+00010b30: 542e 7661 6c75 652c 205b 7b7d 5d29 5b30  T.value, [{}])[0
+00010b40: 5d2e 6765 7428 0a20 2020 2020 2020 2054  ].get(.        T
+00010b50: 6865 6d61 7469 634d 6561 7375 7265 2e54  hematicMeasure.T
+00010b60: 4845 4d41 5449 435f 4252 4541 4b44 4f57  HEMATIC_BREAKDOW
+00010b70: 4e5f 4259 5f41 5353 4554 2e76 616c 7565  N_BY_ASSET.value
+00010b80: 2c20 5b5d 0a20 2020 2029 0a20 2020 2066  , [].    ).    f
+00010b90: 6f72 6d61 7474 6564 5f62 7265 616b 646f  ormatted_breakdo
+00010ba0: 776e 203d 205b 5d0a 2020 2020 666f 7220  wn = [].    for 
+00010bb0: 6461 7461 2069 6e20 6272 6561 6b64 6f77  data in breakdow
+00010bc0: 6e3a 0a20 2020 2020 2020 2066 6f72 6d61  n:.        forma
+00010bd0: 7474 6564 5f64 6174 6120 3d20 7b74 6974  tted_data = {tit
+00010be0: 6c65 697a 6528 6b29 3a20 6461 7461 5b6b  leize(k): data[k
+00010bf0: 5d20 666f 7220 6b20 696e 2064 6174 617d  ] for k in data}
+00010c00: 0a20 2020 2020 2020 2066 6f72 6d61 7474  .        formatt
+00010c10: 6564 5f62 7265 616b 646f 776e 2e61 7070  ed_breakdown.app
+00010c20: 656e 6428 666f 726d 6174 7465 645f 6461  end(formatted_da
+00010c30: 7461 290a 2020 2020 7265 7475 726e 2070  ta).    return p
+00010c40: 642e 4461 7461 4672 616d 6528 666f 726d  d.DataFrame(form
+00010c50: 6174 7465 645f 6272 6561 6b64 6f77 6e29  atted_breakdown)
+00010c60: 0a0a 0a64 6566 2066 6c61 7474 656e 5f72  ...def flatten_r
+00010c70: 6573 756c 7473 5f69 6e74 6f5f 6466 2872  esults_into_df(r
+00010c80: 6573 756c 7473 3a20 4c69 7374 293a 0a20  esults: List):. 
+00010c90: 2020 2022 2222 0a20 2020 2046 6c61 7474     """.    Flatt
+00010ca0: 656e 2061 206c 6973 7420 6f66 2074 6865  en a list of the
+00010cb0: 6d61 7469 6320 6461 7461 2069 6e74 6f20  matic data into 
+00010cc0: 6120 5061 6e64 6173 2044 6174 6146 7261  a Pandas DataFra
+00010cd0: 6d65 0a0a 2020 2020 3a70 6172 616d 2072  me..    :param r
+00010ce0: 6573 756c 7473 3a20 6120 6c69 7374 206f  esults: a list o
+00010cf0: 6620 7468 656d 6174 6963 2064 6174 6120  f thematic data 
+00010d00: 6279 2064 6174 650a 2020 2020 3a72 6574  by date.    :ret
+00010d10: 7572 6e3a 2050 616e 6461 7320 4461 7461  urn: Pandas Data
+00010d20: 4672 616d 6520 7769 7468 2061 6c6c 2072  Frame with all r
+00010d30: 6573 756c 7473 2066 6f72 6d61 7474 6564  esults formatted
+00010d40: 0a20 2020 2022 2222 0a20 2020 2061 6c6c  .    """.    all
+00010d50: 5f72 6573 756c 7473 203d 205b 5d0a 2020  _results = [].  
+00010d60: 2020 666f 7220 7265 7375 6c74 2069 6e20    for result in 
+00010d70: 7265 7375 6c74 733a 0a20 2020 2020 2020  results:.       
+00010d80: 2064 6174 6520 3d20 7265 7375 6c74 5b27   date = result['
+00010d90: 6461 7465 275d 0a20 2020 2020 2020 2066  date'].        f
+00010da0: 6f72 206b 6579 2069 6e20 7265 7375 6c74  or key in result
+00010db0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00010dc0: 2069 7369 6e73 7461 6e63 6528 7265 7375   isinstance(resu
+00010dd0: 6c74 5b6b 6579 5d2c 206c 6973 7429 3a0a  lt[key], list):.
+00010de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010df0: 666f 7220 7468 656d 6174 6963 5f64 6174  for thematic_dat
+00010e00: 6120 696e 2072 6573 756c 745b 6b65 795d  a in result[key]
+00010e10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010e20: 2020 2020 2020 616c 6c5f 7265 7375 6c74        all_result
+00010e30: 732e 6170 7065 6e64 287b 0a20 2020 2020  s.append({.     
 00010e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e60: 2020 2020 2020 2062 6173 6b65 745f 6964         basket_id
-00010e70: 733d 6261 736b 6574 5f69 6473 2c0a 2020  s=basket_ids,.  
-00010e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ea0: 2020 2020 2020 2020 2020 2020 7265 6769              regi
-00010eb0: 6f6e 733d 7265 6769 6f6e 732c 0a20 2020  ons=regions,.   
-00010ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ee0: 2020 2020 2020 2020 2020 206d 6561 7375             measu
-00010ef0: 7265 733d 5b54 6865 6d61 7469 634d 6561  res=[ThematicMea
-00010f00: 7375 7265 2e54 4f50 5f46 4956 455f 5448  sure.TOP_FIVE_TH
-00010f10: 454d 4154 4943 5f45 5850 4f53 5552 4553  EMATIC_EXPOSURES
-00010f20: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
-00010f30: 6e20 666c 6174 7465 6e5f 7265 7375 6c74  n flatten_result
-00010f40: 735f 696e 746f 5f64 6628 7265 7375 6c74  s_into_df(result
-00010f50: 7329 0a0a 2020 2020 6465 6620 6765 745f  s)..    def get_
-00010f60: 626f 7474 6f6d 5f66 6976 655f 7468 656d  bottom_five_them
-00010f70: 6174 6963 5f65 7870 6f73 7572 6573 2873  atic_exposures(s
-00010f80: 656c 662c 0a20 2020 2020 2020 2020 2020  elf,.           
-00010f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010fb0: 7374 6172 745f 6461 7465 3a20 6474 2e64  start_date: dt.d
-00010fc0: 6174 6520 3d20 4e6f 6e65 2c0a 2020 2020  ate = None,.    
-00010fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010ff0: 2020 2020 2020 2065 6e64 5f64 6174 653a         end_date:
-00011000: 2064 742e 6461 7465 203d 204e 6f6e 652c   dt.date = None,
-00011010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011030: 2020 2020 2020 2020 2020 2020 6261 736b              bask
-00011040: 6574 5f69 6473 3a20 4c69 7374 5b73 7472  et_ids: List[str
-00011050: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-00011060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011080: 2020 2020 2072 6567 696f 6e73 3a20 4c69       regions: Li
-00011090: 7374 5b52 6567 696f 6e5d 203d 204e 6f6e  st[Region] = Non
-000110a0: 6529 202d 3e20 7064 2e44 6174 6146 7261  e) -> pd.DataFra
-000110b0: 6d65 3a0a 2020 2020 2020 2020 2222 220a  me:.        """.
-000110c0: 2020 2020 2020 2020 4765 7420 706f 7274          Get port
-000110d0: 666f 6c69 6f20 7468 656d 6174 6963 2061  folio thematic a
-000110e0: 6e61 6c79 7469 6373 2066 6f72 2074 6865  nalytics for the
-000110f0: 2066 6976 6520 4753 2046 6c61 6773 6869   five GS Flagshi
-00011100: 7020 5468 656d 6174 6963 2062 6173 6b65  p Thematic baske
-00011110: 7473 2077 6974 6820 7468 6520 6c6f 7765  ts with the lowe
-00011120: 7374 2074 6865 6d61 7469 6320 6578 706f  st thematic expo
-00011130: 7375 7265 730a 0a20 2020 2020 2020 203a  sures..        :
-00011140: 7061 7261 6d20 7374 6172 745f 6461 7465  param start_date
-00011150: 3a20 7374 6172 7420 6461 7465 0a20 2020  : start date.   
-00011160: 2020 2020 203a 7061 7261 6d20 656e 645f       :param end_
-00011170: 6461 7465 3a20 656e 6420 6461 7465 0a20  date: end date. 
-00011180: 2020 2020 2020 203a 7061 7261 6d20 6261         :param ba
-00011190: 736b 6574 5f69 6473 3a20 6f70 7469 6f6e  sket_ids: option
-000111a0: 616c 206c 6973 7420 6f66 2074 6865 6d61  al list of thema
-000111b0: 7469 6320 6261 736b 6574 2049 4473 2074  tic basket IDs t
-000111c0: 6f20 696e 636c 7564 653b 2064 6566 6175  o include; defau
-000111d0: 6c74 7320 746f 2061 6c6c 206f 6620 7468  lts to all of th
-000111e0: 656d 0a20 2020 2020 2020 203a 7061 7261  em.        :para
-000111f0: 6d20 7265 6769 6f6e 733a 2072 6567 696f  m regions: regio
-00011200: 6e73 2062 7920 7768 6963 6820 746f 2066  ns by which to f
-00011210: 696c 7465 7220 666c 6167 7368 6970 2074  ilter flagship t
-00011220: 6865 6d61 7469 6320 6261 736b 6574 733b  hematic baskets;
-00011230: 2064 6566 6175 6c74 7320 746f 2061 6c6c   defaults to all
-00011240: 2072 6567 696f 6e73 0a20 2020 2020 2020   regions.       
-00011250: 203a 7265 7475 726e 3a20 6120 5061 6e64   :return: a Pand
-00011260: 6173 2044 6174 6146 7261 6d65 2077 6974  as DataFrame wit
-00011270: 6820 7468 6520 626f 7474 6f6d 2035 2072  h the bottom 5 r
-00011280: 6573 756c 7473 0a20 2020 2020 2020 2022  esults.        "
-00011290: 2222 0a20 2020 2020 2020 2072 6573 756c  "".        resul
-000112a0: 7473 203d 2047 7354 6865 6d61 7469 6341  ts = GsThematicA
-000112b0: 7069 2e67 6574 5f74 6865 6d61 7469 6373  pi.get_thematics
-000112c0: 2865 6e74 6974 795f 6964 3d73 656c 662e  (entity_id=self.
-000112d0: 706f 7369 7469 6f6e 5f73 6f75 7263 655f  position_source_
-000112e0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-000112f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011310: 2020 7374 6172 745f 6461 7465 3d73 7461    start_date=sta
-00011320: 7274 5f64 6174 652c 0a20 2020 2020 2020  rt_date,.       
-00011330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011350: 2020 2020 2020 2065 6e64 5f64 6174 653d         end_date=
-00011360: 656e 645f 6461 7465 2c0a 2020 2020 2020  end_date,.      
-00011370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011390: 2020 2020 2020 2020 6261 736b 6574 5f69          basket_i
-000113a0: 6473 3d62 6173 6b65 745f 6964 732c 0a20  ds=basket_ids,. 
-000113b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113d0: 2020 2020 2020 2020 2020 2020 2072 6567               reg
-000113e0: 696f 6e73 3d72 6567 696f 6e73 2c0a 2020  ions=regions,.  
-000113f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011410: 2020 2020 2020 2020 2020 2020 6d65 6173              meas
-00011420: 7572 6573 3d5b 5468 656d 6174 6963 4d65  ures=[ThematicMe
-00011430: 6173 7572 652e 424f 5454 4f4d 5f46 4956  asure.BOTTOM_FIV
-00011440: 455f 5448 454d 4154 4943 5f45 5850 4f53  E_THEMATIC_EXPOS
-00011450: 5552 4553 5d29 0a20 2020 2020 2020 2072  URES]).        r
-00011460: 6574 7572 6e20 666c 6174 7465 6e5f 7265  eturn flatten_re
-00011470: 7375 6c74 735f 696e 746f 5f64 6628 7265  sults_into_df(re
-00011480: 7375 6c74 7329 0a0a 2020 2020 6465 6620  sults)..    def 
-00011490: 6765 745f 7468 656d 6174 6963 5f62 7265  get_thematic_bre
-000114a0: 616b 646f 776e 2873 656c 662c 0a20 2020  akdown(self,.   
-000114b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000114c0: 2020 2020 2020 2020 2020 2020 6461 7465              date
-000114d0: 3a20 6474 2e64 6174 652c 0a20 2020 2020  : dt.date,.     
-000114e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000114f0: 2020 2020 2020 2020 2020 6261 736b 6574            basket
-00011500: 5f69 643a 2073 7472 2920 2d3e 2070 642e  _id: str) -> pd.
-00011510: 4461 7461 4672 616d 653a 0a20 2020 2020  DataFrame:.     
-00011520: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
-00011530: 6574 2061 2062 792d 6173 7365 7420 6272  et a by-asset br
-00011540: 6561 6b64 6f77 6e20 6f66 2061 2070 6f72  eakdown of a por
-00011550: 7466 6f6c 696f 206f 7220 6261 736b 6574  tfolio or basket
-00011560: 2773 2074 6865 6d61 7469 6320 6578 706f  's thematic expo
-00011570: 7375 7265 2074 6f20 6120 7061 7274 6963  sure to a partic
-00011580: 756c 6172 2066 6c61 6773 6869 7020 6261  ular flagship ba
-00011590: 736b 6574 206f 6e20 610a 2020 2020 2020  sket on a.      
-000115a0: 2020 7061 7274 6963 756c 6172 2064 6174    particular dat
-000115b0: 650a 0a20 2020 2020 2020 203a 7061 7261  e..        :para
-000115c0: 6d20 6461 7465 3a20 6461 7465 0a20 2020  m date: date.   
-000115d0: 2020 2020 203a 7061 7261 6d20 6261 736b       :param bask
-000115e0: 6574 5f69 643a 2047 5320 666c 6167 7368  et_id: GS flagsh
-000115f0: 6970 2062 6173 6b65 7427 7320 756e 6971  ip basket's uniq
-00011600: 7565 204d 6172 7175 6565 2049 440a 2020  ue Marquee ID.  
-00011610: 2020 2020 2020 3a72 6574 7572 6e3a 2061        :return: a
-00011620: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
-00011630: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
-00011640: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00011650: 2020 2072 6574 7572 6e20 6765 745f 7468     return get_th
-00011660: 656d 6174 6963 5f62 7265 616b 646f 776e  ematic_breakdown
-00011670: 5f61 735f 6466 2865 6e74 6974 795f 6964  _as_df(entity_id
-00011680: 3d73 656c 662e 706f 7369 7469 6f6e 5f73  =self.position_s
-00011690: 6f75 7263 655f 6964 2c20 6461 7465 3d64  ource_id, date=d
-000116a0: 6174 652c 2062 6173 6b65 745f 6964 3d62  ate, basket_id=b
-000116b0: 6173 6b65 745f 6964 290a 0a0a 6465 6620  asket_id)...def 
-000116c0: 6765 745f 7468 656d 6174 6963 5f62 7265  get_thematic_bre
-000116d0: 616b 646f 776e 5f61 735f 6466 2865 6e74  akdown_as_df(ent
-000116e0: 6974 795f 6964 3a20 7374 722c 0a20 2020  ity_id: str,.   
-000116f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011700: 2020 2020 2020 2020 2020 2020 2020 6461                da
-00011710: 7465 3a20 6474 2e64 6174 652c 0a20 2020  te: dt.date,.   
-00011720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011730: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-00011740: 736b 6574 5f69 643a 2073 7472 2920 2d3e  sket_id: str) ->
-00011750: 2070 642e 4461 7461 4672 616d 653a 0a20   pd.DataFrame:. 
-00011760: 2020 2022 2222 0a20 2020 2047 6574 2061     """.    Get a
-00011770: 2062 792d 6173 7365 7420 6272 6561 6b64   by-asset breakd
-00011780: 6f77 6e20 6f66 2061 2070 6f72 7466 6f6c  own of a portfol
-00011790: 696f 206f 7220 6261 736b 6574 2773 2074  io or basket's t
-000117a0: 6865 6d61 7469 6320 6578 706f 7375 7265  hematic exposure
-000117b0: 2074 6f20 6120 7061 7274 6963 756c 6172   to a particular
-000117c0: 2066 6c61 6773 6869 7020 6261 736b 6574   flagship basket
-000117d0: 206f 6e20 610a 2020 2020 7061 7274 6963   on a.    partic
-000117e0: 756c 6172 2064 6174 6120 616e 6420 7265  ular data and re
-000117f0: 7475 726e 2061 7320 6120 5061 6e64 6173  turn as a Pandas
-00011800: 2044 6174 6146 7261 6d65 0a0a 2020 2020   DataFrame..    
-00011810: 3a70 6172 616d 2065 6e74 6974 795f 6964  :param entity_id
-00011820: 3a20 706f 7369 7469 6f6e 2073 6f75 7263  : position sourc
-00011830: 6520 4944 3b20 692e 652e 2070 6f72 7466  e ID; i.e. portf
-00011840: 6f6c 696f 206f 7220 6261 736b 6574 0a20  olio or basket. 
-00011850: 2020 203a 7061 7261 6d20 6461 7465 3a20     :param date: 
-00011860: 6461 7465 0a20 2020 203a 7061 7261 6d20  date.    :param 
-00011870: 6261 736b 6574 5f69 643a 2047 5320 666c  basket_id: GS fl
-00011880: 6167 7368 6970 2062 6173 6b65 7427 7320  agship basket's 
-00011890: 756e 6971 7565 204d 6172 7175 6565 2049  unique Marquee I
-000118a0: 440a 2020 2020 3a72 6574 7572 6e3a 2061  D.    :return: a
-000118b0: 2050 616e 6461 7320 4461 7461 4672 616d   Pandas DataFram
-000118c0: 6520 7769 7468 2072 6573 756c 7473 0a20  e with results. 
-000118d0: 2020 2022 2222 0a20 2020 2072 6573 756c     """.    resul
-000118e0: 7473 203d 2047 7354 6865 6d61 7469 6341  ts = GsThematicA
-000118f0: 7069 2e67 6574 5f74 6865 6d61 7469 6373  pi.get_thematics
-00011900: 2865 6e74 6974 795f 6964 3d65 6e74 6974  (entity_id=entit
-00011910: 795f 6964 2c0a 2020 2020 2020 2020 2020  y_id,.          
-00011920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011940: 7374 6172 745f 6461 7465 3d64 6174 652c  start_date=date,
-00011950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011970: 2020 2020 2020 2020 2020 2065 6e64 5f64             end_d
-00011980: 6174 653d 6461 7465 2c0a 2020 2020 2020  ate=date,.      
-00011990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119b0: 2020 2020 6261 736b 6574 5f69 6473 3d5b      basket_ids=[
-000119c0: 6261 736b 6574 5f69 645d 2c0a 2020 2020  basket_id],.    
-000119d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119f0: 2020 2020 2020 6d65 6173 7572 6573 3d5b        measures=[
-00011a00: 5468 656d 6174 6963 4d65 6173 7572 652e  ThematicMeasure.
-00011a10: 5448 454d 4154 4943 5f42 5245 414b 444f  THEMATIC_BREAKDO
-00011a20: 574e 5f42 595f 4153 5345 545d 290a 2020  WN_BY_ASSET]).  
-00011a30: 2020 6272 6561 6b64 6f77 6e20 3d20 7265    breakdown = re
-00011a40: 7375 6c74 735b 305d 2e67 6574 280a 2020  sults[0].get(.  
-00011a50: 2020 2020 2020 5468 656d 6174 6963 4d65        ThematicMe
-00011a60: 6173 7572 652e 5448 454d 4154 4943 5f42  asure.THEMATIC_B
-00011a70: 5245 414b 444f 574e 5f42 595f 4153 5345  REAKDOWN_BY_ASSE
-00011a80: 542e 7661 6c75 652c 205b 7b7d 5d29 5b30  T.value, [{}])[0
-00011a90: 5d2e 6765 7428 0a20 2020 2020 2020 2054  ].get(.        T
-00011aa0: 6865 6d61 7469 634d 6561 7375 7265 2e54  hematicMeasure.T
-00011ab0: 4845 4d41 5449 435f 4252 4541 4b44 4f57  HEMATIC_BREAKDOW
-00011ac0: 4e5f 4259 5f41 5353 4554 2e76 616c 7565  N_BY_ASSET.value
-00011ad0: 2c20 5b5d 0a20 2020 2029 0a20 2020 2066  , [].    ).    f
-00011ae0: 6f72 6d61 7474 6564 5f62 7265 616b 646f  ormatted_breakdo
-00011af0: 776e 203d 205b 5d0a 2020 2020 666f 7220  wn = [].    for 
-00011b00: 6461 7461 2069 6e20 6272 6561 6b64 6f77  data in breakdow
-00011b10: 6e3a 0a20 2020 2020 2020 2066 6f72 6d61  n:.        forma
-00011b20: 7474 6564 5f64 6174 6120 3d20 7b74 6974  tted_data = {tit
-00011b30: 6c65 697a 6528 6b29 3a20 6461 7461 5b6b  leize(k): data[k
-00011b40: 5d20 666f 7220 6b20 696e 2064 6174 617d  ] for k in data}
-00011b50: 0a20 2020 2020 2020 2066 6f72 6d61 7474  .        formatt
-00011b60: 6564 5f62 7265 616b 646f 776e 2e61 7070  ed_breakdown.app
-00011b70: 656e 6428 666f 726d 6174 7465 645f 6461  end(formatted_da
-00011b80: 7461 290a 2020 2020 7265 7475 726e 2070  ta).    return p
-00011b90: 642e 4461 7461 4672 616d 6528 666f 726d  d.DataFrame(form
-00011ba0: 6174 7465 645f 6272 6561 6b64 6f77 6e29  atted_breakdown)
-00011bb0: 0a0a 0a64 6566 2066 6c61 7474 656e 5f72  ...def flatten_r
-00011bc0: 6573 756c 7473 5f69 6e74 6f5f 6466 2872  esults_into_df(r
-00011bd0: 6573 756c 7473 3a20 4c69 7374 293a 0a20  esults: List):. 
-00011be0: 2020 2022 2222 0a20 2020 2046 6c61 7474     """.    Flatt
-00011bf0: 656e 2061 206c 6973 7420 6f66 2074 6865  en a list of the
-00011c00: 6d61 7469 6320 6461 7461 2069 6e74 6f20  matic data into 
-00011c10: 6120 5061 6e64 6173 2044 6174 6146 7261  a Pandas DataFra
-00011c20: 6d65 0a0a 2020 2020 3a70 6172 616d 2072  me..    :param r
-00011c30: 6573 756c 7473 3a20 6120 6c69 7374 206f  esults: a list o
-00011c40: 6620 7468 656d 6174 6963 2064 6174 6120  f thematic data 
-00011c50: 6279 2064 6174 650a 2020 2020 3a72 6574  by date.    :ret
-00011c60: 7572 6e3a 2050 616e 6461 7320 4461 7461  urn: Pandas Data
-00011c70: 4672 616d 6520 7769 7468 2061 6c6c 2072  Frame with all r
-00011c80: 6573 756c 7473 2066 6f72 6d61 7474 6564  esults formatted
-00011c90: 0a20 2020 2022 2222 0a20 2020 2061 6c6c  .    """.    all
-00011ca0: 5f72 6573 756c 7473 203d 205b 5d0a 2020  _results = [].  
-00011cb0: 2020 666f 7220 7265 7375 6c74 2069 6e20    for result in 
-00011cc0: 7265 7375 6c74 733a 0a20 2020 2020 2020  results:.       
-00011cd0: 2064 6174 6520 3d20 7265 7375 6c74 5b27   date = result['
-00011ce0: 6461 7465 275d 0a20 2020 2020 2020 2066  date'].        f
-00011cf0: 6f72 206b 6579 2069 6e20 7265 7375 6c74  or key in result
-00011d00: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00011d10: 2069 7369 6e73 7461 6e63 6528 7265 7375   isinstance(resu
-00011d20: 6c74 5b6b 6579 5d2c 206c 6973 7429 3a0a  lt[key], list):.
-00011d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d40: 666f 7220 7468 656d 6174 6963 5f64 6174  for thematic_dat
-00011d50: 6120 696e 2072 6573 756c 745b 6b65 795d  a in result[key]
-00011d60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00011d70: 2020 2020 2020 616c 6c5f 7265 7375 6c74        all_result
-00011d80: 732e 6170 7065 6e64 287b 0a20 2020 2020  s.append({.     
-00011d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011da0: 2020 2027 4461 7465 273a 2064 6174 652c     'Date': date,
-00011db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011dc0: 2020 2020 2020 2020 202a 2a7b 7469 746c           **{titl
-00011dd0: 6569 7a65 286b 293a 2074 6865 6d61 7469  eize(k): themati
-00011de0: 635f 6461 7461 5b6b 5d20 666f 7220 6b20  c_data[k] for k 
-00011df0: 696e 2074 6865 6d61 7469 635f 6461 7461  in thematic_data
-00011e00: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-00011e10: 2020 2020 2020 7d29 0a20 2020 2061 6c6c        }).    all
-00011e20: 5f72 6573 756c 7473 203d 2070 642e 4461  _results = pd.Da
-00011e30: 7461 4672 616d 6528 616c 6c5f 7265 7375  taFrame(all_resu
-00011e40: 6c74 7329 2e72 656e 616d 6528 636f 6c75  lts).rename(colu
-00011e50: 6d6e 733d 7b27 4261 736b 6574 273a 2027  mns={'Basket': '
-00011e60: 4261 736b 6574 2049 6427 7d29 0a20 2020  Basket Id'}).   
-00011e70: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
-00011e80: 7261 6d65 2861 6c6c 5f72 6573 756c 7473  rame(all_results
-00011e90: 290a 0a0a 6465 6620 6765 745f 706e 6c5f  )...def get_pnl_
-00011ea0: 7065 7263 656e 7428 7065 7266 6f72 6d61  percent(performa
-00011eb0: 6e63 655f 7265 706f 7274 3a20 5065 7266  nce_report: Perf
-00011ec0: 6f72 6d61 6e63 6552 6570 6f72 742c 2070  ormanceReport, p
-00011ed0: 6e6c 5f64 663a 2070 642e 4461 7461 4672  nl_df: pd.DataFr
-00011ee0: 616d 652c 2066 6965 6c64 3a20 7374 722c  ame, field: str,
-00011ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011f00: 2020 2020 2073 7461 7274 5f64 6174 653a       start_date:
-00011f10: 2064 742e 6461 7465 7469 6d65 2e64 6174   dt.datetime.dat
-00011f20: 652c 2065 6e64 5f64 6174 653a 2064 742e  e, end_date: dt.
-00011f30: 6461 7465 7469 6d65 2e64 6174 6529 3a0a  datetime.date):.
-00011f40: 2020 2020 6175 6d5f 6466 203d 2066 6f72      aum_df = for
-00011f50: 6d61 745f 6175 6d5f 666f 725f 7265 7475  mat_aum_for_retu
-00011f60: 726e 5f63 616c 6375 6c61 7469 6f6e 2870  rn_calculation(p
-00011f70: 6572 666f 726d 616e 6365 5f72 6570 6f72  erformance_repor
-00011f80: 742c 2073 7461 7274 5f64 6174 652c 2065  t, start_date, e
-00011f90: 6e64 5f64 6174 6529 0a20 2020 2069 735f  nd_date).    is_
-00011fa0: 6669 7273 745f 6461 7461 5f70 6f69 6e74  first_data_point
-00011fb0: 5f6f 6e5f 7374 6172 745f 6461 7465 203d  _on_start_date =
-00011fc0: 2070 6e6c 5f64 665b 2764 6174 6527 5d2e   pnl_df['date'].
-00011fd0: 696c 6f63 5b5b 305d 5d2e 7661 6c75 6573  iloc[[0]].values
-00011fe0: 5b30 5d20 3d3d 2073 7461 7274 5f64 6174  [0] == start_dat
-00011ff0: 652e 7374 7266 7469 6d65 2827 2559 2d25  e.strftime('%Y-%
-00012000: 6d2d 2564 2729 0a20 2020 2072 6574 7572  m-%d').    retur
-00012010: 6e5f 7365 7269 6573 203d 2067 656e 6572  n_series = gener
-00012020: 6174 655f 6461 696c 795f 7265 7475 726e  ate_daily_return
-00012030: 7328 6175 6d5f 6466 2c20 706e 6c5f 6466  s(aum_df, pnl_df
-00012040: 2c20 2761 756d 272c 2066 6965 6c64 2c20  , 'aum', field, 
-00012050: 6973 5f66 6972 7374 5f64 6174 615f 706f  is_first_data_po
-00012060: 696e 745f 6f6e 5f73 7461 7274 5f64 6174  int_on_start_dat
-00012070: 6529 0a20 2020 2072 6574 7572 6e20 2872  e).    return (r
-00012080: 6574 7572 6e5f 7365 7269 6573 2e61 6464  eturn_series.add
-00012090: 2831 292e 6375 6d70 726f 6428 2920 2d20  (1).cumprod() - 
-000120a0: 3129 2e6d 756c 7469 706c 7928 3130 3029  1).multiply(100)
-000120b0: 0a0a 0a64 6566 2067 6574 5f66 6163 746f  ...def get_facto
-000120c0: 725f 706e 6c5f 7065 7263 656e 745f 666f  r_pnl_percent_fo
-000120d0: 725f 7369 6e67 6c65 5f66 6163 746f 7228  r_single_factor(
-000120e0: 6661 6374 6f72 5f64 6174 612c 2074 6f74  factor_data, tot
-000120f0: 616c 5f64 6174 612c 2061 756d 5f64 662c  al_data, aum_df,
-00012100: 2073 7461 7274 5f64 6174 6529 3a0a 2020   start_date):.  
-00012110: 2020 706e 6c5f 6466 203d 2066 6f72 6d61    pnl_df = forma
-00012120: 745f 6661 6374 6f72 5f70 6e6c 5f66 6f72  t_factor_pnl_for
-00012130: 5f72 6574 7572 6e5f 6361 6c63 756c 6174  _return_calculat
-00012140: 696f 6e28 6661 6374 6f72 5f64 6174 612c  ion(factor_data,
-00012150: 2074 6f74 616c 5f64 6174 6129 0a20 2020   total_data).   
-00012160: 2069 735f 7374 6172 745f 6461 7465 5f66   is_start_date_f
-00012170: 6972 7374 5f64 6174 615f 706f 696e 7420  irst_data_point 
-00012180: 3d20 706e 6c5f 6466 5b27 6461 7465 275d  = pnl_df['date']
-00012190: 2e69 6c6f 635b 5b30 5d5d 2e76 616c 7565  .iloc[[0]].value
-000121a0: 735b 305d 203d 3d20 7374 6172 745f 6461  s[0] == start_da
-000121b0: 7465 2e73 7472 6674 696d 6528 2725 592d  te.strftime('%Y-
-000121c0: 256d 2d25 6427 290a 2020 2020 7265 7475  %m-%d').    retu
-000121d0: 726e 2067 656e 6572 6174 655f 6461 696c  rn generate_dail
-000121e0: 795f 7265 7475 726e 7328 6175 6d5f 6466  y_returns(aum_df
-000121f0: 2c20 706e 6c5f 6466 2c20 2761 756d 272c  , pnl_df, 'aum',
-00012200: 2027 706e 6c27 2c20 6973 5f73 7461 7274   'pnl', is_start
-00012210: 5f64 6174 655f 6669 7273 745f 6461 7461  _date_first_data
-00012220: 5f70 6f69 6e74 290a 0a0a 6465 6620 666f  _point)...def fo
-00012230: 726d 6174 5f66 6163 746f 725f 706e 6c5f  rmat_factor_pnl_
-00012240: 666f 725f 7265 7475 726e 5f63 616c 6375  for_return_calcu
-00012250: 6c61 7469 6f6e 2866 6163 746f 725f 6461  lation(factor_da
-00012260: 7461 3a20 6c69 7374 2c20 746f 7461 6c5f  ta: list, total_
-00012270: 6461 7461 3a20 6c69 7374 293a 0a20 2020  data: list):.   
-00012280: 2070 6e6c 5f64 6620 3d20 7064 2e44 6174   pnl_df = pd.Dat
-00012290: 6146 7261 6d65 2866 6163 746f 725f 6461  aFrame(factor_da
-000122a0: 7461 295b 5b27 6461 7465 272c 2027 706e  ta)[['date', 'pn
-000122b0: 6c27 5d5d 0a20 2020 2074 6f74 616c 5f72  l']].    total_r
-000122c0: 6574 7572 6e73 5f64 6620 3d20 7064 2e44  eturns_df = pd.D
-000122d0: 6174 6146 7261 6d65 2874 6f74 616c 5f64  ataFrame(total_d
-000122e0: 6174 6129 5b5b 2764 6174 6527 2c20 2770  ata)[['date', 'p
-000122f0: 6e6c 275d 5d0a 2020 2020 746f 7461 6c5f  nl']].    total_
-00012300: 7265 7475 726e 735f 6466 203d 2074 6f74  returns_df = tot
-00012310: 616c 5f72 6574 7572 6e73 5f64 662e 7265  al_returns_df.re
-00012320: 6e61 6d65 2863 6f6c 756d 6e73 3d7b 2770  name(columns={'p
-00012330: 6e6c 273a 2027 746f 7461 6c50 6e6c 277d  nl': 'totalPnl'}
-00012340: 290a 2020 2020 706e 6c5f 6466 203d 2070  ).    pnl_df = p
-00012350: 642e 6d65 7267 6528 706e 6c5f 6466 2c20  d.merge(pnl_df, 
-00012360: 746f 7461 6c5f 7265 7475 726e 735f 6466  total_returns_df
-00012370: 2c20 686f 773d 2769 6e6e 6572 272c 206f  , how='inner', o
-00012380: 6e3d 5b27 6461 7465 275d 290a 2020 2020  n=['date']).    
-00012390: 7265 7475 726e 2070 6e6c 5f64 660a 0a0a  return pnl_df...
-000123a0: 6465 6620 666f 726d 6174 5f61 756d 5f66  def format_aum_f
-000123b0: 6f72 5f72 6574 7572 6e5f 6361 6c63 756c  or_return_calcul
-000123c0: 6174 696f 6e28 7065 7266 6f72 6d61 6e63  ation(performanc
-000123d0: 655f 7265 706f 7274 3a20 5065 7266 6f72  e_report: Perfor
-000123e0: 6d61 6e63 6552 6570 6f72 742c 2073 7461  manceReport, sta
-000123f0: 7274 5f64 6174 653a 2064 742e 6461 7465  rt_date: dt.date
-00012400: 7469 6d65 2e64 6174 652c 0a20 2020 2020  time.date,.     
-00012410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012430: 2065 6e64 5f64 6174 653a 2064 742e 6461   end_date: dt.da
-00012440: 7465 7469 6d65 2e64 6174 6529 3a0a 2020  tetime.date):.  
-00012450: 2020 6175 6d5f 6173 5f64 6963 7420 3d20    aum_as_dict = 
-00012460: 7065 7266 6f72 6d61 6e63 655f 7265 706f  performance_repo
-00012470: 7274 2e67 6574 5f61 756d 2873 7461 7274  rt.get_aum(start
-00012480: 5f64 6174 653d 7072 6576 5f62 7573 696e  _date=prev_busin
-00012490: 6573 735f 6461 7465 2873 7461 7274 5f64  ess_date(start_d
-000124a0: 6174 6529 2c20 656e 645f 6461 7465 3d65  ate), end_date=e
-000124b0: 6e64 5f64 6174 6529 0a20 2020 2061 756d  nd_date).    aum
-000124c0: 5f64 6620 3d20 7064 2e44 6174 6146 7261  _df = pd.DataFra
-000124d0: 6d65 2861 756d 5f61 735f 6469 6374 2e69  me(aum_as_dict.i
-000124e0: 7465 6d73 2829 2c20 636f 6c75 6d6e 733d  tems(), columns=
-000124f0: 5b27 6461 7465 272c 2027 6175 6d27 5d29  ['date', 'aum'])
-00012500: 0a20 2020 2072 6574 7572 6e20 6175 6d5f  .    return aum_
-00012510: 6466 0a0a 0a64 6566 2067 656e 6572 6174  df...def generat
-00012520: 655f 6461 696c 795f 7265 7475 726e 7328  e_daily_returns(
-00012530: 6175 6d5f 6466 3a20 7064 2e44 6174 6146  aum_df: pd.DataF
-00012540: 7261 6d65 2c20 706e 6c5f 6466 3a20 7064  rame, pnl_df: pd
-00012550: 2e44 6174 6146 7261 6d65 2c20 6175 6d5f  .DataFrame, aum_
-00012560: 636f 6c5f 6b65 793a 2073 7472 2c20 706e  col_key: str, pn
-00012570: 6c5f 636f 6c5f 6b65 793a 2073 7472 2c0a  l_col_key: str,.
-00012580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012590: 2020 2020 2020 2020 2020 2069 735f 7374             is_st
-000125a0: 6172 745f 6461 7465 5f66 6972 7374 5f64  art_date_first_d
-000125b0: 6174 615f 706f 696e 743a 2062 6f6f 6c29  ata_point: bool)
-000125c0: 3a0a 2020 2020 2320 5265 7475 726e 7320  :.    # Returns 
-000125d0: 6172 6520 6465 6669 6e65 6420 6173 2050  are defined as P
-000125e0: 6e6c 2074 6f64 6179 2064 6976 6964 6564  nl today divided
-000125f0: 2062 7920 4155 4d20 7965 7374 6572 6461   by AUM yesterda
-00012600: 792e 0a20 2020 2069 6620 6973 5f73 7461  y..    if is_sta
-00012610: 7274 5f64 6174 655f 6669 7273 745f 6461  rt_date_first_da
-00012620: 7461 5f70 6f69 6e74 3a0a 2020 2020 2020  ta_point:.      
-00012630: 2020 706e 6c5f 6466 5b70 6e6c 5f63 6f6c    pnl_df[pnl_col
-00012640: 5f6b 6579 5d2e 696c 6f63 5b5b 305d 5d20  _key].iloc[[0]] 
-00012650: 3d20 300a 2020 2020 2020 2020 6966 2027  = 0.        if '
-00012660: 746f 7461 6c50 6e6c 2720 696e 206c 6973  totalPnl' in lis
-00012670: 7428 706e 6c5f 6466 2e63 6f6c 756d 6e73  t(pnl_df.columns
-00012680: 2e76 616c 7565 7329 3a0a 2020 2020 2020  .values):.      
-00012690: 2020 2020 2020 706e 6c5f 6466 5b27 746f        pnl_df['to
-000126a0: 7461 6c50 6e6c 275d 2e69 6c6f 635b 5b30  talPnl'].iloc[[0
-000126b0: 5d5d 203d 2030 0a20 2020 2064 6620 3d20  ]] = 0.    df = 
-000126c0: 7064 2e6d 6572 6765 2870 6e6c 5f64 662c  pd.merge(pnl_df,
-000126d0: 2061 756d 5f64 662c 2068 6f77 3d27 6f75   aum_df, how='ou
-000126e0: 7465 7227 2c20 6f6e 3d27 6461 7465 2729  ter', on='date')
-000126f0: 0a20 2020 2064 662e 7365 745f 696e 6465  .    df.set_inde
-00012700: 7828 2764 6174 6527 2c20 696e 706c 6163  x('date', inplac
-00012710: 653d 5472 7565 290a 2020 2020 6466 2e73  e=True).    df.s
-00012720: 6f72 745f 696e 6465 7828 696e 706c 6163  ort_index(inplac
-00012730: 653d 5472 7565 290a 2020 2020 6466 2e6c  e=True).    df.l
-00012740: 6f63 5b3a 2c20 5b61 756d 5f63 6f6c 5f6b  oc[:, [aum_col_k
-00012750: 6579 5d5d 203d 2064 662e 6c6f 635b 3a2c  ey]] = df.loc[:,
-00012760: 205b 6175 6d5f 636f 6c5f 6b65 795d 5d2e   [aum_col_key]].
-00012770: 6666 696c 6c28 290a 2020 2020 6466 5b27  ffill().    df['
-00012780: 7265 7475 726e 275d 203d 2064 665b 706e  return'] = df[pn
-00012790: 6c5f 636f 6c5f 6b65 795d 2e64 6976 2864  l_col_key].div(d
-000127a0: 665b 6175 6d5f 636f 6c5f 6b65 795d 2e73  f[aum_col_key].s
-000127b0: 6869 6674 2831 2929 0a20 2020 2069 6620  hift(1)).    if 
-000127c0: 2774 6f74 616c 506e 6c27 2069 6e20 6c69  'totalPnl' in li
-000127d0: 7374 2864 662e 636f 6c75 6d6e 732e 7661  st(df.columns.va
-000127e0: 6c75 6573 293a 0a20 2020 2020 2020 2064  lues):.        d
-000127f0: 665b 2774 6f74 616c 506e 6c27 5d20 3d20  f['totalPnl'] = 
-00012800: 6466 5b27 746f 7461 6c50 6e6c 275d 2e64  df['totalPnl'].d
-00012810: 6976 2864 665b 6175 6d5f 636f 6c5f 6b65  iv(df[aum_col_ke
-00012820: 795d 2e73 6869 6674 2831 2929 0a20 2020  y].shift(1)).   
-00012830: 2020 2020 2064 6620 3d20 6466 2e66 696c       df = df.fil
-00012840: 6c6e 6128 3029 0a20 2020 2020 2020 2064  lna(0).        d
-00012850: 665b 2772 6574 7572 6e27 5d20 3d20 5f5f  f['return'] = __
-00012860: 736d 6f6f 7468 5f70 6572 6365 6e74 5f72  smooth_percent_r
-00012870: 6574 7572 6e73 2864 665b 2772 6574 7572  eturns(df['retur
-00012880: 6e27 5d2e 746f 5f6e 756d 7079 2829 2c20  n'].to_numpy(), 
-00012890: 6466 5b27 746f 7461 6c50 6e6c 275d 2e74  df['totalPnl'].t
-000128a0: 6f5f 6e75 6d70 7928 2929 2e74 6f6c 6973  o_numpy()).tolis
-000128b0: 7428 290a 2020 2020 7265 7475 726e 5f73  t().    return_s
-000128c0: 6572 6965 7320 3d20 7064 2e53 6572 6965  eries = pd.Serie
-000128d0: 7328 6466 5b27 7265 7475 726e 275d 2c20  s(df['return'], 
-000128e0: 6e61 6d65 3d22 7265 7475 726e 2229 2e64  name="return").d
-000128f0: 726f 706e 6128 290a 2020 2020 7265 7475  ropna().    retu
-00012900: 726e 2072 6574 7572 6e5f 7365 7269 6573  rn return_series
-00012910: 0a0a 0a64 6566 205f 5f73 6d6f 6f74 685f  ...def __smooth_
-00012920: 7065 7263 656e 745f 7265 7475 726e 7328  percent_returns(
-00012930: 6461 696c 795f 6661 6374 6f72 5f72 6574  daily_factor_ret
-00012940: 7572 6e73 3a20 6e70 2e61 7272 6179 2c20  urns: np.array, 
-00012950: 6461 696c 795f 746f 7461 6c5f 7265 7475  daily_total_retu
-00012960: 726e 733a 206e 702e 6172 7261 7929 202d  rns: np.array) -
-00012970: 3e20 6e70 2e61 7272 6179 3a0a 2020 2020  > np.array:.    
-00012980: 2222 220a 2020 2020 5768 656e 2061 7474  """.    When att
-00012990: 7269 6275 7469 6f6e 2028 696e 2077 6569  ribution (in wei
-000129a0: 6768 7473 2920 6172 6520 6465 636f 6d70  ghts) are decomp
-000129b0: 6f73 6564 2061 6d6f 6e67 206d 756c 7469  osed among multi
-000129c0: 706c 6520 6661 6374 6f72 7320 286c 696b  ple factors (lik
-000129d0: 6520 6120 6772 6f75 7020 6f66 2072 6973  e a group of ris
-000129e0: 6b20 6d6f 6465 6c20 6661 6374 6f72 7320  k model factors 
-000129f0: 6f72 0a20 2020 2063 6174 6567 6f72 6965  or.    categorie
-00012a00: 7329 2c20 7369 6d70 6c65 2067 656f 6d65  s), simple geome
-00012a10: 7472 6963 2061 6767 7265 6761 7469 6f6e  tric aggregation
-00012a20: 2077 696c 6c20 6e6f 7420 7072 6573 6572   will not preser
-00012a30: 7665 2061 6464 6974 6976 6974 792e 2049  ve additivity. I
-00012a40: 6e20 6f74 6865 7220 776f 7264 732c 2074  n other words, t
-00012a50: 6865 2067 656f 6d65 7472 6963 2073 756d  he geometric sum
-00012a60: 206f 6620 6661 6374 6f72 0a20 2020 2050   of factor.    P
-00012a70: 6e4c 2066 726f 6d20 4661 6374 6f72 2061  nL from Factor a
-00012a80: 6e64 2053 7065 6369 6669 6320 7769 6c6c  nd Specific will
-00012a90: 204e 4f54 2061 6464 2075 7020 746f 2074   NOT add up to t
-00012aa0: 6865 2066 6163 746f 7220 506e 4c20 6672  he factor PnL fr
-00012ab0: 6f6d 2054 6f74 616c 2e20 5468 6520 4361  om Total. The Ca
-00012ac0: 7269 6e6f 206c 6f67 206c 696e 6b69 6e67  rino log linking
-00012ad0: 2066 6f72 6d75 6c61 0a20 2020 2063 616c   formula.    cal
-00012ae0: 6375 6c61 7465 7320 7468 6520 636f 6566  culates the coef
-00012af0: 6669 6369 656e 7473 2066 6f72 2065 6163  ficients for eac
-00012b00: 6820 6e6f 6465 2c20 616e 6420 6166 7465  h node, and afte
-00012b10: 7220 7468 6174 206d 756c 7469 706c 6963  r that multiplic
-00012b20: 6174 696f 6e20 6973 2064 6f6e 652c 2074  ation is done, t
-00012b30: 6865 2072 6573 756c 7473 2063 616e 2062  he results can b
-00012b40: 6520 6167 6772 6567 6174 6564 0a20 2020  e aggregated.   
-00012b50: 2074 6f20 6361 6c63 756c 6174 6520 6375   to calculate cu
-00012b60: 6d75 6c61 7469 7665 2050 6e4c 3a0a 2020  mulative PnL:.  
-00012b70: 2020 6874 7470 733a 2f2f 7264 7272 2e69    https://rdrr.i
-00012b80: 6f2f 6769 7468 7562 2f52 2d46 696e 616e  o/github/R-Finan
-00012b90: 6365 2f50 6f72 7466 6f6c 696f 4174 7472  ce/PortfolioAttr
-00012ba0: 6962 7574 696f 6e2f 6d61 6e2f 4361 7269  ibution/man/Cari
-00012bb0: 6e6f 2e68 746d 6c0a 0a20 2020 20ce b274  no.html..    ..t
-00012bc0: 203d 2041 202a 20ce b174 0a20 2020 2077   = A * ..t.    w
-00012bd0: 6865 7265 20ce b274 2069 7320 7468 6520  here ..t is the 
-00012be0: 6c69 6e6b 696e 6720 636f 6566 6669 6369  linking coeffici
-00012bf0: 656e 7420 6f6e 2064 6174 6520 740a 2020  ent on date t.  
-00012c00: 2020 7768 6572 6520 4120 6973 2074 6865    where A is the
-00012c10: 206c 6f67 2073 6361 6c69 6e67 2066 6163   log scaling fac
-00012c20: 746f 7220 2877 6869 6368 2069 7320 636f  tor (which is co
-00012c30: 6e73 7461 6e74 2074 6872 6f75 6768 6f75  nstant throughou
-00012c40: 7420 7468 6520 7469 6d65 7365 7269 6573  t the timeseries
-00012c50: 290a 2020 2020 7768 6572 6520 ceb1 7420  ).    where ..t 
-00012c60: 6973 2074 6865 2070 6572 7475 7262 6174  is the perturbat
-00012c70: 696f 6e20 6661 6374 6f72 206f 6e20 6461  ion factor on da
-00012c80: 7465 2074 0a0a 2020 2020 4120 3d20 2852  te t..    A = (R
-00012c90: 7020 2d20 5262 2920 2f20 286c 6e28 3120  p - Rb) / (ln(1 
-00012ca0: 2b20 5270 2920 2d20 6c6e 2831 202b 2052  + Rp) - ln(1 + R
-00012cb0: 6229 2920 7768 6572 6520 5270 2069 7320  b)) where Rp is 
-00012cc0: 7468 6520 746f 7461 6c20 706f 7274 666f  the total portfo
-00012cd0: 6c69 6f20 7265 7475 726e 203b 2052 6220  lio return ; Rb 
-00012ce0: 6973 2074 6865 2074 6f74 616c 2062 656e  is the total ben
-00012cf0: 6368 6d61 726b 2072 6574 7572 6e0a 2020  chmark return.  
-00012d00: 2020 ceb1 7420 3d20 286c 6e28 3120 2b20    ..t = (ln(1 + 
-00012d10: 5270 7429 202d 206c 6e28 3120 2b20 5262  Rpt) - ln(1 + Rb
-00012d20: 7429 2920 2f20 2852 7074 202d 2052 6274  t)) / (Rpt - Rbt
-00012d30: 2920 7768 6572 6520 5270 7420 6973 2070  ) where Rpt is p
-00012d40: 6f72 7466 6f6c 696f 2072 6574 7572 6e20  ortfolio return 
-00012d50: 6f6e 2074 2061 6e64 2052 6270 2069 7320  on t and Rbp is 
-00012d60: 6265 6e63 686d 6172 6b20 7265 7475 726e  benchmark return
-00012d70: 206f 6e20 740a 0a20 2020 2046 6f72 2074   on t..    For t
-00012d80: 6869 7320 7573 6520 6361 7365 2062 656e  his use case ben
-00012d90: 6368 6d61 726b 2072 6574 7572 6e73 2061  chmark returns a
-00012da0: 7265 2073 6574 2074 6f20 3020 666f 7220  re set to 0 for 
-00012db0: 6576 6572 7920 6461 792e 0a20 2020 2022  every day..    "
-00012dc0: 2222 0a20 2020 2074 6f74 616c 5f72 6574  "".    total_ret
-00012dd0: 7572 6e20 3d20 6e70 2e70 726f 6428 6461  urn = np.prod(da
-00012de0: 696c 795f 746f 7461 6c5f 7265 7475 726e  ily_total_return
-00012df0: 7320 2b20 3129 202d 2031 0a20 2020 206c  s + 1) - 1.    l
-00012e00: 6f67 5f73 6361 6c69 6e67 5f66 6163 746f  og_scaling_facto
-00012e10: 7220 3d20 746f 7461 6c5f 7265 7475 726e  r = total_return
-00012e20: 202f 2028 6e70 2e6c 6f67 2831 202b 2074   / (np.log(1 + t
-00012e30: 6f74 616c 5f72 6574 7572 6e29 2920 6966  otal_return)) if
-00012e40: 2074 6f74 616c 5f72 6574 7572 6e20 213d   total_return !=
-00012e50: 2030 2065 6c73 6520 310a 2020 2020 7065   0 else 1.    pe
-00012e60: 7274 7572 6261 7469 6f6e 5f66 6163 746f  rturbation_facto
-00012e70: 7273 203d 206e 702e 6c6f 6728 3120 2b20  rs = np.log(1 + 
-00012e80: 6461 696c 795f 746f 7461 6c5f 7265 7475  daily_total_retu
-00012e90: 726e 7329 202f 2064 6169 6c79 5f74 6f74  rns) / daily_tot
-00012ea0: 616c 5f72 6574 7572 6e73 0a20 2020 2070  al_returns.    p
-00012eb0: 6572 7475 7262 6174 696f 6e5f 6661 6374  erturbation_fact
-00012ec0: 6f72 7320 3d20 6e70 2e6e 616e 5f74 6f5f  ors = np.nan_to_
-00012ed0: 6e75 6d28 7065 7274 7572 6261 7469 6f6e  num(perturbation
-00012ee0: 5f66 6163 746f 7273 2c20 6e61 6e3d 3129  _factors, nan=1)
-00012ef0: 0a20 2020 2072 6574 7572 6e20 6e70 2e63  .    return np.c
-00012f00: 756d 7375 6d28 6461 696c 795f 6661 6374  umsum(daily_fact
-00012f10: 6f72 5f72 6574 7572 6e73 202a 206c 6f67  or_returns * log
-00012f20: 5f73 6361 6c69 6e67 5f66 6163 746f 7220  _scaling_factor 
-00012f30: 2a20 7065 7274 7572 6261 7469 6f6e 5f66  * perturbation_f
-00012f40: 6163 746f 7273 202a 2031 3030 290a 0a0a  actors * 100)...
-00012f50: 6465 6620 5f66 696c 7465 725f 7461 626c  def _filter_tabl
-00012f60: 655f 6279 5f66 6163 746f 725f 616e 645f  e_by_factor_and_
-00012f70: 6361 7465 676f 7279 2863 6f6c 756d 6e5f  category(column_
-00012f80: 696e 666f 3a20 4469 6374 2c20 6661 6374  info: Dict, fact
-00012f90: 6f72 733a 204c 6973 742c 2066 6163 746f  ors: List, facto
-00012fa0: 725f 6361 7465 676f 7269 6573 3a20 4c69  r_categories: Li
-00012fb0: 7374 293a 0a20 2020 2069 6620 6661 6374  st):.    if fact
-00012fc0: 6f72 7320 6973 204e 6f6e 6520 616e 6420  ors is None and 
-00012fd0: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
-00012fe0: 7320 6973 204e 6f6e 653a 0a20 2020 2020  s is None:.     
-00012ff0: 2020 2073 6f72 7465 645f 636f 6c75 6d6e     sorted_column
-00013000: 7320 3d20 5b5d 0a20 2020 2020 2020 2066  s = [].        f
-00013010: 6f72 2063 6f6c 756d 6e5f 6772 6f75 7020  or column_group 
-00013020: 696e 2063 6f6c 756d 6e5f 696e 666f 3a0a  in column_info:.
-00013030: 2020 2020 2020 2020 2020 2020 736f 7274              sort
-00013040: 6564 5f63 6f6c 756d 6e73 203d 2073 6f72  ed_columns = sor
-00013050: 7465 645f 636f 6c75 6d6e 7320 2b20 636f  ted_columns + co
-00013060: 6c75 6d6e 5f67 726f 7570 2e67 6574 2827  lumn_group.get('
-00013070: 636f 6c75 6d6e 7327 290a 2020 2020 656c  columns').    el
-00013080: 7365 3a0a 2020 2020 2020 2020 736f 7274  se:.        sort
-00013090: 6564 5f63 6f6c 756d 6e73 203d 2063 6f6c  ed_columns = col
-000130a0: 756d 6e5f 696e 666f 5b30 5d2e 6765 7428  umn_info[0].get(
-000130b0: 2763 6f6c 756d 6e73 2729 202b 2063 6f6c  'columns') + col
-000130c0: 756d 6e5f 696e 666f 5b31 5d2e 6765 7428  umn_info[1].get(
-000130d0: 2763 6f6c 756d 6e73 2729 0a20 2020 2020  'columns').     
-000130e0: 2020 2069 6620 6661 6374 6f72 7320 6973     if factors is
-000130f0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00013100: 2020 2020 2020 2073 6f72 7465 645f 636f         sorted_co
-00013110: 6c75 6d6e 7320 3d20 736f 7274 6564 5f63  lumns = sorted_c
-00013120: 6f6c 756d 6e73 202b 2066 6163 746f 7273  olumns + factors
-00013130: 0a20 2020 2020 2020 2069 6620 6661 6374  .        if fact
-00013140: 6f72 5f63 6174 6567 6f72 6965 7320 6973  or_categories is
-00013150: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00013160: 2020 2020 2020 2066 6f72 2063 6f6c 756d         for colum
-00013170: 6e5f 6772 6f75 7020 696e 205b 636f 6c75  n_group in [colu
-00013180: 6d6e 5f67 726f 7570 2066 6f72 2063 6f6c  mn_group for col
-00013190: 756d 6e5f 6772 6f75 7020 696e 2063 6f6c  umn_group in col
-000131a0: 756d 6e5f 696e 666f 0a20 2020 2020 2020  umn_info.       
-000131b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000131c0: 2020 2020 2020 2020 2020 6966 2063 6f6c            if col
-000131d0: 756d 6e5f 6772 6f75 702e 6765 7428 2763  umn_group.get('c
-000131e0: 6f6c 756d 6e47 726f 7570 2729 2069 6e20  olumnGroup') in 
-000131f0: 6661 6374 6f72 5f63 6174 6567 6f72 6965  factor_categorie
-00013200: 735d 3a0a 2020 2020 2020 2020 2020 2020  s]:.            
-00013210: 2020 2020 736f 7274 6564 5f63 6f6c 756d      sorted_colum
-00013220: 6e73 203d 2073 6f72 7465 645f 636f 6c75  ns = sorted_colu
-00013230: 6d6e 7320 2b20 636f 6c75 6d6e 5f67 726f  mns + column_gro
-00013240: 7570 2e67 6574 2827 636f 6c75 6d6e 7327  up.get('columns'
-00013250: 290a 2020 2020 7265 7475 726e 2073 6f72  ).    return sor
-00013260: 7465 645f 636f 6c75 6d6e 730a            ted_columns.
+00010e50: 2020 2027 4461 7465 273a 2064 6174 652c     'Date': date,
+00010e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010e70: 2020 2020 2020 2020 202a 2a7b 7469 746c           **{titl
+00010e80: 6569 7a65 286b 293a 2074 6865 6d61 7469  eize(k): themati
+00010e90: 635f 6461 7461 5b6b 5d20 666f 7220 6b20  c_data[k] for k 
+00010ea0: 696e 2074 6865 6d61 7469 635f 6461 7461  in thematic_data
+00010eb0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00010ec0: 2020 2020 2020 7d29 0a20 2020 2061 6c6c        }).    all
+00010ed0: 5f72 6573 756c 7473 203d 2070 642e 4461  _results = pd.Da
+00010ee0: 7461 4672 616d 6528 616c 6c5f 7265 7375  taFrame(all_resu
+00010ef0: 6c74 7329 2e72 656e 616d 6528 636f 6c75  lts).rename(colu
+00010f00: 6d6e 733d 7b27 4261 736b 6574 273a 2027  mns={'Basket': '
+00010f10: 4261 736b 6574 2049 6427 7d29 0a20 2020  Basket Id'}).   
+00010f20: 2072 6574 7572 6e20 7064 2e44 6174 6146   return pd.DataF
+00010f30: 7261 6d65 2861 6c6c 5f72 6573 756c 7473  rame(all_results
+00010f40: 290a                                     ).
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/report_utils.py` & `gs_quant-1.0.9/gs_quant/markets/report_utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/markets/screens.py` & `gs_quant-1.0.9/gs_quant/markets/screens.py`

 * *Files 2% similar despite different names*

```diff
@@ -98,15 +98,15 @@
 class Currency(CurrencyImport, Enum):
     pass
 
 
 class CheckboxFilter:
     """ Represents asset filters that have multiple enumerated options"""
 
-    def __init__(self, checkbox_type: CheckboxType = None, selections: Tuple[Enum, ...] = None):
+    def __init__(self, checkbox_type: CheckboxType = None, selections: Tuple[Enum] = None):
         self.__selections = selections
         self.__checkbox_type = checkbox_type
 
     def __str__(self) -> str:
         checkbox_filter = f'{{Type: {self.checkbox_type}, Selections: {self.selections}}}'
         return checkbox_filter
 
@@ -115,27 +115,27 @@
         return self.__checkbox_type
 
     @checkbox_type.setter
     def checkbox_type(self, value: CheckboxType):
         self.__checkbox_type = value
 
     @property
-    def selections(self) -> Tuple[Enum, ...]:
+    def selections(self) -> Tuple[Enum]:
         return self.__selections
 
     @selections.setter
-    def selections(self, value: Tuple[Enum, ...]):
+    def selections(self, value: Tuple[Enum]):
         self.__selections = value
 
-    def add(self, new_selections: Tuple[Enum, ...]):
+    def add(self, new_selections: Tuple[Enum]):
         new_selections = set(new_selections)
         old_selections = set(self.selections)
         self.selections = tuple(set(new_selections).union(set(old_selections)))
 
-    def remove(self, remove_selections: Tuple[Enum, ...]):
+    def remove(self, remove_selections: Tuple[Enum]):
         remove_selections = set(remove_selections)
         old_selections = set(self.selections)
         self.selections = tuple(old_selections.difference(remove_selections))
 
 
 class ScreenFilters:
     def __init__(self,
```

### Comparing `gs_quant-1.0.80/gs_quant/markets/securities.py` & `gs_quant-1.0.9/gs_quant/markets/securities.py`

 * *Files 3% similar despite different names*

```diff
@@ -35,15 +35,15 @@
 from pydash import get
 
 from gs_quant.api.gs.assets import GsAsset, AssetParameters, AssetType as GsAssetType, Currency, GsIdType, GsAssetApi
 from gs_quant.api.gs.data import GsDataApi
 from gs_quant.api.utils import ThreadPoolManager
 from gs_quant.base import get_enum_value
 from gs_quant.common import DateLimit
-from gs_quant.data import DataMeasure, DataFrequency, Dataset, AssetMeasure
+from gs_quant.data import DataMeasure, DataFrequency, Dataset
 from gs_quant.data.coordinate import DataDimensions
 from gs_quant.data.coordinate import DateOrDatetime
 from gs_quant.data.core import IntervalFrequency, DataAggregationOperator
 from gs_quant.entities.entity import Entity, EntityIdentifier, EntityType, PositionedEntity
 from gs_quant.errors import MqValueError, MqTypeError, MqRequestError
 from gs_quant.json_encoder import JSONEncoder
 from gs_quant.markets import PricingContext
@@ -384,50 +384,14 @@
         """
         if id_type == AssetIdentifier.MARQUEE_ID:
             return self.get_marquee_id()
 
         ids = self.get_identifiers(as_of=as_of)
         return ids.get(id_type.value)
 
-    def get_asset_measures(self) -> List[AssetMeasure]:
-        """
-        Get asset measures
-
-        :return: A list consisting of the following measures available for an asset: type, frequency, datasetField.
-        For more details check the fields defined in class: 'AssetMeasures'
-
-        **Usage**
-
-        Get list of measures available for an asset
-
-        **Examples**
-
-        >>> from gs_quant.markets.securities import SecurityMaster,AssetIdentifier
-        >>>
-        >>> asset = SecurityMaster.get_asset("USDJPY", AssetIdentifier.BLOOMBERG_ID)
-        >>> asset.get_asset_measures()
-
-        **See also**
-
-        :class:`AssetMeasures`
-
-        """
-
-        availability_response = GsSession.current._get(f'/data/measures/{self.get_marquee_id()}/availability')
-        final_measure_set = set()
-
-        if availability_response['data']:
-            for measure_set in availability_response['data']:
-                asset_measures = AssetMeasure.from_dict(measure_set)
-
-                if {'type', 'frequency', 'datasetField'} <= measure_set.keys():
-                    final_measure_set.add(asset_measures)
-
-        return list(final_measure_set)
-
     def get_data_series(self,
                         measure: DataMeasure,
                         dimensions: Optional[DataDimensions] = None,
                         frequency: Optional[DataFrequency] = None,
                         start: Optional[DateOrDatetime] = None,
                         end: Optional[DateOrDatetime] = None,
                         dates: List[dt.date] = None,
@@ -461,16 +425,14 @@
         :class:`DataMeasure`
 
         """
 
         coordinate = self.get_data_coordinate(measure, dimensions, frequency)
         if coordinate is None:
             raise MqValueError(f"No data coordinate found for parameters: {measure, dimensions, frequency}")
-        elif coordinate.dataset_id is None:
-            raise MqValueError(f"Measure '{measure.value}' not found for asset: {self.__id}")
         return coordinate.get_series(start=start, end=end, dates=dates, operator=operator)
 
     def get_latest_close_price(self) -> float:
         coordinate = self.get_data_coordinate(DataMeasure.CLOSE_PRICE, None, DataFrequency.DAILY)
         if coordinate is None:
             raise MqValueError(f"No data co-ordinate found for these parameters: \
                 {DataMeasure.CLOSE_PRICE, None, DataFrequency.DAILY}")
```

### Comparing `gs_quant-1.0.80/gs_quant/models/__init__.py` & `gs_quant-1.0.9/gs_quant/models/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/models/epidemiology.py` & `gs_quant-1.0.9/gs_quant/models/epidemiology.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/models/risk_model.py` & `gs_quant-1.0.9/gs_quant/models/risk_model.py`

 * *Files 20% similar despite different names*

```diff
@@ -10,35 +10,34 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
-import math
 from enum import Enum, auto
 from typing import List, Dict, Tuple, Union
 import pandas as pd
 import numpy as np
 import logging
+import pydash
 import deprecation
-from gs_quant.target.common import Currency
 
 from gs_quant.api.gs.risk_models import GsFactorRiskModelApi, GsRiskModelApi
 from gs_quant.base import EnumBase
-from gs_quant.data import DataMeasure
 from gs_quant.errors import MqValueError, MqRequestError
 from gs_quant.markets.factor import Factor
-from gs_quant.markets.securities import SecurityMaster, AssetIdentifier
-from gs_quant.models.risk_model_utils import *
+from gs_quant.models.risk_model_utils import build_asset_data_map, build_factor_data_map, \
+    build_pfp_data_dataframe, get_isc_dataframe, get_covariance_matrix_dataframe, get_closest_date_index, \
+    batch_and_upload_partial_data, get_universe_size, batch_and_upload_coverage_data, only_factor_data_is_present, \
+    upload_model_data, validate_factors_exist
 from gs_quant.target.risk_models import RiskModel as RiskModelBuilder, RiskModelEventType, RiskModelData, \
     RiskModelCalendar, RiskModelDataAssetsRequest as DataAssetsRequest, RiskModelDataMeasure as Measure, \
     RiskModelCoverage as CoverageType, RiskModelUniverseIdentifier as UniverseIdentifier, Entitlements, \
-    RiskModelTerm as Term, RiskModelUniverseIdentifierRequest, Factor as RiskModelFactor, RiskModelType, \
-    RiskModelDataMeasure, RiskModelDataAssetsRequest
+    RiskModelTerm as Term, RiskModelUniverseIdentifierRequest, Factor as RiskModelFactor, RiskModelType
 
 
 class ReturnFormat(Enum):
     """Alternative format for data to be returned from get_data functions"""
     JSON = auto()
     DATA_FRAME = auto()
 
@@ -413,15 +412,15 @@
             measures=[Measure.Asset_Universe],
             limit_factors=False
         ).get('results')
         dates = [dt.datetime.strptime((data.get('date')), '%Y-%m-%d').date() for data in results]
         universe = [data.get('assetData').get('universe') for data in results]
         dates_to_universe = dict(zip(dates, universe))
         if format == ReturnFormat.DATA_FRAME:
-            return pd.DataFrame.from_dict(dates_to_universe, orient='index').T
+            dates_to_universe = pd.DataFrame(dates_to_universe)
         return dates_to_universe
 
     def get_factor(self, name: str, start_date: dt.date = None, end_date: dt.date = None) -> Factor:
         """ Get risk model factor from its name
 
         :param name: Factor name associated with risk model
         :param start_date: Start date of when to search for factor (optional, default to last month)
@@ -532,114 +531,59 @@
 
     def get_factor_data(self,
                         start_date: dt.date = None,
                         end_date: dt.date = None,
                         identifiers: List[str] = None,
                         include_performance_curve: bool = False,
                         category_filter: List[str] = None,
-                        name_filter: List[str] = None,
                         factor_type: FactorType = None,
                         format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
         """ Get factor data for existing risk model
 
         :param start_date: Start date for data request
         :param end_date: End date for data request
         :param identifiers: List of factor ids associated with risk model
         :param include_performance_curve: Include the performance curve of the factors
         :param category_filter: Filter the results to those having one of the specified categories. \
             Default is to return all results
         :param factor_type: The type of factor.
         :param format: which format to return the results in
-        :param name_filter: Filter the results based on factor name.
+
         :return: Risk model factor data
 
         **Usage**
 
         Get factor data for factors whose ids are specified in identifiers.
 
         **Examples**
 
-        This will get the factor data for the past 1 month.
-
         >>> from gs_quant.models.risk_model import FactorRiskModel
         >>> import datetime as dt
         >>>
         >>> model = FactorRiskModel.get("MODEL_ID")
         >>> factor_data = model.get_factor_data()
 
-        This will get the factor data within the range start_date and end_date
-
-        >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(start_date=dt.date("2023-01-01"), end_date=dt.date("2023-02-03"))
-
-        This will return factor data for factors with the specified identifiers
-
-        >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(identifiers=["1", "2", "3"])
-
-        This will filter factor data based on factor names
-
-        >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(name_filter=["Factor name a", "Factor name b", "Factor name c"])
-
-        This will return factor data for factors in the specified factor categories
-
-         >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(category_filter=["Factor category 1", "Factor category 2"])
-
-        This will return all the factors of type "Factor" (won't return data on factor categories)
-
-         >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(factor_type=FactorType.Factor)
-
-        This will only return higher level factor category data.
-
-         >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_data = model.get_factor_data(factor_type=FactorType.Category)
-
         **See also**
 
         :func:`get_many_factors :func:`get_factor_returns_by_name`
         """
-        factor_categories = category_filter if category_filter else []
-        if factor_type == FactorType.Category:
-            if factor_categories:
-                raise ValueError('Category filter is not applicable while requesting the FactorType as Category')
-            factor_categories = ['Aggregations']
         factor_data = GsFactorRiskModelApi.get_risk_model_factor_data(
             self.id,
             start_date,
             end_date,
             identifiers,
-            include_performance_curve,
-            factor_categories,
-            name_filter,
+            include_performance_curve
         )
-        if factor_type == FactorType.Factor:
-            if 'Aggregations' in factor_categories:
-                raise ValueError("Aggregations should not be passed while requesting the FactorType as Factor")
+        if factor_type:
             factor_data = [factor for factor in factor_data if factor['type'] == factor_type.value]
+        if category_filter:
+            if factor_type == FactorType.Category:
+                print('Category filter is not applicable for the Category FactorType')
+            else:
+                factor_data = [factor for factor in factor_data if factor['factorCategory'] in category_filter]
         if format == ReturnFormat.DATA_FRAME:
             factor_data = pd.DataFrame(factor_data)
         return factor_data
 
     def get_factor_returns_by_name(self,
                                    start_date: dt.date,
                                    end_date: dt.date = None,
@@ -671,21 +615,36 @@
         >>> factor_returns = model.get_factor_returns_by_name(start_date, end_date)
 
         **See also**
 
         :func:`get_factor_returns_by_id` :func:`get_factor_data`
         """
 
-        return self._get_factor_data_measure(Measure.Factor_Return,
-                                             start_date,
-                                             end_date,
-                                             assets,
-                                             True,
-                                             factors,
-                                             format)
+        if factors:
+            risk_model_factors = self.get_factor_data(start_date=start_date,
+                                                      end_date=end_date,
+                                                      factor_type=FactorType.Factor,
+                                                      format=ReturnFormat.JSON)
+            factors = validate_factors_exist(factors, risk_model_factors, self.id, 'name')
+
+        limit_factors = True if assets else False
+        measures = [Measure.Factor_Return, Measure.Factor_Name, Measure.Factor_Id]
+        if assets:
+            measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=measures,
+            limit_factors=limit_factors
+        ).get('results')
+        factor_data = build_factor_data_map(results, 'factorName', 'factorReturn', factors=factors)
+        if format == ReturnFormat.DATA_FRAME:
+            factor_data = pd.DataFrame(factor_data)
+        return factor_data
 
     def get_factor_returns_by_id(self,
                                  start_date: dt.date,
                                  end_date: dt.date = None,
                                  assets: DataAssetsRequest = None,
                                  factors: List[str] = [],
                                  format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
@@ -715,65 +674,37 @@
 
 
         **See also**
 
         :func:`get_factor_returns_by_name` :func:`get_factor_data`
         """
 
-        return self._get_factor_data_measure(Measure.Factor_Return,
-                                             start_date,
-                                             end_date,
-                                             assets,
-                                             False,
-                                             factors,
-                                             format)
+        if factors:
+            risk_model_factors = self.get_factor_data(start_date=start_date,
+                                                      end_date=end_date,
+                                                      factor_type=FactorType.Factor,
+                                                      format=ReturnFormat.JSON)
 
-    def _get_factor_data_measure(self,
-                                 requested_measure: RiskModelDataMeasure,
-                                 start_date: dt.date,
-                                 end_date: dt.date = None,
-                                 assets: DataAssetsRequest = None,
-                                 factors_by_name=True,
-                                 factors: List[str] = [],
-                                 format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
+            factors = validate_factors_exist(factors, risk_model_factors, self.id, 'identifier')
 
-        limit_factors = False
-        measures = [requested_measure, Measure.Factor_Name, Measure.Factor_Id]
+        limit_factors = True if assets else False
+        measures = [Measure.Factor_Return, Measure.Factor_Name, Measure.Factor_Id]
         if assets:
             measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
-            limit_factors = True
         results = self.get_data(
             start_date=start_date,
             end_date=end_date,
             assets=assets,
             measures=measures,
             limit_factors=limit_factors
         ).get('results')
-        identifier = 'factorName' if factors_by_name else 'factorId'
-        factor_data_df = build_factor_data_map(results, identifier, self.id, requested_measure, factors=factors)
-        return factor_data_df if format == ReturnFormat.DATA_FRAME else factor_data_df.to_dict()
-
-    def _get_asset_data_measure(self,
-                                requested_measure: RiskModelDataMeasure,
-                                start_date: dt.date,
-                                end_date: dt.date = None,
-                                assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                              []),
-                                format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        results = self.get_data(
-            start_date=start_date,
-            end_date=end_date,
-            assets=assets,
-            measures=[requested_measure, Measure.Asset_Universe],
-            limit_factors=False
-        ).get('results')
-        measure_data = build_asset_data_map(results, assets.universe, requested_measure, {})
+        factor_data = build_factor_data_map(results, 'factorId', 'factorReturn', factors=factors)
         if format == ReturnFormat.DATA_FRAME:
-            measure_data = pd.DataFrame(measure_data)
-        return measure_data
+            factor_data = pd.DataFrame(factor_data)
+        return factor_data
 
     def get_universe_exposure(self,
                               start_date: dt.date,
                               end_date: dt.date = None,
                               assets: DataAssetsRequest = DataAssetsRequest(
                                   RiskModelUniverseIdentifierRequest.gsid, []),
                               get_factors_by_name: bool = False,
@@ -809,21 +740,23 @@
 
         :func:`get_asset_universe` :func:`get_factor_returns_by_name` :func:`get_covariance_matrix`
         """
         results = self.get_data(
             start_date=start_date,
             end_date=end_date,
             assets=assets,
-            measures=[Measure.Factor_Name, Measure.Factor_Id, Measure.Universe_Factor_Exposure, Measure.Asset_Universe],
+            measures=[Measure.Universe_Factor_Exposure, Measure.Asset_Universe],
             limit_factors=False
         ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
         factor_map = {}
         if get_factors_by_name:
-            factor_map = build_factor_id_to_name_map(results)
-        factor_exposure = build_asset_data_map(results, assets.universe, Measure.Universe_Factor_Exposure, factor_map)
+            model_factors = self.get_factor_data(start_date=start_date, end_date=end_date, format=ReturnFormat.JSON)
+            factor_map = {factor.get('identifier'): factor.get('name') for factor in model_factors}
+        factor_exposure = build_asset_data_map(results, universe, 'factorExposure', factor_map)
         if format == ReturnFormat.DATA_FRAME:
             factor_exposure = pd.DataFrame.from_dict(
                 {(i, j): factor_exposure[i][j]
                  for i in factor_exposure.keys()
                  for j in factor_exposure[i].keys()},
                 orient='index'
             )
@@ -857,17 +790,76 @@
         >>> end_date = dt.date(2022, 5, 2)
         >>> model = FactorRiskModel.get("MODEL_ID")
         >>> specific_risk = model.get_specific_risk(start_date, end_date,
         ...                                         DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
-        :func:`get_specific_return` :func:`get_total_risk`
+        :func:`get_residual_variance` :func:`get_specific_return` :func:`get_total_risk`
         """
-        return self._get_asset_data_measure(Measure.Specific_Risk, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Specific_Risk, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        specific_risk = build_asset_data_map(results, universe, 'specificRisk', {})
+        if format == ReturnFormat.DATA_FRAME:
+            specific_risk = pd.DataFrame(specific_risk)
+        return specific_risk
+
+    def get_residual_variance(self,
+                              start_date: dt.date,
+                              end_date: dt.date = None,
+                              assets: DataAssetsRequest = DataAssetsRequest(
+                                  RiskModelUniverseIdentifierRequest.gsid, []),
+                              format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
+        """ Get residual variance data for existing risk model
+
+        :param start_date: Start date for data request
+        :param end_date: End date for data request
+        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
+        :param format: Which format to return the results in
+
+        :return: Residual variance for assets requested
+
+        **Usage**
+
+        Get residual variance data for assets specified in `assets` between `start_date` and `end_date`
+
+        **Examples**
+
+        >>> from gs_quant.models.risk_model import MacroRiskModel, DataAssetsRequest, \
+        ...                      RiskModelUniverseIdentifierRequest as UniverseIdentifier
+        >>> import datetime as dt
+        >>>
+        >>> start_date = dt.date(2022, 1, 1)
+        >>> end_date = dt.date(2022, 5, 2)
+        >>> model = FactorRiskModel.get("MODEL_ID")
+        >>> residual_variance = model.get_residual_variance(start_date, end_date,
+        ...                                                 DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
+
+        **See also**
+
+        :func:`get_total_risk` :func:`get_historical_beta` :func:`get_specific_return`
+         """
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Residual_Variance, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        residual_variance = build_asset_data_map(results, universe, 'residualVariance', {})
+        if format == ReturnFormat.DATA_FRAME:
+            residual_variance = pd.DataFrame(residual_variance)
+        return residual_variance
 
     def get_data(self,
                  measures: List[Measure],
                  start_date: dt.date,
                  end_date: dt.date = None,
                  assets: DataAssetsRequest = DataAssetsRequest(
                      RiskModelUniverseIdentifierRequest.gsid, []),
@@ -898,49 +890,48 @@
                                 f" batching request if error persists")
                 raise MqRequestError(e.status, f"timeout while getting model data between {start_date} and {end_date} "
                                                f" for {self.id}, consider batching request")
             raise e
 
     def upload_data(self,
                     data: Union[RiskModelData, Dict],
-                    max_asset_batch_size: int = 20000,
-                    aws_upload: bool = True):
+                    max_asset_batch_size: int = 20000):
         """ Upload risk model data to existing risk model in Marquee
 
         :param data: complete or partial risk model data for uploading on given date
             includes: date, and one or more of: factorData, assetData, covarianceMatrix,
-                issuerSpecificCovariance, factorPortfolios and currencyRatesData. Look at risk model upload
-                documentation for further information on what data can be grouped together if asset data size is above
-                the max asset batch size
+                issuerSpecificCovariance and factorPortfolios. Look at risk model upload documentation for
+                further information on what data can be grouped together if asset data size is above the
+                max asset batch size
         :param max_asset_batch_size: size of payload to batch with. Defaults to 20000 assets which works well for
             models that have factor ids ranging from 1- 3 characters in length. For models with longer factor ids,
             consider batching with a smaller max asset batch size
         If upload universe is over max_asset_batch_size, will batch data in chunks of max_asset_batch_size assets
-        :param aws_upload: If true, uploads risk model data to AWS
+
         This function takes risk model data, and if partial requests are necessary, will upload data by
             1. factor data (includes covariance matrix if factor model)
             2. asset data in batches of max_asset_batch_size
             3. issuer specific covariance data in batches of max_asset_batch_size / 2 due to the structure of this data
             4. factor portfolio data in batches of max_asset_batch_size / 2 due to the structure of this data
 
         In the case of repeat identifiers on a given data, the repeated data will replace existing data
         """
 
-        data = data.as_dict() if type(data) is RiskModelData else data
+        data = data.as_dict() if type(data) == RiskModelData else data
         full_data_present = 'factorData' in data.keys() and 'assetData' in data.keys()
         only_factor_data_present = only_factor_data_is_present(self.type, data)
         target_universe_size = 0 if only_factor_data_present else get_universe_size(data)
         make_partial_request = target_universe_size > max_asset_batch_size or not full_data_present
         if target_universe_size:
             logging.info(f'Target universe size for upload: {target_universe_size}')
         if make_partial_request:
-            batch_and_upload_partial_data(self.id, data, max_asset_batch_size, aws_upload=aws_upload)
+            batch_and_upload_partial_data(self.id, data, max_asset_batch_size)
         else:
             logging.info('Uploading model data in one request')
-            upload_model_data(self.id, data, aws_upload=aws_upload)
+            upload_model_data(self.id, data)
 
     @deprecation.deprecated(deprecated_in="0.9.42", details="Please use upload_data instead")
     def upload_partial_data(self,
                             data: Union[RiskModelData, dict],
                             final_upload: bool = None):
         """ Upload partial risk model data to existing risk model in Marquee
 
@@ -1135,15 +1126,26 @@
         >>> total_risk = model.get_total_risk(start_date, end_date,
     ...                                       DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
         :func:`get_specific_risk` :func:`get_specific_return` :func:`get_historical_beta`
         """
-        return self._get_asset_data_measure(Measure.Total_Risk, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Total_Risk, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        total_risk = build_asset_data_map(results, universe, 'totalRisk', {})
+        if format == ReturnFormat.DATA_FRAME:
+            total_risk = pd.DataFrame(total_risk)
+        return total_risk
 
     def get_historical_beta(self,
                             start_date: dt.date,
                             end_date: dt.date = None,
                             assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
                             format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
         """ Get historical beta data for existing risk model
@@ -1171,15 +1173,26 @@
         >>> historical_beta = model.get_historical_beta(start_date, end_date,
         ...                                             DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
         :func:`get_predicted_beta` :func:`get_global_predicted_beta`
         """
-        return self._get_asset_data_measure(Measure.Historical_Beta, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Historical_Beta, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        historical_beta = build_asset_data_map(results, universe, 'historicalBeta', {})
+        if format == ReturnFormat.DATA_FRAME:
+            historical_beta = pd.DataFrame(historical_beta)
+        return historical_beta
 
     def get_predicted_beta(self,
                            start_date: dt.date,
                            end_date: dt.date = None,
                            assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
                            format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
         """ Get predicted beta data for an existing risk model
@@ -1207,15 +1220,26 @@
         >>> predicted_beta = model.get_predicted_beta(start_date, end_date,
         ...                                           DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
         :func:`get_historical_beta` :func:`get_global_predicted_beta`
         """
-        return self._get_asset_data_measure(Measure.Predicted_Beta, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Predicted_Beta, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        predicted_beta = build_asset_data_map(results, universe, 'predictedBeta', {})
+        if format == ReturnFormat.DATA_FRAME:
+            predicted_beta = pd.DataFrame(predicted_beta)
+        return predicted_beta
 
     def get_global_predicted_beta(self,
                                   start_date: dt.date,
                                   end_date: dt.date = None,
                                   assets: DataAssetsRequest = DataAssetsRequest(
                                       RiskModelUniverseIdentifierRequest.gsid, []),
                                   format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
@@ -1244,15 +1268,26 @@
         >>> global_predicted_beta = model.get_global_predicted_beta(start_date, end_date,
         ...                                                       DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
         :func:`get_predicted_beta` :func:`get_historical_beta`
         """
-        return self._get_asset_data_measure(Measure.Global_Predicted_Beta, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Global_Predicted_Beta, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        global_predicted_beta = build_asset_data_map(results, universe, 'globalPredictedBeta', {})
+        if format == ReturnFormat.DATA_FRAME:
+            global_predicted_beta = pd.DataFrame(global_predicted_beta)
+        return global_predicted_beta
 
     def get_daily_return(self,
                          start_date: dt.date,
                          end_date: dt.date = None,
                          assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
                          format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
         """ Get daily asset total return data
@@ -1278,15 +1313,26 @@
         >>> daily_returns = model.get_daily_return(start_date, end_date,
         ...                                        DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
         :func:`get_specific_risk` :func:`get_universe_factor_exposure` :func: `get_specific_return`
 
         """
-        return self._get_asset_data_measure(Measure.Daily_Return, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Daily_Return, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        daily_return = build_asset_data_map(results, universe, 'dailyReturn', {})
+        if format == ReturnFormat.DATA_FRAME:
+            daily_return = pd.DataFrame(daily_return)
+        return daily_return
 
     def get_specific_return(self,
                             start_date: dt.date,
                             end_date: dt.date = None,
                             assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
                             format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
         """ Get specific return data for existing risk model
@@ -1312,426 +1358,26 @@
         >>> specific_returns = model.get_specific_return(start_date, end_date,
         ...                                              DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
         :func:`get_specific_risk` :func:`get_universe_factor_exposure`
 
         """
-        return self._get_asset_data_measure(Measure.Specific_Return, start_date, end_date, assets, format)
-
-    def get_bid_ask_spread(self,
-                           start_date: dt.date,
-                           end_date: dt.date = None,
-                           days: int = 0,
-                           assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
-                           format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get bid ask spread data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param days: Get bid ask spread for a past average of specific days
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Bid Ask Spread Data
-
-        **Usage**
-
-        Get Bid Ask Spread data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> bid_ask_spread_30d = model.get_bid_ask_spread(start_date, end_date, 30,
-                                                          DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_composite_volume` :func:`get_trading_volume`
-
-        """
-        try:
-            requested_measure = Measure.Bid_Ask_Spread if not days else Measure[f'Bid_Ask_Spread_{days}d']
-            return super()._get_asset_data_measure(requested_measure, start_date, end_date, assets, format)
-        except KeyError:
-            raise ValueError(f'Bid Ask Spread data is not available for the requested days: {days}')
-
-    def get_trading_volume(self,
-                           start_date: dt.date,
-                           end_date: dt.date = None,
-                           days: int = 0,
-                           assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
-                           format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get trading volume data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param days: Get trading volume for a past average of specific days
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Trading Volume data
-
-        **Usage**
-
-        Get trading volume data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> trading_volume_60d = model.get_trading_volume(start_date, end_date, 60,
-        ...                                               DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_composite_volume` :func:`get_traded_value`
-
-        """
-        try:
-            requested_measure = Measure.Trading_Volume if not days else Measure[f'Trading_Volume_{days}d']
-            return super()._get_asset_data_measure(requested_measure, start_date, end_date, assets, format)
-        except KeyError:
-            raise ValueError(f'Trading volume data is not available for the requested days: {days}')
-
-    def get_traded_value(self,
-                         start_date: dt.date,
-                         end_date: dt.date = None,
-                         days: int = 30,
-                         assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                       []),
-                         format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get traded value data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param days: Get traded value for a past average of specific days
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Traded Value Data
-
-        **Usage**
-
-        Get traded value data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> traded_value_30d = model.get_traded_value(start_date, end_date,
-        ...                                           assets = DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_composite_value` :func:`get_trading_volume`
-
-        """
-        try:
-            requested_measure = Measure.Traded_Value_30d if not days else Measure[f'Traded_Value_{days}d']
-            return super()._get_asset_data_measure(requested_measure, start_date, end_date, assets, format)
-        except KeyError:
-            raise ValueError(f'Traded Value data is not available for the requested days: {days}')
-
-    def get_composite_volume(self,
-                             start_date: dt.date,
-                             end_date: dt.date = None,
-                             days: int = 0,
-                             assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                           []),
-                             format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get composite volume data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param days: Get composite volume for a past average of specific days
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Composite volume data
-
-        **Usage**
-
-        Get composite volume data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> composite_volume_30d = model.get_composite_volume(start_date, end_date, 30,
-        ...                                                   DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_composite_value` :func:`get_traded_value`
-
-        """
-        try:
-            requested_measure = Measure.Composite_Volume if not days else Measure[f'Composite_Volume_{days}d']
-            return super()._get_asset_data_measure(requested_measure, start_date, end_date, assets, format)
-        except KeyError:
-            raise ValueError(f'Composite Volume data is not available for the requested days: {days}')
-
-    def get_composite_value(self,
-                            start_date: dt.date,
-                            end_date: dt.date = None,
-                            days: int = 30,
-                            assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                          []),
-                            format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get composite value data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param days: Get composite value for a past average of specific days
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Composite Value data
-
-        **Usage**
-
-        Get composite value data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> composite_value_30d = model.get_composite_value(start_date, end_date,
-        ...                                                assets=DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_traded_value` :func:`get_composite_volume`
-
-        """
-        try:
-            requested_measure = Measure.Composite_Value_30d if not days else Measure[f'Composite_Value_{days}d']
-            return super()._get_asset_data_measure(requested_measure, start_date, end_date, assets, format)
-        except KeyError:
-            raise ValueError(f'Composite Value data is not available for the requested days: {days}')
-
-    def get_issuer_market_cap(self,
-                              start_date: dt.date,
-                              end_date: dt.date = None,
-                              assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                            []),
-                              format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get issuer market capitalization for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Issue Market cap data
-
-        **Usage**
-
-        Get issuer market capitalization for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> issuer_market_cap = model.get_issuer_market_cap(start_date, end_date,
-        ...                                                  DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_asset_price` :func:`get_asset_capitalization` :func:`get_currency`
-
-        """
-        return super()._get_asset_data_measure(Measure.Issuer_Market_Cap, start_date, end_date, assets, format)
-
-    def get_asset_price(self,
-                        start_date: dt.date,
-                        end_date: dt.date = None,
-                        assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
-                        format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get asset price data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Asset price data
-
-        **Usage**
-
-        Get prices for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> asset_price = model.get_asset_price(start_date, end_date,
-        ...                                                  DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_asset_capitalization` :func:`get_currency`
-
-        """
-        return super()._get_asset_data_measure(Measure.Price, start_date, end_date, assets, format)
-
-    def get_asset_capitalization(self,
-                                 start_date: dt.date,
-                                 end_date: dt.date = None,
-                                 assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid,
-                                                                               []),
-                                 format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get asset capitalization data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Asset Capitalization data
-
-        **Usage**
-
-        Get asset capitalization data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> asset_capitalization = model.get_asset_capitalization(start_date, end_date,
-        ...                                                  DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_issuer_market_cap` :func:`get_currency`
-
-        """
-        return super()._get_asset_data_measure(Measure.Capitalization, start_date, end_date, assets, format)
-
-    def get_currency(self,
-                     start_date: dt.date,
-                     end_date: dt.date = None,
-                     assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
-                     format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get currency data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Currency data
-
-        **Usage**
-
-        Get currency data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> currency = model.get_currency(start_date, end_date,
-        ...                               DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_asset_price` :func:`get_issuer_market_cap`
-
-        """
-        return super()._get_asset_data_measure(Measure.Currency, start_date, end_date, assets, format)
-
-    def get_unadjusted_specific_risk(self,
-                                     start_date: dt.date,
-                                     end_date: dt.date = None,
-                                     assets: DataAssetsRequest = DataAssetsRequest(
-                                         RiskModelUniverseIdentifierRequest.gsid, []),
-                                     format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get asset unadjusted specific risk data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Unadjusted Specific Risk data
-
-        **Usage**
-
-        Get unadjusted specific risk data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> unadjusted_specific_risk = model.get_unadjusted_specific_risk(start_date, end_date,
-        ...                                                  DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_specific_risk` :func:`get_total_risk`
-
-        """
-        return super()._get_asset_data_measure(Measure.Unadjusted_Specific_Risk, start_date, end_date, assets, format)
-
-    def get_dividend_yield(self,
-                           start_date: dt.date,
-                           end_date: dt.date = None,
-                           assets: DataAssetsRequest = DataAssetsRequest(
-                               RiskModelUniverseIdentifierRequest.gsid, []),
-                           format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get dividend yield data for assets covered by the risk model
-
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Asset Divident Yield
-
-        **Usage**
-
-        Get dividend yield data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> dividend_yield = model.get_dividend_yield(start_date, end_date,
-        ...                                           DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_asset_capitalization` :func:`get_issuer_market_cap`
-
-        """
-        return super()._get_asset_data_measure(Measure.Dividend_Yield, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Specific_Return, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        specific_return = build_asset_data_map(results, universe, 'specificReturn', {})
+        if format == ReturnFormat.DATA_FRAME:
+            specific_return = pd.DataFrame(specific_return)
+        return specific_return
 
     def get_universe_factor_exposure(self,
                                      start_date: dt.date,
                                      end_date: dt.date = None,
                                      assets: DataAssetsRequest = DataAssetsRequest(
                                          RiskModelUniverseIdentifierRequest.gsid, []),
                                      get_factors_by_name: bool = False,
@@ -1766,41 +1412,14 @@
         **See also**
 
         :func:`get_asset_universe` :func:`get_specific_risk`
         """
         return super().get_universe_exposure(start_date, end_date, assets,
                                              get_factors_by_name=get_factors_by_name, format=format)
 
-    def _build_covariance_matrix_measure(self,
-                                         covariance_matrix_type: Measure,
-                                         start_date: dt.date,
-                                         end_date: dt.date = None,
-                                         assets: DataAssetsRequest = None,
-                                         format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        measure_to_field_name_map = {
-            Measure.Covariance_Matrix: 'covarianceMatrix',
-            Measure.Unadjusted_Covariance_Matrix: 'unadjustedCovarianceMatrix',
-            Measure.Pre_VRA_Covariance_Matrix: 'preVRACovarianceMatrix'
-        }
-        limit_factors = True if assets else False
-        measures = [covariance_matrix_type, Measure.Factor_Name, Measure.Factor_Id]
-        if assets:
-            measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
-        results = self.get_data(
-            start_date=start_date,
-            end_date=end_date,
-            assets=assets,
-            measures=measures,
-            limit_factors=limit_factors
-        ).get('results')
-        covariance_data = results if format == ReturnFormat.JSON \
-            else get_covariance_matrix_dataframe(results, covariance_matrix_key=measure_to_field_name_map[
-                                                 covariance_matrix_type])
-        return covariance_data
-
     def get_covariance_matrix(self,
                               start_date: dt.date,
                               end_date: dt.date = None,
                               assets: DataAssetsRequest = None,
                               format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
         """ Get covariance matrix data for existing risk model
 
@@ -1827,225 +1446,28 @@
         >>> covariance_matrix = model.get_covariance_matrix(start_date, end_date,
         ...                                                 DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
 
         **See also**
 
         :func:`get_factor_returns_by_name` :func:`get_factor_returns_by_id`
         """
-        return self._build_covariance_matrix_measure(Measure.Covariance_Matrix, start_date, end_date, assets, format)
-
-    def get_unadjusted_covariance_matrix(self,
-                                         start_date: dt.date,
-                                         end_date: dt.date = None,
-                                         assets: DataAssetsRequest = None,
-                                         format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        """ Get covariance matrix data for existing risk model
-
-        :param start_date: start date for data request
-        :param end_date: end date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to limit the covariance matrix by
-        :param format: which format to return the results in
-
-        :return: covariance matrix of daily factor returns
-
-        **Usage**
-
-        Get the covariance matrix of daily factor returns
-
-        **Examples**
-
-        >>> from gs_quant.models.risk_model import MacroRiskModel, DataAssetsRequest, \
-        ...                      RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>>
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> covariance_matrix = model.get_unadjusted_covariance_matrix(start_date, end_date,
-        ...                                                 DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-
-        :func:`get_factor_returns_by_name` :func:`get_factor_returns_by_id`
-        """
-        return self._build_covariance_matrix_measure(Measure.Unadjusted_Covariance_Matrix, start_date, end_date, assets,
-                                                     format)
-
-    def get_pre_vra_covariance_matrix(self,
-                                      start_date: dt.date,
-                                      end_date: dt.date = None,
-                                      assets: DataAssetsRequest = None,
-                                      format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        """ Get covariance matrix data for existing risk model
-
-        :param start_date: start date for data request
-        :param end_date: end date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to limit the covariance matrix by
-        :param format: which format to return the results in
-
-        :return: covariance matrix of daily factor returns
-
-        **Usage**
-
-        Get the covariance matrix of daily factor returns
-
-        **Examples**
-
-        >>> from gs_quant.models.risk_model import MacroRiskModel, DataAssetsRequest, \
-        ...                      RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>>
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> covariance_matrix = model.get_covariance_matrix(start_date, end_date,
-        ...                                                 DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-
-        :func:`get_factor_returns_by_name` :func:`get_factor_returns_by_id`
-        """
-        return self._build_covariance_matrix_measure(Measure.Pre_VRA_Covariance_Matrix, start_date, end_date, assets,
-                                                     format)
-
-    def _build_currency_rates_data(self, rows: List[Dict], currencies: List[Currency], rates_key: str,
-                                   format: ReturnFormat) -> Union[Dict, pd.DataFrame]:
-        currency_rates_key = "currencyRatesData"
-        currency_rates_df = get_optional_data_as_dataframe(rows, currency_rates_key)
-        if currencies:
-            currency_rates_df = currency_rates_df.loc[currency_rates_df['currency'].isin([cur.value
-                                                                                          for cur in currencies])]
-        if format == ReturnFormat.DATA_FRAME:
-            return currency_rates_df
-        return currency_rates_df.to_dict()
 
-    def get_risk_free_rate(self,
-                           start_date: dt.date,
-                           end_date: dt.date = None,
-                           currencies: List[Currency] = [],
-                           format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        """ Get risk-free rates for existing risk model
-
-       :param start_date: start date for data request
-       :param end_date: end date for data request
-       :param currencies: return risk-free rates for these currencies. If empty returns data for all currencies
-       :param format: which format to return the results in
-
-       :return: risk-free rates data
-
-       **Usage**
-
-       Get risk-free rates data between `start_date` and `end_date`
-
-       **Examples**
-
-       >>> from gs_quant.models.risk_model import FactorRiskModel
-       >>> import datetime as dt
-       >>>
-       >>> start_date = dt.date(2022, 1, 1)
-       >>> end_date = dt.date(2022, 5, 2)
-       >>> model = FactorRiskModel.get("MODEL_ID")
-       >>> risk_free_rates = model.get_risk_free_rate(start_date, end_date))
-
-       **See also**
-
-       :func:`get_currency_exchange_rate`
-        """
-        results = self.get_data(measures=[RiskModelDataMeasure.Risk_Free_Rate], start_date=start_date,
-                                end_date=end_date, limit_factors=False).get('results')
-        return self._build_currency_rates_data(results, rates_key="riskFreeRate", currencies=currencies, format=format)
-
-    def get_currency_exchange_rate(self,
-                                   start_date: dt.date,
-                                   end_date: dt.date = None,
-                                   currencies: List[Currency] = [],
-                                   format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        """ Get currency exchange rates for existing risk model
-
-       :param start_date: start date for data request
-       :param end_date: end date for data request
-       :param currencies: return currency exchange rates for these currencies. If empty returns data for all currencies
-       :param format: which format to return the results in
-
-       :return: currency exchange rates data
-
-       **Usage**
-
-       Get currency exchange rates data between `start_date` and `end_date`
-
-       **Examples**
-
-       >>> from gs_quant.models.risk_model import FactorRiskModel
-       >>> import datetime as dt
-       >>>
-       >>> start_date = dt.date(2022, 1, 1)
-       >>> end_date = dt.date(2022, 5, 2)
-       >>> model = FactorRiskModel.get("MODEL_ID")
-       >>> currency_exchange_rates = model.get_currency_exchange_rate(start_date, end_date))
-
-       **See also**
-
-       :func:`get_risk_free_rate`
-        """
-        results = self.get_data(measures=[RiskModelDataMeasure.Currency_Exchange_Rate], start_date=start_date,
-                                end_date=end_date, limit_factors=False).get('results')
-        return self._build_currency_rates_data(results, rates_key="exchangeRate", currencies=currencies, format=format)
-
-    def get_factor_volatility(self,
-                              start_date: dt.date,
-                              end_date: dt.date = None,
-                              factors: List[str] = None,
-                              get_factors_by_name: bool = True,
-                              format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
-        """ Get factor volatility data for existing risk model
-
-        :param start_date: start date for data request
-        :param end_date: end date for data request
-        :param factors: The factors to get factor return data for. If empty, the data for all factors is returned
-        :param get_factors_by_name: get results keyed by factor name instead of ID
-        :param format: which format to return the results in
-
-        :return: factor volatility data
-
-        **Usage**
-
-        Get the factor volatility data for daily factor returns
-
-        **Examples**
-
-        >>> from gs_quant.models.risk_model import MacroRiskModel, DataAssetsRequest, \
-        ...                      RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>>
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> factor_volatility_by_name = model.get_factor_volatility(start_date, end_date,
-        ...                                                         factors=["factor1", "factor2"])
-        >>> factor_volatility_by_id = model.get_factor_volatility(start_date=start_date, end_date=end_date,
-        ...                                                       factors=["1", "2", "3"], get_factors_by_name=False)
-
-        **See also**
-
-        :func:`get_factor_returns_by_name` :func:`get_factor_returns_by_id`
-        """
-        if factors is None:
-            factors = []
-        measures = [Measure.Factor_Volatility, Measure.Factor_Name, Measure.Factor_Id]
+        limit_factors = True if assets else False
+        measures = [Measure.Covariance_Matrix, Measure.Factor_Name, Measure.Factor_Id]
+        if assets:
+            measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
         results = self.get_data(
             start_date=start_date,
             end_date=end_date,
+            assets=assets,
             measures=measures,
-            limit_factors=False
+            limit_factors=limit_factors
         ).get('results')
-        if format == ReturnFormat.JSON and not get_factors_by_name and not factors:
-            return results
-        else:
-            factor_volatility_df = build_factor_volatility_dataframe(results, get_factors_by_name, factors)
-            return factor_volatility_df if format == ReturnFormat.DATA_FRAME else factor_volatility_df.to_dict()
+        covariance_data = results if format == ReturnFormat.JSON else get_covariance_matrix_dataframe(results)
+        return covariance_data
 
     def get_estimation_universe_weights(self,
                                         start_date: dt.date,
                                         end_date: dt.date = None,
                                         assets: DataAssetsRequest = DataAssetsRequest(
                                             RiskModelUniverseIdentifierRequest.gsid, []),
                                         format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
@@ -2077,15 +1499,26 @@
            >>> estimation_universe_weights = model.get_estimation_universe_weights(start_date, end_date,
            ...                                           DataAssetsRequest(UniverseIdentifier.bbid, universe))
 
            **See also**
 
            :func:`get_asset_universe` :func:`get_specific_risk`
            """
-        return self._get_asset_data_measure(Measure.Estimation_Universe_Weight, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Estimation_Universe_Weight, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        estimation_universe_weights = build_asset_data_map(results, universe, 'estimationUniverseWeight', {})
+        if format == ReturnFormat.DATA_FRAME:
+            estimation_universe_weights = pd.DataFrame(estimation_universe_weights)
+        return estimation_universe_weights
 
     def get_issuer_specific_covariance(self,
                                        start_date: dt.date,
                                        end_date: dt.date = None,
                                        assets: DataAssetsRequest = DataAssetsRequest(
                                            RiskModelUniverseIdentifierRequest.gsid, []),
                                        format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[Dict, pd.DataFrame]:
@@ -2121,16 +1554,15 @@
         isc = self.get_data(
             start_date=start_date,
             end_date=end_date,
             assets=assets,
             measures=[Measure.Issuer_Specific_Covariance],
             limit_factors=False
         ).get('results')
-        isc_data = isc if format == ReturnFormat.JSON else get_optional_data_as_dataframe(isc,
-                                                                                          'issuerSpecificCovariance')
+        isc_data = isc if format == ReturnFormat.JSON else get_isc_dataframe(isc)
         return isc_data
 
     def get_factor_portfolios(self,
                               start_date: dt.date,
                               end_date: dt.date = None,
                               assets: DataAssetsRequest = DataAssetsRequest(
                                   RiskModelUniverseIdentifierRequest.gsid, []),
@@ -2170,166 +1602,14 @@
             assets=assets,
             measures=[Measure.Factor_Portfolios],
             limit_factors=False
         ).get('results')
         pfp_data = results if format == ReturnFormat.JSON else build_pfp_data_dataframe(results)
         return pfp_data
 
-    def get_asset_contribution_to_risk(self,
-                                       asset_identifier: str,
-                                       date: dt.date,
-                                       asset_identifier_type=RiskModelUniverseIdentifierRequest.bbid,
-                                       get_factors_by_name: bool = True,
-                                       format: ReturnFormat = ReturnFormat.DATA_FRAME):
-        """
-        Get factor proportion of risk and marginal contribution to risk for each factor in the model
-
-        :param asset_identifier: asset identifier
-        :param date: date
-        :param asset_identifier_type: type corresponding to the identifier passed in
-        :param get_factors_by_name: whether to denote the results by factor name (True) or ID (False)
-        :param format: which format to return the results in
-
-        :return: factor proportion of risk and marginal contribution to risk breakdown
-
-        **Usage**
-
-        Get the factor contribution breakdown for any asset covered by the risk model
-
-        **Examples**
-
-        >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> mctr_breakdown = model.get_asset_contribution_to_risk('AAPL UW', date)
-        """
-        # Get spot price for the asset as of date
-        security = SecurityMaster.get_asset(asset_identifier, AssetIdentifier(asset_identifier_type.value.upper()))
-        spot_data_coordinate = security.get_data_coordinate(DataMeasure.SPOT_PRICE)
-        series = spot_data_coordinate.get_series(start=date, end=date)
-        if len(series) == 0:
-            raise MqValueError(f'{asset_identifier} has no end of day price available on {date.strftime("%Y-%m-%d")}')
-        spot_price = series.iloc[0]
-
-        # Get risk model data for the asset as of date
-        data_measures = [RiskModelDataMeasure.Asset_Universe,
-                         RiskModelDataMeasure.Total_Risk,
-                         RiskModelDataMeasure.Universe_Factor_Exposure,
-                         RiskModelDataMeasure.Covariance_Matrix,
-                         RiskModelDataMeasure.Factor_Name,
-                         RiskModelDataMeasure.Factor_Id,
-                         RiskModelDataMeasure.Factor_Category]
-        risk_results = self.get_data(data_measures, date, date,
-                                     RiskModelDataAssetsRequest(identifier=asset_identifier_type,
-                                                                universe=[asset_identifier]),
-                                     limit_factors=True)
-        if len(risk_results['results'][0]['assetData']['totalRisk']) == 0:
-            raise MqValueError(f'{asset_identifier} is not covered by {self.id} on {date.strftime("%Y-%m-%d")}')
-        total_risk = risk_results['results'][0]['assetData']['totalRisk'][0]
-        var = total_risk / 100 * spot_price / math.sqrt(252)
-        covariance_matrix = np.array(risk_results['results'][0]['covarianceMatrix'])
-        factor_z_scores = risk_results['results'][0]['assetData']['factorExposure'][0]
-
-        # Calculate results
-        factors = risk_results['results'][0]['factorData']
-        factor_ids_in_order = [f['factorId'] for f in factors]
-        exp = np.array([factor_z_scores[key] * spot_price for key in factor_ids_in_order])
-        cov_x_exp = np.dot(covariance_matrix, exp)
-        mctr = np.divide(cov_x_exp, var)
-        rmctr = np.multiply(exp, mctr)
-        annualized_rmctr = np.multiply(rmctr, math.sqrt(252) / spot_price * 100)
-        annualized_factor_rmctr_sum = np.sum(annualized_rmctr)
-
-        final_results = []
-        for i in range(0, len(mctr)):
-            final_results.append({
-                'Factor': factors[i]['factorName'] if get_factors_by_name else factors[i]['factorId'],
-                'Factor Category': factors[i]['factorCategory'],
-                'Proportion of Risk (%)': annualized_rmctr[i] / total_risk * 100,
-                'MCTR (%)': annualized_rmctr[i]
-            })
-        final_results.append({
-            'Factor': 'Specific' if get_factors_by_name else 'SPC',
-            'Factor Category': 'Specific',
-            'Proportion of Risk (%)': (total_risk - annualized_factor_rmctr_sum) / total_risk * 100,
-            'MCTR (%)': total_risk - annualized_factor_rmctr_sum
-        })
-
-        return pd.DataFrame(final_results) if format == ReturnFormat.DATA_FRAME else final_results
-
-    def get_asset_factor_attribution(self,
-                                     asset_identifier: str,
-                                     start_date: dt.date,
-                                     end_date: dt.date,
-                                     asset_identifier_type=RiskModelUniverseIdentifierRequest.bbid,
-                                     get_factors_by_name: bool = True,
-                                     format: ReturnFormat = ReturnFormat.DATA_FRAME):
-        """
-        Get attribution by factor for an asset for a desired date range
-
-        :param asset_identifier: asset identifier
-        :param start_date: start date
-        :param end_date: end date
-        :param asset_identifier_type: type corresponding to the identifier passed in
-        :param get_factors_by_name: whether to denote the results by factor name (True) or ID (False)
-        :param format: which format to return the results in
-
-        :return: factor attribution breakdown
-
-        **Usage**
-
-        Get the factor attribution (in percent) breakdown for any asset covered by the risk model
-
-        **Examples**
-
-        >>> from gs_quant.models.risk_model import FactorRiskModel
-        >>> import datetime as dt
-        >>>
-        >>> start_date = dt.date(2022, 5, 2)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = FactorRiskModel.get("MODEL_ID")
-        >>> attribution_breakdown = model.get_asset_factor_attribution('AAPL UW', start_date, end_date)
-        """
-
-        # Get risk model data for the asset
-        data_measures = [RiskModelDataMeasure.Asset_Universe,
-                         RiskModelDataMeasure.Universe_Factor_Exposure,
-                         RiskModelDataMeasure.Factor_Volatility,
-                         RiskModelDataMeasure.Factor_Return,
-                         RiskModelDataMeasure.Factor_Name,
-                         RiskModelDataMeasure.Factor_Id,
-                         RiskModelDataMeasure.Factor_Category]
-        risk_results = self.get_data(data_measures, start_date, end_date,
-                                     RiskModelDataAssetsRequest(identifier=asset_identifier_type,
-                                                                universe=[asset_identifier]),
-                                     limit_factors=True)['results']
-        if len(risk_results) == 0:
-            raise MqValueError(f'{asset_identifier} is not covered by {self.id}')
-        if len(risk_results) < 2:
-            raise MqValueError('Attribution cannot be calculated with only one day of risk data')
-        factor_id_to_name_map = {}
-        factor_attribution = []
-        for i in range(1, len(risk_results)):
-            attribution_on_date = {'Date': risk_results[i]['date']}
-            for factor_data in risk_results[i]['factorData']:
-                factor = factor_data['factorName'] if get_factors_by_name else factor_data['factorId']
-                attribution_on_date[factor] = factor_data['factorReturn']
-                factor_id_to_name_map[factor_data['factorId']] = factor_data['factorName']
-
-            previous_factor_exposures = risk_results[i - 1]['assetData']['factorExposure'][0]
-            for factor_id in previous_factor_exposures:
-                factor = factor_id_to_name_map[factor_id] if get_factors_by_name else factor_id
-                factor_exposure = previous_factor_exposures[factor_id]
-                attribution_on_date[factor] *= factor_exposure
-            factor_attribution.append(attribution_on_date)
-
-        return pd.DataFrame(factor_attribution) if format == ReturnFormat.DATA_FRAME else factor_attribution
-
     def __repr__(self):
         s = "{}('{}','{}','{}','{}','{}','{}','{}'".format(
             self.__class__.__name__,
             self.id,
             self.name,
             self.coverage,
             self.term,
@@ -2486,15 +1766,17 @@
         columns = [(factor_data.loc[f, "factorCategory"], f) for f in sensitivity_df.columns.values] \
             if get_factors_by_name else \
             [(factor_data.loc[f, "factorCategoryId"], f) for f in sensitivity_df.columns.values]
         sensitivity_df = sensitivity_df.set_axis(pd.MultiIndex.from_tuples(columns), axis=1)
 
         factor_categories = list(set(sensitivity_df.columns.get_level_values(0).values))
         factor_category_sens_df = pd.concat(
-            [sensitivity_df[factor_category].agg(np.sum, axis=1).to_frame().rename(columns={0: factor_category})
+            [sensitivity_df[factor_category].agg(np.sum, axis=1)
+                                            .to_frame()
+                                            .rename(columns={0: factor_category})
              for factor_category in factor_categories], axis=1
         )
 
         if format == ReturnFormat.JSON:
             factor_category_sens_df = factor_category_sens_df.to_dict(orient='index')
             factor_category_sens_dict = {}
 
@@ -2538,15 +1820,26 @@
         ...                                      ReturnFormat.JSON)
 
         **See also**
 
         :func:`get_fair_value_gap` :func:`factor_standard_deviation` :func:`factor_z_score`
         """
 
-        return self._get_asset_data_measure(Measure.R_Squared, start_date, end_date, assets, format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.R_Squared, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        r_squared = build_asset_data_map(results, universe, 'rSquared', {})
+        if format == ReturnFormat.DATA_FRAME:
+            r_squared = pd.DataFrame(r_squared)
+        return r_squared
 
     def get_fair_value_gap(self,
                            start_date: dt.date,
                            end_date: dt.date = None,
                            assets: DataAssetsRequest = DataAssetsRequest(RiskModelUniverseIdentifierRequest.gsid, []),
                            fair_value_gap_unit: Unit = Unit.STANDARD_DEVIATION,
                            format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
@@ -2586,22 +1879,30 @@
         ...                                   DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']), Unit.PERCENT)
 
         **See also**
 
         :func:`get_r_squared` :func:`factor_standard_deviation` :func:`factor_z_score`
         """
 
-        return self._get_asset_data_measure(
-            Measure.Fair_Value_Gap_Standard_Deviation
-            if fair_value_gap_unit == Unit.STANDARD_DEVIATION
-            else Measure.Fair_Value_Gap_Percent,
-            start_date,
-            end_date,
-            assets,
-            format)
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=[Measure.Fair_Value_Gap_Standard_Deviation, Measure.Asset_Universe]
+            if fair_value_gap_unit == Unit.STANDARD_DEVIATION else
+            [Measure.Fair_Value_Gap_Percent, Measure.Asset_Universe],
+            limit_factors=False
+        ).get('results')
+        universe = pydash.get(results, '0.assetData.universe', [])
+        measure = 'fairValueGapStandardDeviation' if fair_value_gap_unit == Unit.STANDARD_DEVIATION else \
+            'fairValueGapPercent'
+        fair_value_gap = build_asset_data_map(results, universe, measure, {})
+        if format == ReturnFormat.DATA_FRAME:
+            fair_value_gap = pd.DataFrame(fair_value_gap)
+        return fair_value_gap
 
     def get_factor_standard_deviation(self,
                                       start_date: dt.date,
                                       end_date: dt.date = None,
                                       assets: DataAssetsRequest = None,
                                       factors: List[str] = [],
                                       factors_by_name: bool = True,
@@ -2635,21 +1936,39 @@
         ...                                                                 factors=['factor1', 'factor2'])
 
         **See also**
 
         :func:`factor_standard_deviation` :func:`factor_z_score`
         """
 
-        return self._get_factor_data_measure(Measure.Factor_Standard_Deviation,
-                                             start_date,
-                                             end_date,
-                                             assets,
-                                             factors_by_name,
-                                             factors,
-                                             format)
+        if factors:
+            risk_model_factors = self.get_factor_data(start_date=start_date,
+                                                      end_date=end_date,
+                                                      factor_type=FactorType.Factor,
+                                                      format=ReturnFormat.JSON)
+
+            identifier = 'name' if factors_by_name else 'identifier'
+            factors = validate_factors_exist(factors, risk_model_factors, self.id, identifier)
+
+        limit_factors = True if assets else False
+        measures = [Measure.Factor_Standard_Deviation, Measure.Factor_Name, Measure.Factor_Id]
+        if assets:
+            measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=measures,
+            limit_factors=limit_factors
+        ).get('results')
+        factor_identifier = 'factorName' if factors_by_name else 'factorId'
+        factor_data = build_factor_data_map(results, factor_identifier, 'factorStandardDeviation', factors=factors)
+        if format == ReturnFormat.DATA_FRAME:
+            factor_data = pd.DataFrame(factor_data)
+        return factor_data
 
     def get_factor_z_score(self,
                            start_date: dt.date,
                            end_date: dt.date = None,
                            assets: DataAssetsRequest = None,
                            factors: List[str] = [],
                            factors_by_name: bool = True,
@@ -2681,56 +2000,39 @@
         >>> factor_z_score = model.get_factor_z_score(start_date, end_date, factors=['factor1', 'factor2'])
 
         **See also**
 
         :func:`get_r_squared` :func:`factor_standard_deviation` :func:`factor_z_score`
         """
 
-        return self._get_factor_data_measure(Measure.Factor_Z_Score,
-                                             start_date,
-                                             end_date,
-                                             assets,
-                                             factors_by_name,
-                                             factors,
-                                             format)
+        if factors:
+            risk_model_factors = self.get_factor_data(start_date=start_date,
+                                                      end_date=end_date,
+                                                      factor_type=FactorType.Factor,
+                                                      format=ReturnFormat.JSON)
 
-    def get_model_price(self,
-                        start_date: dt.date,
-                        end_date: dt.date = None,
-                        assets: DataAssetsRequest = DataAssetsRequest(
-                            RiskModelUniverseIdentifierRequest.gsid, []),
-                        format: ReturnFormat = ReturnFormat.DATA_FRAME) -> Union[List[Dict], pd.DataFrame]:
-        """ Get model price data for existing risk model
+            identifier = 'name' if factors_by_name else 'identifier'
+            factors = validate_factors_exist(factors, risk_model_factors, self.id, identifier)
 
-        :param start_date: Start date for data request
-        :param end_date: End date for data request
-        :param assets: DataAssetsRequest object with identifier and list of assets to retrieve for request
-        :param format: Which format to return the results in
-
-        :return: Model price data
-
-        **Usage**
-
-        Get model price data for assets specified in `assets` between `start_date` and `end_date`
-
-        **Example**
-        >>> from gs_quant.models.risk_model import FactorRiskModel, DataAssetsRequest, \
-        ...                                        RiskModelUniverseIdentifierRequest as UniverseIdentifier
-        >>> import datetime as dt
-        >>> start_date = dt.date(2022, 1, 1)
-        >>> end_date = dt.date(2022, 5, 2)
-        >>> model = MacroRiskModel.get("MODEL_ID")
-        >>> model_price = model.get_model_price(start_date, end_date,
-        ...                                                  DataAssetsRequest(UniverseIdentifier.bbid, ['GS UN']))
-
-        **See also**
-        :func:`get_r_squared` :func:`get_fair_value_gap`
-
-        """
-        return super()._get_asset_data_measure(Measure.Model_Price, start_date, end_date, assets, format)
+        limit_factors = True if assets else False
+        measures = [Measure.Factor_Z_Score, Measure.Factor_Name, Measure.Factor_Id]
+        if assets:
+            measures += [Measure.Universe_Factor_Exposure, Measure.Asset_Universe]
+        results = self.get_data(
+            start_date=start_date,
+            end_date=end_date,
+            assets=assets,
+            measures=measures,
+            limit_factors=limit_factors
+        ).get('results')
+        factor_identifier = 'factorName' if factors_by_name else 'factorId'
+        factor_data = build_factor_data_map(results, factor_identifier, 'factorZScore', factors=factors)
+        if format == ReturnFormat.DATA_FRAME:
+            factor_data = pd.DataFrame(factor_data)
+        return factor_data
 
     def __repr__(self):
         s = "{}('{}','{}','{}','{}','{}','{}'".format(
             self.__class__.__name__,
             self.id,
             self.name,
             self.coverage,
```

### Comparing `gs_quant-1.0.80/gs_quant/models/risk_model_utils.py` & `gs_quant-1.0.9/gs_quant/models/risk_model_utils.py`

 * *Files 17% similar despite different names*

```diff
@@ -12,133 +12,86 @@
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
 import logging
 import math
-import pydash
 from time import sleep
-from typing import List, Union
+from typing import List, Dict, Union
 
 import pandas as pd
 
 from gs_quant.api.gs.data import GsDataApi
 from gs_quant.api.gs.risk_models import GsFactorRiskModelApi
-from gs_quant.errors import MqRequestError
+from gs_quant.errors import MqRequestError, MqValueError
 from gs_quant.target.risk_models import RiskModelData, RiskModelType as Type
-from gs_quant.target.risk_models import RiskModelDataMeasure as Measure
 
 
-def _map_measure_to_field_name(measure: Measure):
-    measure_to_field = {
-        Measure.Specific_Risk: 'specificRisk',
-        Measure.Total_Risk: 'totalRisk',
-        Measure.Historical_Beta: 'historicalBeta',
-        Measure.Predicted_Beta: 'predictedBeta',
-        Measure.Global_Predicted_Beta: 'globalPredictedBeta',
-        Measure.Daily_Return: 'dailyReturn',
-        Measure.Specific_Return: 'specificReturn',
-        Measure.Estimation_Universe_Weight: 'estimationUniverseWeight',
-        Measure.R_Squared: 'rSquared',
-        Measure.Fair_Value_Gap_Standard_Deviation: 'fairValueGapStandardDeviation',
-        Measure.Fair_Value_Gap_Percent: 'fairValueGapPercent',
-        Measure.Universe_Factor_Exposure: 'factorExposure',
-        Measure.Factor_Return: 'factorReturn',
-        Measure.Factor_Standard_Deviation: 'factorStandardDeviation',
-        Measure.Factor_Z_Score: 'factorZScore',
-        Measure.Bid_Ask_Spread: 'bidAskSpread',
-        Measure.Bid_Ask_Spread_30d: 'bidAskSpread30d',
-        Measure.Bid_Ask_Spread_60d: 'bidAskSpread60d',
-        Measure.Bid_Ask_Spread_90d: 'bidAskSpread90d',
-        Measure.Trading_Volume: 'tradingVolume',
-        Measure.Trading_Volume_30d: 'tradingVolume30d',
-        Measure.Trading_Volume_60d: 'tradingVolume60d',
-        Measure.Trading_Volume_90d: 'tradingVolume90d',
-        Measure.Traded_Value_30d: 'tradedValue30d',
-        Measure.Composite_Volume: 'compositeVolume',
-        Measure.Composite_Volume_30d: 'compositeVolume30d',
-        Measure.Composite_Volume_60d: 'compositeVolume60d',
-        Measure.Composite_Volume_90d: 'compositeVolume90d',
-        Measure.Composite_Value_30d: 'compositeValue30d',
-        Measure.Issuer_Market_Cap: 'issuerMarketCap',
-        Measure.Capitalization: 'capitalization',
-        Measure.Currency: 'currency',
-        Measure.Dividend_Yield: 'dividendYield',
-        Measure.Price: 'price',
-        Measure.Unadjusted_Specific_Risk: 'unadjustedSpecificRisk',
-        Measure.Model_Price: 'modelPrice',
-    }
-
-    return measure_to_field.get(measure, '')
-
-
-def build_factor_id_to_name_map(results: List) -> dict:
-    risk_model_factor_data = {}
-    for row in results:
-        for factor in row.get('factorData', []):
-            factor_id = factor['factorId']
-            if not risk_model_factor_data.get(factor_id):
-                risk_model_factor_data[factor_id] = factor['factorName']
-    return risk_model_factor_data
-
-
-def build_asset_data_map(results: List, requested_universe: tuple, requested_measure: Measure, factor_map: dict) \
-        -> dict:
+def build_asset_data_map(results: List, universe: List, measure: str, factor_map: dict) -> dict:
     if not results:
         return {}
-    data_field = _map_measure_to_field_name(requested_measure)
-    # if full universe is requested then pull the universe from the results.
-    universe = pydash.get(results, '0.assetData.universe', []) if not requested_universe else list(requested_universe)
     data_map = {}
     for asset in universe:
         date_list = {}
         for row in results:
             if asset in row.get('assetData').get('universe'):
                 i = row.get('assetData').get('universe').index(asset)
-                if data_field == 'factorExposure':
-                    exposures = row.get('assetData').get(data_field)[i]
+                if measure == 'factorExposure':
+                    exposures = row.get('assetData').get(measure)[i]
                     date_list[row.get('date')] = {factor_map.get(f, f): v for f, v in exposures.items()}
                 else:
-                    date_list[row.get('date')] = row.get('assetData').get(data_field)[i]
+                    date_list[row.get('date')] = row.get('assetData').get(measure)[i]
         data_map[asset] = date_list
     return data_map
 
 
-def build_factor_data_map(results: List, identifier: str, risk_model_id: str, requested_measure: Measure,
-                          factors: List[str] = []) -> Union[dict, pd.DataFrame]:
-    field_name = _map_measure_to_field_name(requested_measure)
-    if not field_name:
-        raise NotImplementedError(f"{requested_measure.value} is currently not yet supported")
-
-    data_list = []
+def build_factor_data_map(results: List, identifier: str, measure: str, factors: List[str] = []) -> dict:
+    if not results:
+        return {}
+    factor_data = set()
     for row in results:
-        date = row.get('date')
-        factor_data = row.get('factorData')
-        for factor_map in factor_data:
-            data_list.append(
-                {"date": date,
-                 identifier: factor_map.get(identifier),
-                 field_name: factor_map.get(field_name)
-                 }
-            )
-
-    factor_data_df = pd.DataFrame(data_list)
-    factor_data_df = factor_data_df.pivot(index="date", columns=identifier, values=field_name)
-
-    # if factors, only return data for those factors
-    if factors:
-        missing_factors = set(factors) - set(factor_data_df.columns.tolist())
-        if missing_factors:
-            raise ValueError(f'Factors(s) with {identifier}(s) {", ".join(missing_factors)} do not exist in '
-                             f'risk model {risk_model_id}. Make sure the factor {identifier}(s) are correct')
+        factor_data |= set([factor.get('factorId') for factor in row.get('factorData')])
+        if factors:
+            factor_data &= set(factors)
+    data_map = {}
+    for factor in factor_data:
+        date_list = {}
+        factor_name = factor
+        for row in results:
+            for data in row.get('factorData'):
+                if data.get('factorId') == factor:
+                    factor_name = factor if identifier == 'factorId' else data.get(identifier)
+                    date_list[row.get('date')] = data.get(measure)
+        data_map[factor_name] = date_list
+    return data_map
 
-        factor_data_df = factor_data_df[factors]
 
-    return factor_data_df
+def validate_factors_exist(factors_to_validate: List[str], risk_model_factors: List[Dict],
+                           risk_model_id: str, identifier: str) -> List[str]:
+
+    risk_model_factors_id_to_name = {f['identifier']: f['name'] for f in risk_model_factors}
+    all_factor_names = list(risk_model_factors_id_to_name.keys()) if identifier == 'identifier' else \
+        list(risk_model_factors_id_to_name.values())
+    factor_matches = list(set(all_factor_names) & set(factors_to_validate))
+    wrong_factors = list(set(factors_to_validate) - set(factor_matches))
+
+    if wrong_factors:
+        raise MqValueError(f'Factors(s) with {identifier}(s) {", ".join(wrong_factors)} do not exist in '
+                           f'risk model {risk_model_id}. Make sure the factor {identifier}(s) are correct')
+
+    factor_ids = []
+    if identifier == 'name':
+        for f_id, f_name in risk_model_factors_id_to_name.items():
+            if f_name in factors_to_validate:
+                factor_ids.append(f_id)
+    else:
+        factor_ids = list(set(risk_model_factors_id_to_name.keys()) & set(factors_to_validate))
+
+    return factor_ids
 
 
 def build_pfp_data_dataframe(results: List) -> pd.DataFrame:
     date_list = []
     pfp_list = []
     for row in results:
         pfp_map = dict()
@@ -149,60 +102,39 @@
         weights_df = pd.DataFrame(pfp_map)
         pfp_list.append(weights_df)
         date_list.append(row.get('date'))
     results = pd.concat(pfp_list, keys=date_list) if pfp_list else pd.DataFrame({})
     return results
 
 
-def get_optional_data_as_dataframe(results: List, optional_data_key: str) -> pd.DataFrame:
+def get_isc_dataframe(results: dict) -> pd.DataFrame:
     cov_list = []
     date_list = []
     for row in results:
-        matrix_df = pd.DataFrame(row.get(optional_data_key))
+        matrix_df = pd.DataFrame(row.get('issuerSpecificCovariance'))
         cov_list.append(matrix_df)
         date_list.append(row.get('date'))
     results = pd.concat(cov_list, keys=date_list) if cov_list else pd.DataFrame({})
     return results
 
 
-def get_covariance_matrix_dataframe(results: dict, covariance_matrix_key: str = 'covarianceMatrix') -> pd.DataFrame:
+def get_covariance_matrix_dataframe(results: dict) -> pd.DataFrame:
     cov_list = []
     date_list = []
     for row in results:
-        matrix_df = pd.DataFrame(row.get(covariance_matrix_key))
+        matrix_df = pd.DataFrame(row.get('covarianceMatrix'))
         factor_names = [data.get('factorName') for data in row.get('factorData')]
         matrix_df.columns = factor_names
         matrix_df.index = factor_names
         cov_list.append(matrix_df)
         date_list.append(row.get('date'))
     results = pd.concat(cov_list, keys=date_list) if cov_list else pd.DataFrame({})
     return results
 
 
-def build_factor_volatility_dataframe(results: List, group_by_name: bool, factors: List[str]) -> pd.DataFrame:
-    data = []
-    dates = []
-    for row in results:
-        dates.append(row.get('date'))
-        data.append(row.get('factorVolatility'))
-
-    df = pd.DataFrame(data, index=dates)
-    if group_by_name:
-        factor_id_to_name_map = build_factor_id_to_name_map(results)
-        df.rename(columns=factor_id_to_name_map, inplace=True)
-    if factors:
-        missing_factors = set(factors) - set(df.columns.tolist())
-        if missing_factors:
-            raise ValueError(f'Factors(s): {", ".join(missing_factors)} do not exist in the risk model. '
-                             f'Make sure the factors are correct.')
-        else:
-            return df[factors]
-    return df
-
-
 def get_closest_date_index(date: dt.date, dates: List[str], direction: str) -> int:
     for i in range(50):
         for index in range(len(dates)):
             if direction == 'before':
                 next_date = (date - dt.timedelta(days=i)).strftime('%Y-%m-%d')
             else:
                 next_date = (date + dt.timedelta(days=i)).strftime('%Y-%m-%d')
@@ -221,29 +153,24 @@
     asset data size, returns a list of messages from resulting post calls"""
     date = data.get('date')
     _upload_factor_data_if_present(model_id, data, date)
     sleep(2)
     _batch_data_if_present(model_id, data, max_asset_size, date)
 
 
-def _upload_factor_data_if_present(model_id: str, data: dict, date: str, **kwargs):
-    aws_upload = kwargs.get('aws_upload', None)
+def _upload_factor_data_if_present(model_id: str, data: dict, date: str):
     if data.get('factorData'):
         factor_data = {
             'date': date,
             'factorData': data.get('factorData')}
         if data.get('covarianceMatrix'):
             factor_data['covarianceMatrix'] = data.get('covarianceMatrix')
-        if data.get('unadjustedCovarianceMatrix') and aws_upload:
-            factor_data['unadjustedCovarianceMatrix'] = data.get('unadjustedCovarianceMatrix')
-        if data.get('preVRACovarianceMatrix') and aws_upload:
-            factor_data['preVRACovarianceMatrix'] = data.get('preVRACovarianceMatrix')
         logging.info('Uploading factor data')
         _repeat_try_catch_request(GsFactorRiskModelApi.upload_risk_model_data, model_id=model_id,
-                                  model_data=factor_data, partial_upload=True, **kwargs)
+                                  model_data=factor_data, partial_upload=True)
 
 
 def _batch_data_if_present(model_id: str, data, max_asset_size, date):
     if data.get('assetData'):
         asset_data_list, target_size = _batch_input_data({'assetData': data.get('assetData')}, max_asset_size)
         for i in range(len(asset_data_list)):
             _repeat_try_catch_request(GsFactorRiskModelApi.upload_risk_model_data, model_id=model_id,
@@ -268,43 +195,38 @@
             return True
     else:
         if len(data.keys()) == 3 and 'factorData' in data.keys() and 'covarianceMatrix' in data.keys():
             return True
     return False
 
 
-def batch_and_upload_partial_data(model_id: str, data: dict, max_asset_size: int, **kwargs):
+def batch_and_upload_partial_data(model_id: str, data: dict, max_asset_size: int):
     """ Takes in total risk model data for one day and batches requests according to
     asset data size, returns a list of messages from resulting post calls"""
     date = data.get('date')
-    _upload_factor_data_if_present(model_id, data, date, **kwargs)
+    _upload_factor_data_if_present(model_id, data, date)
     sleep(2)
-    if data.get('currencyRatesData'):
-        _repeat_try_catch_request(GsFactorRiskModelApi.upload_risk_model_data, model_id=model_id,
-                                  model_data={"currencyRatesData": data.get('currencyRatesData'), 'date': date},
-                                  partial_upload=True, **kwargs)
-        sleep(2)
     for risk_model_data_type in ["assetData", "issuerSpecificCovariance", "factorPortfolios"]:
         _repeat_try_catch_request(_batch_data_v2, model_id=model_id, data=data.get(risk_model_data_type),
-                                  data_type=risk_model_data_type, max_asset_size=max_asset_size, date=date, **kwargs)
+                                  data_type=risk_model_data_type, max_asset_size=max_asset_size, date=date)
         sleep(2)
 
 
-def _batch_data_v2(model_id: str, data: dict, data_type: str, max_asset_size: int, date: Union[str, dt.date], **kwargs):
+def _batch_data_v2(model_id: str, data: dict, data_type: str, max_asset_size: int, date: Union[str, dt.date]):
     if data:
         if data_type in ["issuerSpecificCovariance", "factorPortfolios"]:
             max_asset_size //= 2
         data_list, _ = _batch_input_data({data_type: data}, max_asset_size)
         for i in range(len(data_list)):
             final_upload = True if i == len(data_list) - 1 else False
             try:
                 res = GsFactorRiskModelApi.upload_risk_model_data(model_id=model_id,
                                                                   model_data={data_type: data_list[i], 'date': date},
                                                                   partial_upload=True,
-                                                                  final_upload=final_upload, **kwargs)
+                                                                  final_upload=final_upload)
                 logging.info(res)
             except (MqRequestError, Exception) as e:
                 raise e
 
 
 def batch_and_upload_coverage_data(date: dt.date, gsid_list: list, model_id: str, batch_size: int):
     update_time = dt.datetime.today().strftime("%Y-%m-%dT%H:%M:%SZ")
@@ -374,17 +296,19 @@
 
 def _batch_asset_input(input_data: dict, i: int, split_idx: int, split_num: int, target_universe_size: int) -> dict:
     end_idx = (i + 1) * split_idx if split_num != i + 1 else target_universe_size + 1
     asset_data_subset = {'universe': input_data.get('universe')[i * split_idx:end_idx],
                          'specificRisk': input_data.get('specificRisk')[i * split_idx:end_idx],
                          'factorExposure': input_data.get('factorExposure')[i * split_idx:end_idx]}
 
-    optional_fields = list(input_data.keys())
-    [optional_fields.remove(required_field) for required_field in ["universe", "specificRisk", "factorExposure"]]
-    for optional_input in optional_fields:
+    optional_asset_inputs = ['totalRisk', 'historicalBeta', 'predictedBeta', 'globalPredictedBeta', 'specificReturn',
+                             'dailyReturn', 'rSquared', 'fairValueGapPercent', 'fairValueGapStandardDeviation',
+                             'estimationUniverseWeight']
+
+    for optional_input in optional_asset_inputs:
         if input_data.get(optional_input):
             asset_data_subset[optional_input] = input_data.get(optional_input)[i * split_idx:end_idx]
     return asset_data_subset
 
 
 def _batch_pfp_input(input_data: dict, i: int, split_idx: int, split_num: int, target_universe_size: int) -> dict:
     end_idx = (i + 1) * split_idx if split_num != i + 1 else target_universe_size + 1
@@ -403,48 +327,39 @@
 def _batch_isc_input(input_data: dict, i: int, split_idx: int, split_num: int, target_universe_size: int) -> dict:
     end_idx = (i + 1) * split_idx if split_num != i + 1 else target_universe_size + 1
     return {'universeId1': input_data.get('universeId1')[i * split_idx:end_idx],
             'universeId2': input_data.get('universeId2')[i * split_idx:end_idx],
             'covariance': input_data.get('covariance')[i * split_idx:end_idx]}
 
 
-def _repeat_try_catch_request(input_function, number_retries: int = 5,
-                              return_result: bool = False,
-                              verbose: bool = True,
-                              **kwargs):
+def _repeat_try_catch_request(input_function, number_retries: int = 5, **kwargs):
     t = 2.0
     errors = []
     for i in range(number_retries):
         try:
             result = input_function(**kwargs)
             if result:
-                if return_result:
-                    return result
                 logging.info(result)
             errors.clear()
             break
         except MqRequestError as e:
             errors.append(e)
             if e.status < 500 and e.status != 429:
                 raise e
             elif i < number_retries - 1:
                 sleep_time = math.pow(2.2, t)
                 t += 1
-                if verbose:
-                    logging.warning(f'Exception caught while making request: {e}, retrying in {int(sleep_time)}')
+                logging.warning(f'Exception caught while making request: {e}, retrying in {int(sleep_time)}')
                 sleep(sleep_time)
             else:
-                if verbose:
-                    logging.warning(f'Maximum number of retries: {number_retries} triggered')
+                logging.warning(f'Maximum number of retries: {number_retries} triggered')
         except Exception as unknown_exception:
             errors.append(unknown_exception)
             if i < number_retries - 1:
                 sleep_time = math.pow(2.2, t)
                 t += 1
-                if verbose:
-                    logging.warning(f'Unknown exception caught: {unknown_exception}, retrying in {int(sleep_time)}')
+                logging.warning(f'Unknown exception caught: {unknown_exception}, retrying in {int(sleep_time)}')
                 sleep(sleep_time)
             else:
-                if verbose:
-                    logging.warning(f'Maximum number of retries: {number_retries} triggered')
+                logging.warning(f'Maximum number of retries: {number_retries} triggered')
     if errors:
         raise errors.pop()
```

### Comparing `gs_quant-1.0.80/gs_quant/priceable.py` & `gs_quant-1.0.9/gs_quant/priceable.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/risk/__init__.py` & `gs_quant-1.0.9/gs_quant/risk/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/risk/core.py` & `gs_quant-1.0.9/gs_quant/risk/core.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,15 +15,15 @@
 """
 import datetime as dt
 import itertools
 from abc import ABCMeta, abstractmethod
 from concurrent.futures import Future
 from copy import copy
 from dataclasses import dataclass, fields
-from typing import Iterable, Optional, Union, Tuple, Dict
+from typing import Iterable, Optional, Tuple, Union, Dict
 
 import pandas as pd
 from dataclasses_json import dataclass_json
 
 import gs_quant
 from gs_quant.base import RiskKey
 from gs_quant.config import DisplayOptions
@@ -106,18 +106,14 @@
 
     def __init__(self, risk_key: RiskKey, error: Union[str, dict], request_id: Optional[str] = None):
         super().__init__(risk_key, error=error, request_id=request_id)
 
     def __repr__(self):
         return self.error
 
-    def __getattr__(self, item):
-        # only called if self.item doesn't exist
-        raise AttributeError(f'ErrorValue object has no attribute {item}.  Error was {self.error}')
-
     @property
     def raw_value(self):
         return None
 
     def _to_records(self, extra_dict, display_options: DisplayOptions = None):
         return [{**extra_dict, 'value': self}]
 
@@ -275,21 +271,19 @@
         df.columns = ['dates', 'value']
         records = df.to_dict('records')
         records = [dict(item, **{**extra_dict}) for item in records]
         return records
 
     def __mul__(self, other):
         new_result = pd.Series.__mul__(self, other)
-        ResultInfo.__init__(new_result, risk_key=self.risk_key, unit=self.unit, error=self.error,
-                            request_id=self.request_id)
+        ResultInfo.__init__(new_result, risk_key=self.risk_key, unit=self.unit, error=self.error, request_id=self.request_id)
         return new_result
 
     def copy_with_resultinfo(self, deep=True):
-        return SeriesWithInfo(self.raw_value.copy(deep=deep), risk_key=self.risk_key, unit=self.unit, error=self.error,
-                              request_id=self.request_id)
+        return SeriesWithInfo(self.raw_value.copy(deep=deep), risk_key=self.risk_key, unit=self.unit, error=self.error, request_id=self.request_id)
 
 
 class DataFrameWithInfo(pd.DataFrame, ResultInfo):
     _internal_names = pd.DataFrame._internal_names + \
                       ['_ResultInfo__' + i for i in dir(ResultInfo) if isinstance(getattr(ResultInfo, i), property)]
     _internal_names_set = set(_internal_names)
 
@@ -369,15 +363,15 @@
 
 @dataclass_json
 @dataclass
 class MQVSValidationTarget:
     env: Optional[str] = None
     operator: Optional[str] = None
     mqGroups: Optional[Tuple[str, ...]] = None
-    users: Optional[Tuple[str, ...]] = None
+    users: Optional[Tuple[str]] = None
     assetClasses: Optional[Tuple[str, ...]] = None
     assets: Optional[Tuple[str, ...]] = None
     legTypes: Optional[Tuple[str, ...]] = None
     legFields: Optional[Dict[str, str]] = None
 
 
 @dataclass_json
@@ -386,21 +380,20 @@
     validatorType: str
     targets: Tuple[MQVSValidationTarget, ...]
     args: Dict[str, str]
     groupId: Optional[str] = None
     groupIndex: Optional[int] = None
     groupMethod: Optional[str] = None
 
-
 class MQVSValidatorDefnsWithInfo(ResultInfo):
-    validators: Tuple[MQVSValidatorDefn, ...]
+    validators: Tuple[MQVSValidatorDefn]
 
     def __init__(self,
                  risk_key: RiskKey,
-                 value: Union[MQVSValidatorDefn, Tuple[MQVSValidatorDefn, ...]],
+                 value: Union[MQVSValidatorDefn, Tuple[MQVSValidatorDefn]],
                  unit: Optional[dict] = None,
                  error: Optional[Union[str, dict]] = None,
                  request_id: Optional[str] = None):
         ResultInfo.__init__(self, risk_key, unit=unit, error=error, request_id=request_id)
         if value and isinstance(value, tuple):
             self.validators = value
         elif value and isinstance(value, MQVSValidatorDefn):
@@ -439,15 +432,14 @@
     >>>
     >>> delta = aggregate_risk(delta_f, threshold=0.1)
     >>> vega = aggregate_risk(vega_f)
 
     delta_f and vega_f are lists of futures, where the result will be a Dataframe
     delta and vega are Dataframes, representing the merged risk of the individual instruments
     """
-
     def get_df(result_obj):
         if isinstance(result_obj, Future):
             result_obj = result_obj.result()
         if isinstance(result_obj, pd.Series) and allow_heterogeneous_types:
             return pd.DataFrame(result_obj.raw_value).T
         return result_obj.raw_value
 
@@ -485,15 +477,15 @@
 
         if result.unit:
             if unit and unit != result.unit:
                 raise ValueError('Cannot aggregate results with different units')
 
             unit = unit or result.unit
 
-        if not allow_mismatch_risk_keys and risk_key and risk_key.ex_historical_diddle != result.risk_key.ex_historical_diddle:
+        if not allow_mismatch_risk_keys and risk_key and risk_key != result.risk_key:
             raise ValueError('Cannot aggregate results with different pricing keys')
 
         risk_key = risk_key or result.risk_key
 
     inst = next(iter(results))
     if isinstance(inst, dict):
         return dict((k, aggregate_results([r[k] for r in results])) for k in inst.keys())
```

### Comparing `gs_quant-1.0.80/gs_quant/risk/measures.py` & `gs_quant-1.0.9/gs_quant/risk/measures.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/risk/result_handlers.py` & `gs_quant-1.0.9/gs_quant/risk/result_handlers.py`

 * *Files 13% similar despite different names*

```diff
@@ -18,17 +18,17 @@
 from typing import Iterable, Optional, Union
 
 from gs_quant.base import InstrumentBase, RiskKey
 from gs_quant.risk.measures import PnlExplain
 
 from .core import DataFrameWithInfo, ErrorValue, UnsupportedValue, FloatWithInfo, SeriesWithInfo, StringWithInfo, \
     sort_values, MQVSValidatorDefnsWithInfo, MQVSValidatorDefn
-from gs_quant.common import RiskMeasure, AssetClass, RiskMeasureType
 
 _logger = logging.getLogger(__name__)
+__scalar_risk_measures = ('EqDelta', 'EqGamma', 'EqVega')
 
 
 def __dataframe_handler(result: Iterable, mappings: tuple, risk_key: RiskKey, request_id: Optional[str] = None) \
         -> DataFrameWithInfo:
     first_row = next(iter(result), None)
     if first_row is None:
         return DataFrameWithInfo(risk_key=risk_key, request_id=request_id)
@@ -183,15 +183,15 @@
             return __dataframe_handler(classes, mappings, risk_key, request_id=request_id)
 
 
 def risk_vector_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
                         request_id: Optional[str] = None) -> DataFrameWithInfo:
     assets = result['asset']
     # Handle equity risk measures which are really scalars
-    if len(assets) == 1 and risk_key.risk_measure.name.startswith('Eq'):
+    if len(assets) == 1 and risk_key.risk_measure.name in __scalar_risk_measures:
         return FloatWithInfo(risk_key, assets[0], request_id=request_id)
 
     for points, value in zip(result['points'], assets):
         points.update({'value': value})
 
     mappings = (
         ('mkt_type', 'type'),
@@ -259,61 +259,14 @@
 
 
 def risk_float_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
                        request_id: Optional[str] = None) -> FloatWithInfo:
     return FloatWithInfo(risk_key, result['values'][0], request_id=request_id)
 
 
-def map_coordinate_to_column(coordinate_struct, tag):
-    updated_struct = {tag + "_" + k: v for k, v in coordinate_struct.items() if
-                      k in ['type', 'asset', 'class_', 'point', 'quoteStyle']}
-    raw_point = updated_struct.get('point', '')
-    point = ';'.join(raw_point) if isinstance(raw_point, list) else raw_point
-    updated_struct['point'] = point
-    return updated_struct
-
-
-def __is_single_row_2nd_order_risk(risk_key: RiskKey):
-    return risk_key is not None and isinstance(risk_key.risk_measure,
-                                               RiskMeasure) and \
-        risk_key.risk_measure.asset_class == AssetClass.Rates and \
-        risk_key.risk_measure.measur_type in (RiskMeasureType.ParallelGamma, RiskMeasureType.ParallelGammaLocalCcy)
-
-
-def mdapi_second_order_table_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
-                                     request_id: Optional[str] = None) -> Union[DataFrameWithInfo, FloatWithInfo]:
-    if len(result['values']) == 1 and __is_single_row_2nd_order_risk(risk_key):
-        return risk_float_handler(result, risk_key, _instrument, request_id)
-
-    coordinate_pairs = []
-
-    if (len(result['innerPoints']) != len(result['outerPoints'])):
-        raise Exception("Found inner and outer points of different size")
-
-    for inner, outer, value in zip(result['innerPoints'], result['outerPoints'], result['values']):
-        row_dict = dict(map_coordinate_to_column(inner, 'inner'), **map_coordinate_to_column(outer, 'outer'))
-        row_dict.update({'value': value})
-        coordinate_pairs.append(row_dict)
-
-    mappings = (('inner_mkt_type', 'inner_type'),
-                ('inner_mkt_asset', 'inner_asset'),
-                ('inner_mkt_class', 'inner_class_'),
-                ('inner_mkt_point', 'inner_point'),
-                ('inner_mkt_quoting_style', 'inner_quotingStyle'),
-                ('outer_mkt_type', 'outer_type'),
-                ('outer_mkt_asset', 'outer_asset'),
-                ('outer_mkt_class', 'outer_class_'),
-                ('outer_mkt_point', 'outer_point'),
-                ('outer_mkt_quoting_style', 'outer_quotingStyle'),
-                ('value', 'value'),
-                ('permissions', 'permissions'))
-
-    return __dataframe_handler(coordinate_pairs, mappings, risk_key, request_id=request_id)
-
-
 def mdapi_table_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
                         request_id: Optional[str] = None) -> DataFrameWithInfo:
     coordinates = []
     for r in result['rows']:
         raw_point = r['coordinate'].get('point', '')
         point = ';'.join(raw_point) if isinstance(raw_point, list) else raw_point
         r['coordinate'].update({'point': point})
@@ -366,57 +319,29 @@
         raw_point = r['coordinate'].get('point', '')
         point = ';'.join(raw_point) if isinstance(raw_point, list) else raw_point
         r['coordinate'].update({'point': point})
         r['coordinate'].update({'value': r['value']})
         r['coordinate'].update({'layer1': r['layer1']})
         r['coordinate'].update({'layer2': r['layer2']})
         r['coordinate'].update({'layer3': r['layer3']})
-        r['coordinate'].update({'layer4': r['layer4']})
         r['coordinate'].update({'level': r['level']})
         r['coordinate'].update({'sensitivity': r['sensitivity']})
-        r['coordinate'].update({'irDelta': r['irDelta']})
         coordinates.append(r['coordinate'])
 
     mappings = (('mkt_type', 'type'),
                 ('mkt_asset', 'asset'),
                 ('mkt_class', 'assetClass'),
                 ('mkt_point', 'point'),
                 ('mkt_quoting_style', 'quotingStyle'),
                 ('value', 'value'),
                 ('layer1', 'layer1'),
                 ('layer2', 'layer2'),
                 ('layer3', 'layer3'),
-                ('layer4', 'layer4'),
                 ('level', 'level'),
-                ('sensitivity', 'sensitivity'),
-                ('irDelta', 'irDelta'))
-
-    return __dataframe_handler(coordinates, mappings, risk_key, request_id=request_id)
-
-
-def mmapi_pca_hedge_table_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
-                                  request_id: Optional[str] = None) -> DataFrameWithInfo:
-    coordinates = []
-    for r in result['rows']:
-        raw_point = r['coordinate'].get('point', '')
-        point = ';'.join(raw_point) if isinstance(raw_point, list) else raw_point
-        r['coordinate'].update({'point': point})
-        r['coordinate'].update({'size': r['size']})
-        r['coordinate'].update({'fixedRate': r['fixedRate']})
-        r['coordinate'].update({'irDelta': r['irDelta']})
-        coordinates.append(r['coordinate'])
-
-    mappings = (('mkt_type', 'type'),
-                ('mkt_asset', 'asset'),
-                ('mkt_class', 'assetClass'),
-                ('mkt_point', 'point'),
-                ('mkt_quoting_style', 'quotingStyle'),
-                ('size', 'size'),
-                ('fixedRate', 'fixedRate'),
-                ('irDelta', 'irDelta'))
+                ('sensitivity', 'sensitivity'))
 
     return __dataframe_handler(coordinates, mappings, risk_key, request_id=request_id)
 
 
 def mqvs_validators_handler(result: dict, risk_key: RiskKey, _instrument: InstrumentBase,
                             request_id: Optional[str] = None) -> MQVSValidatorDefnsWithInfo:
     validators = [MQVSValidatorDefn.from_dict(r) for r in result['validators']]
@@ -437,22 +362,21 @@
     'Error': error_handler,
     'IRPCashflowTable': cashflows_handler,
     'LegDefinition': leg_definition_handler,
     'Message': message_handler,
     'MDAPITable': mdapi_table_handler,
     'MMAPITable': mmapi_table_handler,
     'MMAPIPCATable': mmapi_pca_table_handler,
-    'MMAPIPCAHedgeTable': mmapi_pca_hedge_table_handler,
     'MQVSValidators': mqvs_validators_handler,
     'NumberAndUnit': number_and_unit_handler,
     'RequireAssets': required_assets_handler,
     'Risk': risk_handler,
     'RiskByClass': risk_by_class_handler,
     'RiskVector': risk_vector_handler,
     'FixingTable': fixing_table_handler,
     'Table': simple_valtable_handler,
     'CanonicalProjectionTable': canonical_projection_table_handler,
-    'RiskSecondOrderVector': mdapi_second_order_table_handler,
+    'RiskSecondOrderVector': risk_float_handler,
     'RiskTheta': risk_float_handler,
     'Market': market_handler,
     'Unsupported': unsupported_handler
 }
```

### Comparing `gs_quant-1.0.80/gs_quant/risk/results.py` & `gs_quant-1.0.9/gs_quant/risk/results.py`

 * *Files 0% similar despite different names*

```diff
@@ -123,18 +123,15 @@
 def _value_for_date(result: Union[DataFrameWithInfo, SeriesWithInfo], date: Union[Iterable, dt.date]) -> \
         Union[DataFrameWithInfo, ErrorValue, FloatWithInfo, SeriesWithInfo]:
     from gs_quant.markets import CloseMarket
 
     if result.empty:
         return result
 
-    # if the result is a dataframe try to preserve the type
-    # if a dataframe has only 1 row selected it otherwise gets turned into a series
-    raw_value = result.loc[[date]] if isinstance(result, DataFrameWithInfo) and isinstance(date, dt.date) \
-        else result.loc[date]
+    raw_value = result.loc[date]
     key = result.risk_key
 
     risk_key = RiskKey(
         key.provider,
         date if isinstance(date, dt.date) else tuple(date),
         CloseMarket(date=date, location=key.market.location if isinstance(key.market, CloseMarket) else None),
         key.params,
@@ -373,15 +370,15 @@
     @property
     def _multi_scen_key(self) -> Iterable[Scenario]:
         for value in self.values():
             if isinstance(value, MultipleScenarioResult):
                 return tuple(value.scenarios)
         return tuple()
 
-    def to_frame(self, values='default', index='default', columns='default', aggfunc="sum",
+    def to_frame(self, values='default', index='default', columns='default', aggfunc=sum,
                  display_options: DisplayOptions = None):
         df = pd.DataFrame.from_records(self._to_records({}, display_options=display_options))
         if values is None and index is None and columns is None:
             return df
         elif values == 'default' and index == 'default' and columns == 'default':
             if 'mkt_type' in df.columns:
                 return df.set_index('risk_measure')
```

### Comparing `gs_quant-1.0.80/gs_quant/risk/scenario_utils.py` & `gs_quant-1.0.9/gs_quant/risk/scenario_utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/risk/scenarios.py` & `gs_quant-1.0.9/gs_quant/risk/scenarios.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/risk/transform.py` & `gs_quant-1.0.9/gs_quant/risk/transform.py`

 * *Files 1% similar despite different names*

```diff
@@ -51,23 +51,23 @@
                 flattened_results.append(result)
             else:
                 if isinstance(result, FloatWithInfo):
                     val = result.raw_value
                 elif isinstance(result, SeriesWithInfo):
                     val = getattr(result, self.risk_col).sum()
                 elif isinstance(result, DataFrameWithInfo):
-                    if result.empty:
-                        val = 0
-                    elif self.filter_coord is not None:
+                    if self.filter_coord is not None:
                         df = result.filter_by_coord(self.filter_coord)
                         val = getattr(df, self.risk_col).sum()
+                    elif result.empty:
+                        val = 0
                     else:
                         val = getattr(result, self.risk_col).sum()
                 else:
-                    raise ValueError(f'Aggregation of {type(result).__name__} not currently supported.')
+                    raise ValueError(f'Aggregation of {type(result).__name__} not currently supported')
                 risk_key = result.risk_key
                 unit = result.unit
                 error = result.error
                 flattened_results.append(FloatWithInfo(value=val, risk_key=risk_key, unit=unit, error=error))
 
         return flattened_results
```

### Comparing `gs_quant-1.0.80/gs_quant/session.py` & `gs_quant-1.0.9/gs_quant/session.py`

 * *Files 10% similar despite different names*

```diff
@@ -9,44 +9,39 @@
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on ans
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
-import asyncio
 import inspect
 import itertools
 import json
 import logging
 import os
 import ssl
-import sys
 from abc import abstractmethod
 from configparser import ConfigParser
 from enum import Enum, auto, unique
 from typing import Optional, Union, Iterable, Tuple
 
 import backoff
 import certifi
 import msgpack
 import pandas as pd
 import requests
 import requests.adapters
 import requests.cookies
+import asyncio
 import urllib3
-from opentracing import Format
-from opentracing.tags import HTTP_URL, HTTP_METHOD, HTTP_STATUS_CODE
-
 from gs_quant import version as APP_VERSION
 from gs_quant.base import Base
-from gs_quant.context_base import ContextBase, nullcontext
+from gs_quant.context_base import ContextBase
 from gs_quant.errors import MqError, MqRequestError, MqAuthenticationError, MqUninitialisedError
 from gs_quant.json_encoder import JSONEncoder, encode_default
-from gs_quant.tracing import Tracer
 
 logger = logging.getLogger(__name__)
 
 API_VERSION = 'v1'
 DEFAULT_APPLICATION = 'gs-quant'
 DEFAULT_TIMEOUT = 65
 
@@ -57,40 +52,31 @@
     QA = auto()
     PROD = auto()
 
 
 class CustomHttpAdapter(requests.adapters.HTTPAdapter):
     # "Transport adapter" that allows us to use custom ssl_context.
 
-    __ssl_ctx = None
-
-    @classmethod
-    def ssl_context(cls) -> ssl.SSLContext:
-        if cls.__ssl_ctx is None:
-            cls.__ssl_ctx = ssl.SSLContext(ssl.PROTOCOL_TLS_CLIENT)
-            cls.__ssl_ctx.check_hostname = False
-            cls.__ssl_ctx.verify_mode = 0
-            cls.__ssl_ctx.options |= 0x4  # OP_LEGACY_SERVER_CONNECT
-            cls.__ssl_ctx.load_default_certs()
-            cls.__ssl_ctx.load_verify_locations(certifi.where())
-        return cls.__ssl_ctx
+    def __init__(self, ssl_context=None, **kwargs):
+        self.ssl_context = ssl_context
+        super().__init__(**kwargs)
 
     def init_poolmanager(self, connections, maxsize=100, block=False):
         self.poolmanager = urllib3.poolmanager.PoolManager(num_pools=connections, maxsize=maxsize, block=block,
-                                                           ssl_context=self.ssl_context())
+                                                           ssl_context=self.ssl_context)
 
 
 class Domain:
     MDS_US_EAST = "MdsDomainEast"
-    MDS_WEB = "MdsWebDomain"
     APP = "AppDomain"
 
 
 class GsSession(ContextBase):
     __config = None
+    __ssl_ctx = None
 
     class Scopes(Enum):
         READ_CONTENT = 'read_content'
         READ_FINANCIAL_DATA = 'read_financial_data'
         READ_PRODUCT_DATA = 'read_product_data'
         READ_USER_PROFILE = 'read_user_profile'
         MODIFY_CONTENT = 'modify_content'
@@ -105,33 +91,26 @@
             return (
                 cls.READ_CONTENT.value,
                 cls.READ_PRODUCT_DATA.value,
                 cls.READ_FINANCIAL_DATA.value,
                 cls.READ_USER_PROFILE.value
             )
 
-    def __init__(self, domain: str, environment: str = None, api_version: str = API_VERSION,
-                 application: str = DEFAULT_APPLICATION, verify=True,
+    def __init__(self, domain: str, api_version: str = API_VERSION, application: str = DEFAULT_APPLICATION, verify=True,
                  http_adapter: requests.adapters.HTTPAdapter = None, application_version=APP_VERSION, proxies=None):
         super().__init__()
         self._session = None
         self._session_async = None
         self.domain = domain
-        if environment in tuple(x.name for x in Environment):
-            self.environment = Environment[environment]
-        elif isinstance(domain, Environment):
-            self.environment = domain
-        else:
-            self.environment = Environment.DEV
         self.api_version = api_version
         self.application = application
         self.verify = verify
         if http_adapter is None:
             if ssl.OPENSSL_VERSION_INFO >= (3, 0, 0):
-                self.http_adapter = CustomHttpAdapter()
+                self.http_adapter = CustomHttpAdapter(self.__ssl_context())
             else:
                 self.http_adapter = requests.adapters.HTTPAdapter(pool_maxsize=100)
         else:
             self.http_adapter = http_adapter
         self.application_version = application_version
         self.proxies = proxies
 
@@ -142,15 +121,15 @@
                           lambda x: x.status_code in (500, 502, 503, 504),
                           max_tries=5)
     @abstractmethod
     def _authenticate(self):
         raise NotImplementedError("Must implement _authenticate")
 
     def _authenticate_async(self):
-        if self._has_async_session():
+        if self._session_async:
             self._session_async.headers.update([(k, v) for k, v in self._session.headers.items()])
             for cookie in self._session.cookies:
                 self._session_async.cookies.set(cookie.name, cookie.value, domain=cookie.domain)
 
     def _authenticate_all_sessions(self):
         self._authenticate()
         self._authenticate_async()
@@ -161,28 +140,25 @@
             self.init()
 
     def _on_exit(self, exc_type, exc_val, exc_tb):
         if self.__close_on_exit:
             self._session = None
             self._session_async = None
 
-    def _has_async_session(self) -> bool:
-        return self._session_async and not self._session_async.is_closed
-
     def _init_async(self):
         import httpx
-        if not self._has_async_session():
+        if not self._session_async:
             self._session_async = httpx.AsyncClient(follow_redirects=True, verify=self.verify, proxies=self.proxies)
             self._session_async.headers.update({'X-Application': self.application})
             self._session_async.headers.update({'X-Version': self.application_version})
             self._authenticate_async()
 
     async def _on_aenter(self):
         self.__close_on_exit = self._session is None
-        if not self._has_async_session():
+        if not self._session_async:
             self.init()
             self._init_async()
 
     async def _on_aexit(self, exc_type, exc_val, exc_tb):
         if self.__close_on_exit:
             self._session = None
             self._session_async = None
@@ -194,16 +170,14 @@
                 self._session.mount('https://', self.http_adapter)
             if self.proxies is not None:
                 self._session.proxies = self.proxies
             self._session.verify = self.verify
             self._session.headers.update({'X-Application': self.application})
             self._session.headers.update({'X-Version': self.application_version})
             self._authenticate()
-            if self.domain == Domain.APP:
-                self.post_to_activity_service()
 
     def close(self):
         self._session: requests.Session
         if self._session:
             # don't close a shared adapter
             if self.http_adapter is None:
                 self._session.close()
@@ -219,102 +193,89 @@
             await self._session_async.aclose()
             self._session_async = None
 
     def __del__(self):
         self.close()
 
     @staticmethod
+    def __ssl_context() -> ssl.SSLContext:
+        if GsSession.__ssl_ctx is None:
+            GsSession.__ssl_ctx = ssl.SSLContext(ssl.PROTOCOL_TLS_CLIENT)
+            GsSession.__ssl_ctx.check_hostname = False
+            GsSession.__ssl_ctx.verify_mode = 0
+            GsSession.__ssl_ctx.options |= 0x4  # OP_LEGACY_SERVER_CONNECT
+            GsSession.__ssl_ctx.load_default_certs()
+            GsSession.__ssl_ctx.load_verify_locations(certifi.where())
+
+        return GsSession.__ssl_ctx
+
+    @staticmethod
     def __unpack(results: Union[dict, list], cls: type) -> Union[Base, tuple, dict]:
         if issubclass(cls, Base):
             if isinstance(results, list):
                 return tuple(None if r is None else cls.from_dict(r) for r in results)
             else:
                 return None if results is None else cls.from_dict(results)
         else:
             if isinstance(results, list):
                 return tuple(cls(**r) for r in results)
             else:
                 return cls(**results)
 
-    def _build_url(self, domain: Optional[str], path: str, include_version: Optional[bool]):
-        if not domain:
-            domain = self.domain
-        url = '{}{}{}'.format(domain, '/' + self.api_version if include_version else '', path)
-        return url
-
     def _build_request_params(
             self,
             method: str,
             path: str,
-            url: str,
             payload: Optional[Union[dict, str, bytes, Base, pd.DataFrame]],
             request_headers: Optional[dict],
+            include_version: Optional[bool],
             timeout: Optional[int],
             use_body: bool,
-            data_key: str,
-            tracing_scope: Optional[dict]
+            data_key: str
     ) -> Tuple[dict, str]:
         is_dataframe = isinstance(payload, pd.DataFrame)
         if not is_dataframe:
             payload = payload or {}
+        url = '{}{}{}'.format(self.domain, '/' + self.api_version if include_version else '', path)
         kwargs = {
             'timeout': timeout
         }
-
-        if tracing_scope:
-            tracing_scope.span.set_tag('path', path)
-            tracing_scope.span.set_tag('timeout', timeout)
-            tracing_scope.span.set_tag(HTTP_URL, url)
-            tracing_scope.span.set_tag(HTTP_METHOD, method)
-            tracing_scope.span.set_tag('span.kind', 'client')
-
         if method in ['GET', 'DELETE'] and not use_body:
             kwargs['params'] = payload
-            if tracing_scope:
-                headers = self._session.headers.copy()
-                Tracer.inject(Format.HTTP_HEADERS, headers)
-                kwargs['headers'] = headers
         elif method in ['POST', 'PUT'] or (method in ['GET', 'DELETE'] and use_body):
             headers = self._session.headers.copy()
 
             if request_headers:
                 headers.update(request_headers)
 
-            if tracing_scope:
-                Tracer.inject(Format.HTTP_HEADERS, headers)
-
             if 'Content-Type' not in headers:
                 headers.update({'Content-Type': 'application/json; charset=utf-8'})
 
             use_msgpack = headers.get('Content-Type') == 'application/x-msgpack'
-            if use_msgpack:
-                headers['Accept'] = headers.get('Content-Type')
             kwargs['headers'] = headers
 
             if is_dataframe or payload:
-                kwargs[data_key] = (payload if isinstance(payload, (str, bytes)) else
-                                    msgpack.dumps(payload, default=encode_default) if use_msgpack else
-                                    json.dumps(payload, cls=JSONEncoder))
+                kwargs[data_key] = payload if isinstance(payload, (str, bytes)) else \
+                    msgpack.dumps(payload, default=encode_default) if use_msgpack else \
+                    json.dumps(payload, cls=JSONEncoder)
         else:
             raise MqError('not implemented')
-        return kwargs
+        return kwargs, url
 
     def _parse_response(self, request_id, response, method: str, url: str,
                         cls: Optional[type], return_request_id: Optional[bool]):
+        ret = {}
         if not 199 < response.status_code < 300:
-            reason = response.reason if hasattr(response, 'reason') else response.reason_phrase
-            raise MqRequestError(response.status_code, f'{reason}: {response.text}',
+            raise MqRequestError(response.status_code, f'{response.reason}: {response.text}',
                                  context=f'{request_id}: {method} {url}')
         elif 'Content-Type' in response.headers:
             if 'application/x-msgpack' in response.headers['Content-Type']:
                 ret = msgpack.unpackb(response.content, raw=False)
             elif 'application/json' in response.headers['Content-Type']:
                 ret = json.loads(response.text)
-            else:
-                ret = {'raw': response}
             if cls and ret:
                 if isinstance(ret, dict) and 'results' in ret:
                     ret['results'] = self.__unpack(ret['results'], cls)
                 else:
                     ret = self.__unpack(ret, cls)
             return (ret, request_id) if return_request_id else ret
         else:
@@ -330,112 +291,89 @@
             payload: Optional[Union[dict, str, bytes, Base, pd.DataFrame]] = None,
             request_headers: Optional[dict] = None,
             cls: Optional[type] = None,
             try_auth: Optional[bool] = True,
             include_version: Optional[bool] = True,
             timeout: Optional[int] = DEFAULT_TIMEOUT,
             return_request_id: Optional[bool] = False,
-            use_body: bool = False,
-            domain: Optional[str] = None
+            use_body: bool = False
     ) -> Union[Base, tuple, dict]:
-        span = Tracer.get_instance().active_span
-        url = self._build_url(domain, path, include_version)
-        tracer = Tracer(url) if span else nullcontext()
-        with tracer as scope:
-            kwargs = self._build_request_params(method, path, url, payload, request_headers, timeout, use_body, "data",
-                                                scope)
-            response = self._session.request(method, url, **kwargs)
-            request_id = response.headers.get('x-dash-requestid')
-            logger.debug('Handling response for [Request ID]: %s [Method]: %s [URL]: %s', request_id, method, url)
-            if scope:
-                scope.span.set_tag(HTTP_STATUS_CODE, response.status_code)
-                scope.span.set_tag('dash.request.id', request_id)
+        kwargs, url = self._build_request_params(method, path, payload, request_headers, include_version, timeout,
+                                                 use_body, "data")
+        response = self._session.request(method, url, **kwargs)
+        request_id = response.headers.get('x-dash-requestid')
+        logger.debug('Handling response for [Request ID]: %s [Method]: %s [URL]: %s', request_id, method, url)
         if response.status_code == 401:
             # Expired token or other authorization issue
             if not try_auth:
                 raise MqRequestError(response.status_code, response.text, context=f'{request_id}: {method} {url}')
             self._authenticate()
-            return self.__request(method, path, payload=payload, request_headers=request_headers, cls=cls,
-                                  try_auth=False, include_version=include_version, timeout=timeout,
-                                  return_request_id=return_request_id, use_body=use_body, domain=domain)
+            return self.__request(method, path, payload=payload, cls=cls, include_version=include_version,
+                                  return_request_id=return_request_id, use_body=use_body, try_auth=False)
         return self._parse_response(request_id, response, method, url, cls, return_request_id)
 
     async def __request_async(
             self,
             method: str,
             path: str,
             payload: Optional[Union[dict, str, bytes, Base, pd.DataFrame]] = None,
             request_headers: Optional[dict] = None,
             cls: Optional[type] = None,
             try_auth: Optional[bool] = True,
             include_version: Optional[bool] = True,
             timeout: Optional[int] = DEFAULT_TIMEOUT,
             return_request_id: Optional[bool] = False,
-            use_body: bool = False,
-            domain: Optional[str] = None
+            use_body: bool = False
     ) -> Union[Base, tuple, dict]:
         self._init_async()
-        span = Tracer.get_instance().active_span
-        url = self._build_url(domain, path, include_version)
-        tracer = Tracer(f'http:/{path}') if span else nullcontext()
-        with tracer as scope:
-            kwargs = self._build_request_params(method, path, url, payload, request_headers, timeout, use_body,
-                                                "content", scope)
-            response = await self._session_async.request(method, url, **kwargs)
-            request_id = response.headers.get('x-dash-requestid')
-            if scope:
-                scope.span.set_tag(HTTP_STATUS_CODE, response.status_code)
-                scope.span.set_tag('dash.request.id', request_id)
-
+        kwargs, url = self._build_request_params(method, path, payload, request_headers, include_version, timeout,
+                                                 use_body, "content")
+        response = await self._session_async.request(method, url, **kwargs)
+        request_id = response.headers.get('x-dash-requestid')
         logger.debug('Handling response for [Request ID]: %s [Method]: %s [URL]: %s', request_id, method, url)
         if response.status_code == 401:
             # Expired token or other authorization issue
             if not try_auth:
                 raise MqRequestError(response.status_code, response.text, context=f'{request_id}: {method} {url}')
             self._authenticate_all_sessions()
-            res = await self.__request_async(method, path, payload=payload, request_headers=request_headers,
-                                             cls=cls, try_auth=False, include_version=include_version, timeout=timeout,
-                                             return_request_id=return_request_id, use_body=use_body, domain=domain)
+            res = await self.__request_async(method, path, payload=payload, cls=cls, include_version=include_version,
+                                             return_request_id=return_request_id, use_body=use_body, try_auth=False)
             return res
         return self._parse_response(request_id, response, method, url, cls, return_request_id)
 
     def _get(self, path: str, payload: Optional[Union[dict, Base]] = None, request_headers: Optional[dict] = None,
              cls: Optional[type] = None, include_version: Optional[bool] = True,
-             timeout: Optional[int] = DEFAULT_TIMEOUT, return_request_id: Optional[bool] = False,
-             domain: Optional[str] = None) -> Union[Base, tuple, dict]:
+             timeout: Optional[int] = DEFAULT_TIMEOUT, return_request_id: Optional[bool] = False) \
+            -> Union[Base, tuple, dict]:
         return self.__request('GET', path, payload=payload, request_headers=request_headers, cls=cls,
-                              include_version=include_version, timeout=timeout, return_request_id=return_request_id,
-                              domain=domain)
+                              include_version=include_version, timeout=timeout, return_request_id=return_request_id)
 
     async def _get_async(self, path: str, payload: Optional[Union[dict, Base]] = None,
                          request_headers: Optional[dict] = None, cls: Optional[type] = None,
                          include_version: Optional[bool] = True, timeout: Optional[int] = DEFAULT_TIMEOUT,
-                         return_request_id: Optional[bool] = False, domain: Optional[str] = None) \
-            -> Union[Base, tuple, dict]:
+                         return_request_id: Optional[bool] = False) -> Union[Base, tuple, dict]:
         ret = await self.__request_async('GET', path, payload=payload, request_headers=request_headers, cls=cls,
                                          include_version=include_version, timeout=timeout,
-                                         return_request_id=return_request_id, domain=domain)
+                                         return_request_id=return_request_id)
         return ret
 
     def _post(self, path: str, payload: Optional[Union[dict, bytes, Base, pd.DataFrame]] = None,
               request_headers: Optional[dict] = None, cls: Optional[type] = None,
               include_version: Optional[bool] = True, timeout: Optional[int] = DEFAULT_TIMEOUT,
-              return_request_id: Optional[bool] = False, domain: Optional[str] = None) -> Union[Base, tuple, dict]:
+              return_request_id: Optional[bool] = False) -> Union[Base, tuple, dict]:
         return self.__request('POST', path, payload=payload, request_headers=request_headers, cls=cls,
-                              include_version=include_version, timeout=timeout, return_request_id=return_request_id,
-                              domain=domain)
+                              include_version=include_version, timeout=timeout, return_request_id=return_request_id)
 
     async def _post_async(self, path: str, payload: Optional[Union[dict, bytes, Base, pd.DataFrame]] = None,
                           request_headers: Optional[dict] = None, cls: Optional[type] = None,
                           include_version: Optional[bool] = True, timeout: Optional[int] = DEFAULT_TIMEOUT,
-                          return_request_id: Optional[bool] = False,
-                          domain: Optional[str] = None) -> Union[Base, tuple, dict]:
+                          return_request_id: Optional[bool] = False) -> Union[Base, tuple, dict]:
         ret = await self.__request_async('POST', path, payload=payload, request_headers=request_headers, cls=cls,
                                          include_version=include_version, timeout=timeout,
-                                         return_request_id=return_request_id, domain=domain)
+                                         return_request_id=return_request_id)
         return ret
 
     def _delete(self, path: str, payload: Optional[Union[dict, Base]] = None,
                 request_headers: Optional[dict] = None, cls: Optional[type] = None,
                 include_version: Optional[bool] = True, timeout: Optional[int] = DEFAULT_TIMEOUT,
                 return_request_id: Optional[bool] = False, use_body: Optional[bool] = False) \
             -> Union[Base, tuple, dict]:
@@ -465,23 +403,23 @@
                          include_version: Optional[bool] = True, timeout: Optional[int] = DEFAULT_TIMEOUT,
                          return_request_id: Optional[bool] = False) -> Union[Base, tuple, dict]:
         ret = await self.__request_async('PUT', path, payload=payload, request_headers=request_headers, cls=cls,
                                          include_version=include_version, timeout=timeout,
                                          return_request_id=return_request_id)
         return ret
 
-    def _connect_websocket(self, path: str, headers: Optional[dict] = None, include_version=True):
+    def _connect_websocket(self, path: str, headers: Optional[dict] = None):
         import websockets
-        url = 'ws{}{}{}'.format(self.domain[4:], '/' + self.api_version if include_version else '', path)
+        url = 'ws{}{}{}'.format(self.domain[4:], '/' + self.api_version, path)
         extra_headers = self._headers() + list((headers or {}).items())
         return websockets.connect(url,
                                   extra_headers=extra_headers,
-                                  max_size=2 ** 32,
-                                  read_limit=2 ** 32,
-                                  ssl=CustomHttpAdapter.ssl_context() if url.startswith('wss') else None)
+                                  max_size=2 ** 64,
+                                  read_limit=2 ** 64,
+                                  ssl=self.__ssl_context() if url.startswith('wss') else None)
 
     def _headers(self):
         return [('Cookie', 'GSSSO=' + self._session.cookies['GSSSO'])]
 
     @classmethod
     def _config_for_environment(cls, environment):
         if cls.__config is None:
@@ -518,28 +456,14 @@
             http_adapter=http_adapter,
             domain=domain
         )
 
         session.init()
         cls.current = session
 
-    def post_to_activity_service(self):
-        params = {'featureApplication': self.application,
-                  'gsQuantVersion': self.application_version,
-                  'pythonVersion': f'{sys.version_info.major}.{sys.version_info.minor}'}
-        try:
-            self._session.post(f'{self.domain}/{self.api_version}/activities',
-                               verify=self.verify,
-                               headers={'Content-Type': 'application/json; charset=utf-8'},
-                               data=json.dumps({'action': 'Initiated', 'kpis': [{'id': 'gsqInitiated', 'value': 1}],
-                                                'resource': 'GSQuant',
-                                                'parameters': params}))
-        except Exception:
-            pass
-
     @classmethod
     def get(
             cls,
             environment_or_domain: Union[Environment, str] = Environment.PROD,
             client_id: Optional[str] = None,
             client_secret: Optional[str] = None,
             scopes: Optional[Union[Iterable[Union[Scopes, str]], str]] = (),
@@ -561,39 +485,30 @@
                 scopes = (scopes,)
 
             scopes = (scope if isinstance(scope, str) else scope.value for scope in scopes)
             scopes = tuple(set(itertools.chain(scopes, cls.Scopes.get_default())))
 
             return OAuth2Session(environment_or_domain, client_id, client_secret, scopes, api_version=api_version,
                                  application=application, http_adapter=http_adapter, domain=domain)
-        elif token and domain != Domain.MDS_WEB:
+        elif token:
             if is_gssso:
                 try:
                     return PassThroughGSSSOSession(environment_or_domain, token, api_version=api_version,
                                                    application=application, http_adapter=http_adapter)
                 except NameError:
                     raise MqUninitialisedError('This option requires gs_quant_auth to be installed')
             else:
                 return PassThroughSession(environment_or_domain, token, api_version=api_version,
                                           application=application, http_adapter=http_adapter)
         else:
-            if domain == Domain.MDS_WEB:
-                try:
-                    return MQLoginSession(environment_or_domain, api_version=api_version, http_adapter=http_adapter,
-                                          application_version=application_version, application=application,
-                                          mq_login_token=token)
-                except NameError:
-                    raise MqUninitialisedError('Unable to obtain MarqueeLogin token. '
-                                               'Please use client_id and client_secret to make the query')
-            else:
-                try:
-                    return KerberosSession(environment_or_domain, api_version=api_version, http_adapter=http_adapter,
-                                           application_version=application_version, application=application)
-                except NameError:
-                    raise MqUninitialisedError('Must specify client_id and client_secret')
+            try:
+                return KerberosSession(environment_or_domain, api_version=api_version, http_adapter=http_adapter,
+                                       application_version=application_version, application=application)
+            except NameError:
+                raise MqUninitialisedError('Must specify client_id and client_secret')
 
     def is_internal(self) -> bool:
         return False
 
 
 class OAuth2Session(GsSession):
 
@@ -603,15 +518,15 @@
         if environment not in (Environment.PROD.name, Environment.QA.name, Environment.DEV.name):
             env_config = self._config_for_environment(Environment.DEV.name)
             url = environment
         else:
             env_config = self._config_for_environment(environment)
             url = env_config[domain]
 
-        super().__init__(url, environment, api_version=api_version, application=application, http_adapter=http_adapter)
+        super().__init__(url, api_version=api_version, application=application, http_adapter=http_adapter)
         self.auth_url = env_config['AuthURL']
         self.client_id = client_id
         self.client_secret = client_secret
         self.scopes = scopes
 
         if environment == Environment.DEV.name or (url != env_config['AppDomain'] and not domain == Domain.MDS_US_EAST):
             import urllib3
@@ -639,15 +554,15 @@
 class PassThroughSession(GsSession):
 
     def __init__(self, environment: str, token, api_version=API_VERSION,
                  application=DEFAULT_APPLICATION, http_adapter=None):
         domain = self._config_for_environment(environment)['AppDomain']
         verify = True
 
-        super().__init__(domain, environment, api_version=api_version, application=application, verify=verify,
+        super().__init__(domain, api_version=api_version, application=application, verify=verify,
                          http_adapter=http_adapter)
 
         self.token = token
 
     def _authenticate(self):
         self._session.headers.update({'Authorization': 'Bearer {}'.format(self.token)})
 
@@ -660,24 +575,24 @@
 
     class KerberosSession(KerberosSessionMixin, GsSession):
 
         def __init__(self, environment_or_domain: str, api_version: str = API_VERSION,
                      application: str = DEFAULT_APPLICATION, http_adapter: requests.adapters.HTTPAdapter = None,
                      application_version: str = APP_VERSION):
             domain, verify = self.domain_and_verify(environment_or_domain)
-            GsSession.__init__(self, domain, environment_or_domain, api_version=api_version, application=application,
-                               verify=verify, http_adapter=http_adapter, application_version=application_version)
+            GsSession.__init__(self, domain, api_version=api_version, application=application, verify=verify,
+                               http_adapter=http_adapter, application_version=application_version)
 
     class PassThroughGSSSOSession(KerberosSessionMixin, GsSession):
 
         def __init__(self, environment: str, token, api_version=API_VERSION,
                      application=DEFAULT_APPLICATION, http_adapter=None, csrf_token=None):
             domain, verify = self.domain_and_verify(environment)
-            GsSession.__init__(self, domain, environment, api_version=api_version, application=application,
-                               verify=verify, http_adapter=http_adapter)
+            GsSession.__init__(self, domain, api_version=api_version, application=application, verify=verify,
+                               http_adapter=http_adapter)
 
             self.token = token
             self.csrf_token = csrf_token
 
         def _authenticate(self):
             if not (self.token and self.csrf_token):
                 self._handle_cookies(self.token)
@@ -689,26 +604,7 @@
                 cookie = requests.cookies.create_cookie(domain='.gs.com', name='MARQUEE-CSRF-TOKEN',
                                                         value=self.csrf_token)
                 self._session.cookies.set_cookie(cookie)
                 self._session.headers.update({'X-MARQUEE-CSRF-TOKEN': self.csrf_token})
 
 except ModuleNotFoundError:
     pass
-
-try:
-    from gs_quant_auth.kerberos.session_kerberos import MQLoginMixin
-
-    class MQLoginSession(MQLoginMixin, GsSession):
-
-        def __init__(self, environment_or_domain: str, api_version: str = API_VERSION,
-                     application: str = DEFAULT_APPLICATION, http_adapter: requests.adapters.HTTPAdapter = None,
-                     application_version: str = APP_VERSION, mq_login_token=None):
-            domain, verify = self.domain_and_verify(environment_or_domain)
-            env_config = self._config_for_environment(environment_or_domain)
-            self.mq_login_token = mq_login_token
-            GsSession.__init__(self, env_config['MdsWebDomain'], environment_or_domain, api_version=api_version,
-                               application=application, verify=verify, http_adapter=http_adapter,
-                               application_version=application_version)
-
-
-except ModuleNotFoundError:
-    pass
```

### Comparing `gs_quant-1.0.80/gs_quant/target/__init__.py` & `gs_quant-1.0.9/gs_quant/target/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/assets.py` & `gs_quant-1.0.9/gs_quant/target/assets.py`

 * *Files 0% similar despite different names*

```diff
@@ -30,15 +30,14 @@
     Advisor = 'Advisor'
     Consultant_Institutional = 'Consultant (Institutional)'
     Endowment = 'Endowment'
     Family_Office_Multi = 'Family Office (Multi)'
     Family_Office_Single = 'Family Office (Single)'
     Foundation = 'Foundation'
     Fund_of_Funds = 'Fund of Funds'
-    Healthcare_System = 'Healthcare System'
     Insurance_Company = 'Insurance Company'
     Outsourced_CIO = 'Outsourced CIO'
     Pension_Private = 'Pension (Private)'
     Pension_Public = 'Pension (Public)'
     Platform = 'Platform'
     Private_Bank = 'Private Bank'
     Prop_Capital_OVER_Commercial_Bank = 'Prop Capital/Commercial Bank'
```

### Comparing `gs_quant-1.0.80/gs_quant/target/assets_screener.py` & `gs_quant-1.0.9/gs_quant/target/assets_screener.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/backtests.py` & `gs_quant-1.0.9/gs_quant/target/backtests.py`

 * *Files 1% similar despite different names*

```diff
@@ -33,16 +33,15 @@
     Vega = 'Vega'
     Forward = 'Forward'
     Implied_Volatility = 'Implied Volatility'
     Fair_Variance = 'Fair Variance'
     Strike_Level = 'Strike Level'
     Spot = 'Spot'
     Price_ATMS = 'Price ATMS'
-    Price_ATMF_Volatility = 'Price ATMF Volatility'
-    Barrier_Level = 'Barrier Level'
+    Price_ATMF_Volatility = 'Price ATMF Volatility'    
 
 
 class BacktestTradingQuantityType(EnumBase, Enum):    
     
     """The trading quantity unit of a backtest strategy"""
 
     notional = 'notional'
@@ -612,15 +611,14 @@
     mq_symbol: Optional[str] = field(default=None, metadata=field_metadata)
     owner_id: Optional[str] = field(default=None, metadata=field_metadata)
     report_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     parameters: Optional[DictBase] = field(default=None, metadata=field_metadata)
     start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     version: Optional[float] = field(default=None, metadata=field_metadata)
-    cash_accrual: Optional[bool] = field(default=True, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class BacktestRefData(Base):
     id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
```

### Comparing `gs_quant-1.0.80/gs_quant/target/base_screener.py` & `gs_quant-1.0.9/gs_quant/target/base_screener.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/charts.py` & `gs_quant-1.0.9/gs_quant/target/charts.py`

 * *Files 0% similar despite different names*

```diff
@@ -207,15 +207,14 @@
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class XAxisSettings(Base):
     auto_fit_range_to_data: Optional[bool] = field(default=None, metadata=field_metadata)
-    label: Optional[str] = field(default=None, metadata=field_metadata)
     show_grid_lines: Optional[bool] = field(default=None, metadata=field_metadata)
     ignore_nil_date: Optional[bool] = field(default=None, metadata=field_metadata)
     x_axis_date_format: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -297,15 +296,14 @@
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ChartRegression(Base):
     type_: Optional[ChartRegressionType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
     line_data_index: Optional[int] = field(default=None, metadata=field_metadata)
     is_visible: Optional[bool] = field(default=None, metadata=field_metadata)
-    show_statistical_info: Optional[bool] = field(default=None, metadata=field_metadata)
     stroke_color: Optional[str] = field(default=None, metadata=field_metadata)
     stroke_type: Optional[ChartRegressionStrokeType] = field(default=None, metadata=field_metadata)
     stroke_width: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -341,15 +339,14 @@
     created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
     created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
     last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
     entitlement_exclusions: Optional[EntitlementExclusions] = field(default=None, metadata=field_metadata)
     title: Optional[str] = field(default=None, metadata=field_metadata)
-    subtitle: Optional[str] = field(default=None, metadata=field_metadata)
     rank: Optional[int] = field(default=None, metadata=field_metadata)
     folder_name: Optional[str] = field(default=None, metadata=field_metadata)
     description: Optional[str] = field(default=None, metadata=field_metadata)
     description_history: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     expressions: Optional[Tuple[ChartExpression, ...]] = field(default=None, metadata=field_metadata)
     chart_type: Optional[ChartType] = field(default=None, metadata=field_metadata)
     chart_properties: Optional[Tuple[ChartProperties, ...]] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/common.py` & `gs_quant-1.0.9/gs_quant/target/common.py`

 * *Files 20% similar despite different names*

```diff
@@ -102,15 +102,14 @@
     Accumulator = 'Accumulator'
     AccumulatorScheduleLeg = 'AccumulatorScheduleLeg'
     AssetSwapFxdFlt = 'AssetSwapFxdFlt'
     AssetSwapFxdFxd = 'AssetSwapFxdFxd'
     Any = 'Any'
     Autoroll = 'Autoroll'
     AveragePriceOption = 'AveragePriceOption'
-    Barrier = 'Barrier'
     Basis = 'Basis'
     BasisSwap = 'BasisSwap'
     Benchmark = 'Benchmark'
     Benchmark_Rate = 'Benchmark Rate'
     Binary = 'Binary'
     Bond = 'Bond'
     Bond_Forward = 'Bond Forward'
@@ -160,26 +159,24 @@
     Event = 'Event'
     FRA = 'FRA'
     FixedLeg = 'FixedLeg'
     Fixing = 'Fixing'
     FloatLeg = 'FloatLeg'
     Floor = 'Floor'
     Forward = 'Forward'
-    ForwardVarianceSwap = 'ForwardVarianceSwap'
     Fund = 'Fund'
     Future = 'Future'
     FutureContract = 'FutureContract'
     FutureMarket = 'FutureMarket'
     FutureOption = 'FutureOption'
     FutureStrategy = 'FutureStrategy'
     FXForward = 'FXForward'
     Hedge_Fund = 'Hedge Fund'
     Index = 'Index'
     IndexOption = 'IndexOption'
-    IndexSwap = 'IndexSwap'
     InflationSwap = 'InflationSwap'
     Inter_Commodity_Spread = 'Inter-Commodity Spread'
     InvoiceSpread = 'InvoiceSpread'
     Knockout = 'Knockout'
     MacroBasket = 'MacroBasket'
     Market_Location = 'Market Location'
     MLF = 'MLF'
@@ -213,17 +210,15 @@
     Risk_Premia = 'Risk Premia'
     Roll = 'Roll'
     Securities_Lending_Loan = 'Securities Lending Loan'
     Share_Class = 'Share Class'
     Single_Stock = 'Single Stock'
     ShiftingBermForward = 'ShiftingBermForward'
     Swap = 'Swap'
-    SwapData = 'SwapData'
     SwapLeg = 'SwapLeg'
-    SwapPeriod = 'SwapPeriod'
     SwapStrategy = 'SwapStrategy'
     Swaption = 'Swaption'
     Synthetic = 'Synthetic'
     Systematic_Hedging = 'Systematic Hedging'
     Tarf = 'Tarf'
     TarfScheduleLeg = 'TarfScheduleLeg'
     Token = 'Token'
@@ -311,22 +306,14 @@
     Straddle = 'Straddle'
     Payer = 'Payer'
     Receiver = 'Receiver'
     Digital_Call = 'Digital Call'
     Digital_Put = 'Digital Put'    
 
 
-class CashReinvestmentTreatmentType(EnumBase, Enum):    
-    
-    """Cash reinvestment treatment for cash acquisitions and dividends."""
-
-    Reinvest_At_Open = 'Reinvest At Open'
-    Add_To_Index = 'Add To Index'    
-
-
 class CommodMeanRule(EnumBase, Enum):    
     
     """Commodity mean rule"""
 
     Do_Not_Remove = 'Do Not Remove'
     Remove_Calculated = 'Remove Calculated'
     Remove_Fixed = 'Remove Fixed'    
@@ -700,15 +687,14 @@
     CYP = 'CYP'
     CZH = 'CZH'
     CZK = 'CZK'
     DAX = 'DAX'
     DEM = 'DEM'
     DIJ = 'DIJ'
     DJF = 'DJF'
-    DJE = 'DJE'
     DKK = 'DKK'
     DOP = 'DOP'
     DZD = 'DZD'
     E51 = 'E51'
     E52 = 'E52'
     E53 = 'E53'
     E54 = 'E54'
@@ -805,15 +791,14 @@
     MDL = 'MDL'
     MGF = 'MGF'
     MKD = 'MKD'
     MMK = 'MMK'
     MNT = 'MNT'
     MOP = 'MOP'
     MRO = 'MRO'
-    MTL = 'MTL'
     MTP = 'MTP'
     MUR = 'MUR'
     MVR = 'MVR'
     MWK = 'MWK'
     MXB = 'MXB'
     MXN = 'MXN'
     MXP = 'MXP'
@@ -825,15 +810,14 @@
     MZN = 'MZN'
     NAD = 'NAD'
     ND3 = 'ND3'
     NGF = 'NGF'
     NGI = 'NGI'
     NGN = 'NGN'
     NIC = 'NIC'
-    NIO = 'NIO'
     NLG = 'NLG'
     NOK = 'NOK'
     NOZ = 'NOZ'
     NPR = 'NPR'
     NZD = 'NZD'
     NZZ = 'NZZ'
     O08 = 'O08'
@@ -866,15 +850,14 @@
     SDR = 'SDR'
     SEK = 'SEK'
     SET = 'SET'
     SGD = 'SGD'
     SGS = 'SGS'
     SHP = 'SHP'
     SIL = 'SIL'
-    SIT = 'SIT'
     SKK = 'SKK'
     SLL = 'SLL'
     SRG = 'SRG'
     SSI = 'SSI'
     STD = 'STD'
     SUR = 'SUR'
     SVC = 'SVC'
@@ -944,15 +927,14 @@
     ZAR = 'ZAR'
     ZAZ = 'ZAZ'
     ZMK = 'ZMK'
     ZMW = 'ZMW'
     ZRN = 'ZRN'
     ZRZ = 'ZRZ'
     ZWD = 'ZWD'
-    ZWL = 'ZWL'
     AUd = 'AUd'
     BWp = 'BWp'
     EUr = 'EUr'
     GBp = 'GBp'
     ILs = 'ILs'
     KWd = 'KWd'
     MWk = 'MWk'
@@ -997,54 +979,14 @@
     ACT_OVER_365L_ISDA = 'ACT/365L ISDA'
     ACT_OVER_ACT_ISDA = 'ACT/ACT ISDA'
     ACT_OVER_ACT_ISMA = 'ACT/ACT ISMA'
     _30_OVER_360 = '30/360'
     _30E_OVER_360 = '30E/360'    
 
 
-class EqBasketHistoryMethodology(EnumBase, Enum):    
-    
-    """Whether basket history should be backcasted, backtested, or uploaded manually
-       after creation."""
-
-    Backcast = 'Backcast'
-    Backtest = 'Backtest'
-    Custom = 'Custom'    
-
-
-class EqBasketHolidayCalendar(EnumBase, Enum):    
-    
-    """Holiday calendar by exchange."""
-
-    NYSE = 'NYSE'
-    LNSE = 'LNSE'
-    HKGE = 'HKGE'    
-
-
-class EqBasketRebalanceFrequencyRule(EnumBase, Enum):    
-    
-    """Expected rebalance frequency for a basket."""
-
-    First_Biz_Day_of_Month = 'First Biz Day of Month'
-    Last_Biz_Day_of_Month = 'Last Biz Day of Month'
-    First_Biz_Day_of_Quarter = 'First Biz Day of Quarter'
-    Last_Biz_Day_of_Quarter = 'Last Biz Day of Quarter'
-    Last_Biz_Day_of_Quarter_first_Month = 'Last Biz Day of Quarter first Month'
-    Biweekly_Based_on_Last_Rebal = 'Biweekly Based on Last Rebal'
-    Custom = 'Custom'    
-
-
-class FallbackType(EnumBase, Enum):    
-    
-    """Different Rules for Libor Fallback"""
-
-    RFR = 'RFR'
-    LastFixing = 'LastFixing'    
-
-
 class Field(EnumBase, Enum):    
     
     """Field to be returned"""
 
     investmentRate = 'investmentRate'
     startingEmmaLegalEntityId = 'startingEmmaLegalEntityId'
     bvalMidPrice = 'bvalMidPrice'
@@ -1725,15 +1667,14 @@
     marketPnl = 'marketPnl'
     sustainAsiaExJapan = 'sustainAsiaExJapan'
     sell6point5bps = 'sell6point5bps'
     neighbourAssetId = 'neighbourAssetId'
     countIdeasYtd = 'countIdeasYtd'
     simonIntlAssetTags = 'simonIntlAssetTags'
     path = 'path'
-    preferredRiskModel = 'preferredRiskModel'
     vwapUnrealizedCash = 'vwapUnrealizedCash'
     payoffMtd = 'payoffMtd'
     spread2 = 'spread2'
     bosInBpsLabel = 'bosInBpsLabel'
     spread1 = 'spread1'
     bosInBps = 'bosInBps'
     pointClass = 'pointClass'
@@ -1887,15 +1828,14 @@
     fixedRate1 = 'fixedRate1'
     collateralCurrency = 'collateralCurrency'
     originalCountry = 'originalCountry'
     fixedRate2 = 'fixedRate2'
     field = 'field'
     geographicFocus = 'geographicFocus'
     daysOpenRealizedBps = 'daysOpenRealizedBps'
-    hedgeGroupId = 'hedgeGroupId'
     fxRiskPremiumIndex = 'fxRiskPremiumIndex'
     skew = 'skew'
     status = 'status'
     notionalCurrency = 'notionalCurrency'
     sustainEmergingMarkets = 'sustainEmergingMarkets'
     eventDateTime = 'eventDateTime'
     leg1DesignatedMaturity = 'leg1DesignatedMaturity'
@@ -3551,29 +3491,27 @@
     paymentFrequency1 = 'paymentFrequency1'
     paymentFrequency2 = 'paymentFrequency2'
     bespoke = 'bespoke'
     repoTenor = 'repoTenor'
     sell15cents = 'sell15cents'
     quoteId = 'quoteId'
     investmentQtd = 'investmentQtd'
-    openToSMA = 'openToSMA'
     heatIndexForecast = 'heatIndexForecast'
     ratingStandardAndPoors = 'ratingStandardAndPoors'
     qualityStars = 'qualityStars'
     leg2FloatingIndex = 'leg2FloatingIndex'
     sourceTicker = 'sourceTicker'
     primaryVwapUnrealizedBps = 'primaryVwapUnrealizedBps'
     assetParametersCreditIndexSeries = 'assetParametersCreditIndexSeries'
     gsid = 'gsid'
     lendingFund = 'lendingFund'
     assetClassificationsDigitalAssetSubsector = 'assetClassificationsDigitalAssetSubsector'
     sensitivity = 'sensitivity'
     clientSwapPointsAsk = 'clientSwapPointsAsk'
     embeddedOptionType = 'embeddedOptionType'
-    domainsData = 'domainsData'
     dayCount = 'dayCount'
     sell16bps = 'sell16bps'
     relativeBreakEvenInflationChange = 'relativeBreakEvenInflationChange'
     sell25cents = 'sell25cents'
     varSwap = 'varSwap'
     buy5point5bps = 'buy5point5bps'
     blockLargeNotional = 'blockLargeNotional'
@@ -3745,24 +3683,14 @@
 
     Json = 'Json'
     Excel = 'Excel'
     MessagePack = 'MessagePack'
     Pdf = 'Pdf'    
 
 
-class FrequencyInterval(EnumBase, Enum):    
-    
-    """Frequency interval."""
-
-    Weekly = 'Weekly'
-    Monthly = 'Monthly'
-    Quarterly = 'Quarterly'
-    Annually = 'Annually'    
-
-
 class InOut(EnumBase, Enum):    
     
     In = 'In'
     Out = 'Out'    
 
 
 class IndexCalculationType(EnumBase, Enum):    
@@ -3787,15 +3715,15 @@
 class KnockoutConvention(EnumBase, Enum):    
     
     """Knockout convention"""
 
     Continuous = 'Continuous'
     Brazil = 'Brazil'
     INR = 'INR'
-    Korean = 'Korean'
+    Korea = 'Korea'
     Malaysia = 'Malaysia'
     Philippines = 'Philippines'
     Taipei = 'Taipei'    
 
 
 class LiquidityMeasure(EnumBase, Enum):    
     
@@ -3829,20 +3757,14 @@
     
     """Client long or short on tarf"""
 
     Long = 'Long'
     Short = 'Short'    
 
 
-class MarketBehaviour(EnumBase, Enum):    
-    
-    ContraintsBased = 'ContraintsBased'
-    Calibrated = 'Calibrated'    
-
-
 class MarketDataFrequency(EnumBase, Enum):    
     
     Real_Time = 'Real Time'
     End_Of_Day = 'End Of Day'    
 
 
 class MarketDataShockType(EnumBase, Enum):    
@@ -3929,22 +3851,14 @@
     
     """Notional or Strke on target adjustment"""
 
     Notional = 'Notional'
     Strike = 'Strike'    
 
 
-class OptionExerciseStyle(EnumBase, Enum):    
-    
-    """How the option is exercised (e.g. Auto, Manual)"""
-
-    Auto = 'Auto'
-    Manual = 'Manual'    
-
-
 class OptionExpiryType(EnumBase, Enum):    
     
     _1m = '1m'
     _2m = '2m'
     _3m = '3m'
     _4m = '4m'
     _5m = '5m'
@@ -4025,20 +3939,14 @@
     Payer = 'Payer'
     Receive = 'Receive'
     Receiver = 'Receiver'
     Straddle = 'Straddle'
     Rec = 'Rec'    
 
 
-class PaymentFrequency(EnumBase, Enum):    
-    
-    Every_Return = 'Every Return'
-    Maturity = 'Maturity'    
-
-
 class PayoutType(EnumBase, Enum):    
     
     """Delayed or Immediate payout"""
 
     Delayed = 'Delayed'
     Immediate = 'Immediate'    
 
@@ -4161,15 +4069,14 @@
 
 class ProductType(EnumBase, Enum):    
     
     """Product type of basket"""
 
     Flow = 'Flow'
     MPS = 'MPS'
-    PWM = 'PWM'
     Volatility = 'Volatility'
     Single_Stock = 'Single Stock'    
 
 
 class QuoteType(EnumBase, Enum):    
     
     """Quote type that is used for the bond price"""
@@ -4198,30 +4105,14 @@
     
     """Report job priority."""
 
     High = 'High'
     Normal = 'Normal'    
 
 
-class ReturnStyle(EnumBase, Enum):    
-    
-    """Return calculation style"""
-
-    Rate_of_Return = 'Rate of Return'
-    Price_Return = 'Price Return'    
-
-
-class ReturnType(EnumBase, Enum):    
-    
-    """Sum or Product of periodic return, relevant only if paying at maturity"""
-
-    Sum = 'Sum'
-    Product = 'Product'    
-
-
 class RiskMeasureType(EnumBase, Enum):    
     
     """The type of measure to perform risk on. e.g. Greeks"""
 
     Annual_ATM_Implied_Volatility = 'Annual ATM Implied Volatility'
     Annual_ATMF_Implied_Volatility = 'Annual ATMF Implied Volatility'
     Annual_Implied_Volatility = 'Annual Implied Volatility'
@@ -4229,55 +4120,43 @@
     ATM_Spread = 'ATM Spread'
     BaseCPI = 'BaseCPI'
     Basis = 'Basis'
     BSPrice = 'BSPrice'
     BSPricePct = 'BSPricePct'
     CRIF_IRCurve = 'CRIF IRCurve'
     Cashflows = 'Cashflows'
-    CDIForward = 'CDIForward'
-    CDIIndexDelta = 'CDIIndexDelta'
-    CDIIndexVega = 'CDIIndexVega'
-    CDIOptionPremium = 'CDIOptionPremium'
-    CDIOptionPremiumFlatFwd = 'CDIOptionPremiumFlatFwd'
-    CDIOptionPremiumFlatVol = 'CDIOptionPremiumFlatVol'
-    CDISpot = 'CDISpot'
-    CDISpreadDV01 = 'CDISpreadDV01'
-    CDIUpfrontPrice = 'CDIUpfrontPrice'
     Compounded_Fixed_Rate = 'Compounded Fixed Rate'
     Correlation = 'Correlation'
     Cross_Multiplier = 'Cross Multiplier'
     Cross = 'Cross'
     Daily_Implied_Volatility = 'Daily Implied Volatility'
     Delta = 'Delta'
     DeltaLocalCcy = 'DeltaLocalCcy'
     Description = 'Description'
     Dollar_Price = 'Dollar Price'
     DV01 = 'DV01'
-    ExpiryInYears = 'ExpiryInYears'
     FairPremium = 'FairPremium'
     FairPremiumPct = 'FairPremiumPct'
     Fair_Price = 'Fair Price'
     FairVarStrike = 'FairVarStrike'
     FairVolStrike = 'FairVolStrike'
     FinalCPI = 'FinalCPI'
     Forward_Price = 'Forward Price'
     Forward_Rate = 'Forward Rate'
     Forward_Spread = 'Forward Spread'
-    FX_BF_25_Vol = 'FX BF 25 Vol'
     FX_Calculated_Delta = 'FX Calculated Delta'
     FX_Calculated_Delta_No_Premium_Adjustment = 'FX Calculated Delta No Premium Adjustment'
     FX_Discount_Factor_Over = 'FX Discount Factor Over'
     FX_Discount_Factor_Under = 'FX Discount Factor Under'
     FX_Hedge_Delta = 'FX Hedge Delta'
     FX_Premium = 'FX Premium'
     FX_Premium_Pct = 'FX Premium Pct'
     FX_Premium_Pct_Flat_Fwd = 'FX Premium Pct Flat Fwd'
     FX_Quoted_Delta_No_Premium_Adjustment = 'FX Quoted Delta No Premium Adjustment'
     FX_Quoted_Vega = 'FX Quoted Vega'
-    FX_RR_25_Vol = 'FX RR 25 Vol'
     Price = 'Price'
     Gamma = 'Gamma'
     GammaLocalCcy = 'GammaLocalCcy'
     Implied_Volatility = 'Implied Volatility'
     InflationDelta = 'InflationDelta'
     Inflation_Compounding_Period = 'Inflation Compounding Period'
     Inflation_Delta_in_Bps = 'Inflation Delta in Bps'
@@ -4472,24 +4351,14 @@
 
     Phys_CLEARED = 'Phys.CLEARED'
     Physical = 'Physical'
     Cash_CollatCash = 'Cash.CollatCash'
     Cash_PYU = 'Cash.PYU'    
 
 
-class SwapType(EnumBase, Enum):    
-    
-    Eq_CFD_Standard = 'Eq CFD Standard'
-    Eq_Swap = 'Eq Swap'
-    Eq_Swap_OET_Asymmetric = 'Eq Swap OET Asymmetric'
-    Eq_Swap_OET_Simple = 'Eq Swap OET Simple'
-    Eq_Swap_Term = 'Eq Swap Term'
-    Eq_Synthetic_OET = 'Eq Synthetic OET'    
-
-
 class TargetPaymentType(EnumBase, Enum):    
     
     Capped = 'Capped'
     Full = 'Full'
     _None = 'None'    
 
 
@@ -4551,16 +4420,15 @@
     """The time of valuation, e.g. for an option"""
 
     MktClose = 'MktClose'
     MktOpen = 'MktOpen'
     SQ = 'SQ'
     MktPreOpen = 'MktPreOpen'
     MktPrevClose = 'MktPrevClose'
-    Hedge_Unwind = 'Hedge Unwind'
-    TWAP_PM = 'TWAP PM'    
+    HedgeUnwind = 'HedgeUnwind'    
 
 
 class VarianceConvention(EnumBase, Enum):    
     
     """Specifies whether the variance is Annualized or Total"""
 
     Annualized = 'Annualized'
@@ -4573,20 +4441,20 @@
 
     Notional = 'Notional'
     Market_Value = 'Market Value'
     Dollar_Duration = 'Dollar Duration'    
 
 
 @dataclass
-class SingleMarket(Base):
+class BaseMarket(Base):
     pass
 
 
 @dataclass
-class BaseMarket(SingleMarket):
+class SingleMarket(Base):
     pass
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class AssetIdPriceable(Priceable):
@@ -4620,45 +4488,14 @@
     max_: Optional[float] = field(default=None, metadata=config(field_name='max', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class AssetValueParameters(Base):
-    max_: Optional[float] = field(default=None, metadata=config(field_name='max', exclude=exclude_none))
-    min_: Optional[float] = field(default=None, metadata=config(field_name='min', exclude=exclude_none))
-    increment: Optional[float] = field(default=None, metadata=field_metadata)
-    value: Optional[float] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class BlendedBenchmarkAttribute(Base):
-    benchmark_id: Optional[str] = field(default=None, metadata=field_metadata)
-    weight: Optional[float] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class BloombergPublishParameters(Base):
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    long_name: Optional[str] = field(default=None, metadata=field_metadata)
-    close_precision: Optional[float] = field(default=2, metadata=field_metadata)
-    tick_precision: Optional[float] = field(default=4, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class CSLDate(Base):
     date_value: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -4754,23 +4591,14 @@
     start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class EqBasketRebalanceDateOverride(Base):
-    new_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    existing_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class ISelectNewUnit(Base):
     id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
     new_units: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -4790,14 +4618,26 @@
     value: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class LiborFallbackScenario(Scenario):
+    date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    fallback_type: Optional[str] = field(default='RFR', metadata=field_metadata)
+    discounting: Optional[bool] = field(default=False, metadata=field_metadata)
+    cash_flows: Optional[bool] = field(default=True, metadata=field_metadata)
+    scenario_type: Optional[str] = field(init=False, default='LiborFallbackScenario', metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class LiquidityReportParameters(Base):
     title: Optional[str] = field(default=None, metadata=field_metadata)
     email: Optional[str] = field(default=None, metadata=field_metadata)
     trading_desk: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
@@ -4990,14 +4830,26 @@
     name: str = field(default=None, metadata=field_metadata)
     value: str = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class PositionPriceInput(Base):
+    asset_id: str = field(default=None, metadata=field_metadata)
+    quantity: Optional[float] = field(default=None, metadata=field_metadata)
+    weight: Optional[float] = field(default=None, metadata=field_metadata)
+    notional: Optional[float] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+    tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class RefMarket(BaseMarket):
     market_ref: Optional[str] = field(default=None, metadata=field_metadata)
     market_type: Optional[str] = field(init=False, default='RefMarket', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -5011,14 +4863,25 @@
     day_of_month: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class RiskRequestParameters(Base):
+    csa_term: Optional[str] = field(default=None, metadata=field_metadata)
+    raw_results: Optional[bool] = field(default=False, metadata=field_metadata)
+    use_historical_diddles_only: Optional[bool] = field(default=False, metadata=field_metadata)
+    market_behaviour: Optional[str] = field(default='ContraintsBased', metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class SimpleParty(Base):
     party_type: Optional[str] = field(default=None, metadata=field_metadata)
     party_name: Optional[str] = field(default=None, metadata=field_metadata)
     party_book: Optional[str] = field(default=None, metadata=field_metadata)
     party_oe_id: Optional[str] = field(default=None, metadata=config(field_name='partyOEId', exclude=exclude_none))
     party_oe_name: Optional[str] = field(default=None, metadata=config(field_name='partyOEName', exclude=exclude_none))
     party_root_oe_id: Optional[str] = field(default=None, metadata=config(field_name='partyRootOEId', exclude=exclude_none))
@@ -5125,15 +4988,14 @@
     exchange_code: Optional[str] = field(default=None, metadata=field_metadata)
     plot_id: Optional[str] = field(default=None, metadata=field_metadata)
     cins: Optional[str] = field(default=None, metadata=field_metadata)
     bbgid: Optional[str] = field(default=None, metadata=field_metadata)
     display_id: Optional[str] = field(default=None, metadata=field_metadata)
     tsdb_shortname: Optional[str] = field(default=None, metadata=field_metadata)
     coin_metrics_id: Optional[str] = field(default=None, metadata=field_metadata)
-    sec_master_id: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class AssetClassifications(Base):
@@ -5170,14 +5032,136 @@
     digital_asset_subsector: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class AssetParameters(Base):
+    basket_type: Optional[str] = field(default=None, metadata=field_metadata)
+    style: Optional[str] = field(default=None, metadata=field_metadata)
+    index_calculation_type: Optional[str] = field(default=None, metadata=field_metadata)
+    index_return_type: Optional[str] = field(default=None, metadata=field_metadata)
+    index_divisor: Optional[float] = field(default=None, metadata=field_metadata)
+    currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    quote_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    index_initial_price: Optional[float] = field(default=None, metadata=field_metadata)
+    initial_pricing_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    expiration_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    expiration_location: Optional[str] = field(default=None, metadata=field_metadata)
+    number_of_shares: Optional[float] = field(default=None, metadata=field_metadata)
+    option_style: Optional[str] = field(default=None, metadata=field_metadata)
+    option_type: Optional[OptionType] = field(default=None, metadata=field_metadata)
+    settlement_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    settlement_type: Optional[str] = field(default=None, metadata=field_metadata)
+    strike_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
+    put_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    put_amount: Optional[float] = field(default=None, metadata=field_metadata)
+    automatic_exercise: Optional[bool] = field(default=None, metadata=field_metadata)
+    call_amount: Optional[float] = field(default=None, metadata=field_metadata)
+    call_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    exercise_time: Optional[str] = field(default=None, metadata=field_metadata)
+    multiplier: Optional[float] = field(default=None, metadata=field_metadata)
+    premium_payment_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    premium: Optional[float] = field(default=None, metadata=field_metadata)
+    premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    callable_: Optional[bool] = field(default=None, metadata=config(field_name='callable', exclude=exclude_none))
+    puttable: Optional[bool] = field(default=None, metadata=field_metadata)
+    perpetual: Optional[bool] = field(default=None, metadata=field_metadata)
+    seniority: Optional[str] = field(default=None, metadata=field_metadata)
+    coupon_type: Optional[str] = field(default=None, metadata=field_metadata)
+    index: Optional[str] = field(default=None, metadata=field_metadata)
+    index_term: Optional[str] = field(default=None, metadata=field_metadata)
+    index_margin: Optional[float] = field(default=None, metadata=field_metadata)
+    coupon: Optional[float] = field(default=None, metadata=field_metadata)
+    issue_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    issuer: Optional[str] = field(default=None, metadata=field_metadata)
+    issuer_country_code: Optional[str] = field(default=None, metadata=field_metadata)
+    issuer_type: Optional[str] = field(default=None, metadata=field_metadata)
+    issue_size: Optional[float] = field(default=None, metadata=field_metadata)
+    commodity_sector: Optional[CommoditySector] = field(default=None, metadata=field_metadata)
+    pricing_location: Optional[PricingLocation] = field(default=None, metadata=field_metadata)
+    contract_months: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    g10_currency: Optional[bool] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
+    ultimate_ticker: Optional[str] = field(default=None, metadata=field_metadata)
+    strategy: Optional[Strategy] = field(default=None, metadata=field_metadata)
+    exchange_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
+    region: Optional[str] = field(default=None, metadata=field_metadata)
+    delivery_point: Optional[str] = field(default=None, metadata=field_metadata)
+    pricing_index: Optional[str] = field(default=None, metadata=field_metadata)
+    common_code: Optional[str] = field(default=None, metadata=field_metadata)
+    issuer_id: Optional[str] = field(default=None, metadata=field_metadata)
+    contract_month: Optional[str] = field(default=None, metadata=field_metadata)
+    bloomberg_collateral_classification: Optional[str] = field(default=None, metadata=field_metadata)
+    load_type: Optional[str] = field(default=None, metadata=field_metadata)
+    contract_unit: Optional[str] = field(default=None, metadata=field_metadata)
+    index_approval_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    is_pair_basket: Optional[bool] = field(default=None, metadata=field_metadata)
+    is_legacy_pair_basket: Optional[bool] = field(default=None, metadata=field_metadata)
+    fixed_rate_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
+    floating_rate_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
+    forward_price: Optional[float] = field(default=None, metadata=field_metadata)
+    pair_calculation: Optional[str] = field(default=None, metadata=field_metadata)
+    pay_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
+    receive_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
+    pay_frequency: Optional[str] = field(default=None, metadata=field_metadata)
+    receive_frequency: Optional[str] = field(default=None, metadata=field_metadata)
+    resettable_leg: Optional[PayReceive] = field(default=None, metadata=field_metadata)
+    inflation_lag: Optional[str] = field(default=None, metadata=field_metadata)
+    fx_index: Optional[str] = field(default=None, metadata=field_metadata)
+    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
+    index_not_trading_reasons: Optional[IndexNotTradingReasons] = field(default=None, metadata=field_metadata)
+    trade_as: Optional[str] = field(default=None, metadata=field_metadata)
+    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
+    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
+    index_calculation_agent: Optional[str] = field(default=None, metadata=field_metadata)
+    product_type: Optional[ProductType] = field(default=None, metadata=field_metadata)
+    vendor: Optional[str] = field(default=None, metadata=field_metadata)
+    call_first_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    call_last_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    amount_outstanding: Optional[float] = field(default=None, metadata=field_metadata)
+    covered_bond: Optional[bool] = field(default=None, metadata=field_metadata)
+    issue_status: Optional[str] = field(default=None, metadata=field_metadata)
+    issue_status_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    issue_price: Optional[float] = field(default=None, metadata=field_metadata)
+    sinkable: Optional[bool] = field(default=None, metadata=field_metadata)
+    sink_factor: Optional[float] = field(default=None, metadata=field_metadata)
+    accrued_interest_standard: Optional[float] = field(default=None, metadata=field_metadata)
+    redemption_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    redemption_price: Optional[float] = field(default=None, metadata=field_metadata)
+    redemption_amount: Optional[float] = field(default=None, metadata=field_metadata)
+    redemption_percent: Optional[float] = field(default=None, metadata=field_metadata)
+    private_placement_type: Optional[str] = field(default=None, metadata=field_metadata)
+    minimum_piece: Optional[float] = field(default=None, metadata=field_metadata)
+    minimum_increment: Optional[float] = field(default=None, metadata=field_metadata)
+    next_coupon_payment: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    minimum_denomination: Optional[float] = field(default=None, metadata=field_metadata)
+    default_backcast: Optional[bool] = field(default=None, metadata=field_metadata)
+    index_precision: Optional[float] = field(default=None, metadata=field_metadata)
+    official_side: Optional[Side] = field(default=None, metadata=field_metadata)
+    valuation_source: Optional[BasketValuationSource] = field(default=None, metadata=field_metadata)
+    close_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    credit_index_series: Optional[str] = field(default=None, metadata=field_metadata)
+    reference_entity: Optional[str] = field(default=None, metadata=field_metadata)
+    restructuring_type: Optional[str] = field(default=None, metadata=field_metadata)
+    underlying_type: Optional[str] = field(default=None, metadata=field_metadata)
+    underlier: Optional[str] = field(default=None, metadata=field_metadata)
+    next_rebalance_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    last_rebalance_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    last_rebalance_approval_id: Optional[str] = field(default=None, metadata=field_metadata)
+    target_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    attribution_dataset_id: Optional[str] = field(init=False, default='STSATTR', metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class CSLCurrency(Base):
     string_value: Optional[Currency] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -5254,24 +5238,14 @@
     scenario_type: Optional[str] = field(init=False, default='CarryScenario', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CashReinvestmentTreatment(Base):
-    regular_dividend_treatment: Optional[CashReinvestmentTreatmentType] = field(default=None, metadata=field_metadata)
-    special_dividend_treatment: Optional[CashReinvestmentTreatmentType] = field(default=None, metadata=field_metadata)
-    cash_acquisition_treatment: Optional[CashReinvestmentTreatmentType] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class CloseMarket(BaseMarket):
     date: datetime.date = field(default=None, metadata=field_metadata)
     location: PricingLocation = field(default=None, metadata=field_metadata)
     market_type: Optional[str] = field(init=False, default='CloseMarket', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
@@ -5314,35 +5288,15 @@
     execute: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     trade: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     upload: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     query: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     performance_details: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     plot: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     delete: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    display_: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='display', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class EqBasketBacktestParameters(Base):
-    weighting_mechanism: str = field(default=None, metadata=field_metadata)
-    time_horizon: str = field(default=None, metadata=field_metadata)
-    frequency_interval: FrequencyInterval = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class EqBasketRebalanceCustomFrequencyRule(Base):
-    frequency_interval: FrequencyInterval = field(default=None, metadata=field_metadata)
-    every: float = field(default=1, metadata=field_metadata)
-    on: Union[float, str] = field(default=None, metadata=field_metadata)
+    display: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 class FieldValueMap(DictBase):
     pass
 
 
@@ -5388,52 +5342,51 @@
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ISelectNewParameter(Base):
     early_unwind_after: Optional[float] = field(default=None, metadata=field_metadata)
     early_unwind_applicable: Optional[str] = field(default=None, metadata=field_metadata)
     expiry_date_rule: Optional[str] = field(default=None, metadata=field_metadata)
-    option_target_expiry_parameter: Optional[Union[AssetValueParameters, float]] = field(default=None, metadata=field_metadata)
+    option_target_expiry_parameter: Optional[float] = field(default=None, metadata=field_metadata)
     option_early_unwind_days: Optional[float] = field(default=None, metadata=field_metadata)
-    in_alpha: Optional[Union[bool, int]] = field(default=None, metadata=field_metadata)
-    is_fsr_target_factor: Optional[Union[bool, int]] = field(default=None, metadata=config(field_name='isFSRTargetFactor', exclude=exclude_none))
+    in_alpha: Optional[bool] = field(default=None, metadata=field_metadata)
+    is_fsr_target_factor: Optional[bool] = field(default=None, metadata=config(field_name='isFSRTargetFactor', exclude=exclude_none))
     fsr_max_ratio: Optional[float] = field(default=None, metadata=field_metadata)
     fsr_min_ratio: Optional[float] = field(default=None, metadata=field_metadata)
-    module_enabled: Optional[Union[bool, int]] = field(default=None, metadata=field_metadata)
-    trend_signal_0: Optional[Union[bool, int]] = field(default=None, metadata=config(field_name='trendSignal_0', exclude=exclude_none))
-    trend_signal_1: Optional[Union[bool, int]] = field(default=None, metadata=config(field_name='trendSignal_1', exclude=exclude_none))
-    trend_signal_2: Optional[Union[bool, int]] = field(default=None, metadata=config(field_name='trendSignal_2', exclude=exclude_none))
-    trend_signal_3: Optional[Union[bool, int]] = field(default=None, metadata=config(field_name='trendSignal_3', exclude=exclude_none))
+    module_enabled: Optional[bool] = field(default=None, metadata=field_metadata)
+    trend_signal_0: Optional[bool] = field(default=None, metadata=config(field_name='trendSignal_0', exclude=exclude_none))
+    trend_signal_1: Optional[bool] = field(default=None, metadata=config(field_name='trendSignal_1', exclude=exclude_none))
+    trend_signal_2: Optional[bool] = field(default=None, metadata=config(field_name='trendSignal_2', exclude=exclude_none))
+    trend_signal_3: Optional[bool] = field(default=None, metadata=config(field_name='trendSignal_3', exclude=exclude_none))
     module_name: Optional[str] = field(default=None, metadata=field_metadata)
     target_strike: Optional[float] = field(default=None, metadata=field_metadata)
     strike_method: Optional[StrikeMethodType] = field(default=None, metadata=field_metadata)
     option_expiry: Optional[OptionExpiryType] = field(default=None, metadata=field_metadata)
     bloomberg_id: Optional[str] = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
     stock_id: Optional[str] = field(default=None, metadata=field_metadata)
     asset_class: Optional[str] = field(default=None, metadata=field_metadata)
     future_id: Optional[str] = field(default=None, metadata=field_metadata)
     ric: Optional[str] = field(default=None, metadata=field_metadata)
     new_weight: Optional[float] = field(default=None, metadata=field_metadata)
     execution_participation_rate: Optional[float] = field(default=None, metadata=field_metadata)
     new_shares: Optional[float] = field(default=None, metadata=field_metadata)
     new_lots: Optional[float] = field(default=None, metadata=field_metadata)
     execution_start_time: Optional[DictBase] = field(default=None, metadata=field_metadata)
     execution_end_time: Optional[DictBase] = field(default=None, metadata=field_metadata)
     execution_style: Optional[str] = field(default=None, metadata=field_metadata)
     execution_timezone: Optional[str] = field(default=None, metadata=field_metadata)
-    notional: Optional[Union[AssetValueParameters, float]] = field(default=None, metadata=field_metadata)
+    notional: Optional[float] = field(default=None, metadata=field_metadata)
     leverage: Optional[float] = field(default=None, metadata=field_metadata)
     quantity: Optional[float] = field(default=None, metadata=field_metadata)
     hedge_ratio: Optional[float] = field(default=None, metadata=field_metadata)
     option_type: Optional[OptionType] = field(default=None, metadata=field_metadata)
     option_strike_type: Optional[OptionStrikeType] = field(default=None, metadata=field_metadata)
     credit_option_type: Optional[CreditOptionType] = field(default=None, metadata=field_metadata)
     credit_option_strike_type: Optional[CreditOptionStrikeType] = field(default=None, metadata=field_metadata)
-    strike_relative: Optional[Union[AssetValueParameters, float]] = field(default=None, metadata=field_metadata)
+    strike_relative: Optional[float] = field(default=None, metadata=field_metadata)
     trade_type: Optional[TradeType] = field(default=None, metadata=field_metadata)
     signal: Optional[float] = field(default=None, metadata=field_metadata)
     new_signal: Optional[float] = field(default=None, metadata=field_metadata)
     new_min_weight: Optional[float] = field(default=None, metadata=field_metadata)
     new_max_weight: Optional[float] = field(default=None, metadata=field_metadata)
     min_weight: Optional[float] = field(default=None, metadata=field_metadata)
     max_weight: Optional[float] = field(default=None, metadata=field_metadata)
@@ -5449,43 +5402,19 @@
     num_roll_days: Optional[float] = field(default=None, metadata=field_metadata)
     roll_end: Optional[float] = field(default=None, metadata=field_metadata)
     roll_start: Optional[float] = field(default=None, metadata=field_metadata)
     roll_type: Optional[str] = field(default=None, metadata=field_metadata)
     valid_contract_expiry: Optional[str] = field(default=None, metadata=field_metadata)
     rtl: Optional[float] = field(default=None, metadata=field_metadata)
     current_weight: Optional[float] = field(default=None, metadata=field_metadata)
-    chg_weight: Optional[float] = field(default=None, metadata=field_metadata)
-    new_units: Optional[float] = field(default=None, metadata=field_metadata)
     country: Optional[str] = field(default=None, metadata=field_metadata)
     region: Optional[str] = field(default=None, metadata=field_metadata)
     adv: Optional[float] = field(default=None, metadata=field_metadata)
     tadv: Optional[float] = field(default=None, metadata=field_metadata)
     hadv: Optional[float] = field(default=None, metadata=field_metadata)
-    market_cap: Optional[float] = field(default=None, metadata=field_metadata)
-    market_classification: Optional[str] = field(default=None, metadata=field_metadata)
-    new_signal_param_a: Optional[float] = field(default=None, metadata=config(field_name='NewSignalParamA', exclude=exclude_none))
-    new_signal_param_b: Optional[float] = field(default=None, metadata=config(field_name='NewSignalParamB', exclude=exclude_none))
-    signal_param_a: Optional[float] = field(default=None, metadata=config(field_name='SignalParamA', exclude=exclude_none))
-    signal_param_b: Optional[float] = field(default=None, metadata=config(field_name='SignalParamB', exclude=exclude_none))
-    inv_vol_cap: Optional[float] = field(default=None, metadata=field_metadata)
-    newinv_vol_cap: Optional[float] = field(default=None, metadata=field_metadata)
-    units_scaling_factor: Optional[float] = field(default=None, metadata=field_metadata)
-    new_units_scaling_factor: Optional[float] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class LiborFallbackScenario(Scenario):
-    date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    fallback_type: Optional[FallbackType] = field(default=FallbackType.RFR, metadata=field_metadata)
-    discounting: Optional[bool] = field(default=False, metadata=field_metadata)
-    cash_flows: Optional[bool] = field(default=True, metadata=field_metadata)
-    scenario_type: Optional[str] = field(init=False, default='LiborFallbackScenario', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class LiveMarket(BaseMarket):
@@ -5551,27 +5480,14 @@
 @dataclass(unsafe_hash=True, repr=False)
 class PCOCashBalance(Base):
     local_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     cash_balance_limits: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     cash_reserve: Optional[str] = field(default=None, metadata=field_metadata)
     long_threshold: Optional[str] = field(default=None, metadata=field_metadata)
     short_threshold: Optional[str] = field(default=None, metadata=field_metadata)
-    holding: Optional[str] = field(default=None, metadata=field_metadata)
-    t0: Optional[str] = field(default=None, metadata=field_metadata)
-    t1: Optional[str] = field(default=None, metadata=field_metadata)
-    t2: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class PCOCurrencyWeight(Base):
-    currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    weight: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PCOParameterValues(Base):
@@ -5640,49 +5556,14 @@
     average_return: Optional[Op] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PositionPriceInput(Base):
-    asset_id: str = field(default=None, metadata=field_metadata)
-    quantity: Optional[float] = field(default=None, metadata=field_metadata)
-    weight: Optional[float] = field(default=None, metadata=field_metadata)
-    notional: Optional[float] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class PositionsRequest(Base):
-    asset_id: str = field(default=None, metadata=field_metadata)
-    weight: Optional[float] = field(default=None, metadata=field_metadata)
-    quantity: Optional[float] = field(default=None, metadata=field_metadata)
-    notional: Optional[float] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class RiskRequestParameters(Base):
-    csa_term: Optional[str] = field(default=None, metadata=field_metadata)
-    raw_results: Optional[bool] = field(default=False, metadata=field_metadata)
-    use_historical_diddles_only: Optional[bool] = field(default=False, metadata=field_metadata)
-    market_behaviour: Optional[MarketBehaviour] = field(default=MarketBehaviour.ContraintsBased, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class RollFwd(Scenario):
     date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     realise_fwd: Optional[bool] = field(default=True, metadata=field_metadata)
     holiday_calendar: Optional[PricingLocation] = field(default=None, metadata=field_metadata)
     scenario_type: Optional[str] = field(init=False, default='RollFwd', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
@@ -5749,359 +5630,16 @@
     tenor_start: Optional[float] = field(default=None, metadata=field_metadata)
     tenor_end: Optional[float] = field(default=None, metadata=field_metadata)
     shock_type: Optional[MarketDataShockType] = field(default=None, metadata=field_metadata)
     scenario_type: Optional[str] = field(init=False, default='CurveScenario', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class EqBasketRebalanceFrequency(Base):
-    frequency_rule: Union[EqBasketRebalanceCustomFrequencyRule, EqBasketRebalanceFrequencyRule, str] = field(default=None, metadata=field_metadata)
-    holiday_calendar: Optional[EqBasketHolidayCalendar] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class FieldFilterMap(Base):
-    issue_status_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    internal_index_calc_region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    last_returns_start_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    pl_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    amount_outstanding: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_classifications_gics_sub_industry: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mdapi_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    data_set_ids: Optional[Union[Tuple[Tuple[str, ...], ...], Tuple[str, ...]]] = field(default=None, metadata=field_metadata)
-    call_first_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    pb_client_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_start: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    owner_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sec_db: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=config(field_name='secDB', exclude=exclude_none))
-    economic_terms_hash: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    objective: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    simon_intl_asset_tags: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    private_placement_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    hedge_notional: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    rank: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    data_set_category: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    pair_calculation: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index_family: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    created_by_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    vehicle_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    market_data_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_day_count_fraction: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    point_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_cap_floor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_underlier_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    minimum_increment: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    settlement_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    hedge_volatility: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    version: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    tags: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_gics_industry_group: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    market_data_asset: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_is_primary: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    styles: Optional[Union[Tuple[Tuple[str, ...], ...], Tuple[str, ...]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_total_quantity: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    short_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_underliers_asset_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    eid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    calculation_region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    jsn: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_quoting_style: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mic: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    hurdle_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ps_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    issue_status: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    region_code: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    dollar_cross: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    portfolio_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    vendor: Optional[Union[Tuple[Union[MarketDataVendor, str], ...], Union[MarketDataVendor, str]]] = field(default=None, metadata=field_metadata)
-    popularity: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    term: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    real_time_restriction_status: Optional[Union[Tuple[Tuple[str, ...], ...], Tuple[str, ...]]] = field(default=None, metadata=field_metadata)
-    rating_fitch: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_clearing_house: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    non_symbol_dimensions: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_option_style: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    share_class_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_put_amount: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_underlier: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_floating_rate_designated_maturity: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    next_rebalance_date: Optional[Union[Op, Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    target_notional: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_parameters_tenor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_digital_asset_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    delisted: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    last_updated_since: Optional[Union[Tuple[datetime.datetime, ...], datetime.datetime]] = field(default=None, metadata=field_metadata)
-    regional_focus: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_designated_maturity: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    tsdb_shortname: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    seasonal_adjustment_short: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_exchange_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_country_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    management_fee: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_settlement_date: Optional[Union[Op, Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    rating_moodys: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    simon_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    development_status: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    cusip: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    notes: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    tags_to_exclude: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_floating_rate_option: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    internal_index_calc_agent: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    last_rebalance_date: Optional[Union[Op, Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    rating_second_highest: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_country_code: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    frequency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    option_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    data_set_sub_category: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    is_live: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    is_legacy_pair_basket: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    issuer_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    plot_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_pricing_location: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_coupon: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_parameters_identifier: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_last_fixing_date: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    data_product: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mq_symbol: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sectors: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_method_of_settlement: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    redemption_notice_period: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    multiplier: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_rate_option: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    market_data_point: Optional[Union[Tuple[Tuple[str, ...], ...], Tuple[str, ...]]] = field(default=None, metadata=field_metadata)
-    external: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    sts_fx_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    wpk: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    hedge_annualized_volatility: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    fix_order_routing_region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    aum: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_expiration_date: Optional[Union[Op, Tuple[Union[datetime.date, str], ...], Union[datetime.date, str]]] = field(default=None, metadata=field_metadata)
-    exchange: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    folder_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    cid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    onboarded: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    live_date: Optional[Union[Tuple[Union[Op, datetime.date], ...], Union[Op, datetime.date]]] = field(default=None, metadata=field_metadata)
-    issue_price: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    sink_factor: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    underlying_data_set_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_gics_sector: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    prime_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_frequency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_notional_amount_in_other_currency: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    sts_asset_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_pair: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    description: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_is_country_primary: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    title: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    net_exposure_classification: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_strike_price: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    coupon_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    last_updated_by_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_forward_price: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    company: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gate_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    issue_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    expiration_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    coverage: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ticker: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_rate_option: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    coin_metrics_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    call_last_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    sts_rates_country: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_payer_spread: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_premium_payment_date: Optional[Union[Op, Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    latest_execution_time: Optional[Union[Tuple[datetime.datetime, ...], datetime.datetime]] = field(default=None, metadata=field_metadata)
-    asset_parameters_forward_rate: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_classifications_digital_asset_industry: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_designated_maturity: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gate: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    multi_tags: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gsn: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gss: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    rating_linear: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_vendor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    cm_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    type_: Optional[Union[Tuple[Union[AssetType, RiskModelType], ...], Union[AssetType, RiskModelType]]] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    gsideid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ric: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mdapi: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    issuer: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    position_source_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    measures: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_floating_rate_day_count_fraction: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_notional_amount: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    strategy_aum: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    action: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    id_: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    asset_parameters_call_amount: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_seniority: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    redemption_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    identifier: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sec_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    index_create_source: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sub_region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index2_tenor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_day_count_fraction: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_notional_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sedol: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_asset: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    open_to_sma: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=config(field_name='openToSMA', exclude=exclude_none))
-    rating_standard_and_poors: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_types: Optional[Union[Tuple[AssetType, ...], Tuple[Tuple[AssetType, ...], ...]]] = field(default=None, metadata=field_metadata)
-    bcid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_credit_index_series: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gsid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_digital_asset_subsector: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    tdapi: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    last_updated_message: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    trading_restriction: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    rcic: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    name_raw: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    status: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_pay_or_receive: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    domains_data: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    client_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index_series: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_classifications_gics_industry: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    increment: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    accrued_interest_standard: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    enabled: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sectors_raw: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_commodity: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_commodity_sector: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_frequency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    position_source_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    gsid_equivalent: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    categories: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    symbol_dimensions: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ext_mkt_asset: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_fixed_rate_frequency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    coupon: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    compliance_restricted_status: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    side_pocket: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    quoting_style: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    is_entity: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    scenario_group_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_trade_as: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    redemption_period: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_credit_market: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_issuer_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    bbid: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_risk_country_code: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_digital_asset_sector: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_em_dm: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    issue_size: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    returns_enabled: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    asset_parameters_settlement: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    seniority: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    primary_country_ric: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_expiration_time: Optional[Union[Op, Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    is_pair_basket: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index_version: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    asset_classifications_digital_asset_market: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_commodity_reference_price: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    default_backcast: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    asset_parameters_number_of_shares: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    use_machine_learning: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    performance_fee: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    report_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    lockup: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    lockup_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    underlying_asset_ids: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    encoded_stats: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_fee_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    pnode_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    backtest_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_issuer: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    exchange_code: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_strike: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    oe_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_termination_date: Optional[Union[Tuple[Union[datetime.date, str], ...], Union[datetime.date, str]]] = field(default=None, metadata=field_metadata)
-    resource: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    bbid_equivalent: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_receiver_spread: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    valoren: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_effective_date: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    hurdle: Optional[Union[Tuple[Union[Op, float], ...], Union[Op, float]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_fixed_rate_day_count_fraction: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_number_of_options: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    auto_tags: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    short_description: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ext_mkt_class: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_point1: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    portfolio_managers: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_commodity_sector: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    hedge_tracking_error: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    supra_strategy: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_coupon_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_put_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    term_status: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    market_cap_category: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    wi_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_call_currency: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_point3: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    display_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_point2: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    strike_price: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    mkt_point4: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    risk_packages: Optional[Union[Tuple[Tuple[str, ...], ...], Tuple[str, ...]]] = field(default=None, metadata=field_metadata)
-    units: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    em_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_credit_region: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ext_mkt_point3: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_classifications_risk_country_name: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_vendor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_index1_tenor: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    mkt_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    alias: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    is_public: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    ext_mkt_point1: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    product_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    ext_mkt_point2: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sub_region_code: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    last_returns_end_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    asset_parameters_fixed_rate: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    asset_parameters_option_type: Optional[Union[Tuple[Union[OptionType, str], ...], Union[OptionType, str]]] = field(default=None, metadata=field_metadata)
-    tsdb_synced_symbol: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    position_source_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_multiplier: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    cross: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    lms_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    flagship: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    minimum_denomination: Optional[Union[Tuple[float, ...], float]] = field(default=None, metadata=field_metadata)
-    in_code: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    asset_parameters_strike_price_relative: Optional[Union[Tuple[Union[float, str], ...], Union[float, str]]] = field(default=None, metadata=field_metadata)
-    sts_rates_maturity: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    sts_include_sstk_analytics: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    position_source: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    listed: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    non_owner_id: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    latest_end_date: Optional[Union[Tuple[datetime.date, ...], datetime.date]] = field(default=None, metadata=field_metadata)
-    shock_style: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    g10_currency: Optional[Union[Tuple[bool, ...], bool]] = field(default=None, metadata=field_metadata)
-    strategy: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    methodology: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    isin: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
-    asset_parameters_strike_type: Optional[Union[Tuple[str, ...], str]] = field(default=None, metadata=field_metadata)
+class FieldFilterMap(DictBase):
+    _PROPERTIES = {'internal_index_calc_region', 'issue_status_date', 'pl_id', 'last_returns_start_date', 'amount_outstanding', 'asset_classifications_gics_sub_industry', 'mdapi_class', 'data_set_ids', 'call_first_date', 'pb_client_id', 'asset_parameters_start', 'owner_id', 'economic_terms_hash', 'sec_db', 'objective', 'simon_intl_asset_tags', 'private_placement_type', 'hedge_notional', 'rank', 'data_set_category', 'pair_calculation', 'asset_parameters_index_family', 'created_by_id', 'vehicle_type', 'market_data_type', 'asset_parameters_payer_day_count_fraction', 'point_class', 'asset_parameters_underlier_type', 'asset_parameters_cap_floor', 'minimum_increment', 'asset_parameters_payer_currency', 'settlement_date', 'hedge_volatility', 'version', 'tags', 'asset_classifications_gics_industry_group', 'market_data_asset', 'asset_classifications_is_primary', 'styles', 'asset_parameters_total_quantity', 'short_name', 'asset_classifications_underliers_asset_class', 'calculation_region', 'eid', 'jsn', 'mkt_quoting_style', 'hurdle_type', 'mic', 'ps_id', 'issue_status', 'region_code', 'dollar_cross', 'portfolio_type', 'vendor', 'popularity', 'currency', 'term', 'real_time_restriction_status', 'asset_parameters_clearing_house', 'rating_fitch', 'non_symbol_dimensions', 'asset_parameters_option_style', 'share_class_type', 'asset_parameters_put_amount', 'asset_parameters_underlier', 'next_rebalance_date', 'asset_parameters_floating_rate_designated_maturity', 'target_notional', 'asset_parameters_tenor', 'mkt_class', 'delisted', 'asset_classifications_digital_asset_class', 'last_updated_since', 'regional_focus', 'asset_parameters_payer_designated_maturity', 'tsdb_shortname', 'seasonal_adjustment_short', 'asset_parameters_exchange_currency', 'asset_classifications_country_name', 'management_fee', 'asset_parameters_settlement_date', 'rating_moodys', 'simon_id', 'development_status', 'cusip', 'notes', 'tags_to_exclude', 'asset_parameters_floating_rate_option', 'internal_index_calc_agent', 'last_rebalance_date', 'rating_second_highest', 'asset_classifications_country_code', 'frequency', 'option_type', 'data_set_sub_category', 'is_live', 'is_legacy_pair_basket', 'issuer_type', 'asset_parameters_pricing_location', 'plot_id', 'asset_parameters_coupon', 'asset_parameters_identifier', 'asset_parameters_last_fixing_date', 'data_product', 'mq_symbol', 'asset_parameters_method_of_settlement', 'sectors', 'redemption_notice_period', 'multiplier', 'asset_parameters_payer_rate_option', 'market_data_point', 'external', 'wpk', 'sts_fx_currency', 'hedge_annualized_volatility', 'fix_order_routing_region', 'name', 'asset_parameters_expiration_date', 'aum', 'exchange', 'folder_name', 'region', 'cid', 'onboarded', 'live_date', 'issue_price', 'sink_factor', 'underlying_data_set_id', 'asset_parameters_notional_amount_in_other_currency', 'asset_parameters_payer_frequency', 'prime_id', 'asset_classifications_gics_sector', 'asset_parameters_pair', 'sts_asset_name', 'description', 'asset_classifications_is_country_primary', 'title', 'net_exposure_classification', 'asset_parameters_strike_price', 'coupon_type', 'last_updated_by_id', 'asset_parameters_forward_price', 'clone_parent_id', 'company', 'gate_type', 'issue_date', 'expiration_date', 'coverage', 'ticker', 'asset_parameters_receiver_rate_option', 'coin_metrics_id', 'call_last_date', 'asset_parameters_payer_spread', 'sts_rates_country', 'asset_parameters_premium_payment_date', 'latest_execution_time', 'asset_parameters_forward_rate', 'asset_parameters_receiver_designated_maturity', 'asset_classifications_digital_asset_industry', 'gate', 'multi_tags', 'gsn', 'gss', 'rating_linear', 'asset_class', 'asset_parameters_index', 'cm_id', 'asset_classifications_vendor', 'type', 'gsideid', 'mdapi', 'ric', 'issuer', 'position_source_id', 'measures', 'asset_parameters_floating_rate_day_count_fraction', 'asset_parameters_notional_amount', 'strategy_aum', 'action', 'id', 'asset_parameters_call_amount', 'asset_parameters_seniority', 'redemption_date', 'identifier', 'index_create_source', 'sec_name', 'sub_region', 'asset_parameters_receiver_day_count_fraction', 'asset_parameters_index2_tenor', 'asset_parameters_notional_currency', 'sedol', 'mkt_asset', 'rating_standard_and_poors', 'asset_types', 'bcid', 'asset_parameters_credit_index_series', 'gsid', 'tdapi', 'asset_classifications_digital_asset_subsector', 'last_updated_message', 'rcic', 'trading_restriction', 'name_raw', 'status', 'asset_parameters_pay_or_receive', 'client_name', 'asset_parameters_index_series', 'asset_classifications_gics_industry', 'on_behalf_of', 'increment', 'accrued_interest_standard', 'enabled', 'sts_commodity', 'sectors_raw', 'sts_commodity_sector', 'asset_parameters_receiver_frequency', 'position_source_name', 'gsid_equivalent', 'categories', 'symbol_dimensions', 'ext_mkt_asset', 'asset_parameters_fixed_rate_frequency', 'coupon', 'side_pocket', 'compliance_restricted_status', 'quoting_style', 'is_entity', 'scenario_group_id', 'asset_parameters_trade_as', 'redemption_period', 'asset_parameters_issuer_type', 'sts_credit_market', 'bbid', 'asset_classifications_risk_country_code', 'asset_parameters_receiver_currency', 'sts_em_dm', 'asset_classifications_digital_asset_sector', 'issue_size', 'returns_enabled', 'seniority', 'asset_parameters_settlement', 'asset_parameters_expiration_time', 'primary_country_ric', 'is_pair_basket', 'asset_parameters_index_version', 'asset_parameters_commodity_reference_price', 'asset_classifications_digital_asset_market', 'default_backcast', 'asset_parameters_number_of_shares', 'use_machine_learning', 'performance_fee', 'report_type', 'lockup_type', 'lockup', 'underlying_asset_ids', 'asset_parameters_fee_currency', 'encoded_stats', 'pnode_id', 'backtest_type', 'asset_parameters_issuer', 'exchange_code', 'asset_parameters_strike', 'oe_id', 'asset_parameters_termination_date', 'resource', 'asset_parameters_receiver_spread', 'bbid_equivalent', 'hurdle', 'asset_parameters_effective_date', 'valoren', 'asset_parameters_number_of_options', 'asset_parameters_fixed_rate_day_count_fraction', 'auto_tags', 'short_description', 'ext_mkt_class', 'mkt_point1', 'portfolio_managers', 'asset_parameters_commodity_sector', 'hedge_tracking_error', 'asset_parameters_put_currency', 'asset_parameters_coupon_type', 'supra_strategy', 'term_status', 'wi_id', 'market_cap_category', 'asset_parameters_call_currency', 'mkt_point3', 'display_id', 'mkt_point2', 'strike_price', 'mkt_point4', 'risk_packages', 'units', 'em_id', 'sts_credit_region', 'country_id', 'ext_mkt_point3', 'asset_classifications_risk_country_name', 'asset_parameters_vendor', 'asset_parameters_index1_tenor', 'mkt_type', 'is_public', 'alias', 'ext_mkt_point1', 'product_type', 'ext_mkt_point2', 'sub_region_code', 'asset_parameters_option_type', 'asset_parameters_fixed_rate', 'last_returns_end_date', 'tsdb_synced_symbol', 'position_source_type', 'asset_parameters_multiplier', 'minimum_denomination', 'flagship', 'lms_id', 'cross', 'in_code', 'asset_parameters_strike_price_relative', 'sts_rates_maturity', 'sts_include_sstk_analytics', 'position_source', 'listed', 'non_owner_id', 'latest_end_date', 'shock_style', 'g10_currency', 'strategy', 'methodology', 'isin', 'asset_parameters_strike_type'}
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class IndexCurveShift(Scenario):
     market_data_pattern: Optional[MarketDataPattern] = field(default=None, metadata=field_metadata)
@@ -6164,24 +5702,14 @@
     exposure_currencies: Optional[Tuple[Currency, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PCOSecurityWeight(Base):
-    security_type: Optional[str] = field(default=None, metadata=field_metadata)
-    currency_weights: Optional[Tuple[PCOCurrencyWeight, ...]] = field(default=None, metadata=field_metadata)
-    settlement_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class User(Base):
     company: str = field(default=None, metadata=field_metadata)
     id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
     country: str = field(default=None, metadata=field_metadata)
     city: str = field(default=None, metadata=field_metadata)
     region: str = field(default=None, metadata=field_metadata)
     email: str = field(default=None, metadata=field_metadata)
@@ -6189,15 +5717,14 @@
     internal: Optional[bool] = field(default=None, metadata=field_metadata)
     system_user: Optional[bool] = field(default=None, metadata=field_metadata)
     app_user: Optional[bool] = field(default=None, metadata=field_metadata)
     analytics_id: Optional[str] = field(default=None, metadata=field_metadata)
     eaa_company: Optional[str] = field(default=None, metadata=field_metadata)
     root_oe_id: Optional[str] = field(default=None, metadata=config(field_name='rootOEId', exclude=exclude_none))
     oe_id: Optional[str] = field(default=None, metadata=field_metadata)
-    drg_id: Optional[str] = field(default=None, metadata=field_metadata)
     root_oe_name: Optional[str] = field(default=None, metadata=config(field_name='rootOEName', exclude=exclude_none))
     oe_name: Optional[str] = field(default=None, metadata=field_metadata)
     oe_alias: Optional[int] = field(default=None, metadata=field_metadata)
     coverage: Optional[Tuple[DictBase, ...]] = field(default=None, metadata=field_metadata)
     internal_email: Optional[str] = field(default=None, metadata=field_metadata)
     kerberos: Optional[str] = field(default=None, metadata=field_metadata)
     first_name: Optional[str] = field(default=None, metadata=field_metadata)
@@ -6216,157 +5743,42 @@
     groups: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
     created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
     last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
     app_managers: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    contact_sources: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class AssetParameters(Base):
-    basket_type: Optional[str] = field(default=None, metadata=field_metadata)
-    style: Optional[str] = field(default=None, metadata=field_metadata)
-    index_calculation_type: Optional[str] = field(default=None, metadata=field_metadata)
-    index_return_type: Optional[str] = field(default=None, metadata=field_metadata)
-    index_divisor: Optional[float] = field(default=None, metadata=field_metadata)
-    currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    quote_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    index_initial_price: Optional[float] = field(default=None, metadata=field_metadata)
-    initial_pricing_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    expiration_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    expiration_location: Optional[str] = field(default=None, metadata=field_metadata)
-    number_of_shares: Optional[float] = field(default=None, metadata=field_metadata)
-    option_style: Optional[str] = field(default=None, metadata=field_metadata)
-    option_type: Optional[OptionType] = field(default=None, metadata=field_metadata)
-    settlement_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    settlement_type: Optional[str] = field(default=None, metadata=field_metadata)
-    strike_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    put_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    put_amount: Optional[float] = field(default=None, metadata=field_metadata)
-    automatic_exercise: Optional[bool] = field(default=None, metadata=field_metadata)
-    call_amount: Optional[float] = field(default=None, metadata=field_metadata)
-    call_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    exercise_time: Optional[str] = field(default=None, metadata=field_metadata)
-    multiplier: Optional[float] = field(default=None, metadata=field_metadata)
-    premium_payment_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    premium: Optional[float] = field(default=None, metadata=field_metadata)
-    premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    callable_: Optional[bool] = field(default=None, metadata=config(field_name='callable', exclude=exclude_none))
-    puttable: Optional[bool] = field(default=None, metadata=field_metadata)
-    perpetual: Optional[bool] = field(default=None, metadata=field_metadata)
-    seniority: Optional[str] = field(default=None, metadata=field_metadata)
-    coupon_type: Optional[str] = field(default=None, metadata=field_metadata)
-    index: Optional[str] = field(default=None, metadata=field_metadata)
-    index_term: Optional[str] = field(default=None, metadata=field_metadata)
-    index_margin: Optional[float] = field(default=None, metadata=field_metadata)
-    coupon: Optional[float] = field(default=None, metadata=field_metadata)
-    issue_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    issuer: Optional[str] = field(default=None, metadata=field_metadata)
-    issuer_country_code: Optional[str] = field(default=None, metadata=field_metadata)
-    issuer_type: Optional[str] = field(default=None, metadata=field_metadata)
-    issue_size: Optional[float] = field(default=None, metadata=field_metadata)
-    commodity_sector: Optional[CommoditySector] = field(default=None, metadata=field_metadata)
-    pricing_location: Optional[PricingLocation] = field(default=None, metadata=field_metadata)
-    contract_months: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    g10_currency: Optional[bool] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-    ultimate_ticker: Optional[str] = field(default=None, metadata=field_metadata)
-    strategy: Optional[Strategy] = field(default=None, metadata=field_metadata)
-    exchange_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    region: Optional[str] = field(default=None, metadata=field_metadata)
-    delivery_point: Optional[str] = field(default=None, metadata=field_metadata)
-    pricing_index: Optional[str] = field(default=None, metadata=field_metadata)
-    common_code: Optional[str] = field(default=None, metadata=field_metadata)
-    issuer_id: Optional[str] = field(default=None, metadata=field_metadata)
-    contract_month: Optional[str] = field(default=None, metadata=field_metadata)
-    bloomberg_collateral_classification: Optional[str] = field(default=None, metadata=field_metadata)
-    load_type: Optional[str] = field(default=None, metadata=field_metadata)
-    contract_unit: Optional[str] = field(default=None, metadata=field_metadata)
-    index_approval_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    is_pair_basket: Optional[bool] = field(default=None, metadata=field_metadata)
-    is_legacy_pair_basket: Optional[bool] = field(default=None, metadata=field_metadata)
-    fixed_rate_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
-    floating_rate_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
-    forward_price: Optional[float] = field(default=None, metadata=field_metadata)
-    pair_calculation: Optional[str] = field(default=None, metadata=field_metadata)
-    pay_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
-    receive_day_count_fraction: Optional[DayCountFraction] = field(default=None, metadata=field_metadata)
-    pay_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    receive_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    resettable_leg: Optional[PayReceive] = field(default=None, metadata=field_metadata)
-    inflation_lag: Optional[str] = field(default=None, metadata=field_metadata)
-    fx_index: Optional[str] = field(default=None, metadata=field_metadata)
-    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
-    index_not_trading_reasons: Optional[IndexNotTradingReasons] = field(default=None, metadata=field_metadata)
-    trade_as: Optional[str] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
-    index_calculation_agent: Optional[str] = field(default=None, metadata=field_metadata)
-    product_type: Optional[ProductType] = field(default=None, metadata=field_metadata)
-    vendor: Optional[str] = field(default=None, metadata=field_metadata)
-    call_first_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    call_last_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    amount_outstanding: Optional[float] = field(default=None, metadata=field_metadata)
-    covered_bond: Optional[bool] = field(default=None, metadata=field_metadata)
-    issue_status: Optional[str] = field(default=None, metadata=field_metadata)
-    issue_status_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    issue_price: Optional[float] = field(default=None, metadata=field_metadata)
-    sinkable: Optional[bool] = field(default=None, metadata=field_metadata)
-    sink_factor: Optional[float] = field(default=None, metadata=field_metadata)
-    accrued_interest_standard: Optional[float] = field(default=None, metadata=field_metadata)
-    redemption_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    redemption_price: Optional[float] = field(default=None, metadata=field_metadata)
-    redemption_amount: Optional[float] = field(default=None, metadata=field_metadata)
-    redemption_percent: Optional[float] = field(default=None, metadata=field_metadata)
-    private_placement_type: Optional[str] = field(default=None, metadata=field_metadata)
-    minimum_piece: Optional[float] = field(default=None, metadata=field_metadata)
-    minimum_increment: Optional[float] = field(default=None, metadata=field_metadata)
-    next_coupon_payment: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    minimum_denomination: Optional[float] = field(default=None, metadata=field_metadata)
-    default_backcast: Optional[bool] = field(default=None, metadata=field_metadata)
-    index_precision: Optional[float] = field(default=None, metadata=field_metadata)
-    official_side: Optional[Side] = field(default=None, metadata=field_metadata)
-    valuation_source: Optional[BasketValuationSource] = field(default=None, metadata=field_metadata)
-    close_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    credit_index_series: Optional[str] = field(default=None, metadata=field_metadata)
-    reference_entity: Optional[str] = field(default=None, metadata=field_metadata)
-    restructuring_type: Optional[str] = field(default=None, metadata=field_metadata)
-    underlying_type: Optional[str] = field(default=None, metadata=field_metadata)
-    underlier: Optional[str] = field(default=None, metadata=field_metadata)
-    next_rebalance_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    last_rebalance_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    last_rebalance_approval_id: Optional[str] = field(default=None, metadata=field_metadata)
-    target_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    rebalance_frequency: Optional[EqBasketRebalanceFrequency] = field(default=None, metadata=field_metadata)
-    historical_methodology: Optional[EqBasketHistoryMethodology] = field(default=None, metadata=field_metadata)
-    cash_reinvestment_treatment: Optional[CashReinvestmentTreatment] = field(default=None, metadata=field_metadata)
-    benchmark: Optional[str] = field(default=None, metadata=field_metadata)
-    attribution_dataset_id: Optional[str] = field(init=False, default='STSATTR', metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class CSLScheduleArray(Base):
     schedule_values: Optional[Tuple[CSLSchedule, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class EqBasketRebalanceCalendar(Base):
-    frequency_rule: Optional[EqBasketRebalanceFrequency] = field(default=None, metadata=field_metadata)
-    date_override: Optional[EqBasketRebalanceDateOverride] = field(default=None, metadata=field_metadata)
+class EntityQuery(Base):
+    format_: Optional[Format] = field(default=None, metadata=config(field_name='format', exclude=exclude_none))
+    where: Optional[FieldFilterMap] = field(default=None, metadata=field_metadata)
+    as_of_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    last_updated_since: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    delay: Optional[int] = field(default=None, metadata=field_metadata)
+    order_by: Optional[Tuple[Union[DictBase, str], ...]] = field(default=None, metadata=field_metadata)
+    scroll: Optional[str] = field(default=None, metadata=field_metadata)
+    scroll_id: Optional[str] = field(default=None, metadata=field_metadata)
+    fields: Optional[Tuple[Union[DictBase, str], ...]] = field(default=None, metadata=field_metadata)
+    limit: Optional[int] = field(default=None, metadata=field_metadata)
+    offset: Optional[int] = field(default=None, metadata=field_metadata)
+    vendor: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class MarketDataShockBasedScenario(Scenario):
@@ -6400,29 +5812,14 @@
     hedge_calc_currency: Optional[PCOCurrencyType] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PCOSecurity(Base):
-    weights: Optional[PCOSecurityWeight] = field(default=None, metadata=field_metadata)
-    base_currency_exposure_limits: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    hedge_ratio: Optional[str] = field(default=None, metadata=field_metadata)
-    local_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    base_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    base_currency_exposure: Optional[str] = field(default=None, metadata=field_metadata)
-    local_currency_exposure: Optional[str] = field(default=None, metadata=field_metadata)
-    security_name: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class RiskMeasure(Base):
     asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
     measure_type: Optional[RiskMeasureType] = field(default=None, metadata=field_metadata)
     unit: Optional[RiskMeasureUnit] = field(default=None, metadata=field_metadata)
     parameters: Optional[RiskMeasureParameter] = field(default=None, metadata=field_metadata)
     value: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
@@ -6438,46 +5835,15 @@
     risk_measure: RiskMeasure = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class EntityQuery(Base):
-    format_: Optional[Format] = field(default=None, metadata=config(field_name='format', exclude=exclude_none))
-    where: Optional[FieldFilterMap] = field(default=None, metadata=field_metadata)
-    as_of_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    last_updated_since: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    delay: Optional[int] = field(default=None, metadata=field_metadata)
-    order_by: Optional[Tuple[Union[DictBase, str], ...]] = field(default=None, metadata=field_metadata)
-    scroll: Optional[str] = field(default=None, metadata=field_metadata)
-    scroll_id: Optional[str] = field(default=None, metadata=field_metadata)
-    fields: Optional[Tuple[Union[DictBase, str], ...]] = field(default=None, metadata=field_metadata)
-    limit: Optional[int] = field(default=None, metadata=field_metadata)
-    offset: Optional[int] = field(default=None, metadata=field_metadata)
-    vendor: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class PCOSecurityBreakdown(Base):
-    breakdown_currency_type: Optional[PCOCurrencyType] = field(default=None, metadata=field_metadata)
-    last_security_breakdown_update_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    securities: Optional[Tuple[PCOSecurity, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CompositeScenario(Scenario):
+class CompositeScenario(Base):
     scenarios: Optional[Tuple[Scenario, ...]] = field(default=None, metadata=field_metadata)
     scenario_type: Optional[str] = field(init=False, default='CompositeScenario', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -6516,18 +5882,17 @@
     market_type: Optional[str] = field(init=False, default='RelativeMarket', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PositionSetRequest(Base):
-    date: datetime.date = field(default=None, metadata=field_metadata)
-    positions: Tuple[PositionsRequest, ...] = field(default=None, metadata=field_metadata)
-    target_notional: Optional[float] = field(default=None, metadata=field_metadata)
+class MarketDataScenario(Base):
+    scenario: Scenario = field(default=None, metadata=field_metadata)
+    subtract_base: Optional[bool] = field(default=False, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PricingDateAndMarketDataAsOf(Base):
@@ -6538,15 +5903,15 @@
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class LiquidityRequest(Base):
     notional: Optional[float] = field(default=None, metadata=field_metadata)
-    positions: Optional[Union[Tuple[Position, ...], Tuple[WeightedPosition, ...]]] = field(default=None, metadata=field_metadata)
+    positions: Optional[DictBase] = field(default=None, metadata=field_metadata)
     risk_model: Optional[str] = field(default=None, metadata=field_metadata)
     date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     participation_rate: Optional[float] = field(default=None, metadata=field_metadata)
     execution_horizon: Optional[float] = field(default=None, metadata=field_metadata)
     execution_start_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     execution_end_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
@@ -6612,30 +5977,23 @@
     transaction_cost_model: Optional[str] = field(default=None, metadata=field_metadata)
     trading_cost: Optional[float] = field(default=None, metadata=field_metadata)
     servicing_cost_long: Optional[float] = field(default=None, metadata=field_metadata)
     servicing_cost_short: Optional[float] = field(default=None, metadata=field_metadata)
     region: Optional[str] = field(default=None, metadata=field_metadata)
     risk_model: Optional[str] = field(default=None, metadata=field_metadata)
     benchmark: Optional[str] = field(default=None, metadata=field_metadata)
-    blended_benchmark: Optional[Tuple[BlendedBenchmarkAttribute, ...]] = field(default=None, metadata=field_metadata)
     tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=field_metadata)
     aggregate_by_tag_name: Optional[str] = field(default=None, metadata=field_metadata)
     fx_hedged: Optional[bool] = field(default=None, metadata=field_metadata)
-    rebalance_calendar: Optional[EqBasketRebalanceCalendar] = field(default=None, metadata=field_metadata)
-    cash_reinvestment_treatment: Optional[CashReinvestmentTreatment] = field(default=None, metadata=field_metadata)
-    historical_methodology: Optional[EqBasketHistoryMethodology] = field(default=None, metadata=field_metadata)
-    backtest_parameters: Optional[EqBasketBacktestParameters] = field(default=None, metadata=field_metadata)
-    bloomberg_publish_parameters: Optional[BloombergPublishParameters] = field(default=None, metadata=field_metadata)
     publish_to_bloomberg: Optional[bool] = field(default=None, metadata=field_metadata)
     publish_to_reuters: Optional[bool] = field(default=None, metadata=field_metadata)
     publish_to_factset: Optional[bool] = field(default=None, metadata=field_metadata)
     include_price_history: Optional[bool] = field(default=None, metadata=field_metadata)
     index_update: Optional[bool] = field(default=None, metadata=field_metadata)
     index_rebalance: Optional[bool] = field(default=None, metadata=field_metadata)
-    export_rebalance: Optional[bool] = field(default=None, metadata=field_metadata)
     index_source_id: Optional[str] = field(default=None, metadata=field_metadata)
     basket_action: Optional[BasketAction] = field(default=None, metadata=field_metadata)
     api_domain: Optional[bool] = field(default=None, metadata=field_metadata)
     initial_price: Optional[float] = field(default=None, metadata=field_metadata)
     stock_level_exposures: Optional[bool] = field(default=None, metadata=field_metadata)
     explode_positions: Optional[bool] = field(default=None, metadata=field_metadata)
     scenario_id: Optional[str] = field(default=None, metadata=field_metadata)
@@ -6673,23 +6031,20 @@
     settlements: Optional[Tuple[PCOSettlements, ...]] = field(default=None, metadata=field_metadata)
     show_cash: Optional[bool] = field(default=None, metadata=field_metadata)
     show_exposure: Optional[bool] = field(default=None, metadata=field_metadata)
     enable_rfq: Optional[bool] = field(default=None, metadata=config(field_name='enableRFQ', exclude=exclude_none))
     fixing_descriptions: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     pco_origin: Optional[PCOOrigin] = field(default=None, metadata=field_metadata)
     pco_action_type: Optional[PCOActionType] = field(default=None, metadata=field_metadata)
-    security_breakdown: Optional[PCOSecurityBreakdown] = field(default=None, metadata=field_metadata)
     version: Optional[str] = field(default=None, metadata=field_metadata)
     roll_currency: Optional[Tuple[PCOParameterValues, ...]] = field(default=None, metadata=field_metadata)
-    user_modified_fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     use_live_market: Optional[bool] = field(default=None, metadata=field_metadata)
     basket_ready_for_trade: Optional[bool] = field(default=None, metadata=field_metadata)
     allow_in_position_rebalance: Optional[bool] = field(default=None, metadata=field_metadata)
     weighting_strategy: Optional[PositionSetWeightingStrategy] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ReportScheduleRequest(Base):
```

### Comparing `gs_quant-1.0.80/gs_quant/target/content.py` & `gs_quant-1.0.9/gs_quant/target/content.py`

 * *Files 2% similar despite different names*

```diff
@@ -244,24 +244,14 @@
     Published = 'Published'
     Replaced = 'Replaced'    
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ChannelMetadata(Base):
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    channel_visibility: Optional[object] = field(default=None, metadata=field_metadata)
-    restricted: Optional[bool] = field(default=None, metadata=field_metadata)
-    streaming: Optional[bool] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class Content(Base):
     body: str = field(default=None, metadata=field_metadata)
     mime_type: object = field(default=None, metadata=field_metadata)
     encoding: object = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
@@ -413,16 +403,14 @@
     certification_type: Optional[object] = field(default=None, metadata=field_metadata)
     asset_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     origin: Optional[Origin] = field(default=None, metadata=field_metadata)
     investment_recommendations: Optional[InvestmentRecommendations] = field(default=None, metadata=field_metadata)
     is_flow: Optional[bool] = field(default=None, metadata=field_metadata)
     is_research_summary: Optional[bool] = field(default=None, metadata=field_metadata)
     is_restricted: Optional[bool] = field(default=None, metadata=field_metadata)
-    post_sharing_type: Optional[object] = field(default=None, metadata=field_metadata)
-    channels_metadata: Optional[Tuple[ChannelMetadata, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class GetManyContentsResponse(Base):
```

### Comparing `gs_quant-1.0.80/gs_quant/target/coordinates.py` & `gs_quant-1.0.9/gs_quant/target/coordinates.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/countries.py` & `gs_quant-1.0.9/gs_quant/target/countries.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/data.py` & `gs_quant-1.0.9/gs_quant/target/data.py`

 * *Files 1% similar despite different names*

```diff
@@ -23,17 +23,15 @@
 from enum import Enum
 
 
 class DataSetType(EnumBase, Enum):    
     
     """Type of the dataset"""
 
-    PlotTool_Pro = 'PlotTool Pro'
-    Alloy = 'Alloy'
-    Snowflake = 'Snowflake'    
+    PlotTool_Pro = 'PlotTool Pro'    
 
 
 class DelayExclusionType(EnumBase, Enum):    
     
     """Type of the delay exclusion"""
 
     LAST_DAY_OF_THE_MONTH = 'LAST_DAY_OF_THE_MONTH'    
@@ -90,22 +88,14 @@
     format_: Optional[str] = field(default=None, metadata=config(field_name='format', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class AlloyService(Base):
-    base_url: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class DataSetCondition(Base):
     column: str = field(default=None, metadata=field_metadata)
     operator: str = field(default=None, metadata=field_metadata)
     value: Optional[float] = field(default=None, metadata=field_metadata)
     values: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
@@ -235,15 +225,14 @@
 class ParserEntity(Base):
     only_normalized_fields: Optional[bool] = field(default=None, metadata=field_metadata)
     quotes: Optional[bool] = field(default=None, metadata=field_metadata)
     trades: Optional[bool] = field(default=None, metadata=field_metadata)
     only_mqtick_fields: Optional[bool] = field(default=None, metadata=field_metadata)
     include_trd_flg_proc: Optional[bool] = field(default=None, metadata=field_metadata)
     keep_raw_fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    include_mmt: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class QueryProcessor(Base):
@@ -279,23 +268,14 @@
     entity_type: Optional[str] = field(init=False, default='MktCoordinate', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class AlloyConfig(Base):
-    data_service: Optional[AlloyService] = field(default=None, metadata=field_metadata)
-    coverage_service: Optional[AlloyService] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class DataFilter(Base):
     field_: str = field(default=None, metadata=config(field_name='field', exclude=exclude_none))
     values: Tuple[str, ...] = field(default=None, metadata=field_metadata)
     column: Optional[str] = field(default=None, metadata=field_metadata)
     where: Optional[DataSetCondition] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
@@ -336,14 +316,51 @@
     min_length: Optional[int] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class DataSetParameters(Base):
+    frequency: str = field(default=None, metadata=field_metadata)
+    category: Optional[str] = field(default=None, metadata=field_metadata)
+    sub_category: Optional[str] = field(default=None, metadata=field_metadata)
+    methodology: Optional[str] = field(default=None, metadata=field_metadata)
+    coverage: Optional[str] = field(default=None, metadata=field_metadata)
+    coverages: Optional[Tuple[AssetType, ...]] = field(default=None, metadata=field_metadata)
+    notes: Optional[str] = field(default=None, metadata=field_metadata)
+    history: Optional[str] = field(default=None, metadata=field_metadata)
+    sample_start: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    sample_end: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    published_date: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    history_date: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
+    owner_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    support_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    support_distribution_list: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    apply_market_data_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
+    upload_data_policy: Optional[str] = field(default=None, metadata=field_metadata)
+    logical_db: Optional[str] = field(default=None, metadata=field_metadata)
+    symbol_strategy: Optional[str] = field(default=None, metadata=field_metadata)
+    underlying_data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
+    immutable: Optional[bool] = field(default=None, metadata=field_metadata)
+    include_in_catalog: Optional[bool] = field(default=False, metadata=field_metadata)
+    coverage_enabled: Optional[bool] = field(default=True, metadata=field_metadata)
+    use_created_time_for_upload: Optional[bool] = field(default=None, metadata=field_metadata)
+    apply_entity_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
+    development_status: Optional[DevelopmentStatus] = field(default=None, metadata=field_metadata)
+    internal_owned: Optional[bool] = field(default=None, metadata=field_metadata)
+    cr_limit_read: Optional[int] = field(default=None, metadata=field_metadata)
+    cr_limit_write: Optional[int] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class DataSetTransforms(Base):
     redact_columns: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     round_columns: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     remap_fields: Optional[Tuple[RemapFieldPair, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
@@ -439,29 +456,28 @@
     end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     start_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     page: Optional[int] = field(default=None, metadata=field_metadata)
     page_size: Optional[int] = field(default=None, metadata=field_metadata)
     end_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     relative_start_date: Optional[str] = field(default=None, metadata=field_metadata)
     relative_end_date: Optional[str] = field(default=None, metadata=field_metadata)
-    adjust_as_of: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     as_of_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     id_as_of_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     use_temporal_x_ref: Optional[bool] = field(default=False, metadata=field_metadata)
     restrict_secondary_identifier: Optional[bool] = field(default=False, metadata=field_metadata)
     since: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     dates: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
     times: Optional[Tuple[datetime.datetime, ...]] = field(default=None, metadata=field_metadata)
     delay: Optional[int] = field(default=None, metadata=field_metadata)
     intervals: Optional[int] = field(default=None, metadata=field_metadata)
     samples: Optional[int] = field(default=None, metadata=field_metadata)
     limit: Optional[int] = field(default=None, metadata=field_metadata)
     polling_interval: Optional[int] = field(default=None, metadata=field_metadata)
-    group_by: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     grouped: Optional[bool] = field(default=None, metadata=field_metadata)
+    group_by: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     fields: Optional[Tuple[Union[DictBase, str], ...]] = field(default=None, metadata=field_metadata)
     restrict_fields: Optional[bool] = field(default=False, metadata=field_metadata)
     entity_filter: Optional[FieldFilterMapDataQuery] = field(default=None, metadata=field_metadata)
     interval: Optional[str] = field(default=None, metadata=field_metadata)
     distinct_consecutive: Optional[bool] = field(default=False, metadata=field_metadata)
     time_filter: Optional[TimeFilter] = field(default=None, metadata=field_metadata)
     use_field_alias: Optional[bool] = field(default=False, metadata=field_metadata)
@@ -472,19 +488,46 @@
     search_until: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     markout: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     offset_to_exchange_open: Optional[str] = field(default=None, metadata=field_metadata)
     offset_to_exchange_close: Optional[str] = field(default=None, metadata=field_metadata)
     multi_trading_session: Optional[bool] = field(default=None, metadata=field_metadata)
     multi_session: Optional[bool] = field(default=None, metadata=field_metadata)
     quote_consolidation: Optional[bool] = field(default=None, metadata=field_metadata)
-    consolidation: Optional[bool] = field(default=None, metadata=field_metadata)
-    primary: Optional[bool] = field(default=None, metadata=field_metadata)
     time_index: Optional[str] = field(default=None, metadata=field_metadata)
-    empty_intervals: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
+    adjust_as_of: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    empty_intervals: Optional[bool] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class DataSetCatalogEntry(Base):
+    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    name: str = field(default=None, metadata=field_metadata)
+    vendor: str = field(default=None, metadata=field_metadata)
+    fields: DictBase = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    short_description: Optional[str] = field(default=None, metadata=field_metadata)
+    data_product: Optional[str] = field(default=None, metadata=field_metadata)
+    terms: Optional[str] = field(default=None, metadata=field_metadata)
+    internal_only: Optional[bool] = field(default=None, metadata=field_metadata)
+    actions: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    default_start_seconds: Optional[float] = field(default=None, metadata=field_metadata)
+    identifier_mapper_name: Optional[str] = field(default=None, metadata=field_metadata)
+    identifier_updater_name: Optional[str] = field(default=None, metadata=field_metadata)
+    default_delay_minutes: Optional[float] = field(default=None, metadata=field_metadata)
+    apply_market_data_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
+    sample: Optional[Tuple[FieldValueMap, ...]] = field(default=None, metadata=field_metadata)
+    parameters: Optional[DataSetParameters] = field(default=None, metadata=field_metadata)
+    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    created_time: Optional[str] = field(default=None, metadata=field_metadata)
+    last_updated_time: Optional[str] = field(default=None, metadata=field_metadata)
+    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    mdapi: Optional[MDAPI] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class DataSetFieldEntity(Base):
     name: str = field(default=None, metadata=field_metadata)
@@ -499,54 +542,14 @@
     metadata: Optional[EntityMetadata] = field(default=None, metadata=field_metadata)
     attributes: Optional[DataSetFieldEntityAttributes] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class DataSetParameters(Base):
-    frequency: str = field(default=None, metadata=field_metadata)
-    category: Optional[str] = field(default=None, metadata=field_metadata)
-    sub_category: Optional[str] = field(default=None, metadata=field_metadata)
-    methodology: Optional[str] = field(default=None, metadata=field_metadata)
-    coverage: Optional[str] = field(default=None, metadata=field_metadata)
-    coverages: Optional[Tuple[AssetType, ...]] = field(default=None, metadata=field_metadata)
-    notes: Optional[str] = field(default=None, metadata=field_metadata)
-    history: Optional[str] = field(default=None, metadata=field_metadata)
-    sample_start: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    sample_end: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    published_date: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    history_date: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
-    owner_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    support_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    support_distribution_list: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    apply_market_data_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
-    upload_data_policy: Optional[str] = field(default=None, metadata=field_metadata)
-    database_id: Optional[str] = field(default=None, metadata=field_metadata)
-    logical_db: Optional[str] = field(default=None, metadata=field_metadata)
-    symbol_strategy: Optional[str] = field(default=None, metadata=field_metadata)
-    underlying_data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
-    immutable: Optional[bool] = field(default=None, metadata=field_metadata)
-    include_in_catalog: Optional[bool] = field(default=False, metadata=field_metadata)
-    coverage_enabled: Optional[bool] = field(default=True, metadata=field_metadata)
-    use_created_time_for_upload: Optional[bool] = field(default=None, metadata=field_metadata)
-    apply_entity_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
-    development_status: Optional[DevelopmentStatus] = field(default=None, metadata=field_metadata)
-    internal_owned: Optional[bool] = field(default=None, metadata=field_metadata)
-    cr_limit_read: Optional[int] = field(default=None, metadata=field_metadata)
-    cr_limit_write: Optional[int] = field(default=None, metadata=field_metadata)
-    alloy_config: Optional[AlloyConfig] = field(default=None, metadata=field_metadata)
-    external_distribution: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class DataSetTransformation(Base):
     transforms: DataSetTransforms = field(default=None, metadata=field_metadata)
     condition: Optional[DataSetCondition] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -599,45 +602,17 @@
     groups: Optional[Tuple[DataGroup, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class DataSetCatalogEntry(Base):
-    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    name: str = field(default=None, metadata=field_metadata)
-    vendor: str = field(default=None, metadata=field_metadata)
-    fields: DictBase = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    short_description: Optional[str] = field(default=None, metadata=field_metadata)
-    data_product: Optional[str] = field(default=None, metadata=field_metadata)
-    terms: Optional[str] = field(default=None, metadata=field_metadata)
-    internal_only: Optional[bool] = field(default=None, metadata=field_metadata)
-    actions: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    default_start_seconds: Optional[float] = field(default=None, metadata=field_metadata)
-    identifier_mapper_name: Optional[str] = field(default=None, metadata=field_metadata)
-    identifier_updater_name: Optional[str] = field(default=None, metadata=field_metadata)
-    default_delay_minutes: Optional[float] = field(default=None, metadata=field_metadata)
-    apply_market_data_entitlements: Optional[bool] = field(default=None, metadata=field_metadata)
-    sample: Optional[Tuple[FieldValueMap, ...]] = field(default=None, metadata=field_metadata)
-    parameters: Optional[DataSetParameters] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    created_time: Optional[str] = field(default=None, metadata=field_metadata)
-    last_updated_time: Optional[str] = field(default=None, metadata=field_metadata)
-    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    mdapi: Optional[MDAPI] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class DataSetDimensions(Base):
-    time_field: str = field(default=None, metadata=field_metadata)
     symbol_dimensions: Tuple[str, ...] = field(default=None, metadata=field_metadata)
+    time_field: Optional[str] = field(default=None, metadata=field_metadata)
     transaction_time_field: Optional[str] = field(default=None, metadata=field_metadata)
     symbol_dimension_properties: Optional[Tuple[FieldColumnPair, ...]] = field(default=None, metadata=field_metadata)
     non_symbol_dimensions: Optional[Tuple[FieldColumnPair, ...]] = field(default=None, metadata=field_metadata)
     symbol_dimension_link: Optional[FieldLink] = field(default=None, metadata=field_metadata)
     linked_dimensions: Optional[Tuple[FieldLinkSelector, ...]] = field(default=None, metadata=field_metadata)
     symbol_filter_dimensions: Optional[Tuple[SymbolFilterDimension, ...]] = field(default=None, metadata=field_metadata)
     key_dimensions: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/data_screen.py` & `gs_quant-1.0.9/gs_quant/target/data_screen.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/groups.py` & `gs_quant-1.0.9/gs_quant/target/groups.py`

 * *Files 3% similar despite different names*

```diff
@@ -37,25 +37,14 @@
     user_ids: Tuple[str, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class UserCoverage(Base):
-    name: str = field(default=None, metadata=field_metadata)
-    email: str = field(default=None, metadata=field_metadata)
-    app: Optional[str] = field(default=None, metadata=field_metadata)
-    phone: Optional[str] = field(default=None, metadata=field_metadata)
-    guid: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class GroupResponse(Base):
     results: Tuple[GroupWithMembersCount, ...] = field(default=None, metadata=field_metadata)
     total_results: int = field(default=None, metadata=field_metadata)
     scroll_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/hedge.py` & `gs_quant-1.0.9/gs_quant/target/hedge.py`

 * *Files 1% similar despite different names*

```diff
@@ -73,36 +73,24 @@
     _1 = '1'
     _2 = '2'
     _3 = '3'
     _4 = '4'
     _5 = '5'    
 
 
-class SamplingPeriod(EnumBase, Enum):    
-    
-    """The length of time in between return samples."""
-
-    Daily = 'Daily'
-    Weekly = 'Weekly'    
-
-
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class AssetConstraint(Base):
     asset_id: str = field(default=None, metadata=field_metadata)
     max_: float = field(default=None, metadata=config(field_name='max', exclude=exclude_none))
     min_: float = field(default=None, metadata=config(field_name='min', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
-class BasketConditions(DictBase):
-    pass
-
-
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ClassificationConstraint(Base):
     type_: str = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
     name: str = field(default=None, metadata=field_metadata)
     max_: float = field(default=None, metadata=config(field_name='max', exclude=exclude_none))
@@ -339,50 +327,46 @@
     exclude_corporate_actions_types: Optional[Tuple[CorporateActionsTypes, ...]] = field(default=None, metadata=field_metadata)
     exclude_hard_to_borrow_assets: Optional[bool] = field(default=None, metadata=field_metadata)
     exclude_restricted_assets: Optional[bool] = field(default=None, metadata=field_metadata)
     max_adv_percentage: Optional[float] = field(default=None, metadata=field_metadata)
     explode_universe: Optional[bool] = field(default=None, metadata=field_metadata)
     min_names: Optional[float] = field(default=None, metadata=field_metadata)
     max_names: Optional[float] = field(default=None, metadata=field_metadata)
-    max_trades: Optional[float] = field(default=None, metadata=field_metadata)
     min_weight: Optional[float] = field(default=None, metadata=field_metadata)
     max_weight: Optional[float] = field(default=None, metadata=field_metadata)
     min_market_cap: Optional[float] = field(default=None, metadata=field_metadata)
     max_market_cap: Optional[float] = field(default=None, metadata=field_metadata)
     max_factor_mctr: Optional[float] = field(default=None, metadata=config(field_name='maxFactorMCTR', exclude=exclude_none))
     max_factor_mctr_by_group: Optional[Tuple[FactorMCTRByGroupConstraint, ...]] = field(default=None, metadata=config(field_name='maxFactorMCTRByGroup', exclude=exclude_none))
     market_participation_rate: Optional[float] = field(default=10, metadata=field_metadata)
     asset_constraints: Optional[Tuple[AssetConstraint, ...]] = field(default=None, metadata=field_metadata)
     constrain_assets_by_notional: Optional[bool] = field(default=None, metadata=field_metadata)
     allow_long_short: Optional[bool] = field(default=None, metadata=field_metadata)
-    only_reweight_target_composition: Optional[bool] = field(default=None, metadata=field_metadata)
     factor_constraints: Optional[Tuple[FactorConstraint, ...]] = field(default=None, metadata=field_metadata)
     classification_constraints: Optional[Tuple[ClassificationConstraint, ...]] = field(default=None, metadata=field_metadata)
     esg_constraints: Optional[Tuple[ESGConstraint, ...]] = field(default=None, metadata=field_metadata)
     constraint_priority_settings: Optional[FactorHedgerConstraintPrioritySettings] = field(default=None, metadata=field_metadata)
     comparisons: Optional[Tuple[HedgerComparison, ...]] = field(default=None, metadata=field_metadata)
     turnover_portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
     max_turnover_percentage: Optional[float] = field(default=None, metadata=field_metadata)
-    return_type: Optional[ReturnType] = field(default=None, metadata=field_metadata)
-    is_best_basket: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PerformanceHedgeParameters(Base):
     hedge_target: Target = field(default=None, metadata=field_metadata)
     universe: Tuple[str, ...] = field(default=None, metadata=field_metadata)
     notional: float = field(default=None, metadata=field_metadata)
     observation_start_date: datetime.date = field(default=None, metadata=field_metadata)
     observation_end_date: datetime.date = field(default=None, metadata=field_metadata)
     backtest_start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     backtest_end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    sampling_period: Optional[SamplingPeriod] = field(default=SamplingPeriod.Weekly, metadata=field_metadata)
+    sampling_period: Optional[str] = field(default='Weekly', metadata=field_metadata)
     max_leverage: Optional[float] = field(default=None, metadata=field_metadata)
     percentage_in_cash: Optional[float] = field(default=None, metadata=field_metadata)
     explode_universe: Optional[bool] = field(default=None, metadata=field_metadata)
     exclude_target_assets: Optional[bool] = field(default=None, metadata=field_metadata)
     exclude_corporate_actions: Optional[bool] = field(default=None, metadata=field_metadata)
     exclude_corporate_actions_types: Optional[Tuple[CorporateActionsTypes, ...]] = field(default=None, metadata=field_metadata)
     exclude_hard_to_borrow_assets: Optional[bool] = field(default=None, metadata=field_metadata)
@@ -396,15 +380,14 @@
     asset_constraints: Optional[Tuple[AssetConstraint, ...]] = field(default=None, metadata=field_metadata)
     classification_constraints: Optional[Tuple[ClassificationConstraint, ...]] = field(default=None, metadata=field_metadata)
     esg_constraints: Optional[Tuple[ESGConstraint, ...]] = field(default=None, metadata=field_metadata)
     benchmarks: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     use_machine_learning: Optional[bool] = field(default=False, metadata=field_metadata)
     lasso_weight: Optional[float] = field(default=None, metadata=field_metadata)
     ridge_weight: Optional[float] = field(default=None, metadata=field_metadata)
-    return_type: Optional[ReturnType] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class Hedge(Base):
```

### Comparing `gs_quant-1.0.80/gs_quant/target/indices.py` & `gs_quant-1.0.9/gs_quant/target/indices.py`

 * *Files 8% similar despite different names*

```diff
@@ -33,39 +33,14 @@
     Approved = 'Approved'
     Approving = 'Approving'
     Rejected = 'Rejected'
     Locked = 'Locked'
     Error = 'Error'    
 
 
-class ISelectActionType(EnumBase, Enum):    
-    
-    """Workflow actions that exist in ISelect"""
-
-    GetStatus = 'GetStatus'
-    ValidateRebalance = 'ValidateRebalance'
-    ToggleConstraints = 'ToggleConstraints'
-    GenerateSubmissionConfirm = 'GenerateSubmissionConfirm'
-    GenerateSubmissionConfirmWithWaiver = 'GenerateSubmissionConfirmWithWaiver'
-    SubmitRebalance = 'SubmitRebalance'
-    CancelRebalance = 'CancelRebalance'
-    SubmitDraft = 'SubmitDraft'
-    CancelDraft = 'CancelDraft'
-    AgeDraft = 'AgeDraft'
-    RerunChecks = 'RerunChecks'
-    TraderApproves = 'TraderApproves'
-    TraderRejects = 'TraderRejects'
-    ClientVerifierApproves = 'ClientVerifierApproves'
-    ClientVerifierRejects = 'ClientVerifierRejects'
-    ClearException = 'ClearException'
-    ClientAcknowledges = 'ClientAcknowledges'
-    AllowWaiver = 'AllowWaiver'
-    DisableWaiver = 'DisableWaiver'    
-
-
 class IndicesCurrency(EnumBase, Enum):    
     
     """Currencies supported for Indices"""
 
     USD = 'USD'
     EUR = 'EUR'
     GBP = 'GBP'
@@ -177,26 +152,14 @@
     user_action: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ISelectError(Base):
-    status_code: Optional[str] = field(default=None, metadata=config(field_name='Status_Code', exclude=exclude_none))
-    validation_messages: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='Validation_Messages', exclude=exclude_none))
-    date_validation_errors: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='Date_Validation_Errors', exclude=exclude_none))
-    index_parameters_errors: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='Index_Parameters_Errors', exclude=exclude_none))
-    underlyer_validation_errors: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='Underlyer_Validation_Errors', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class ISelectIndexParameter(Base):
     name: Optional[str] = field(default=None, metadata=field_metadata)
     value: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -233,27 +196,48 @@
     source: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class PublishParameters(Base):
+    publish_to_bloomberg: bool = field(default=False, metadata=field_metadata)
+    include_price_history: bool = field(default=False, metadata=field_metadata)
+    publish_to_reuters: Optional[bool] = field(default=False, metadata=field_metadata)
+    publish_to_factset: Optional[bool] = field(default=False, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class CreditCustomBasketPricingParameters(Base):
     quote_source: BasketValuationSource = field(default=None, metadata=field_metadata)
     quote_time: str = field(default='16:00:00', metadata=field_metadata)
     quote_side: Side = field(default='Mid', metadata=field_metadata)
     quoting_type: QuoteType = field(default=None, metadata=field_metadata)
     weighting_type: WeightingType = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class CryptoBasketRebalanceInputs(IndicesRebalanceInputTypes):
+    asset_class: AssetClass = field(default='Digital Asset', metadata=field_metadata)
+    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
+    parameters: CryptoBasketParameters = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class CustomBasketsPricingParameters(Base):
     currency: Optional[IndicesCurrency] = field(default=None, metadata=field_metadata)
     asset_data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
     divisor: Optional[float] = field(default=None, metadata=field_metadata)
     fx_data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
     fallback_date: Optional[str] = field(default=None, metadata=field_metadata)
     initial_price: Optional[float] = field(default=None, metadata=field_metadata)
@@ -309,44 +293,130 @@
     position_date: datetime.date = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CryptoBasketCreateInputs(IndicesConstructRequestTypes):
+class CreditCustomBasketCreateInputs(IndicesConstructRequestTypes):
     ticker: str = field(default=None, metadata=field_metadata)
     name: str = field(default=None, metadata=field_metadata)
+    pricing_parameters: CreditCustomBasketPricingParameters = field(default=None, metadata=field_metadata)
     position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
-    asset_class: AssetClass = field(default='Digital Asset', metadata=field_metadata)
-    parameters: CryptoBasketParameters = field(default=None, metadata=field_metadata)
+    return_type: IndexCalculationType = field(default='Price Return', metadata=field_metadata)
+    styles: Tuple[str, ...] = field(default=None, metadata=field_metadata)
+    asset_class: Optional[AssetClass] = field(default='Credit', metadata=field_metadata)
     description: Optional[str] = field(default=None, metadata=field_metadata)
+    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
+    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
+    flagship: Optional[bool] = field(default=False, metadata=field_metadata)
+    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
+    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CryptoBasketRebalanceInputs(IndicesRebalanceInputTypes):
-    asset_class: AssetClass = field(default='Digital Asset', metadata=field_metadata)
+class CreditCustomBasketRebalanceInputs(IndicesRebalanceInputTypes):
+    asset_class: AssetClass = field(default='Credit', metadata=field_metadata)
     position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
-    parameters: CryptoBasketParameters = field(default=None, metadata=field_metadata)
+    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
+    pricing_parameters: Optional[CreditCustomBasketPricingParameters] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
+    save_as_draft: Optional[bool] = field(default=False, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class CryptoBasketCreateInputs(IndicesConstructRequestTypes):
+    ticker: str = field(default=None, metadata=field_metadata)
+    name: str = field(default=None, metadata=field_metadata)
+    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
+    asset_class: AssetClass = field(default='Digital Asset', metadata=field_metadata)
+    parameters: CryptoBasketParameters = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class CustomBasketsBackcastInputs(Base):
     position_set: Tuple[IndicesPositionSet, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
+class CustomBasketsCreateInputs(IndicesConstructRequestTypes):
+    ticker: str = field(default=None, metadata=field_metadata)
+    name: str = field(default=None, metadata=field_metadata)
+    pricing_parameters: CustomBasketsPricingParameters = field(default=None, metadata=field_metadata)
+    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
+    return_type: str = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    styles: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
+    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
+    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
+    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
+    flagship: Optional[bool] = field(default=None, metadata=field_metadata)
+    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
+    allow_limited_access_assets: Optional[bool] = field(default=False, metadata=field_metadata)
+    allow_ca_restricted_assets: Optional[bool] = field(default=False, metadata=config(field_name='allowCARestrictedAssets', exclude=exclude_none))
+    vendor: Optional[str] = field(default=None, metadata=field_metadata)
+    default_backcast: Optional[bool] = field(default=True, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class CustomBasketsEditInputs(Base):
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    styles: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
+    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
+    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
+    index_not_trading_reasons: Optional[IndexNotTradingReasons] = field(default=None, metadata=field_metadata)
+    flagship: Optional[bool] = field(default=None, metadata=field_metadata)
+    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class CustomBasketsRebalanceInputs(Base):
+    position_set: Optional[Tuple[PositionPriceInput, ...]] = field(default=None, metadata=field_metadata)
+    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
+    pricing_parameters: Optional[CustomBasketsPricingParameters] = field(default=None, metadata=field_metadata)
+    allow_limited_access_assets: Optional[bool] = field(default=False, metadata=field_metadata)
+    allow_ca_restricted_assets: Optional[bool] = field(default=False, metadata=config(field_name='allowCARestrictedAssets', exclude=exclude_none))
+    allow_system_approval: Optional[bool] = field(default=False, metadata=field_metadata)
+    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
+    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
+    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
+    save_as_draft: Optional[bool] = field(default=False, metadata=field_metadata)
+    allow_in_position_rebalance: Optional[bool] = field(default=False, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
 class DynamicConstructionResponse(IndicesConstructResponseTypes):
     action: Optional[object] = field(default=None, metadata=field_metadata)
     columns: Optional[Tuple[ISelectConstituentColumn, ...]] = field(default=None, metadata=field_metadata)
     constituent_validations: Optional[tuple] = field(default=None, metadata=field_metadata)
     date_validation_status: Optional[str] = field(default=None, metadata=field_metadata)
     types: Optional[tuple] = field(default=None, metadata=field_metadata)
     date_validations: Optional[tuple] = field(default=None, metadata=field_metadata)
@@ -364,55 +434,48 @@
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ISelectRebalance(Base):
     new_weights: Optional[Tuple[ISelectNewWeight, ...]] = field(default=None, metadata=field_metadata)
     rebalance_date: Optional[str] = field(default=None, metadata=field_metadata)
-    observation_date: Optional[str] = field(default=None, metadata=field_metadata)
     new_parameters: Optional[Tuple[ISelectNewParameter, ...]] = field(default=None, metadata=field_metadata)
     index_parameters: Optional[Tuple[ISelectIndexParameters, ...]] = field(default=None, metadata=field_metadata)
     waiver_requested: Optional[bool] = field(default=None, metadata=field_metadata)
-    custom_basket_import: Optional[str] = field(default=None, metadata=field_metadata)
-    unwind_missing_constituents: Optional[bool] = field(default=True, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ISelectRequest(IndicesRebalanceInputTypes):
     rebalance_date: str = field(default=None, metadata=field_metadata)
+    request_counter: int = field(default=None, metadata=field_metadata)
     use_new_rebalance_interface: bool = field(default=None, metadata=field_metadata)
     new_parameters: Optional[Tuple[ISelectNewParameter, ...]] = field(default=None, metadata=field_metadata)
     index_parameters: Optional[Tuple[ISelectIndexParameter, ...]] = field(default=None, metadata=field_metadata)
     new_weights: Optional[Tuple[ISelectNewWeight, ...]] = field(default=None, metadata=field_metadata)
     new_units: Optional[Tuple[ISelectNewUnit, ...]] = field(default=None, metadata=field_metadata)
-    observation_date: Optional[str] = field(default=None, metadata=field_metadata)
     entry_type: Optional[str] = field(default=None, metadata=field_metadata)
-    request_counter: Optional[int] = field(default=0, metadata=field_metadata)
     waiver_requested: Optional[bool] = field(default=None, metadata=field_metadata)
     presubmit: Optional[bool] = field(default=None, metadata=field_metadata)
     requester_id: Optional[str] = field(default=None, metadata=field_metadata)
-    custom_basket_import: Optional[str] = field(default=None, metadata=field_metadata)
-    action: Optional[str] = field(default=None, metadata=field_metadata)
-    unwind_missing_constituents: Optional[bool] = field(default=True, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ISelectResponse(Base):
-    action: Optional[ISelectActionType] = field(default=None, metadata=config(field_name='Action', exclude=exclude_none))
+    action: Optional[object] = field(default=None, metadata=config(field_name='Action', exclude=exclude_none))
     action_comment: Optional[str] = field(default=None, metadata=config(field_name='ActionComment', exclude=exclude_none))
     asset_name: Optional[str] = field(default=None, metadata=field_metadata)
     asset_short_name: Optional[str] = field(default=None, metadata=field_metadata)
     available_action_confirms: Optional[Tuple[Tuple[str, ...], ...]] = field(default=None, metadata=field_metadata)
-    available_actions: Optional[Tuple[Union[DictBase, ISelectActionType], ...]] = field(default=None, metadata=field_metadata)
+    available_actions: Optional[tuple] = field(default=None, metadata=field_metadata)
     available_rebalance_dates: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     constituent_validations: Optional[tuple] = field(default=None, metadata=field_metadata)
     date_validation_status: Optional[str] = field(default=None, metadata=field_metadata)
     date_validations: Optional[tuple] = field(default=None, metadata=field_metadata)
     entry_mode: Optional[str] = field(default=None, metadata=field_metadata)
     entry_type: Optional[str] = field(default=None, metadata=field_metadata)
     internal_rebalance: Optional[int] = field(default=None, metadata=field_metadata)
@@ -446,181 +509,25 @@
     index_metadata: Tuple[ISelectIndexParameters, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PublishParameters(Base):
-    publish_to_bloomberg: bool = field(default=False, metadata=field_metadata)
-    include_price_history: bool = field(default=False, metadata=field_metadata)
-    publish_to_reuters: Optional[bool] = field(default=False, metadata=field_metadata)
-    publish_to_factset: Optional[bool] = field(default=False, metadata=field_metadata)
-    historical_methodology: Optional[EqBasketHistoryMethodology] = field(default=None, metadata=field_metadata)
-    backtest_parameters: Optional[EqBasketBacktestParameters] = field(default=None, metadata=field_metadata)
-    bloomberg_publish_parameters: Optional[BloombergPublishParameters] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CreditCustomBasketCreateInputs(IndicesConstructRequestTypes):
-    ticker: str = field(default=None, metadata=field_metadata)
-    name: str = field(default=None, metadata=field_metadata)
-    pricing_parameters: CreditCustomBasketPricingParameters = field(default=None, metadata=field_metadata)
-    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
-    return_type: IndexCalculationType = field(default='Price Return', metadata=field_metadata)
-    styles: Tuple[str, ...] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(default='Credit', metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
-    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
-    flagship: Optional[bool] = field(default=False, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CreditCustomBasketEditInputs(Base):
-    name: str = field(default=None, metadata=field_metadata)
-    description: str = field(default=None, metadata=field_metadata)
-    publish_parameters: PublishParameters = field(default=None, metadata=field_metadata)
-    pricing_parameters: CreditCustomBasketPricingParameters = field(default=None, metadata=field_metadata)
-    flagship: bool = field(default=False, metadata=field_metadata)
-    on_behalf_of: str = field(default=None, metadata=field_metadata)
-    styles: Tuple[str, ...] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(default='Credit', metadata=field_metadata)
-    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    return_type: Optional[IndexCalculationType] = field(default='Price Return', metadata=field_metadata)
-    position_set: Optional[Tuple[PositionPriceInput, ...]] = field(default=None, metadata=field_metadata)
-    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CreditCustomBasketRebalanceInputs(IndicesRebalanceInputTypes):
-    asset_class: AssetClass = field(default='Credit', metadata=field_metadata)
-    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
-    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
-    pricing_parameters: Optional[CreditCustomBasketPricingParameters] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-    save_as_draft: Optional[bool] = field(default=False, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class IndicesBackcastInputs(Base):
     parameters: CustomBasketsBackcastInputs = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CustomBasketsCreateInputs(IndicesConstructRequestTypes):
-    ticker: str = field(default=None, metadata=field_metadata)
-    name: str = field(default=None, metadata=field_metadata)
-    pricing_parameters: CustomBasketsPricingParameters = field(default=None, metadata=field_metadata)
-    position_set: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
-    return_type: str = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(default='Equity', metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    styles: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-    cash_reinvestment_treatment: Optional[CashReinvestmentTreatment] = field(default=None, metadata=field_metadata)
-    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
-    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
-    flagship: Optional[bool] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
-    allow_limited_access_assets: Optional[bool] = field(default=False, metadata=field_metadata)
-    allow_ca_restricted_assets: Optional[bool] = field(default=False, metadata=config(field_name='allowCARestrictedAssets', exclude=exclude_none))
-    vendor: Optional[str] = field(default=None, metadata=field_metadata)
-    default_backcast: Optional[bool] = field(default=True, metadata=field_metadata)
-    action_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    preferred_risk_model: Optional[str] = field(default=None, metadata=field_metadata)
-    rebalance_calendar: Optional[EqBasketRebalanceCalendar] = field(default=None, metadata=field_metadata)
-    benchmark: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CustomBasketsEditInputs(Base):
-    asset_class: Optional[AssetClass] = field(default='Equity', metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    styles: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    related_content: Optional[GIRDomain] = field(default=None, metadata=field_metadata)
-    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
-    index_notes: Optional[str] = field(default=None, metadata=field_metadata)
-    index_not_trading_reasons: Optional[IndexNotTradingReasons] = field(default=None, metadata=field_metadata)
-    flagship: Optional[bool] = field(default=None, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    vendor: Optional[str] = field(default=None, metadata=field_metadata)
-    action_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    preferred_risk_model: Optional[str] = field(default=None, metadata=field_metadata)
-    rebalance_calendar: Optional[EqBasketRebalanceCalendar] = field(default=None, metadata=field_metadata)
-    benchmark: Optional[str] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CustomBasketsRebalanceInputs(Base):
-    asset_class: Optional[AssetClass] = field(default='Equity', metadata=field_metadata)
-    position_set: Optional[Tuple[PositionPriceInput, ...]] = field(default=None, metadata=field_metadata)
-    publish_parameters: Optional[PublishParameters] = field(default=None, metadata=field_metadata)
-    pricing_parameters: Optional[CustomBasketsPricingParameters] = field(default=None, metadata=field_metadata)
-    allow_limited_access_assets: Optional[bool] = field(default=False, metadata=field_metadata)
-    allow_ca_restricted_assets: Optional[bool] = field(default=False, metadata=config(field_name='allowCARestrictedAssets', exclude=exclude_none))
-    allow_system_approval: Optional[bool] = field(default=False, metadata=field_metadata)
-    clone_parent_id: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_id: Optional[str] = field(default=None, metadata=field_metadata)
-    portfolio_id: Optional[str] = field(default=None, metadata=field_metadata)
-    save_as_draft: Optional[bool] = field(default=False, metadata=field_metadata)
-    allow_in_position_rebalance: Optional[bool] = field(default=False, metadata=field_metadata)
-    action_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    preferred_risk_model: Optional[str] = field(default=None, metadata=field_metadata)
-    rebalance_calendar: Optional[EqBasketRebalanceCalendar] = field(default=None, metadata=field_metadata)
-    benchmark: Optional[str] = field(default=None, metadata=field_metadata)
-    on_behalf_of: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class IndicesEditInputTypes(Base):
-    parameters: DictBase = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class IndicesEditInputs(Base):
     parameters: CustomBasketsEditInputs = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class IndicesRebalanceInputs(IndicesRebalanceInputTypes):
     parameters: DictBase = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/instrument.py` & `gs_quant-1.0.9/gs_quant/target/instrument.py`

 * *Files 1% similar despite different names*

```diff
@@ -101,44 +101,17 @@
     type_: Optional[AssetType] = field(init=False, default=AssetType.Cash, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CommodIndexSwap(Instrument):
-    index: Optional[str] = field(default=None, metadata=field_metadata)
-    quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days: Optional[int] = field(default=None, metadata=field_metadata)
-    settlement_days_after: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days_type: Optional[str] = field(default=None, metadata=field_metadata)
-    effective_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    termination_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    reset_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    reset_day: Optional[int] = field(default=None, metadata=field_metadata)
-    reset_frequency_multiplier: Optional[int] = field(default=None, metadata=field_metadata)
-    index_name_source: Optional[str] = field(default=None, metadata=field_metadata)
-    execution_method_name: Optional[str] = field(default=None, metadata=field_metadata)
-    execution_method_start_time: Optional[str] = field(default=None, metadata=field_metadata)
-    execution_method_end_time: Optional[str] = field(default=None, metadata=field_metadata)
-    execution_method_location: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.IndexSwap, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class CommodOTCOptionPeriod(Instrument):
     start: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     end: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    contract: Optional[str] = field(default=None, metadata=field_metadata)
     quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.OptionPeriod, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -156,54 +129,33 @@
     type_: Optional[AssetType] = field(init=False, default=AssetType.SwapLeg, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CommodOTCSwapPeriod(Instrument):
-    start: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    end: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.SwapPeriod, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CommodSwapData(Instrument):
+class CommodSwap(Instrument):
     commodity: Optional[str] = field(default=None, metadata=field_metadata)
     quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     contract: Optional[str] = field(default=None, metadata=field_metadata)
     fixing_currency_source: Optional[str] = field(default=None, metadata=field_metadata)
     start: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     floating_type: Optional[str] = field(default=None, metadata=field_metadata)
     number_of_periods: Optional[int] = field(default=None, metadata=field_metadata)
     quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
     fixed_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     settlement: Optional[str] = field(default=None, metadata=field_metadata)
-    fixing_currency: Optional[str] = field(default=None, metadata=field_metadata)
+    fixing_currency: Optional[CurrencyName] = field(default=None, metadata=field_metadata)
     fixed_price_unit: Optional[str] = field(default=None, metadata=field_metadata)
     commodity_reference_price: Optional[str] = field(default=None, metadata=field_metadata)
     end: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     quantity_period: Optional[Period] = field(default=None, metadata=field_metadata)
     strategy: Optional[str] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    buy_sells: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    underlier_short_name: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    settlement_days_type: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days_from: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    currency_summary: Optional[CurrencyName] = field(default=None, metadata=field_metadata)
-    native_quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.SwapData, metadata=config(field_name='type', exclude=exclude_none))
+    type_: Optional[AssetType] = field(init=False, default=AssetType.Swap, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class EqAutoroll(Instrument):
@@ -232,39 +184,14 @@
     type_: Optional[AssetType] = field(init=False, default=AssetType.Autoroll, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class EqBarrier(Instrument):
-    underlier: Optional[str] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    option_type: Optional[OptionType] = field(default=None, metadata=field_metadata)
-    expiration_date: Optional[str] = field(default=None, metadata=field_metadata)
-    strike_price: Optional[float] = field(default=None, metadata=field_metadata)
-    barrier_start_date: Optional[str] = field(default=None, metadata=field_metadata)
-    barrier_end_date: Optional[str] = field(default=None, metadata=field_metadata)
-    barrier_level: Optional[float] = field(default=None, metadata=field_metadata)
-    knock_up_or_down: Optional[UpDown] = field(default=None, metadata=field_metadata)
-    barrier_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    knock_in_or_out: Optional[InOut] = field(default=None, metadata=field_metadata)
-    number_of_options: Optional[float] = field(default=None, metadata=field_metadata)
-    multiplier: Optional[float] = field(default=None, metadata=field_metadata)
-    premium: Optional[float] = field(default=None, metadata=field_metadata)
-    premium_settlement_date: Optional[str] = field(default=None, metadata=field_metadata)
-    currency: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.Barrier, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class EqBinary(Instrument):
     underlier: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     option_type: Optional[OptionType] = field(default=None, metadata=field_metadata)
     expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     settlement_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     strike_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
@@ -277,26 +204,26 @@
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class EqCliquet(Instrument):
-    return_style: Optional[ReturnStyle] = field(default=ReturnStyle.Rate_of_Return, metadata=field_metadata)
+    return_style: Optional[str] = field(default='Rate of Return', metadata=field_metadata)
     last_valuation_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     notional_amount: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     underlier_type: Optional[UnderlierType] = field(default=None, metadata=field_metadata)
     underlier: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    payment_frequency: Optional[PaymentFrequency] = field(default=PaymentFrequency.Maturity, metadata=field_metadata)
+    payment_frequency: Optional[str] = field(default='Maturity', metadata=field_metadata)
     global_cap: Optional[float] = field(default=1000000.0, metadata=field_metadata)
     first_valuation_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     global_floor: Optional[float] = field(default=-1000000.0, metadata=field_metadata)
     strike_price: Optional[float] = field(default=None, metadata=field_metadata)
-    return_type: Optional[ReturnType] = field(default=ReturnType.Sum, metadata=field_metadata)
+    return_type: Optional[str] = field(default='Sum', metadata=field_metadata)
     valuation_period: Optional[str] = field(default=None, metadata=field_metadata)
     expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     premium: Optional[float] = field(default=0.0, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.Cliquet, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
@@ -333,55 +260,26 @@
     type_: Optional[AssetType] = field(init=False, default=AssetType.Forward, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class EqForwardVarianceSwap(Instrument):
-    underlier: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    underlier_type: Optional[UnderlierType] = field(default=None, metadata=field_metadata)
-    expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    strike_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    variance_cap: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    settlement_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    days_in_contract: Optional[float] = field(default=None, metadata=field_metadata)
-    valuation_time: Optional[ValuationTime] = field(default=None, metadata=field_metadata)
-    denominated: Optional[Currency] = field(default=None, metadata=field_metadata)
-    fixing_schedule_dates: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    holiday_calendar: Optional[str] = field(default=None, metadata=field_metadata)
-    initial_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    initial_spot: Optional[float] = field(default=None, metadata=field_metadata)
-    expiry_settlement_days: Optional[str] = field(default=None, metadata=field_metadata)
-    initial_spot_valuation_time: Optional[ValuationTime] = field(default=None, metadata=field_metadata)
-    force_forward_tradable: Optional[bool] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.ForwardVarianceSwap, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class EqFuture(Instrument):
     identifier: Optional[str] = field(default=None, metadata=field_metadata)
     identifier_type: Optional[UnderlierType] = field(default=None, metadata=field_metadata)
     underlier: Optional[str] = field(default=None, metadata=field_metadata)
     multiplier: Optional[float] = field(default=None, metadata=field_metadata)
     expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     quantity: Optional[float] = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     traded_price: Optional[float] = field(default=0.0, metadata=field_metadata)
     total_quantity: Optional[float] = field(default=None, metadata=field_metadata)
     trade_as: Optional[str] = field(default=None, metadata=field_metadata)
-    denominated: Optional[Currency] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.Future, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -493,20 +391,18 @@
     premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     days_in_contract: Optional[float] = field(default=None, metadata=field_metadata)
     valuation_time: Optional[ValuationTime] = field(default=None, metadata=field_metadata)
     denominated: Optional[Currency] = field(default=None, metadata=field_metadata)
     fixing_schedule_dates: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     holiday_calendar: Optional[str] = field(default=None, metadata=field_metadata)
-    initial_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
+    initial_date: Optional[str] = field(default=None, metadata=field_metadata)
     quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     initial_spot: Optional[float] = field(default=None, metadata=field_metadata)
     expiry_settlement_days: Optional[str] = field(default=None, metadata=field_metadata)
-    initial_spot_source_flag: Optional[float] = field(default=None, metadata=field_metadata)
-    force_forward_tradable: Optional[bool] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.VarianceSwap, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -521,15 +417,15 @@
     premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     days_in_contract: Optional[float] = field(default=None, metadata=field_metadata)
     valuation_time: Optional[ValuationTime] = field(default=None, metadata=field_metadata)
     denominated: Optional[Currency] = field(default=None, metadata=field_metadata)
     fixing_schedule_dates: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     holiday_calendar: Optional[str] = field(default=None, metadata=field_metadata)
-    initial_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
+    initial_date: Optional[str] = field(default=None, metadata=field_metadata)
     quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     initial_spot: Optional[float] = field(default=None, metadata=field_metadata)
     expiry_settlement_days: Optional[str] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Equity, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.VolatilitySwap, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
@@ -816,15 +712,14 @@
     settlement_rate_option: Optional[str] = field(default=None, metadata=field_metadata)
     method_of_settlement: Optional[OptionSettlementMethod] = field(default=None, metadata=field_metadata)
     expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     expiration_time: Optional[str] = field(default=None, metadata=field_metadata)
     premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     premium_payment_date: Optional[str] = field(default=None, metadata=field_metadata)
-    exercise_style: Optional[OptionExerciseStyle] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.FX, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.Option, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -841,15 +736,14 @@
     premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     premium_payment_date: Optional[str] = field(default=None, metadata=field_metadata)
     settlement_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     settlement_rate_option: Optional[str] = field(default=None, metadata=field_metadata)
     method_of_settlement: Optional[OptionSettlementMethod] = field(default=None, metadata=field_metadata)
     expiration_time: Optional[str] = field(default=None, metadata=field_metadata)
-    exercise_style: Optional[OptionExerciseStyle] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.FX, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.OptionLeg, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -908,38 +802,14 @@
     type_: Optional[AssetType] = field(init=False, default=AssetType.TarfScheduleLeg, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class FXVarianceSwap(Instrument):
-    pair: Optional[str] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    strike_vol: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    notional_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    notional_amount: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    first_fixing_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    last_fixing_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    settlement_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    fixing_source: Optional[str] = field(default=None, metadata=field_metadata)
-    fixing_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    annualization_factor: Optional[float] = field(default=None, metadata=field_metadata)
-    calculate_mean_return: Optional[float] = field(default=0.0, metadata=field_metadata)
-    premium: Optional[Union[float, str]] = field(default=0, metadata=field_metadata)
-    premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    premium_payment_date: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.FX, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.VarianceSwap, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class FXVolatilitySwap(Instrument):
     pair: Optional[str] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     strike_vol: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     notional_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     notional_amount: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     first_fixing_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
@@ -1192,15 +1062,15 @@
     isda_docs: Optional[str] = field(default='2014', metadata=config(field_name='ISDADocs', exclude=exclude_none))
     termination_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     option_type: Optional[CDOptionType] = field(default=None, metadata=field_metadata)
     method_of_settlement: Optional[OptionSettlementMethod] = field(default=None, metadata=field_metadata)
     notional_amount: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     fixed_rate: Optional[float] = field(default=None, metadata=field_metadata)
     strike: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    strike_type: Optional[str] = field(default=None, metadata=field_metadata)
+    strike_type: Optional[str] = field(default='Spread', metadata=field_metadata)
     settlement_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Credit, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.IndexOption, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
@@ -1269,61 +1139,24 @@
     start: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     floating_type: Optional[str] = field(default=None, metadata=field_metadata)
     fixing_currency: Optional[str] = field(default=None, metadata=field_metadata)
     commodity_reference_price: Optional[str] = field(default=None, metadata=field_metadata)
     quantity_period: Optional[str] = field(default=None, metadata=field_metadata)
     strategy: Optional[str] = field(default=None, metadata=field_metadata)
     premium: Optional[str] = field(default=None, metadata=field_metadata)
-    premium_unit: Optional[str] = field(default=None, metadata=field_metadata)
     premium_type: Optional[str] = field(default=None, metadata=field_metadata)
     period_details: Optional[Tuple[CommodOTCOptionPeriod, ...]] = field(default=None, metadata=field_metadata)
-    native_quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.Option, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CommodSwap(Instrument):
-    commodity: Optional[str] = field(default=None, metadata=field_metadata)
-    quantity: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    contract: Optional[str] = field(default=None, metadata=field_metadata)
-    fixing_currency_source: Optional[str] = field(default=None, metadata=field_metadata)
-    start: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    floating_type: Optional[str] = field(default=None, metadata=field_metadata)
-    number_of_periods: Optional[int] = field(default=None, metadata=field_metadata)
-    quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
-    fixed_price: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    settlement: Optional[str] = field(default=None, metadata=field_metadata)
-    fixing_currency: Optional[str] = field(default=None, metadata=field_metadata)
-    fixed_price_unit: Optional[str] = field(default=None, metadata=field_metadata)
-    commodity_reference_price: Optional[str] = field(default=None, metadata=field_metadata)
-    end: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
-    quantity_period: Optional[Period] = field(default=None, metadata=field_metadata)
-    strategy: Optional[str] = field(default=None, metadata=field_metadata)
-    buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
-    buy_sells: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    underlier_short_name: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
-    settlement_days_type: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_days_from: Optional[str] = field(default=None, metadata=field_metadata)
-    settlement_frequency: Optional[str] = field(default=None, metadata=field_metadata)
-    currency_summary: Optional[CurrencyName] = field(default=None, metadata=field_metadata)
-    period_details: Optional[Tuple[CommodOTCSwapPeriod, ...]] = field(default=None, metadata=field_metadata)
-    native_quantity_unit: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Commod, metadata=field_metadata)
-    type_: Optional[AssetType] = field(init=False, default=AssetType.Swap, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class CommodVolVarSwap(Instrument):
     notional_currency: Optional[CurrencyName] = field(default=None, metadata=field_metadata)
     notional: Optional[float] = field(default=1.0, metadata=field_metadata)
     floating_rate_is_capped: Optional[str] = field(default=None, metadata=field_metadata)
     end_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     margined: Optional[float] = field(default=None, metadata=field_metadata)
     market_disruption_agreement: Optional[str] = field(default=None, metadata=field_metadata)
@@ -1383,15 +1216,15 @@
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class EqSynthetic(Instrument):
     underlier: Union[float, str] = field(default=None, metadata=field_metadata)
     expiry: Union[datetime.date, str] = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
-    swap_type: Optional[SwapType] = field(default=SwapType.Eq_Swap, metadata=field_metadata)
+    swap_type: Optional[str] = field(default='Eq Swap', metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     underlier_type: Optional[UnderlierType] = field(default=None, metadata=field_metadata)
     effective_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     num_of_underlyers: Optional[float] = field(default=None, metadata=field_metadata)
     rate_tenor: Optional[str] = field(default=None, metadata=field_metadata)
     commission: Optional[float] = field(default=None, metadata=field_metadata)
     commission_units: Optional[str] = field(default=None, metadata=field_metadata)
@@ -1581,15 +1414,14 @@
     settlement_rate_option: Optional[str] = field(default=None, metadata=field_metadata)
     method_of_settlement: Optional[OptionSettlementMethod] = field(default=None, metadata=field_metadata)
     expiration_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     expiration_time: Optional[str] = field(default=None, metadata=field_metadata)
     premium: Optional[Union[float, str]] = field(default=None, metadata=field_metadata)
     premium_currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     premium_payment_date: Optional[str] = field(default=None, metadata=field_metadata)
-    exercise_style: Optional[OptionExerciseStyle] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.FX, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.OptionStrategy, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -2058,27 +1890,14 @@
     clearing_house: Optional[SwapClearingHouse] = field(default=None, metadata=field_metadata)
     settlement: Optional[SwapSettlement] = field(default=None, metadata=field_metadata)
     buy_sell: Optional[BuySell] = field(default=None, metadata=field_metadata)
     asset_class: Optional[AssetClass] = field(init=False, default=AssetClass.Rates, metadata=field_metadata)
     type_: Optional[AssetType] = field(init=False, default=AssetType.Swaption, metadata=config(field_name='type', exclude=exclude_none))
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
-    def scale_in_place(self, scaling: Optional[float] = None):
-        if self.unresolved is None:
-            raise RuntimeError('Can only scale resolved instruments')
-        if scaling is None or scaling == 1:
-            return
-    
-        if scaling < 0:
-            flip_dict = {BuySell.Buy: BuySell.Sell, BuySell.Sell: BuySell.Buy}
-            self.buy_sell = flip_dict[self.buy_sell]
-            self.fee *= -1
-        self.notional_amount *= abs(scaling)
-        return
-
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class IRXccySwap(Instrument):
     termination_date: Optional[Union[datetime.date, str]] = field(default=None, metadata=field_metadata)
     notional_amount: Optional[float] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/measures.py` & `gs_quant-1.0.9/gs_quant/target/measures.py`

 * *Files 10% similar despite different names*

```diff
@@ -211,41 +211,14 @@
 
 CDFwdSpread = RiskMeasure(name="CDFwdSpread", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("Forward Spread"))
 CDFwdSpread.__doc__ = "Credit Forward Spread"
 
 CDGamma = RiskMeasure(name="CDGamma", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("Gamma"))
 CDGamma.__doc__ = "CDIndexGamma"
 
-CDIForward = RiskMeasure(name="CDIForward", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIForward"))
-CDIForward.__doc__ = "CDS Index Forward Quote in the Prevailing Quoting Style."
-
-CDIIndexDelta = RiskMeasure(name="CDIIndexDelta", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIIndexDelta"))
-CDIIndexDelta.__doc__ = "CDS Index Delta."
-
-CDIIndexVega = RiskMeasure(name="CDIIndexVega", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIIndexVega"))
-CDIIndexVega.__doc__ = "CDS Index Vega."
-
-CDIOptionPremium = RiskMeasure(name="CDIOptionPremium", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIOptionPremium"))
-CDIOptionPremium.__doc__ = "CDS Index Option Premium"
-
-CDIOptionPremiumFlatFwd = RiskMeasure(name="CDIOptionPremiumFlatFwd", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIOptionPremiumFlatFwd"))
-CDIOptionPremiumFlatFwd.__doc__ = "CDS Index Option Premium assuming Flat Forwards."
-
-CDIOptionPremiumFlatVol = RiskMeasure(name="CDIOptionPremiumFlatVol", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIOptionPremiumFlatVol"))
-CDIOptionPremiumFlatVol.__doc__ = "CDS Index Option Premium assuming Flat Volatilities."
-
-CDISpot = RiskMeasure(name="CDISpot", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDISpot"))
-CDISpot.__doc__ = "CDS Index Spot Quote in the Prevailing Quoting Style."
-
-CDISpreadDV01 = RiskMeasure(name="CDISpreadDV01", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDISpreadDV01"))
-CDISpreadDV01.__doc__ = "CDS Index Rates DV01."
-
-CDIUpfrontPrice = RiskMeasure(name="CDIUpfrontPrice", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("CDIUpfrontPrice"))
-CDIUpfrontPrice.__doc__ = "CDS Index Upfront Price."
-
 CDImpliedVolatility = RiskMeasure(name="CDImpliedVolatility", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("Implied Volatility"))
 CDImpliedVolatility.__doc__ = "CDImpliedVolatility"
 
 CDIndexVega = RiskMeasure(name="CDIndexVega", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("Vega"))
 CDIndexVega.__doc__ = "CDIndexVega"
 
 CDTheta = RiskMeasure(name="CDTheta", asset_class=AssetClass("Credit"), measure_type=RiskMeasureType("Theta"))
@@ -301,23 +274,14 @@
 
 EqTheta = RiskMeasureWithCurrencyParameter(name="EqTheta", asset_class=AssetClass("Equity"), measure_type=RiskMeasureType("Theta"))
 EqTheta.__doc__ = "Change in Dollar Price over one day"
 
 EqVega = RiskMeasureWithCurrencyParameter(name="EqVega", asset_class=AssetClass("Equity"), measure_type=RiskMeasureType("Vega"))
 EqVega.__doc__ = "Change in Dollar Price (USD present value) due to individual 1bp moves in the implied volatility of the underlying equity security"
 
-ExpiryInYears = RiskMeasure(name="ExpiryInYears", measure_type=RiskMeasureType("ExpiryInYears"))
-ExpiryInYears.__doc__ = "Time to Expiry expressed in fractional Years."
-
-FX25DeltaButterflyVolatility = RiskMeasure(name="FX25DeltaButterflyVolatility", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("FX BF 25 Vol"))
-FX25DeltaButterflyVolatility.__doc__ = "The volatility of a 25 delta butterfly"
-
-FX25DeltaRiskReversalVolatility = RiskMeasure(name="FX25DeltaRiskReversalVolatility", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("FX RR 25 Vol"))
-FX25DeltaRiskReversalVolatility.__doc__ = "The volatility of a 25 delta risk reversal"
-
 FXAnnualATMImpliedVol = RiskMeasure(name="FXAnnualATMImpliedVol", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("Annual ATM Implied Volatility"), unit=RiskMeasureUnit("Percent"))
 FXAnnualATMImpliedVol.__doc__ = "FX Annual ATM Implied Volatility"
 
 FXAnnualImpliedVol = RiskMeasure(name="FXAnnualImpliedVol", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("Annual Implied Volatility"), unit=RiskMeasureUnit("Percent"))
 FXAnnualImpliedVol.__doc__ = "FX Annual Implied Volatility"
 
 FXBlackScholes = RiskMeasure(name="FXBlackScholes", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("BSPrice"))
@@ -376,15 +340,15 @@
 
 FXSpot = RiskMeasure(name="FXSpot", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("Spot"))
 FXSpot.__doc__ = "FX spot reference"
 
 FXVega = RiskMeasureWithFiniteDifferenceParameter(name="FXVega", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("Vega"))
 FXVega.__doc__ = "Change in Dollar Price due to a 1 vol move in the implied volatility of ATM instruments used to build the volatility surface"
 
-FairPremium = RiskMeasureWithCurrencyParameter(name="FairPremium", measure_type=RiskMeasureType("FairPremium"))
+FairPremium = RiskMeasure(name="FairPremium", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("FairPremium"))
 FairPremium.__doc__ = "Fair Premium is the instrument present value discounted to the premium settlement date"
 
 FairPremiumInPercent = RiskMeasure(name="FairPremiumInPercent", asset_class=AssetClass("FX"), measure_type=RiskMeasureType("FairPremiumPct"), unit=RiskMeasureUnit("Percent"))
 FairPremiumInPercent.__doc__ = "The instrument present value discounted to the premium settlement excluding any embedded premium date as a percentage"
 
 FairPrice = RiskMeasure(name="FairPrice", asset_class=AssetClass("Commod"), measure_type=RiskMeasureType("Fair Price"))
 FairPrice.__doc__ = "FairPrice"
```

### Comparing `gs_quant-1.0.80/gs_quant/target/monitor.py` & `gs_quant-1.0.9/gs_quant/target/monitor.py`

 * *Files 0% similar despite different names*

```diff
@@ -234,15 +234,14 @@
     measure: str = field(default=None, metadata=field_metadata)
     frequency: str = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=field_metadata)
     start_date: Optional[str] = field(default=None, metadata=field_metadata)
     end_date: Optional[str] = field(default=None, metadata=field_metadata)
     start_time: Optional[str] = field(default=None, metadata=field_metadata)
     end_time: Optional[str] = field(default=None, metadata=field_metadata)
-    should_use_search_until: Optional[bool] = field(default=None, metadata=field_metadata)
     fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     parameters: Optional[FieldMap] = field(default=None, metadata=field_metadata)
     where: Optional[FieldMap] = field(default=None, metadata=field_metadata)
     vendor: Optional[str] = field(default=None, metadata=field_metadata)
     data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/portfolios.py` & `gs_quant-1.0.9/gs_quant/target/portfolios.py`

 * *Files 3% similar despite different names*

```diff
@@ -19,22 +19,14 @@
 import datetime
 from typing import Dict, Optional, Tuple, Union
 from dataclasses import dataclass, field
 from dataclasses_json import LetterCase, config, dataclass_json
 from enum import Enum
 
 
-class ActiveWeightType(EnumBase, Enum):    
-    
-    """Weight type used to calculate active holdings."""
-
-    Net = 'Net'
-    Gross = 'Gross'    
-
-
 class ClientPositionFilter(EnumBase, Enum):    
     
     """Filter used to select client positions from GRDB. 'oeId' selects all positions
        associated with the provided oeId. 'oeIdOrClientAccounts' selects
        positions associated with their the provided oeId or ClientAccounts.
        'clientAccounts' selects positions only associated with those provided
        accounts."""
@@ -62,14 +54,23 @@
     Daily = 'Daily'
     Start_Of_Week = 'Start Of Week'
     End_Of_Week = 'End Of Week'
     Start_Of_Month = 'Start Of Month'
     End_Of_Month = 'End Of Month'    
 
 
+class ReturnType(EnumBase, Enum):    
+    
+    """Return Type for Report Parameters"""
+
+    Gross_Total_Return = 'Gross Total Return'
+    Net_Total_Return = 'Net Total Return'
+    Price_Return = 'Price Return'    
+
+
 class RiskAumSource(EnumBase, Enum):    
     
     """Source of AUM for portfolio risk calculations."""
 
     Gross = 'Gross'
     Long = 'Long'
     Short = 'Short'
@@ -134,15 +135,14 @@
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class TemporalPortfolioParameters(Base):
     return_type: Optional[ReturnType] = field(default=None, metadata=field_metadata)
     refresh_interval: Optional[RefreshInterval] = field(default=None, metadata=field_metadata)
-    active_weight_type: Optional[ActiveWeightType] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PCOPortfolioParameters(Base):
@@ -168,15 +168,14 @@
     fixing_descriptions: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     pco_origin: Optional[PCOOrigin] = field(default=None, metadata=field_metadata)
     version: Optional[str] = field(default=None, metadata=field_metadata)
     trades: Optional[Tuple[PCOTrade, ...]] = field(default=None, metadata=field_metadata)
     investment_ratio: Optional[str] = field(default=None, metadata=field_metadata)
     roll_currency: Optional[Tuple[PCOParameterValues, ...]] = field(default=None, metadata=field_metadata)
     param_version: Optional[str] = field(default=None, metadata=field_metadata)
-    security_breakdown: Optional[PCOSecurityBreakdown] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class Portfolio(Base):
@@ -189,15 +188,14 @@
     entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
     entitlement_exclusions: Optional[EntitlementExclusions] = field(default=None, metadata=field_metadata)
     identifiers: Optional[Tuple[Identifier, ...]] = field(default=None, metadata=field_metadata)
     last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
     last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
     owner_id: Optional[str] = field(default=None, metadata=field_metadata)
     report_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    scenario_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     short_name: Optional[str] = field(default=None, metadata=field_metadata)
     underlying_portfolio_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     type_: Optional[PortfolioType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
     parameters: Optional[DictBase] = field(default=None, metadata=field_metadata)
     aum_source: Optional[RiskAumSource] = field(default=None, metadata=field_metadata)
     tag_name_hierarchy: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/price.py` & `gs_quant-1.0.9/gs_quant/target/price.py`

 * *Files 1% similar despite different names*

```diff
@@ -49,15 +49,39 @@
     composite5_day_adv: Optional[float] = field(default=None, metadata=field_metadata)
     composite10_day_adv: Optional[float] = field(default=None, metadata=field_metadata)
     composite22_day_adv: Optional[float] = field(default=None, metadata=field_metadata)
     adv5_day_pct: Optional[float] = field(default=None, metadata=field_metadata)
     adv10_day_pct: Optional[float] = field(default=None, metadata=field_metadata)
     adv22_day_pct: Optional[float] = field(default=None, metadata=field_metadata)
     median_daily_volume22_day: Optional[float] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+    tags: Optional[Tuple[PositionTag, ...]] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class PositionSetPriceResponse(Base):
+    positions: Optional[Tuple[PositionPriceResponse, ...]] = field(default=None, metadata=field_metadata)
+    divisor: Optional[float] = field(default=None, metadata=field_metadata)
+    initial_price: Optional[float] = field(default=None, metadata=field_metadata)
+    target_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    actual_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    long_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    short_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    gross_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    net_notional: Optional[float] = field(default=None, metadata=field_metadata)
+    type_: Optional[str] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    error_message: Optional[str] = field(default=None, metadata=field_metadata)
+    asset_ids_missing_prices: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    asset_ids_missing_fx_fixings: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    asset_ids_missing_market_caps: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    unsupported_currencies: Optional[Tuple[Currency, ...]] = field(default=None, metadata=field_metadata)
+    asset_ids_missing_multiplier: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    pricing_engine: Optional[BasketPricingEngine] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PriceParameters(Base):
@@ -70,44 +94,19 @@
     fx_data_set_id: Optional[str] = field(default=None, metadata=field_metadata)
     initial_price: Optional[float] = field(default=None, metadata=field_metadata)
     target_notional: Optional[float] = field(default=None, metadata=field_metadata)
     pricing_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     fallback_date: Optional[str] = field(default=None, metadata=field_metadata)
     vendor: Optional[MarketDataVendor] = field(default=None, metadata=field_metadata)
     use_unadjusted_close_price: Optional[bool] = field(default=False, metadata=field_metadata)
-    use_exchange_currency: Optional[bool] = field(default=False, metadata=field_metadata)
     weighting_strategy: Optional[PositionSetWeightingStrategy] = field(default=None, metadata=field_metadata)
     notional_type: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class PositionSetPriceInput(Base):
     positions: Tuple[PositionPriceInput, ...] = field(default=None, metadata=field_metadata)
     parameters: PriceParameters = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class PositionSetPriceResponse(Base):
-    positions: Optional[Tuple[PositionPriceResponse, ...]] = field(default=None, metadata=field_metadata)
-    divisor: Optional[float] = field(default=None, metadata=field_metadata)
-    initial_price: Optional[float] = field(default=None, metadata=field_metadata)
-    target_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    actual_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    long_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    short_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    gross_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    net_notional: Optional[float] = field(default=None, metadata=field_metadata)
-    type_: Optional[str] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    error_message: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_ids_missing_prices: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    asset_ids_missing_fx_fixings: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    asset_ids_missing_market_caps: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    unsupported_currencies: Optional[Tuple[Currency, ...]] = field(default=None, metadata=field_metadata)
-    asset_ids_missing_multiplier: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    pricing_engine: Optional[BasketPricingEngine] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/reports.py` & `gs_quant-1.0.9/gs_quant/target/reports.py`

 * *Files 2% similar despite different names*

```diff
@@ -99,33 +99,15 @@
     Basket_Rebalance_Auto_Approval = 'Basket Rebalance Auto Approval'
     Scenario = 'Scenario'
     Iselect_Backtest = 'Iselect Backtest'
     Backtest_Run = 'Backtest Run'
     Analytics = 'Analytics'
     Risk_Calculation = 'Risk Calculation'
     Factor_Overview_Email = 'Factor Overview Email'
-    FactSet_Fundamentals_Analytics = 'FactSet Fundamentals Analytics'
-    PCO = 'PCO'    
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class AumTimeseriesDataPoint(Base):
-    date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    aum: Optional[float] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class AumTimeseries(Base):
-    data: Optional[Tuple[AumTimeseriesDataPoint, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+    PCO = 'PCO'
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class ParametersOverrides(Base):
     csa_term: Optional[str] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/risk.py` & `gs_quant-1.0.9/gs_quant/target/risk.py`

 * *Files 3% similar despite different names*

```diff
@@ -29,22 +29,14 @@
 
     Exposure = 'Exposure'
     ZScore = 'ZScore'
     Pnl = 'Pnl'
     Mctr = 'Mctr'    
 
 
-class FactorScenarioType(EnumBase, Enum):    
-    
-    """Marquee factor scenario type"""
-
-    Factor_Shock = 'Factor Shock'
-    Factor_Historical_Simulation = 'Factor Historical Simulation'    
-
-
 class OptimizationStatus(EnumBase, Enum):    
     
     """Optimization status."""
 
     Running = 'Running'
     Completed = 'Completed'    
 
@@ -97,32 +89,14 @@
     execution_cost_short: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class FactorHistoricalSimulationScenarioParameters(Base):
-    start_date: datetime.date = field(default=None, metadata=field_metadata)
-    end_date: datetime.date = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class FactorShock(Base):
-    factor: str = field(default=None, metadata=field_metadata)
-    shock: float = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class LiquidityBucket(Base):
     name: Optional[str] = field(default=None, metadata=field_metadata)
     description: Optional[str] = field(default=None, metadata=field_metadata)
     net_exposure: Optional[float] = field(default=None, metadata=field_metadata)
     gross_exposure: Optional[float] = field(default=None, metadata=field_metadata)
     net_weight: Optional[float] = field(default=None, metadata=field_metadata)
     gross_weight: Optional[float] = field(default=None, metadata=field_metadata)
@@ -416,57 +390,25 @@
     risk_short: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ScenarioGetManyRequestPathSchema(Base):
-    id_: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    offset: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    propagate_shocks: Optional[Tuple[bool, ...]] = field(default=None, metadata=field_metadata)
-    short_name: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    factor_scenario_type: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    historical_simulation_end_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    last_updated_by_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    created_by_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    shocked_factor: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    owner_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    description: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    historical_simulation_start_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    shocked_factor_category: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    scenario_group_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class TradeCompleteAtHorizon(Base):
     minutes_expired: Optional[int] = field(default=None, metadata=field_metadata)
     positions_complete: Optional[int] = field(default=None, metadata=field_metadata)
     positions_complete_pct: Optional[float] = field(default=None, metadata=field_metadata)
     notional_complete_pct: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class FactorShockScenarioParameters(Base):
-    factor_shocks: Tuple[FactorShock, ...] = field(default=None, metadata=field_metadata)
-    propagate_shocks: bool = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class LiquidityConstituent(Base):
     asset_id: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=field_metadata)
     exchange: Optional[str] = field(default=None, metadata=field_metadata)
     quantity: Optional[float] = field(default=None, metadata=field_metadata)
     gross_weight: Optional[float] = field(default=None, metadata=field_metadata)
     net_weight: Optional[float] = field(default=None, metadata=field_metadata)
@@ -486,16 +428,14 @@
     beta: Optional[float] = field(default=None, metadata=field_metadata)
     daily_risk: Optional[float] = field(default=None, metadata=field_metadata)
     annualized_risk: Optional[float] = field(default=None, metadata=field_metadata)
     one_day_price_change_pct: Optional[float] = field(default=None, metadata=field_metadata)
     beta_adjusted_exposure: Optional[float] = field(default=None, metadata=field_metadata)
     adv_bucket: Optional[object] = field(default=None, metadata=field_metadata)
     settlement_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    transition_plan_transparency_percentile: Optional[float] = field(default=None, metadata=field_metadata)
-    transition_performance_percentile: Optional[float] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class LiquidityFactorCategory(Base):
     name: Optional[str] = field(default=None, metadata=field_metadata)
@@ -543,30 +483,14 @@
     gross: OptimizationPortfolioSummarySection = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ShockScopeFilter(Base):
-    region: Optional[Region] = field(default=None, metadata=field_metadata)
-    asset_id: Optional[str] = field(default=None, metadata=field_metadata)
-    gics_sector: Optional[str] = field(default=None, metadata=field_metadata)
-    country_code: Optional[CountryCode] = field(default=None, metadata=field_metadata)
-    gics_industry_group: Optional[str] = field(default=None, metadata=field_metadata)
-    gics_industry: Optional[str] = field(default=None, metadata=field_metadata)
-    gics_sub_industry: Optional[str] = field(default=None, metadata=field_metadata)
-    is_investment_grade: Optional[bool] = field(default=None, metadata=field_metadata)
-    tenor: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class LiquidityTableRow(Base):
     asset_id: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=field_metadata)
     adv22_day_pct: Optional[float] = field(default=None, metadata=field_metadata)
     shares: Optional[float] = field(default=None, metadata=field_metadata)
     net_weight: Optional[float] = field(default=None, metadata=field_metadata)
     gross_weight: Optional[float] = field(default=None, metadata=field_metadata)
@@ -620,24 +544,14 @@
     traded_positions: Tuple[OptimizationTradedPosition, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ShockScope(Base):
-    asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
-    type_: Optional[str] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    filter_: Optional[ShockScopeFilter] = field(default=None, metadata=config(field_name='filter', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class LiquidityResponse(Base):
     as_of_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     risk_model: Optional[str] = field(default=None, metadata=field_metadata)
     notional: Optional[float] = field(default=None, metadata=field_metadata)
     currency: Optional[Currency] = field(default=None, metadata=field_metadata)
     report: Optional[str] = field(default=None, metadata=field_metadata)
     summary: Optional[LiquiditySummary] = field(default=None, metadata=field_metadata)
@@ -688,24 +602,14 @@
     close_auction_analytics: Optional[Tuple[OptimizationCloseAuctionAnalytics, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class Shock(Base):
-    scope: ShockScope = field(default=None, metadata=field_metadata)
-    value: float = field(default=None, metadata=field_metadata)
-    type_: str = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class OptimizationResult(Base):
     created_by_id: str = field(default=None, metadata=field_metadata)
     created_time: datetime.datetime = field(default=None, metadata=field_metadata)
     entitlements: Entitlements = field(default=None, metadata=field_metadata)
     entitlement_exclusions: EntitlementExclusions = field(default=None, metadata=field_metadata)
     id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
     last_updated_by_id: str = field(default=None, metadata=field_metadata)
@@ -716,37 +620,14 @@
     trade_schedule: Optional[Tuple[OptimizationTradeSchedule, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class Scenario(Base):
-    name: str = field(default=None, metadata=field_metadata)
-    shocks: Optional[Tuple[Shock, ...]] = field(default=None, metadata=field_metadata)
-    created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
-    entitlement_exclusions: Optional[EntitlementExclusions] = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    identifiers: Optional[Tuple[Identifier, ...]] = field(default=None, metadata=field_metadata)
-    last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    scenario_group_id: Optional[str] = field(default=None, metadata=field_metadata)
-    short_name: Optional[str] = field(default=None, metadata=field_metadata)
-    owner_id: Optional[str] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    type_: Optional[FactorScenarioType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    parameters: Optional[DictBase] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class OptimizationRequest(Base):
     positions: Tuple[Position, ...] = field(default=None, metadata=field_metadata)
     execution_start_time: datetime.datetime = field(default=None, metadata=field_metadata)
     execution_end_time: datetime.datetime = field(default=None, metadata=field_metadata)
     parameters: DictBase = field(default=None, metadata=field_metadata)
     type_: OptimizationType = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
     created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/risk_models.py` & `gs_quant-1.0.9/gs_quant/target/risk_models.py`

 * *Files 16% similar despite different names*

```diff
@@ -54,55 +54,26 @@
     Factor_Id = 'Factor Id'
     Factor_Name = 'Factor Name'
     Factor_Category_Id = 'Factor Category Id'
     Factor_Category = 'Factor Category'
     Factor_Return = 'Factor Return'
     Factor_Standard_Deviation = 'Factor Standard Deviation'
     Factor_Z_Score = 'Factor Z Score'
-    Factor_Volatility = 'Factor Volatility'
     Covariance_Matrix = 'Covariance Matrix'
     Issuer_Specific_Covariance = 'Issuer Specific Covariance'
-    Factor_Portfolios = 'Factor Portfolios'
-    Bid_Ask_Spread = 'Bid Ask Spread'
-    Bid_Ask_Spread_30d = 'Bid Ask Spread 30d'
-    Bid_Ask_Spread_60d = 'Bid Ask Spread 60d'
-    Bid_Ask_Spread_90d = 'Bid Ask Spread 90d'
-    Trading_Volume = 'Trading Volume'
-    Trading_Volume_30d = 'Trading Volume 30d'
-    Trading_Volume_60d = 'Trading Volume 60d'
-    Trading_Volume_90d = 'Trading Volume 90d'
-    Traded_Value_30d = 'Traded Value 30d'
-    Composite_Volume = 'Composite Volume'
-    Composite_Volume_30d = 'Composite Volume 30d'
-    Composite_Volume_60d = 'Composite Volume 60d'
-    Composite_Volume_90d = 'Composite Volume 90d'
-    Composite_Value_30d = 'Composite Value 30d'
-    Issuer_Market_Cap = 'Issuer Market Cap'
-    Price = 'Price'
-    Model_Price = 'Model Price'
-    Capitalization = 'Capitalization'
-    Currency = 'Currency'
-    Unadjusted_Specific_Risk = 'Unadjusted Specific Risk'
-    Dividend_Yield = 'Dividend Yield'
-    Pre_VRA_Covariance_Matrix = 'Pre VRA Covariance Matrix'
-    Unadjusted_Covariance_Matrix = 'Unadjusted Covariance Matrix'
-    Risk_Free_Rate = 'Risk Free Rate'
-    Currency_Exchange_Rate = "Currency Exchange Rate"
+    Factor_Portfolios = 'Factor Portfolios'    
 
 
 class RiskModelEventType(EnumBase, Enum):    
     
     """Event type for risk model class."""
 
     Risk_Model = 'Risk Model'
     Risk_Model_PFP_Data = 'Risk Model PFP Data'
-    Risk_Model_ISC_Data = 'Risk Model ISC Data'
-    Risk_Model_AWS = 'Risk Model AWS'
-    Risk_Model_PFP_Data_AWS = 'Risk Model PFP Data AWS'
-    Risk_Model_ISC_Data_AWS = 'Risk Model ISC Data AWS'    
+    Risk_Model_ISC_Data = 'Risk Model ISC Data'    
 
 
 class RiskModelLogicalDb(EnumBase, Enum):    
     
     QSAR_AX_NYC = 'QSAR_AX_NYC'
     STUDIO_DAILY = 'STUDIO_DAILY'    
 
@@ -131,15 +102,14 @@
 
 class RiskModelUniverseIdentifierRequest(EnumBase, Enum):    
     
     """The identifier which the risk model is queried by."""
 
     gsid = 'gsid'
     bbid = 'bbid'
-    bcid = 'bcid'
     cusip = 'cusip'
     sedol = 'sedol'
     ric = 'ric'
     ticker = 'ticker'
     primeId = 'primeId'
     isin = 'isin'    
 
@@ -207,70 +177,39 @@
     covariance: Tuple[float, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class RiskModelCurrencyRatesData(Base):
-    currency: Tuple[str, ...] = field(default=None, metadata=field_metadata)
-    exchangeRate: Tuple[float, ...] = field(default=None, metadata=field_metadata)
-    risk_free_rate: Tuple[float, ...] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class RiskModelAssetData(Base):
     universe: Tuple[str, ...] = field(default=None, metadata=field_metadata)
     specific_risk: Tuple[float, ...] = field(default=None, metadata=field_metadata)
     factor_exposure: Tuple[RiskModelFactorExposure, ...] = field(default=None, metadata=field_metadata)
-    unadjusted_specific_risk: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     specific_return: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     daily_return: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     estimation_universe_weight: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     residual_variance: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     historical_beta: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     predicted_beta: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     global_predicted_beta: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     total_risk: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    bid_ask_spread: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    bid_ask_spread30d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    bid_ask_spread60d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    bid_ask_spread90d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    trading_volume: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    trading_volume30d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    trading_volume60d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    trading_volume90d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    traded_value30d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    composite_volume: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    composite_volume30d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    composite_volume60d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    composite_volume90d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    composite_value30d: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    issuer_market_cap: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    price: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    capitalization: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    currency: Optional[Tuple[Currency, ...]] = field(default=None, metadata=field_metadata)
-    dividend_yield: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     r_squared: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     fair_value_gap_percent: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     fair_value_gap_standard_deviation: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
-    model_price: Optional[Tuple[float, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class RiskModelCoverageRequest(Base):
     asset_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     as_of_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     sort_by_term: Optional[RiskModelTerm] = field(default=None, metadata=field_metadata)
-    vendor: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class RiskModelDataAssetsRequest(Base):
@@ -315,18 +254,15 @@
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class RiskModelData(Base):
     date: datetime.date = field(default=None, metadata=field_metadata)
     asset_data: Optional[RiskModelAssetData] = field(default=None, metadata=field_metadata)
     factor_data: Optional[Tuple[RiskModelFactorData, ...]] = field(default=None, metadata=field_metadata)
     covariance_matrix: Optional[Tuple[Tuple[float, ...], ...]] = field(default=None, metadata=field_metadata)
-    pre_vra_covariance_matrix: Optional[Tuple[Tuple[float, ...], ...]] = field(default=None, metadata=config(field_name='preVRACovarianceMatrix', exclude=exclude_none))
-    unadjusted_covariance_matrix: Optional[Tuple[Tuple[float, ...], ...]] = field(default=None, metadata=field_metadata)
     issuer_specific_covariance: Optional[RiskModelIssuerSpecificCovarianceData] = field(default=None, metadata=field_metadata)
-    currency_rates_data: Optional[RiskModelCurrencyRatesData] = field(default=None, metadata=field_metadata)
     factor_portfolios: Optional[RiskModelFactorPortfoliosData] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/scenarios.py` & `gs_quant-1.0.9/gs_quant/target/positions_v2_pricing.py`

 * *Files 23% similar despite different names*

```diff
@@ -21,74 +21,40 @@
 from dataclasses import dataclass, field
 from dataclasses_json import LetterCase, config, dataclass_json
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ByAssetPnlResult(Base):
-    asset_id: str = field(default=None, metadata=field_metadata)
-    name: str = field(default=None, metadata=field_metadata)
-    bbid: Optional[str] = field(default=None, metadata=field_metadata)
-    sector: Optional[str] = field(default=None, metadata=field_metadata)
-    industry: Optional[str] = field(default=None, metadata=field_metadata)
-    country: Optional[str] = field(default=None, metadata=field_metadata)
-    direction: Optional[str] = field(default=None, metadata=field_metadata)
-    exposure: Optional[float] = field(default=None, metadata=field_metadata)
-    estimated_pnl: Optional[float] = field(default=None, metadata=field_metadata)
-    estimated_performance: Optional[float] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ErroredScenario(Base):
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    error_message: Optional[str] = field(default=None, metadata=field_metadata)
+class PositionsPricingParameters(Base):
+    currency: str = field(default=None, metadata=field_metadata)
+    weighting_strategy: str = field(default=None, metadata=field_metadata)
+    carryover_positions_for_missing_dates: Optional[bool] = field(default=False, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SummaryResult(Base):
-    estimated_pnl: float = field(default=None, metadata=field_metadata)
-    estimated_performance: Optional[float] = field(default=None, metadata=field_metadata)
-    net_exposure_post_scenario: Optional[float] = field(default=None, metadata=field_metadata)
+class PositionsRequest(Base):
+    asset_id: str = field(default=None, metadata=field_metadata)
+    weight: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PnlResult(Base):
-    name: str = field(default=None, metadata=field_metadata)
-    estimated_pnl: float = field(default=None, metadata=field_metadata)
-    factor_exposure: Optional[float] = field(default=None, metadata=field_metadata)
-    exposure: Optional[float] = field(default=None, metadata=field_metadata)
-    factor_shock: Optional[float] = field(default=None, metadata=field_metadata)
-    by_asset: Optional[ByAssetPnlResult] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ScenarioResponse(Base):
-    summary: Optional[SummaryResult] = field(default=None, metadata=field_metadata)
-    factor_pnl: Optional[PnlResult] = field(default=None, metadata=field_metadata)
-    by_sector_aggregations: Optional[PnlResult] = field(default=None, metadata=field_metadata)
-    by_region_aggregations: Optional[PnlResult] = field(default=None, metadata=field_metadata)
-    by_direction_aggregations: Optional[PnlResult] = field(default=None, metadata=field_metadata)
-    by_asset: Optional[ByAssetPnlResult] = field(default=None, metadata=field_metadata)
+class PositionSetRequest(Base):
+    date: datetime.date = field(default=None, metadata=field_metadata)
+    target_notional: float = field(default=None, metadata=field_metadata)
+    positions: Tuple[PositionsRequest, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ScenarioCalculationResponse(Base):
-    scenarios: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    errored_scenarios: Optional[Tuple[ErroredScenario, ...]] = field(default=None, metadata=field_metadata)
-    results: Optional[Tuple[ScenarioResponse, ...]] = field(default=None, metadata=field_metadata)
+class PositionsPricingRequest(Base):
+    parameters: PositionsPricingParameters = field(default=None, metadata=field_metadata)
+    position_sets: Tuple[PositionSetRequest, ...] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
```

### Comparing `gs_quant-1.0.80/gs_quant/target/screens.py` & `gs_quant-1.0.9/gs_quant/target/screens.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/target/secmaster.py` & `gs_quant-1.0.9/gs_quant/target/workspaces_markets.py`

 * *Files 8% similar despite different names*

```diff
@@ -19,381 +19,418 @@
 import datetime
 from typing import Dict, Optional, Tuple, Union
 from dataclasses import dataclass, field
 from dataclasses_json import LetterCase, config, dataclass_json
 from enum import Enum
 
 
-class SecMasterAssetType(EnumBase, Enum):    
+class ComponentType(EnumBase, Enum):    
     
-    """Asset type differentiates the product categorization or contract type."""
+    """Enum listing supported component types."""
 
-    Austrian_Crt = 'Austrian Crt'
-    BDR = 'BDR'
-    Belgium_Cert = 'Belgium Cert'
-    CDR = 'CDR'
-    EDR = 'EDR'
-    German_Cert = 'German Cert'
-    IDR = 'IDR'
-    RDC = 'RDC'
-    Swiss_Cert = 'Swiss Cert'
-    Canadian_DR = 'Canadian DR'
-    ETF = 'ETF'
-    ETN = 'ETN'
-    Future = 'Future'
-    Index = 'Index'
-    Option = 'Option'
-    Preferred_Stock = 'Preferred Stock'
-    Single_Stock = 'Single Stock'
-    Common_Stock = 'Common Stock'
-    ADR = 'ADR'
-    GDR = 'GDR'
-    Dutch_Cert = 'Dutch Cert'
-    NY_Reg_Shrs = 'NY Reg Shrs'
-    Receipt = 'Receipt'
-    Unit = 'Unit'
-    Mutual_Fund = 'Mutual Fund'
-    Right = 'Right'
-    Preferred = 'Preferred'
-    Misc_ = 'Misc.'
-    REIT = 'REIT'
-    Private_Comp = 'Private Comp'
-    Preference = 'Preference'
-    Ltd_Part = 'Ltd Part'
-    Tracking_Stk = 'Tracking Stk'
-    Royalty_Trst = 'Royalty Trst'
-    Closed_End_Fund = 'Closed-End Fund'
-    Open_End_Fund = 'Open-End Fund'
-    Fund_of_Funds = 'Fund of Funds'
-    MLP = 'MLP'
-    Stapled_Security = 'Stapled Security'
-    Savings_Share = 'Savings Share'
-    Equity_WRT = 'Equity WRT'
-    Savings_Plan = 'Savings Plan'
-    Equity_Index = 'Equity Index'
-    Municipal_Bond = 'Municipal Bond'
-    Corporate_Bond = 'Corporate Bond'
-    Government_Bond = 'Government Bond'
-    Agency_Bond = 'Agency Bond'
-    Currency = 'Currency'
-    Equity_Option = 'Equity Option'
-    Financial_index_future_ = 'Financial index future.'
-    Single_Stock_Future = 'Single Stock Future'
-    Pool = 'Pool'
-    Certificate_of_Deposit = 'Certificate of Deposit'
-    Debt_Structured_Note = 'Debt Structured Note'
-    Agency_CMO = 'Agency CMO'
-    Future_Option = 'Future Option'
-    Convertible_Bond = 'Convertible Bond'
-    Singapore_DR = 'Singapore DR'
+    article = 'article'
+    assetPlot = 'assetPlot'
+    chart = 'chart'
+    barChart = 'barChart'
+    commentary = 'commentary'
+    commentaryPromo = 'commentaryPromo'
+    container = 'container'
+    datagrid = 'datagrid'
+    dataviz = 'dataviz'
+    empty = 'empty'
+    legend = 'legend'
+    market = 'market'
+    monitor = 'monitor'
+    plot = 'plot'
+    promo = 'promo'
+    rates = 'rates'
+    relatedLinks = 'relatedLinks'
+    research = 'research'
+    screener = 'screener'
+    selector = 'selector'
+    separator = 'separator'
+    stackedBarChart = 'stackedBarChart'
+    treemap = 'treemap'
+    video = 'video'
+    webinar = 'webinar'    
 
 
-
-class SecMasterCorporateActionStatus(EnumBase, Enum):    
+class WorkspaceType(EnumBase, Enum):    
     
-    """Status of corporate actions."""
+    """Enum listing support workspace types."""
 
-    Normal = 'Normal'
-    Completed = 'Completed'
-    Pending = 'Pending'
-    Deleted = 'Deleted'
-    Incomplete = 'Incomplete'
-    Missing_Adj_Factor = 'Missing Adj Factor'
-    Not_Quoted_By_Exchange = 'Not Quoted By Exchange'
-    Missing_Terms = 'Missing Terms'
-    Cancelled = 'Cancelled'
-    Lapsed = 'Lapsed'
-    Proposed = 'Proposed'
-    Withdrawn = 'Withdrawn'
-    All = 'All'    
+    cashboard = 'cashboard'
+    multiplot = 'multiplot'
+    study = 'study'    
 
 
-class SecMasterCorporateActionType(EnumBase, Enum):    
-    
-    """Types of corporate actions."""
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class ComponentSelection(Base):
+    selector_id: str = field(default=None, metadata=field_metadata)
+    tag: str = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
-    Cash_Dividend = 'Cash Dividend'
-    Merger = 'Merger'
-    Spinoff = 'Spinoff'
-    Split = 'Split'
-    Rights = 'Rights'
-    Reorganization = 'Reorganization'
-    Special_Adjustment = 'Special Adjustment'
-    Quote_Lot_Adjustment = 'Quote Lot Adjustment'
-    Currency_Adjustment = 'Currency Adjustment'
-    All = 'All'    
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class ContainerComponentParameters(Base):
+    component_id: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterAuditFields(Base):
-    last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    owner_id: Optional[str] = field(default=None, metadata=field_metadata)
+class LegendItem(Base):
+    color: str = field(default=None, metadata=field_metadata)
+    icon: str = field(default=None, metadata=field_metadata)
+    name: str = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class MarketComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
-class SecMasterIdentifiers(DictBase):
+class NotificationTokenBody(DictBase):
     pass
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterRecord(Base):
-    recordid: Optional[float] = field(default=None, metadata=field_metadata)
-    action_type: Optional[str] = field(default=None, metadata=field_metadata)
-    instrument_value: Optional[float] = field(default=None, metadata=field_metadata)
-    data_value: Optional[float] = field(default=None, metadata=field_metadata)
-    term_type: Optional[str] = field(default=None, metadata=field_metadata)
+class PromoComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
+    body: Optional[str] = field(default=None, metadata=field_metadata)
+    size: Optional[str] = field(default=None, metadata=field_metadata)
+    hide_border: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResourceCompany(Base):
-    company_id: Optional[float] = field(default=None, metadata=field_metadata)
-    company_name: Optional[str] = field(default=None, metadata=field_metadata)
-    identifiers: Optional[DictBase] = field(default=None, metadata=field_metadata)
+class SeparatorComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=field_metadata)
-    issuer_id: Optional[str] = field(default=None, metadata=field_metadata)
+    size: Optional[str] = field(default=None, metadata=field_metadata)
+    show_more_url: Optional[str] = field(default=None, metadata=field_metadata)
 
 
-SecMasterSources = Dict[str, str]
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class VideoComponentParameters(Base):
+    replay_url: str = field(default=None, metadata=field_metadata)
+    date: Optional[str] = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    height: Optional[float] = field(default=None, metadata=field_metadata)
+    title: Optional[str] = field(default=None, metadata=field_metadata)
+    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterTemporalCompany(Base):
-    gs_company_id: str = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=field_metadata)
+class WebinarProvider(Base):
+    url: str = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ExchangeGetRequestPathSchema(Base):
-    gs_exchange_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    mic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    operating_mic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ric_suffix_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ric_exchange_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    bbg_exchange_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    country: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    as_of_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    offset: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+class WebinarSpeaker(Base):
+    name: str = field(default=None, metadata=field_metadata)
+    title: str = field(default=None, metadata=field_metadata)
+    author_url: Optional[str] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterAssetSources(Base):
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    asset_class: Optional[str] = field(default=None, metadata=field_metadata)
-    product: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
-    exchange: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
-    company: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
-    classifications: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
-    identifiers: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
+class WorkspaceDate(Base):
+    days: float = field(default=None, metadata=field_metadata)
+    text: str = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterCorporateAction(Base):
-    actionid: Optional[str] = field(default=None, metadata=field_metadata)
-    eventid: Optional[str] = field(default=None, metadata=field_metadata)
-    gsid: Optional[str] = field(default=None, metadata=field_metadata)
-    event_type: Optional[SecMasterCorporateActionType] = field(default=None, metadata=field_metadata)
-    announce_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    effective_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    multiplicative_adjust: Optional[float] = field(default=None, metadata=field_metadata)
-    additive_adjust: Optional[float] = field(default=None, metadata=field_metadata)
-    event_status: Optional[SecMasterCorporateActionStatus] = field(default=None, metadata=field_metadata)
-    records: Optional[Tuple[SecMasterRecord, ...]] = field(default=None, metadata=field_metadata)
+class WorkspaceTab(Base):
+    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    name: str = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class ArticleComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterExchange(Base):
-    gs_exchange_id: str = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    country: Optional[str] = field(default=None, metadata=field_metadata)
-    timezone: Optional[str] = field(default=None, metadata=field_metadata)
-    type_: Optional[str] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
+class AssetPlotComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterGetActionsRequestPathSchema(Base):
-    event_type: Optional[Tuple[SecMasterCorporateActionType, ...]] = field(default=None, metadata=field_metadata)
-    event_status: Optional[Tuple[SecMasterCorporateActionStatus, ...]] = field(default=None, metadata=field_metadata)
-    gsid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    event_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    corp_action_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    effective_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    as_of_time: Optional[Tuple[datetime.datetime, ...]] = field(default=None, metadata=field_metadata)
-    effective_date_from: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    effective_date_to: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
+class BarChartComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
+    chart_name: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterGetCapitalStructureRequestPathSchema(Base):
-    gsid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ticker: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    bbid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ric: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    rcic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    cusip: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    sedol: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    isin: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    gss: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    prime_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    issuer_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    type_: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    as_of_time: Optional[Tuple[datetime.datetime, ...]] = field(default=None, metadata=field_metadata)
-    is_primary: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    effective_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+class ChartComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    ids: Tuple[str, ...] = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
+    chart_name: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterGetRequestPathSchema(Base):
-    gsid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ticker: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    bbg: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    bbid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    ric: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    rcic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    cusip: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    sedol: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    isin: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    gss: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    prime_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    type_: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    country_code: Optional[Tuple[CountryCode, ...]] = field(default=None, metadata=field_metadata)
-    is_primary: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    all_listings: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    effective_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
-    as_of_time: Optional[Tuple[datetime.datetime, ...]] = field(default=None, metadata=field_metadata)
-    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+class CommentaryComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResourceExchange(Base):
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
+class CommentaryPromoComponentParameters(Base):
+    height: Optional[float] = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
+    body: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResourceProduct(Base):
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
+class DataGridComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterTemporalProduct(Base):
-    gsid: str = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    country: Optional[str] = field(default=None, metadata=field_metadata)
-    primary_exchange_id: Optional[str] = field(default=None, metadata=field_metadata)
-    type_: Optional[SecMasterAssetType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    subtype: Optional[str] = field(default=None, metadata=field_metadata)
-    source: Optional[str] = field(default=None, metadata=field_metadata)
-    flag: Optional[bool] = field(default=None, metadata=field_metadata)
-    update_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+class LegendComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    items: Tuple[LegendItem, ...] = field(default=None, metadata=field_metadata)
+    position: Optional[str] = field(default=None, metadata=field_metadata)
+    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class MonitorComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class NotificationTokens(Base):
+    tokens: NotificationTokenBody = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class PlotComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
+    plot_frequency_mode: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class ResearchComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterAsset(Base):
+class ScreenerComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class SelectorComponentOption(Base):
     id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
-    type_: Optional[SecMasterAssetType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    product: Optional[SecMasterResourceProduct] = field(default=None, metadata=field_metadata)
-    exchange: Optional[SecMasterResourceExchange] = field(default=None, metadata=field_metadata)
-    currency: Optional[str] = field(default=None, metadata=field_metadata)
-    company: Optional[SecMasterResourceCompany] = field(default=None, metadata=field_metadata)
-    issuer: Optional[SecMasterResourceCompany] = field(default=None, metadata=field_metadata)
-    classifications: Optional[AssetClassifications] = field(default=None, metadata=field_metadata)
-    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
+    name: str = field(default=None, metadata=field_metadata)
     tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    active_listing: Optional[bool] = field(default=None, metadata=field_metadata)
-    last_active_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
-    entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
-    entitlement_exclusions: Optional[EntitlementExclusions] = field(default=None, metadata=field_metadata)
-    audit_fields: Optional[SecMasterAuditFields] = field(default=None, metadata=field_metadata)
-    field_sources: Optional[SecMasterAssetSources] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResponseActions(Base):
-    results: Optional[Tuple[SecMasterCorporateAction, ...]] = field(default=None, metadata=field_metadata)
-    total_results: Optional[float] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
+class TreemapComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResponseMulti(Base):
-    request_id: Optional[str] = field(default=None, metadata=field_metadata)
-    results: Optional[Tuple[DictBase, ...]] = field(default=None, metadata=field_metadata)
-    total_results: Optional[float] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
-    limit: Optional[int] = field(default=None, metadata=field_metadata)
-    offset: Optional[int] = field(default=None, metadata=field_metadata)
+class WebinarComponentParameters(Base):
+    date: str = field(default=None, metadata=field_metadata)
+    date_text: str = field(default=None, metadata=field_metadata)
+    description: str = field(default=None, metadata=field_metadata)
+    provider: WebinarProvider = field(default=None, metadata=field_metadata)
+    replay_url: str = field(default=None, metadata=field_metadata)
+    title: str = field(default=None, metadata=field_metadata)
+    height: Optional[float] = field(default=None, metadata=field_metadata)
+    hosts: Optional[Tuple[WebinarSpeaker, ...]] = field(default=None, metadata=field_metadata)
+    password: Optional[str] = field(default=None, metadata=field_metadata)
+    series: Optional[str] = field(default=None, metadata=field_metadata)
+    speakers: Optional[Tuple[WebinarSpeaker, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SecMasterResponseAssets(Base):
-    results: Optional[Tuple[SecMasterAsset, ...]] = field(default=None, metadata=field_metadata)
-    total_results: Optional[float] = field(default=None, metadata=field_metadata)
-    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
-    limit: Optional[int] = field(default=None, metadata=field_metadata)
-    offset: Optional[int] = field(default=None, metadata=field_metadata)
-    update_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+class RelatedLink(Base):
+    type_: str = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    name: str = field(default=None, metadata=field_metadata)
+    link: str = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    notification_properties: Optional[NotificationTokens] = field(default=None, metadata=field_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class SelectorComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    container_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    default_option_index: Optional[float] = field(default=None, metadata=field_metadata)
+    options: Optional[Tuple[SelectorComponentOption, ...]] = field(default=None, metadata=field_metadata)
+    title: Optional[str] = field(default=None, metadata=field_metadata)
+    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+    width: Optional[float] = field(default=None, metadata=field_metadata)
+    parent_selector_id: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class RelatedLinksComponentParameters(Base):
+    height: float = field(default=None, metadata=field_metadata)
+    links: Tuple[RelatedLink, ...] = field(default=None, metadata=field_metadata)
+    title: str = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class WorkspaceCallToAction(Base):
+    actions: Tuple[RelatedLink, ...] = field(default=None, metadata=field_metadata)
+    text: str = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class WorkspaceComponent(Base):
+    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    type_: ComponentType = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    hide: Optional[bool] = field(default=None, metadata=field_metadata)
+    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    selections: Optional[Tuple[ComponentSelection, ...]] = field(default=None, metadata=field_metadata)
+    container_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    parameters: Optional[DictBase] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class WorkspaceParameters(Base):
+    layout: str = field(default=None, metadata=field_metadata)
+    components: Tuple[WorkspaceComponent, ...] = field(default=None, metadata=field_metadata)
+    call_to_action: Optional[WorkspaceCallToAction] = field(default=None, metadata=field_metadata)
+    can_share: Optional[bool] = field(default=None, metadata=field_metadata)
+    date: Optional[WorkspaceDate] = field(default=None, metadata=field_metadata)
+    disclaimer: Optional[str] = field(default=None, metadata=field_metadata)
+    maintainers: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    tabs: Optional[Tuple[WorkspaceTab, ...]] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=name_metadata)
+
+
+@handle_camel_case_args
+@dataclass_json(letter_case=LetterCase.CAMEL)
+@dataclass(unsafe_hash=True, repr=False)
+class Workspace(Base):
+    parameters: WorkspaceParameters = field(default=None, metadata=field_metadata)
+    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    alias: Optional[str] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    type_: Optional[WorkspaceType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
+    last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
+    owner_id: Optional[str] = field(default=None, metadata=field_metadata)
+    entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
+    folder_name: Optional[str] = field(default=None, metadata=field_metadata)
+    description: Optional[str] = field(default=None, metadata=field_metadata)
+    children_aliases: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/trades.py` & `gs_quant-1.0.9/gs_quant/target/trades.py`

 * *Files 2% similar despite different names*

```diff
@@ -399,18 +399,15 @@
 
     Bullet = 'Bullet'
     Calendar_Month_Average = 'Calendar Month Average'
     Trade_Month_Average = 'Trade Month Average'
     Physical = 'Physical'
     CalMonth_Avg_No_Roll_Adjust = 'CalMonth Avg No Roll Adjust'
     Heren_Month_Ahead = 'Heren Month Ahead'
-    Heren_Day_Ahead = 'Heren Day Ahead'
-    Argus_Month_Ahead = 'Argus Month Ahead'
-    Argus_Day_Ahead = 'Argus Day Ahead'
-    Multi = 'Multi'    
+    Heren_Day_Ahead = 'Heren Day Ahead'    
 
 
 class MqexsPricingType(EnumBase, Enum):    
     
     """The source to be used to get a quote"""
 
     CommodStream = 'CommodStream'
@@ -419,20 +416,18 @@
     Heat = 'Heat'
     Indicative = 'Indicative'
     LiquidityStream = 'LiquidityStream'
     OneDeltaStream = 'OneDeltaStream'
     OptionChain = 'OptionChain'
     RFQ = 'RFQ'
     RFQSales = 'RFQSales'
-    GstRFQ = 'GstRFQ'
     Roll = 'Roll'
     RFQRollSales = 'RFQRollSales'
     Swap = 'Swap'
     RFQSwapSales = 'RFQSwapSales'
-    GstSwapRFQ = 'GstSwapRFQ'
     TradableStream = 'TradableStream'
     UnifiedRFQ = 'UnifiedRFQ'
     PCORFQ = 'PCORFQ'    
 
 
 class MqexsSide(EnumBase, Enum):
```

### Comparing `gs_quant-1.0.80/gs_quant/target/workflow_quote.py` & `gs_quant-1.0.9/gs_quant/target/workflow_quote.py`

 * *Files 10% similar despite different names*

```diff
@@ -29,20 +29,14 @@
     URL = 'URL'
     Unicode = 'Unicode'
     Base64 = 'Base64'
     Hex = 'Hex'
     ASCII = 'ASCII'    
 
 
-class HedgeModel(EnumBase, Enum):    
-    
-    Smile = 'Smile'
-    BlackScholes = 'BlackScholes'    
-
-
 class ImgType(EnumBase, Enum):    
     
     APNG = 'APNG'
     AVIF = 'AVIF'
     GIF = 'GIF'
     JPEG = 'JPEG'
     PNG = 'PNG'
@@ -65,28 +59,14 @@
     RealisedProbability = 'RealisedProbability'
     MacroEvents = 'MacroEvents'
     MicroEvents = 'MicroEvents'
     Gamma = 'Gamma'
     _None = 'None'    
 
 
-@dataclass
-class HedgeTypes(Base):
-    pass
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class CustomDeltaHedge(HedgeTypes):
-    amount: float = field(default=None, metadata=field_metadata)
-    type_: Optional[str] = field(init=False, default='CustomDeltaHedge', metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class HyperLinkImageComments(CustomComments):
     url: Optional[str] = field(default=None, metadata=field_metadata)
     comment_type: Optional[str] = field(init=False, default='hyperLinkImageComments', metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
@@ -101,25 +81,24 @@
     spot_ref: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SalesPremiumAdjustment(Base):
-    value: Optional[float] = field(default=None, metadata=field_metadata)
-    unit: Optional[str] = field(default=None, metadata=field_metadata)
+class SolvingTarget(Base):
+    constraint: Optional[float] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SolvingTarget(Base):
-    constraint: Optional[float] = field(default=None, metadata=field_metadata)
+class StrategyDescription(Base):
+    strategy_type: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class WorkflowEntitlement(Base):
@@ -149,23 +128,14 @@
     description: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class DeltaHedge(HedgeTypes):
-    model: Optional[HedgeModel] = field(default=None, metadata=field_metadata)
-    type_: Optional[str] = field(init=False, default='DeltaHedge', metadata=config(field_name='type', exclude=exclude_none))
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class OverlayParameters(Base):
     overlay_type: Optional[OverlayType] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
@@ -174,25 +144,14 @@
     target: Optional[SolvingTarget] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class StrategyDescription(Base):
-    strategy_type: Optional[str] = field(default=None, metadata=field_metadata)
-    long_short: Optional[LongShort] = field(default=LongShort.Long, metadata=field_metadata)
-    assets: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    asset_classes: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
 class WorkflowEntitlements(Base):
     version: Optional[int] = field(default=None, metadata=field_metadata)
     readers: Optional[Tuple[WorkflowEntitlement, ...]] = field(default=None, metadata=field_metadata)
     writers: Optional[Tuple[WorkflowEntitlement, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
@@ -206,17 +165,14 @@
     as_of_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
     market_data_parameters: Optional[MarketDataParameters] = field(default=None, metadata=field_metadata)
     overlay_parameters: Optional[OverlayParameters] = field(default=None, metadata=field_metadata)
     solving_info: Optional[SolvingInfo] = field(default=None, metadata=field_metadata)
     charting_parameters: Optional[ChartingParameters] = field(default=None, metadata=field_metadata)
     comments: Optional[Tuple[CustomComments, ...]] = field(default=None, metadata=field_metadata)
     strategy_description: Optional[StrategyDescription] = field(default=None, metadata=field_metadata)
-    asset_class: Optional[str] = field(default=None, metadata=field_metadata)
-    hedge_instruction: Optional[HedgeTypes] = field(default=None, metadata=field_metadata)
-    sales_premium_adjustment: Optional[SalesPremiumAdjustment] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
 class SaveQuoteRequest(Base):
@@ -244,15 +200,14 @@
     position_sets: Optional[Tuple[PositionSet, ...]] = field(default=None, metadata=field_metadata)
     reports: Optional[Tuple[QuoteReport, ...]] = field(default=None, metadata=field_metadata)
     comments: Optional[str] = field(default=None, metadata=field_metadata)
     original_workflow_id: Optional[str] = field(default=None, metadata=field_metadata)
     description: Optional[str] = field(default=None, metadata=field_metadata)
     entitlements: Optional[WorkflowEntitlements] = field(default=None, metadata=field_metadata)
     creator: Optional[str] = field(default=None, metadata=field_metadata)
-    originating_system: Optional[str] = field(default=None, metadata=field_metadata)
     is_read_only: Optional[bool] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
```

### Comparing `gs_quant-1.0.80/gs_quant/target/workspaces_markets.py` & `gs_quant-1.0.9/gs_quant/target/secmaster.py`

 * *Files 15% similar despite different names*

```diff
@@ -19,419 +19,325 @@
 import datetime
 from typing import Dict, Optional, Tuple, Union
 from dataclasses import dataclass, field
 from dataclasses_json import LetterCase, config, dataclass_json
 from enum import Enum
 
 
-class ComponentType(EnumBase, Enum):    
+class SecMasterAssetType(EnumBase, Enum):    
     
-    """Enum listing supported component types."""
+    """Asset type differentiates the product categorization or contract type."""
 
-    article = 'article'
-    assetPlot = 'assetPlot'
-    chart = 'chart'
-    barChart = 'barChart'
-    commentary = 'commentary'
-    commentaryPromo = 'commentaryPromo'
-    container = 'container'
-    datagrid = 'datagrid'
-    dataviz = 'dataviz'
-    empty = 'empty'
-    legend = 'legend'
-    market = 'market'
-    monitor = 'monitor'
-    plot = 'plot'
-    promo = 'promo'
-    rates = 'rates'
-    relatedLinks = 'relatedLinks'
-    research = 'research'
-    screener = 'screener'
-    selector = 'selector'
-    separator = 'separator'
-    stackedBarChart = 'stackedBarChart'
-    treemap = 'treemap'
-    video = 'video'
-    webinar = 'webinar'    
+    ETF = 'ETF'
+    ETN = 'ETN'
+    Future = 'Future'
+    Index = 'Index'
+    Option = 'Option'
+    Preferred_Stock = 'Preferred Stock'
+    Single_Stock = 'Single Stock'
+    Common_Stock = 'Common Stock'
+    ADR = 'ADR'
+    GDR = 'GDR'
+    Dutch_Cert = 'Dutch Cert'
+    NY_Reg_Shrs = 'NY Reg Shrs'
+    Receipt = 'Receipt'
+    Unit = 'Unit'
+    Mutual_Fund = 'Mutual Fund'
+    Right = 'Right'
+    Preferred = 'Preferred'
+    Misc_ = 'Misc.'
+    REIT = 'REIT'
+    Private_Comp = 'Private Comp'
+    Preference = 'Preference'
+    Ltd_Part = 'Ltd Part'
+    Tracking_Stk = 'Tracking Stk'
+    Royalty_Trst = 'Royalty Trst'
+    Closed_End_Fund = 'Closed-End Fund'
+    Open_End_Fund = 'Open-End Fund'
+    Fund_of_Funds = 'Fund of Funds'
+    MLP = 'MLP'
+    Stapled_Security = 'Stapled Security'
+    Savings_Share = 'Savings Share'
+    Equity_WRT = 'Equity WRT'
+    Savings_Plan = 'Savings Plan'
+    Equity_Index = 'Equity Index'
+    Municipal_Bond = 'Municipal Bond'
+    Corporate_Bond = 'Corporate Bond'
+    Government_Bond = 'Government Bond'
+    Agency_Bond = 'Agency Bond'
+    Currency = 'Currency'
+    Equity_Option = 'Equity Option'
+    Financial_index_future_ = 'Financial index future.'
+    Single_Stock_Future = 'Single Stock Future'
+    Pool = 'Pool'
+    Certificate_of_Deposit = 'Certificate of Deposit'
+    Debt_Structured_Note = 'Debt Structured Note'
+    Agency_CMO = 'Agency CMO'
+    Future_Option = 'Future Option'
+    Convertible_Bond = 'Convertible Bond'    
 
 
-class WorkspaceType(EnumBase, Enum):    
+class SecMasterCorporateActionStatus(EnumBase, Enum):    
     
-    """Enum listing support workspace types."""
+    """Status of corporate actions."""
 
-    cashboard = 'cashboard'
-    multiplot = 'multiplot'
-    study = 'study'    
+    Normal = 'Normal'
+    Completed = 'Completed'
+    Pending = 'Pending'
+    Deleted = 'Deleted'
+    Incomplete = 'Incomplete'
+    Missing_Adj_Factor = 'Missing Adj Factor'
+    Not_Quoted_By_Exchange = 'Not Quoted By Exchange'
+    Missing_Terms = 'Missing Terms'
+    Cancelled = 'Cancelled'
+    Lapsed = 'Lapsed'
+    Proposed = 'Proposed'
+    Withdrawn = 'Withdrawn'    
 
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ComponentSelection(Base):
-    selector_id: str = field(default=None, metadata=field_metadata)
-    tag: str = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ContainerComponentParameters(Base):
-    component_id: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class LegendItem(Base):
-    color: str = field(default=None, metadata=field_metadata)
-    icon: str = field(default=None, metadata=field_metadata)
-    name: str = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class MarketComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-class NotificationTokenBody(DictBase):
-    pass
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class PromoComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
-    body: Optional[str] = field(default=None, metadata=field_metadata)
-    size: Optional[str] = field(default=None, metadata=field_metadata)
-    hide_border: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class SeparatorComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    size: Optional[str] = field(default=None, metadata=field_metadata)
-    show_more_url: Optional[str] = field(default=None, metadata=field_metadata)
-
+class SecMasterCorporateActionType(EnumBase, Enum):    
+    
+    """Types of corporate actions."""
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class VideoComponentParameters(Base):
-    replay_url: str = field(default=None, metadata=field_metadata)
-    date: Optional[str] = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    height: Optional[float] = field(default=None, metadata=field_metadata)
-    title: Optional[str] = field(default=None, metadata=field_metadata)
-    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+    Cash_Dividend = 'Cash Dividend'
+    Merger = 'Merger'
+    Spinoff = 'Spinoff'
+    Split = 'Split'    
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class WebinarProvider(Base):
-    url: str = field(default=None, metadata=field_metadata)
+class SecMasterAuditFields(Base):
+    last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
+    created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
+    created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
+    owner_id: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class WebinarSpeaker(Base):
-    name: str = field(default=None, metadata=field_metadata)
-    title: str = field(default=None, metadata=field_metadata)
-    author_url: Optional[str] = field(default=None, metadata=field_metadata)
+SecMasterIdentifiers = Dict[str, str]
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class WorkspaceDate(Base):
-    days: float = field(default=None, metadata=field_metadata)
-    text: str = field(default=None, metadata=field_metadata)
+class SecMasterRecord(Base):
+    recordid: Optional[float] = field(default=None, metadata=field_metadata)
+    action_type: Optional[str] = field(default=None, metadata=field_metadata)
+    instrument_value: Optional[float] = field(default=None, metadata=field_metadata)
+    data_value: Optional[float] = field(default=None, metadata=field_metadata)
+    term_type: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class WorkspaceTab(Base):
-    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    name: str = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ArticleComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
+class SecMasterResourceCompany(Base):
+    company_id: Optional[float] = field(default=None, metadata=field_metadata)
+    company_name: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class AssetPlotComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+SecMasterSources = Dict[str, str]
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class BarChartComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
-    chart_name: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class ChartComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    ids: Tuple[str, ...] = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
-    chart_name: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class SecMasterTemporalCompany(SecMasterResponseMulti):
+    gs_company_id: str = field(default=None, metadata=field_metadata)
+    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CommentaryComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class ExchangeGetRequestPathSchema(Base):
+    gs_exchange_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    mic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    operating_mic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    ric_suffix_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    ric_exchange_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    bbg_exchange_code: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    name: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    country: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    as_of_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
+    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    offset: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    offset_key: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class CommentaryPromoComponentParameters(Base):
-    height: Optional[float] = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
-    body: Optional[str] = field(default=None, metadata=field_metadata)
+class SecMasterAssetSources(Base):
+    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    asset_class: Optional[str] = field(default=None, metadata=field_metadata)
+    product: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
+    exchange: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
+    company: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
+    classifications: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
+    identifiers: Optional[SecMasterSources] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class DataGridComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+class SecMasterCorporateAction(Base):
+    actionid: Optional[str] = field(default=None, metadata=field_metadata)
+    eventid: Optional[str] = field(default=None, metadata=field_metadata)
+    gsid: Optional[str] = field(default=None, metadata=field_metadata)
+    event_type: Optional[SecMasterCorporateActionType] = field(default=None, metadata=field_metadata)
+    announce_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    effective_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    multiplicative_adjust: Optional[float] = field(default=None, metadata=field_metadata)
+    additive_adjust: Optional[float] = field(default=None, metadata=field_metadata)
+    event_status: Optional[SecMasterCorporateActionStatus] = field(default=None, metadata=field_metadata)
+    records: Optional[Tuple[SecMasterRecord, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class LegendComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    items: Tuple[LegendItem, ...] = field(default=None, metadata=field_metadata)
-    position: Optional[str] = field(default=None, metadata=field_metadata)
-    transparent: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class SecMasterExchange(SecMasterResponseMulti):
+    gs_exchange_id: str = field(default=None, metadata=field_metadata)
+    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    country: Optional[str] = field(default=None, metadata=field_metadata)
+    timezone: Optional[str] = field(default=None, metadata=field_metadata)
+    type_: Optional[str] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class MonitorComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
+class SecMasterGetActionsRequestPathSchema(Base):
+    event_type: Optional[Tuple[SecMasterCorporateActionType, ...]] = field(default=None, metadata=field_metadata)
+    event_status: Optional[Tuple[SecMasterCorporateActionStatus, ...]] = field(default=None, metadata=field_metadata)
+    gsid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    event_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    corp_action_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    effective_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class NotificationTokens(Base):
-    tokens: NotificationTokenBody = field(default=None, metadata=field_metadata)
+class SecMasterGetRequestPathSchema(Base):
+    gsid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    ticker: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    bbid: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    ric: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    rcic: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    cusip: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    sedol: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    isin: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    gss: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    prime_id: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    type_: Optional[Tuple[str, ...]] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    exchange: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    fields: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    as_of_date: Optional[Tuple[datetime.date, ...]] = field(default=None, metadata=field_metadata)
+    limit: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    offset: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
+    offset_key: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class PlotComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    hide_legend: Optional[bool] = field(default=None, metadata=field_metadata)
-    plot_frequency_mode: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class SecMasterResourceExchange(Base):
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ResearchComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    commentary_channels: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    commentary_to_desktop_link: Optional[bool] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class SecMasterResourceProduct(Base):
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class ScreenerComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
+class SecMasterTemporalProduct(SecMasterResponseMulti):
+    gsid: str = field(default=None, metadata=field_metadata)
+    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
+    start_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    end_date: Optional[datetime.date] = field(default=None, metadata=field_metadata)
+    name: Optional[str] = field(default=None, metadata=field_metadata)
+    country: Optional[str] = field(default=None, metadata=field_metadata)
+    primary_exchange_id: Optional[str] = field(default=None, metadata=field_metadata)
+    type_: Optional[SecMasterAssetType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    subtype: Optional[str] = field(default=None, metadata=field_metadata)
+    source: Optional[str] = field(default=None, metadata=field_metadata)
+    flag: Optional[bool] = field(default=None, metadata=field_metadata)
+    update_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class SelectorComponentOption(Base):
+class SecMasterAsset(Base):
     id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    name: str = field(default=None, metadata=field_metadata)
+    asset_class: Optional[AssetClass] = field(default=None, metadata=field_metadata)
+    type_: Optional[SecMasterAssetType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
+    product: Optional[SecMasterResourceProduct] = field(default=None, metadata=field_metadata)
+    exchange: Optional[SecMasterResourceExchange] = field(default=None, metadata=field_metadata)
+    company: Optional[SecMasterResourceCompany] = field(default=None, metadata=field_metadata)
+    classifications: Optional[AssetClassifications] = field(default=None, metadata=field_metadata)
+    identifiers: Optional[SecMasterIdentifiers] = field(default=None, metadata=field_metadata)
     tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class TreemapComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class WebinarComponentParameters(Base):
-    date: str = field(default=None, metadata=field_metadata)
-    date_text: str = field(default=None, metadata=field_metadata)
-    description: str = field(default=None, metadata=field_metadata)
-    provider: WebinarProvider = field(default=None, metadata=field_metadata)
-    replay_url: str = field(default=None, metadata=field_metadata)
-    title: str = field(default=None, metadata=field_metadata)
-    height: Optional[float] = field(default=None, metadata=field_metadata)
-    hosts: Optional[Tuple[WebinarSpeaker, ...]] = field(default=None, metadata=field_metadata)
-    password: Optional[str] = field(default=None, metadata=field_metadata)
-    series: Optional[str] = field(default=None, metadata=field_metadata)
-    speakers: Optional[Tuple[WebinarSpeaker, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class RelatedLink(Base):
-    type_: str = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    name: str = field(default=None, metadata=field_metadata)
-    link: str = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    notification_properties: Optional[NotificationTokens] = field(default=None, metadata=field_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class SelectorComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    container_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    default_option_index: Optional[float] = field(default=None, metadata=field_metadata)
-    options: Optional[Tuple[SelectorComponentOption, ...]] = field(default=None, metadata=field_metadata)
-    title: Optional[str] = field(default=None, metadata=field_metadata)
-    tooltip: Optional[str] = field(default=None, metadata=field_metadata)
-    width: Optional[float] = field(default=None, metadata=field_metadata)
-    parent_selector_id: Optional[str] = field(default=None, metadata=field_metadata)
+    entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
+    entitlement_exclusions: Optional[EntitlementExclusions] = field(default=None, metadata=field_metadata)
+    audit_fields: Optional[SecMasterAuditFields] = field(default=None, metadata=field_metadata)
+    field_sources: Optional[SecMasterAssetSources] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class RelatedLinksComponentParameters(Base):
-    height: float = field(default=None, metadata=field_metadata)
-    links: Tuple[RelatedLink, ...] = field(default=None, metadata=field_metadata)
-    title: str = field(default=None, metadata=field_metadata)
+class SecMasterResponseActions(Base):
+    results: Optional[Tuple[SecMasterCorporateAction, ...]] = field(default=None, metadata=field_metadata)
+    total_results: Optional[float] = field(default=None, metadata=field_metadata)
+    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class WorkspaceCallToAction(Base):
-    actions: Tuple[RelatedLink, ...] = field(default=None, metadata=field_metadata)
-    text: str = field(default=None, metadata=field_metadata)
+class SecMasterResponseMulti(Base):
+    request_id: Optional[str] = field(default=None, metadata=field_metadata)
+    results: Optional[Tuple[SecMasterResponseMulti, ...]] = field(default=None, metadata=field_metadata)
+    total_results: Optional[float] = field(default=None, metadata=field_metadata)
+    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
+    limit: Optional[int] = field(default=None, metadata=field_metadata)
+    offset: Optional[int] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
 
 
 @handle_camel_case_args
 @dataclass_json(letter_case=LetterCase.CAMEL)
 @dataclass(unsafe_hash=True, repr=False)
-class WorkspaceComponent(Base):
-    id_: str = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    type_: ComponentType = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    hide: Optional[bool] = field(default=None, metadata=field_metadata)
-    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    selections: Optional[Tuple[ComponentSelection, ...]] = field(default=None, metadata=field_metadata)
-    container_ids: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    parameters: Optional[DictBase] = field(default=None, metadata=field_metadata)
+class SecMasterResponseAssets(Base):
+    results: Optional[Tuple[SecMasterAsset, ...]] = field(default=None, metadata=field_metadata)
+    total_results: Optional[float] = field(default=None, metadata=field_metadata)
+    offset_key: Optional[str] = field(default=None, metadata=field_metadata)
+    limit: Optional[int] = field(default=None, metadata=field_metadata)
+    offset: Optional[int] = field(default=None, metadata=field_metadata)
     name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class WorkspaceParameters(Base):
-    layout: str = field(default=None, metadata=field_metadata)
-    components: Tuple[WorkspaceComponent, ...] = field(default=None, metadata=field_metadata)
-    call_to_action: Optional[WorkspaceCallToAction] = field(default=None, metadata=field_metadata)
-    can_share: Optional[bool] = field(default=None, metadata=field_metadata)
-    date: Optional[WorkspaceDate] = field(default=None, metadata=field_metadata)
-    disclaimer: Optional[str] = field(default=None, metadata=field_metadata)
-    maintainers: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    parent_collection_id: Optional[str] = field(default=None, metadata=field_metadata)
-    tabs: Optional[Tuple[WorkspaceTab, ...]] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=name_metadata)
-
-
-@handle_camel_case_args
-@dataclass_json(letter_case=LetterCase.CAMEL)
-@dataclass(unsafe_hash=True, repr=False)
-class Workspace(Base):
-    parameters: WorkspaceParameters = field(default=None, metadata=field_metadata)
-    id_: Optional[str] = field(default=None, metadata=config(field_name='id', exclude=exclude_none))
-    alias: Optional[str] = field(default=None, metadata=field_metadata)
-    name: Optional[str] = field(default=None, metadata=field_metadata)
-    type_: Optional[WorkspaceType] = field(default=None, metadata=config(field_name='type', exclude=exclude_none))
-    tags: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
-    created_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    last_updated_time: Optional[datetime.datetime] = field(default=None, metadata=field_metadata)
-    created_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    last_updated_by_id: Optional[str] = field(default=None, metadata=field_metadata)
-    owner_id: Optional[str] = field(default=None, metadata=field_metadata)
-    entitlements: Optional[Entitlements] = field(default=None, metadata=field_metadata)
-    folder_name: Optional[str] = field(default=None, metadata=field_metadata)
-    description: Optional[str] = field(default=None, metadata=field_metadata)
-    children_aliases: Optional[Tuple[str, ...]] = field(default=None, metadata=field_metadata)
```

### Comparing `gs_quant-1.0.80/gs_quant/test/analytics/test_datagrid.py` & `gs_quant-1.0.9/gs_quant/test/analytics/test_datagrid.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/analytics/test_sorting_and_filtering.py` & `gs_quant-1.0.9/gs_quant/test/analytics/test_sorting_and_filtering.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/analytics/test_workspace.py` & `gs_quant-1.0.9/gs_quant/test/analytics/test_workspace.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_assets.py` & `gs_quant-1.0.9/gs_quant/test/api/test_assets.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_backtests.py` & `gs_quant-1.0.9/gs_quant/test/api/test_backtests.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_base_screener.py` & `gs_quant-1.0.9/gs_quant/test/api/test_base_screener.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_cache.py` & `gs_quant-1.0.9/gs_quant/test/api/test_cache.py`

 * *Files 3% similar despite different names*

```diff
@@ -10,23 +10,23 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 
-import datetime as dt
 from unittest import mock
 
+import datetime as dt
 import pandas as pd
 
-import gs_quant.risk as risk
 from gs_quant.api.gs.risk import GsRiskApi
 from gs_quant.instrument import IRSwap, IRSwaption
 from gs_quant.markets import HistoricalPricingContext, PricingCache, PricingContext
+import gs_quant.risk as risk
 from gs_quant.session import Environment, GsSession
 
 
 def set_session():
     from gs_quant.session import OAuth2Session
     OAuth2Session.init = mock.MagicMock(return_value=None)
     GsSession.use(Environment.PROD, 'client_id', 'secret')
@@ -128,15 +128,15 @@
 
     dates = (dt.date(2019, 10, 7), dt.date(2019, 10, 8))
     with HistoricalPricingContext(dates=dates, use_cache=True):
         price_f = ir_swap.price()
     price_f.result()
 
     for date in dates:
-        with PricingContext(pricing_date=date, use_historical_diddles_only=True) as pc:
+        with PricingContext(pricing_date=date) as pc:
             risk_key = pc._PricingContext__risk_key(risk.Price, ir_swap.provider)
         cached_scalar = PricingCache.get(risk_key, ir_swap)
         assert cached_scalar
         assert isinstance(cached_scalar, float)
 
     with PricingContext(pricing_date=dt.date(2019, 10, 9)) as pc:
         risk_key = pc._PricingContext__risk_key(risk.Price, ir_swap.provider)
@@ -206,16 +206,16 @@
     with HistoricalPricingContext(dates=dates, use_cache=True):
         ir_swaption.price()
         ir_swaption.calc(risk.IRDelta)
         ir_swaption.calc(risk.IRVega)
 
     # make sure all the risk measures got cached correctly
     for date in dates:
-        with PricingContext(pricing_date=date, use_historical_diddles_only=True) as pc:
+        with PricingContext(pricing_date=date) as pc:
             for risk_measure in (risk.Price, risk.IRDelta, risk.IRVega):
                 val = PricingCache.get(pc._PricingContext__risk_key(risk_measure, ir_swaption.provider), ir_swaption)
                 assert val is not None
 
-    with PricingContext(pricing_date=dt.date(2019, 10, 11), use_historical_diddles_only=True) as pc:
+    with PricingContext(pricing_date=dt.date(2019, 10, 11)) as pc:
         for risk_measure in (risk.Price, risk.IRDelta, risk.IRVega):
             val = PricingCache.get(pc._PricingContext__risk_key(risk_measure, ir_swaption.provider), ir_swaption)
             assert val is None
```

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_carbon.py` & `gs_quant-1.0.9/gs_quant/test/api/test_carbon.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_content.py` & `gs_quant-1.0.9/gs_quant/test/api/test_content.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_data.py` & `gs_quant-1.0.9/gs_quant/test/api/test_data.py`

 * *Files 4% similar despite different names*

```diff
@@ -16,15 +16,14 @@
 import datetime as dt
 
 import pandas as pd
 import pytest
 from pandas.testing import assert_frame_equal, assert_series_equal
 
 from gs_quant.api.gs.data import GsDataApi
-from gs_quant.base import DictBase
 from gs_quant.context_base import ContextMeta
 from gs_quant.errors import MqValueError
 from gs_quant.markets import MarketDataCoordinate
 from gs_quant.session import GsSession, Environment
 from gs_quant.target.data import FieldFilterMapDataQuery
 from gs_quant.target.coordinates import MDAPIDataQuery
 from gs_quant.target.data import MarketDataVendor, DataSetEntity, DataQuery, DataSetFieldEntity
@@ -356,16 +355,16 @@
             currency="GBP"
         )
     )
     response = GsDataApi.get_results("test", response, query)
     assert len(response) == 5
 
 
-def mock_fields_response():
-    return {
+def test_get_dataset_fields(mocker):
+    mock_response = {
         "totalResults": 2,
         "results": [
             {
                 "id": "FIVCFB4GAWBT61GT",
                 "name": "strikeReference",
                 "description": "Reference for strike level (enum: spot, forward).",
                 "type": "string",
@@ -428,61 +427,23 @@
                     "lastUpdatedById": "8b4e2021fd12429885b30f6074037087",
                     "lastUpdatedTime": "2021-04-16T22:09:03.697Z"
                 }
             }
         ]
     }
 
-
-def test_get_dataset_fields(mocker):
-    mock_response = mock_fields_response()
     mocker.patch.object(GsSession.__class__, 'default_value',
                         return_value=GsSession.get(Environment.QA, 'client_id', 'secret'))
     mocker.patch.object(GsSession.current, '_post', return_value=mock_response)
 
     response = GsDataApi.get_dataset_fields(ids=['FIVCFB4GAWBT61GT', 'FI4YBC6DS3PRE7W9'])
     assert len(response) == 2
     assert response == mock_response['results']
 
     GsSession.current._post.assert_called_once_with('/data/fields/query',
                                                     payload={'where': {'id': ['FIVCFB4GAWBT61GT', 'FI4YBC6DS3PRE7W9']},
                                                              'limit': 10},
                                                     cls=DataSetFieldEntity)
 
 
-def test_get_field_types(mocker):
-    mock_response = {
-        "totalResults": 4,
-        "results": [
-            DataSetFieldEntity(name="price", type_="number", parameters=DictBase({})),
-            DataSetFieldEntity(name="strikeReference", type_="string", parameters=DictBase({})),
-            DataSetFieldEntity(name="adjDate", type_="string", field_java_type='DateField',
-                               parameters=DictBase({'format': 'date'})),
-            DataSetFieldEntity(name="time", type_="string", field_java_type='DateTimeField',
-                               parameters=DictBase({'format': 'date-time'}))
-        ]
-    }
-
-    mock_field_types = {
-        "price": "number",
-        "strikeReference": "string",
-        "adjDate": "date",
-        "time": "date-time"
-    }
-
-    mocker.patch.object(GsSession.__class__, 'default_value',
-                        return_value=GsSession.get(Environment.QA, 'client_id', 'secret'))
-    mocker.patch.object(GsSession.current, '_post', return_value=mock_response)
-
-    response = GsDataApi.get_field_types(field_names=['price', 'strikeReference', 'adjDate', 'time'])
-    assert len(response) == 4
-    assert response == mock_field_types
-
-    GsSession.current._post.assert_called_once_with('/data/fields/query',
-                                                    payload={'where': {'name': ['price', 'strikeReference',
-                                                                                'adjDate', 'time']},
-                                                             'limit': 4},
-                                                    cls=DataSetFieldEntity)
-
-
 if __name__ == "__main__":
     pytest.main(args=["test_data.py"])
```

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_data_screen.py` & `gs_quant-1.0.9/gs_quant/test/api/test_data_screen.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_esg.py` & `gs_quant-1.0.9/gs_quant/test/api/test_esg.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_fred.py` & `gs_quant-1.0.9/gs_quant/test/api/test_fred.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_groups.py` & `gs_quant-1.0.9/gs_quant/test/api/test_groups.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_index.py` & `gs_quant-1.0.9/gs_quant/test/api/test_index.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_instruments.py` & `gs_quant-1.0.9/gs_quant/test/api/test_instruments.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_json.py` & `gs_quant-1.0.9/gs_quant/test/api/test_json.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,15 +16,15 @@
 
 import datetime as dt
 import json
 
 import pytz
 
 from gs_quant.json_encoder import JSONEncoder
-from gs_quant.workflow import BinaryImageComments, ImgType, Encoding, HyperLinkImageComments, \
+from gs_quant.target.workflow_quote import BinaryImageComments, ImgType, Encoding, HyperLinkImageComments, \
     VisualStructuringReport, ChartingParameters, OverlayType
 
 
 def test_datetime_serialisation():
     dates = [
         dt.datetime(2021, 8, 10, 10, 39, 19),
         dt.datetime(2021, 8, 10, 10, 39, 19, 59876),
```

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_monitor.py` & `gs_quant-1.0.9/gs_quant/test/api/test_monitor.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_portfolios.py` & `gs_quant-1.0.9/gs_quant/test/api/test_portfolios.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_reports.py` & `gs_quant-1.0.9/gs_quant/test/api/test_reports.py`

 * *Files 2% similar despite different names*

```diff
@@ -350,11 +350,11 @@
         return_value=GsSession.get(
             Environment.QA,
             'client_id',
             'secret'))
     mocker.patch.object(GsSession.current, '_get', return_value=mock_response)
 
     # run test
-    response = GsReportApi.get_factor_risk_report_view(report_id)
+    response = GsReportApi.get_factor_risk_report_view(report_id, view='Risk')
 
-    GsSession.current._get.assert_called_with(f'/factor/risk/{report_id}/views?')
+    GsSession.current._get.assert_called_with(f'/risk/factors/reports/{report_id}/views?view=Risk')
     assert response == mock_response
```

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_risk.py` & `gs_quant-1.0.9/gs_quant/test/api/test_risk.py`

 * *Files 0% similar despite different names*

```diff
@@ -20,15 +20,15 @@
 import pandas as pd
 
 from gs_quant.datetime.time import to_zulu_string
 import gs_quant.risk as risk
 from gs_quant.api.gs.risk import GsRiskApi
 from gs_quant.base import Priceable
 from gs_quant.common import AssetClass
-from gs_quant.instrument import CommodSwap, EqForward, EqOption, FXOption, IRBasisSwap, IRSwap, IRSwaption, IRCap, \
+from gs_quant.instrument import CommodSwap, EqForward, EqOption, FXOption, IRBasisSwap, IRSwap, IRSwaption, IRCap,\
     IRFloor
 from gs_quant.markets import PricingContext
 from gs_quant.session import Environment, GsSession
 from gs_quant.target.risk import PricingDateAndMarketDataAsOf, RiskPosition, RiskRequestParameters, \
     OptimizationRequest
 
 priceables = (
```

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_risk_models.py` & `gs_quant-1.0.9/gs_quant/test/api/test_risk_models.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_target.py` & `gs_quant-1.0.9/gs_quant/test/api/test_target.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_thread_manager.py` & `gs_quant-1.0.9/gs_quant/test/api/test_thread_manager.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/api/test_users.py` & `gs_quant-1.0.9/gs_quant/test/api/test_users.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_eq_vol_engine.py` & `gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_eq_vol_engine.py`

 * *Files 1% similar despite different names*

```diff
@@ -16,16 +16,16 @@
 
 from unittest import mock
 
 import datetime as dt
 from gs_quant.api.gs.backtests import GsBacktestApi
 from gs_quant.backtests.strategy import Strategy
 from gs_quant.backtests.triggers import PeriodicTrigger, PeriodicTriggerRequirements, DateTrigger, \
-    DateTriggerRequirements, AggregateTrigger, AggregateTriggerRequirements, PortfolioTrigger, \
-    PortfolioTriggerRequirements, TriggerDirection
+    DateTriggerRequirements, AggregateTrigger, PortfolioTrigger, PortfolioTriggerRequirements, \
+    TriggerDirection
 from gs_quant.backtests.actions import EnterPositionQuantityScaledAction, HedgeAction, ExitPositionAction
 from gs_quant.backtests.equity_vol_engine import *
 from gs_quant.common import Currency, AssetClass
 from gs_quant.session import GsSession, Environment
 from gs_quant.target.backtests import BacktestResult as APIBacktestResult, Backtest, OptionStyle, OptionType, \
     BacktestTradingParameters, BacktestStrategyUnderlier, BacktestStrategyUnderlierHedge, \
     VolatilityFlowBacktestParameters, BacktestTradingQuantityType, BacktestSignalSeriesItem
@@ -267,26 +267,26 @@
 
     entry_action = EnterPositionQuantityScaledAction(priceables=option, trade_duration='1m', trade_quantity=12345,
                                                      trade_quantity_type=BacktestTradingQuantityType.notional)
 
     entry_signal_series = pd.Series(data={dt.date(2019, 2, 19): 1})
     entry_dates = entry_signal_series[entry_signal_series > 0].keys()
 
-    entry_trigger = AggregateTrigger(AggregateTriggerRequirements(triggers=[
+    entry_trigger = AggregateTrigger(triggers=[
         DateTrigger(trigger_requirements=DateTriggerRequirements(dates=entry_dates), actions=entry_action),
         PortfolioTrigger(trigger_requirements=PortfolioTriggerRequirements('len', 0, TriggerDirection.EQUAL))
-    ]))
+    ])
 
     exit_signal_series = pd.Series(data={dt.date(2019, 2, 20): 1})
     exit_dates = exit_signal_series[exit_signal_series > 0].keys()
 
-    exit_trigger = AggregateTrigger(AggregateTriggerRequirements(triggers=[
+    exit_trigger = AggregateTrigger(triggers=[
         DateTrigger(trigger_requirements=DateTriggerRequirements(dates=exit_dates), actions=ExitPositionAction()),
         PortfolioTrigger(trigger_requirements=PortfolioTriggerRequirements('len', 0, TriggerDirection.ABOVE))
-    ]))
+    ])
 
     strategy = Strategy(initial_portfolio=None, triggers=[entry_trigger, exit_trigger])
 
     # 2. setup mock api response
 
     mock_api_response(mocker, api_mock_data())
```

### Comparing `gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_flow_vol.py` & `gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_flow_vol.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/backtest/test_backtest_predefined.py` & `gs_quant-1.0.9/gs_quant/test/backtest/test_backtest_predefined.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/backtest/test_generic_engine.py` & `gs_quant-1.0.9/gs_quant/test/backtest/test_generic_engine.py`

 * *Files 0% similar despite different names*

```diff
@@ -85,15 +85,15 @@
         fwd_hedge = FXForward(pair='USDJPY', settlement_date='2y', notional_amount=1e5, name='2y_forward')
 
         trig_req = RiskTriggerRequirements(risk=hedge_risk, trigger_level=0, direction=TriggerDirection.ABOVE)
         action_hedge = HedgeAction(hedge_risk, fwd_hedge, '2b', name='HedgeAction1')
 
         triggers = StrategyRiskTrigger(trig_req, action_hedge)
 
-        with PricingContext(pricing_date=start_date, use_historical_diddles_only=True):
+        with PricingContext(pricing_date=start_date):
             fut = call.resolve(in_place=False)
 
         call = fut.result()
 
         strategy = Strategy(call, triggers)
 
         # run backtest daily
```

### Comparing `gs_quant-1.0.80/gs_quant/test/backtest/test_triggers.py` & `gs_quant-1.0.9/gs_quant/test/backtest/test_triggers.py`

 * *Files 2% similar despite different names*

```diff
@@ -63,15 +63,15 @@
     assert not agg_trigger.has_triggered(dt.date(2021, 11, 9))
     assert agg_trigger.has_triggered(dt.date(2021, 11, 10))
     assert len(agg_trigger.actions) == 2
 
     agg_trigger = AggregateTrigger(AggregateTriggerRequirements([trigger_1, trigger_2], aggregate_type=AggType.ANY_OF))
 
     assert agg_trigger.has_triggered(dt.date(2021, 11, 8))
-    assert isinstance(agg_trigger.actions[1].priceables[0], IRSwaption)
+    assert isinstance(agg_trigger.actions[0].priceables[0], IRSwaption)
     assert agg_trigger.has_triggered(dt.date(2021, 11, 10))
     assert len(agg_trigger.actions) == 2
 
 
 def test_not_triggger():
     # Test Not Trigger
     action = AddTradeAction(IRSwap())
```

### Comparing `gs_quant-1.0.80/gs_quant/test/data/test_data_coordinate.py` & `gs_quant-1.0.9/gs_quant/test/data/test_data_coordinate.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/data/test_dataset.py` & `gs_quant-1.0.9/gs_quant/test/data/test_dataset.py`

 * *Files 18% similar despite different names*

```diff
@@ -21,17 +21,14 @@
 import pytest
 from numpy import int64, float64, datetime64
 
 from gs_quant.api.gs.data import GsDataApi
 from gs_quant.data import Dataset
 from gs_quant.session import GsSession, Environment
 from gs_quant.target.data import Format, DataQuery
-from gs_quant.target.data import DataSetEntity
-from gs_quant.target.data import DataSetParameters
-from gs_quant.target.data import DataSetDimensions
 
 test_types = {
     'date': 'date',
     'assetId': 'string',
     'askPrice': 'number',
     'adjustedAskPrice': 'number',
     'bidPrice': 'number',
@@ -230,29 +227,29 @@
     mocker.patch("gs_quant.api.gs.data.GsDataApi.get_types", return_value=test_types)
     dataset = Dataset(Dataset.TR.TREOD)
     data = dataset.get_data(dt.date(2019, 1, 2), dt.date(2019, 1, 9), assetId='MA4B66MW5E27U8P32SB')
     assert data.equals(GsDataApi.construct_dataframe_with_types(str(Dataset.TR.TREOD), test_data))
 
     assert mock.call_count == 1
     query = mock.call_args[0][0]
-    assert type(query) is DataQuery
+    assert type(query) == DataQuery
     assert query.empty_intervals is None
 
 
 def test_query_data_intervals(mocker):
     mock = mocker.patch("gs_quant.api.gs.data.GsDataApi.query_data", return_value=tr_data)
     mocker.patch("gs_quant.api.gs.data.GsDataApi.get_types", return_value=tr_types)
     dataset = Dataset(Dataset.TR.TREOD)
     data = dataset.get_data(dt.datetime(2023, 5, 31, 13), dt.datetime(2023, 5, 31, 17), assetId='MA4B66MW5E27U8P32SB',
                             intervals=4, empty_intervals=True)
     assert data.equals(GsDataApi.construct_dataframe_with_types(str(Dataset.TR.TR), tr_data))
 
     assert mock.call_count == 1
     query = mock.call_args[0][0]
-    assert type(query) is DataQuery
+    assert type(query) == DataQuery
     assert query.empty_intervals is True
 
 
 def test_query_data_types(mocker):
     mocker.patch("gs_quant.api.gs.data.GsDataApi.query_data", return_value=test_data)
     mocker.patch("gs_quant.api.gs.data.GsDataApi.get_types", return_value=test_types)
     dataset = Dataset(Dataset.TR.TREOD)
@@ -362,62 +359,9 @@
     assert len(GsSession.current._post.mock_calls) == 1
     name, args, kwargs = GsSession.current._post.mock_calls[0]
     assert kwargs['payload'].format == Format.Json
     assert 'request_headers' not in kwargs
     assert args[0] == '/data/TREOD/query'
 
 
-def test_get_data_bulk(mocker):
-
-    df2 = pd.DataFrame()
-    test_df = {
-        'date': {pd.Timestamp('20230302'): dt.date(2023, 3, 2)},
-        'clusterRegion': {pd.Timestamp('20230302'): 'Asia Pacific'},
-        'clusterClass': {pd.Timestamp('20230302'): '13'},
-        'assetId': {pd.Timestamp('20230302'): 'MA4B66MW5E27U8P4ZFX'},
-        'clusterDescription': {pd.Timestamp('20230302'): 'Small Trd Count, Hard to Complete'},
-        'updateTime': {pd.Timestamp('20230302'): dt.datetime.strptime('2023-03-05T00:40:54.000Z',
-                                                                      '%Y-%m-%dT%H:%M:%S.%fZ')}
-    }
-
-    df = pd.DataFrame(test_df)
-    df.set_index('date', inplace=True)
-
-    coverage = pd.DataFrame({'clusterRegion': ['Asia Pacific']})
-    symbol_dimension = ('clusterRegion',)
-    dataset_definition = DataSetEntity()
-    dataset_definition.parameters = DataSetParameters()
-    dataset_definition.parameters.history_date = dt.datetime(2017, 1, 2)
-    dataset_definition.dimensions = DataSetDimensions()
-    dataset_definition.dimensions.time_field = 'date'
-
-    # mock GsSession
-    mocker.patch.object(GsSession.__class__, 'default_value',
-                        return_value=GsSession.get(Environment.QA, 'client_id', 'secret'))
-
-    # mock fetch_data function in utilities.py
-    mock = mocker.patch("gs_quant.data.utilities.Utilities.fetch_data", return_value=df)
-
-    # mock granular functions in get_dataset_parameter in utilities.py
-    mocker.patch("gs_quant.api.gs.data.GsDataApi.symbol_dimensions", return_value=symbol_dimension)
-    mocker.patch("gs_quant.api.gs.data.GsDataApi.get_definition", return_value=dataset_definition)
-
-    # mock get_dataset_coverage function in utilities.py
-    mocker.patch("gs_quant.data.dataset.Dataset.get_coverage", return_value=coverage)
-
-    def handler(data_frame):
-        nonlocal df2
-        df2 = data_frame.head(1)
-
-    dataset_id = "EQTRADECLUSTERS"
-    original_start = dt.datetime(2023, 3, 2, 0, 0, 0)
-    final_end = dt.datetime(2023, 3, 2, 0, 0, 0)
-    c = Dataset(dataset_id)
-    c.get_data_bulk(original_start=original_start, final_end=final_end, request_batch_size=4,
-                    identifier="clusterRegion", handler=handler)
-
-    assert mock.call_count == 1
-    assert df.equals(df2)
-
-
 if __name__ == "__main__":
     pytest.main(args=["test_dataset.py"])
```

### Comparing `gs_quant-1.0.80/gs_quant/test/datetime_/test_date.py` & `gs_quant-1.0.9/gs_quant/test/datetime_/test_date.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/datetime_/test_gscalendar.py` & `gs_quant-1.0.9/gs_quant/test/datetime_/test_gscalendar.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/datetime_/test_point.py` & `gs_quant-1.0.9/gs_quant/test/datetime_/test_point.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/datetime_/test_relative_date.py` & `gs_quant-1.0.9/gs_quant/test/datetime_/test_relative_date.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/datetime_/test_time.py` & `gs_quant-1.0.9/gs_quant/test/datetime_/test_time.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/fixtures/content.py` & `gs_quant-1.0.9/gs_quant/test/fixtures/content.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_baskets.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_baskets.py`

 * *Files 2% similar despite different names*

```diff
@@ -34,20 +34,15 @@
 from gs_quant.target.indices import CustomBasketsResponse, CustomBasketRiskParams
 from gs_quant.target.reports import Report, User as TargetUser
 
 # Helper mock value constants
 asset_1 = {'name': 'asset 1', 'id': 'id1', 'bbid': 'bbid1'}
 asset_2 = {'name': 'asset 2', 'id': 'id2', 'bbid': 'bbid2'}
 assets_data = [asset_1, asset_2]
-base_user = {'name': 'First Last',
-             'email': 'ex@email.com',
-             'city': 'City A',
-             'company': 'Company A',
-             'country': 'Country A',
-             'region': 'Region A'}
+base_user = {'name': 'First Last', 'email': 'ex@email.com', 'company': 'Company A'}
 cb_response = CustomBasketsResponse('done', 'R1234567890', 'MA1234567890')
 gs_asset = GsAsset(asset_class=AssetClass.Equity,
                    type_=AssetType.Custom_Basket,
                    name='Test Basket',
                    id_='MA1234567890',
                    entitlements=TargetEntitlements(admin=['guid:user_abc']),
                    xref=XRef(ticker='GSMBXXXX'))
@@ -218,15 +213,15 @@
 def test_basket_edit_and_rebalance(mocker):
     mock_session()
     mock_basket_init(mocker, user_ia)
 
     basket = Basket.get(ticker)
     basket.description = 'New Basket Description'
     gs_asset.description = 'New Basket Description'
-    basket.initial_price = 2000000
+    basket.allow_ca_restricted_assets = True
 
     mock_response(mocker, GsIndexApi, 'edit', cb_response)
     mock_response(mocker, GsReportApi, 'get_report', report)
     mock_response(mocker, GsIndexApi, 'rebalance', cb_response)
     mock_response(mocker, GsAssetApi, 'get_asset', gs_asset)
     mock_response(mocker, GsReportApi, 'get_report', report)
     mock_basket_init(mocker, user_ia)
```

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_hedger.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_hedger.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_instrument.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_instrument.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_portfolio.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_portfolio.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_pricing_context.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_pricing_context.py`

 * *Files 3% similar despite different names*

```diff
@@ -15,37 +15,29 @@
 """
 import datetime
 import datetime as dt
 from time import sleep
 from unittest.mock import patch, ANY
 
 import pytest
-
 from gs_quant import risk
-from gs_quant.api.gs.risk import GsRiskApi
 from gs_quant.api.risk import RiskApi
-from gs_quant.base import RiskKey
 from gs_quant.common import PayReceive, Currency
 from gs_quant.datetime import business_day_offset, today
 from gs_quant.errors import MqValueError
 from gs_quant.instrument import IRSwap
 from gs_quant.markets import PricingContext, CloseMarket, OverlayMarket, MarketDataCoordinate
 from gs_quant.markets.portfolio import Portfolio
 from gs_quant.risk import RollFwd
 from gs_quant.target.common import PricingLocation
-from gs_quant.target.instrument import EqOption
 from gs_quant.test.utils.mock_calc import MockCalc
 
 WEEKEND_DATE = dt.date(2022, 3, 19)
 
 
-class TestProvider:
-    pass
-
-
 @pytest.fixture
 def today_is_saturday(monkeypatch):
     class MockedDatetime:
         @classmethod
         def today(cls):
             return WEEKEND_DATE
 
@@ -144,32 +136,29 @@
 
     # All props except for the initialised one are defaulted. Context is not useable as-is
     assert c1.market == CloseMarket(c1.pricing_date, 'LDN')
     assert c1.market_data_location == PricingLocation.LDN
     assert c1.is_batch is False
     assert c1.use_cache is False
     assert c1._max_concurrent == 1000
-    assert c1.provider is None
 
     assert c1.pricing_date == datetime.date(2022, 6, 15)
 
 
 def test_inheritance():
-    c1 = PricingContext(pricing_date=datetime.date(2022, 6, 16), market_data_location='NYC', provider=TestProvider)
+    c1 = PricingContext(pricing_date=datetime.date(2022, 6, 16), market_data_location='NYC')
     c2 = PricingContext(pricing_date=datetime.date(2022, 7, 1))
     c3 = PricingContext()
 
     with c1:
         with c2:
             # pricing date is set
             assert c2.pricing_date == datetime.date(2022, 7, 1)
             # market data location is inherited from c1 (the active context)
             assert c2.market_data_location == c1.market_data_location
-            # provider is inherited
-            assert c2.provider == c1.provider
             # all other props have default values
             assert c2.is_batch is False
             assert c2.use_cache is False
             assert c2._max_concurrent == 1000
             with c3:
                 # market data location is inherited from c1 (the active context)
                 assert c3.market_data_location == c1.market_data_location
@@ -360,22 +349,7 @@
             # This happens at any level
             assert pc2.active_context == pc2
             with PricingContext() as pc3:
                 # pc3 is the outermost entered context not meant to be used for inheritance only, so it becomes active
                 assert pc3.active_context == pc3
                 with PricingContext() as pc4:
                     assert pc4.active_context == pc3
-
-
-@patch.object(PricingContext, '_calc')
-def test_provider(calc_mock):
-    calc_mock.return_value = None
-    pc = PricingContext(provider=None)
-    inst = EqOption()
-    inst.PROVIDER = TestProvider
-    pc.calc(inst, None)
-    calc_mock.assert_called_with(inst, RiskKey(TestProvider, None, None, ANY, None, None))
-    pc = PricingContext(provider=GsRiskApi)
-    inst = EqOption()
-    inst.PROVIDER = TestProvider
-    pc.calc(inst, None)
-    calc_mock.assert_called_with(inst, RiskKey(GsRiskApi, None, None, ANY, None, None))
```

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_report.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_report.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/markets/test_securities.py` & `gs_quant-1.0.9/gs_quant/test/markets/test_securities.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/models/__init__.py` & `gs_quant-1.0.9/gs_quant/test/models/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/models/test_epidemiology.py` & `gs_quant-1.0.9/gs_quant/test/models/test_epidemiology.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/test_session.py` & `gs_quant-1.0.9/gs_quant/test/test_session.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/test_commod.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/test_commod.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/multi_measure/test_measure_registry.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/multi_measure/test_measure_registry.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_algebra.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_algebra.py`

 * *Files 4% similar despite different names*

```diff
@@ -9,14 +9,15 @@
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
+from datetime import date
 
 import pytest
 from pandas.testing import assert_series_equal
 
 from gs_quant.timeseries import *
 
 
@@ -524,34 +525,14 @@
     assert_series_equal(actual, expected)
 
     s = pd.Series([8, 10.1, 8, 6.4], index=sparse_index)
     actual = smooth_spikes(s, 0.25)
     expected = pd.Series([8.0, 8], index=sparse_index[1:3])
     assert_series_equal(actual, expected)
 
-    s = pd.Series([0.1, 1.5, 0.2, 2], index=sparse_index)
-    actual = smooth_spikes(s, threshold=1, threshold_type=ThresholdType.absolute)
-    expected = pd.Series([0.15, 1.75], index=sparse_index[1:3])
-    assert_series_equal(actual, expected)
-
-    s = pd.Series([10.1, 8, 12, 10], index=sparse_index)
-    actual = smooth_spikes(s, 1, ThresholdType.absolute)
-    expected = pd.Series([11.05, 9], index=sparse_index[1:3])
-    assert_series_equal(actual, expected)
-
-    s = pd.Series([1, 2, 3, 4], index=sparse_index)
-    actual = smooth_spikes(s, 0.25, ThresholdType.absolute)
-    expected = pd.Series([2, 3], index=sparse_index[1:3])
-    assert_series_equal(actual, expected)
-
-    s = pd.Series([1, 3, 2, 4], index=sparse_index)
-    actual = smooth_spikes(s, 0.5, ThresholdType.absolute)
-    expected = pd.Series([1.5, 3.5], index=sparse_index[1:3])
-    assert_series_equal(actual, expected)
-
 
 def test_repeat():
     with pytest.raises(MqError):
         repeat(pd.Series, 0)
     with pytest.raises(MqError):
         repeat(pd.Series, 367)
 
@@ -640,25 +621,9 @@
     b = pd.Series([24, 27, 30], index=(pd.date_range('2020-01-01', periods=3, freq='D')))
     actual = weighted_sum([a, b], [.3, .6])
     expected = pd.Series([16.333333, 18.666666, 21], index=pd.date_range('2020-01-01', periods=3))
     expected.index.freq = None
     assert_series_equal(actual, expected)
 
 
-def test_geometrically_aggregate():
-    dates = [
-        date(2019, 1, 1),
-        date(2019, 1, 2),
-        date(2019, 1, 3),
-        date(2019, 1, 4),
-        date(2019, 1, 5),
-    ]
-
-    x = pd.Series([None, 0.05, 0.04, -0.03, 0.12], index=dates)
-
-    result = geometrically_aggregate(x)
-    expected = pd.Series([None, 0.05, 0.09200000000000008, 0.05923999999999996, 0.18634879999999998], index=dates)
-    assert_series_equal(result, expected)
-
-
 if __name__ == '__main__':
     pytest.main(args=["test_algebra.py"])
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_analysis.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_analysis.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_backtesting.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_backtesting.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_datetime.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_datetime.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_econometrics.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_econometrics.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_helper.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_helper.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures.py`

 * *Files 2% similar despite different names*

```diff
@@ -27,15 +27,15 @@
 import pytest
 import pytz
 from numpy.testing import assert_equal
 from pandas.testing import assert_series_equal
 from pandas.tseries.offsets import CustomBusinessDay
 from pytz import timezone
 from testfixtures import Replacer
-from testfixtures.mock import Mock, MagicMock
+from testfixtures.mock import Mock
 
 import gs_quant.timeseries.measures as tm
 import gs_quant.timeseries.measures_rates as tm_rates
 from gs_quant.api.gs.assets import AssetType, GsTemporalXRef, GsAssetApi, GsIdType, IdList, GsAsset
 from gs_quant.api.gs.data import GsDataApi, MarketDataResponseFrame
 from gs_quant.api.gs.data import QueryType
 from gs_quant.data.core import DataContext
@@ -357,163 +357,14 @@
         assert 'MAS2NJCYHDHP8P0X' == correct_id
         bbid_mock.return_value = 'CAD'
         correct_id = tm_rates._currency_to_tdapi_basis_swap_rate_asset(asset)
         assert 'MARVD2E65AWEXXBA' == correct_id
         replace.restore()
 
 
-def test_currency_to_tdapi_swap_rate_asset_for_intraday(mocker):
-    replace = Replacer()
-    mocker.patch.object(GsSession.__class__, 'current',
-                        return_value=GsSession.get(Environment.QA, 'client_id', 'secret'))
-    mocker.patch.object(GsSession.current, '_get', side_effect=mock_request)
-    mocker.patch.object(SecurityMaster, 'get_asset', side_effect=mock_request)
-
-    bbid_mock = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-
-    with tm.PricingContext(dt.date.today()):
-        asset = Currency('MAZ7RWC904JYHYPS', 'USD')
-        bbid_mock.return_value = 'USD'
-        correct_id = tm_rates._currency_to_tdapi_swap_rate_asset_for_intraday(asset)
-        assert 'MACF6R4J5FY4KGBZ' == correct_id
-        replace.restore()
-
-
-def my_mocked_mxapi_backtest(cls=None, builder=None, start_time=None, end_time=None, num_samples=60,
-                             csa=None, request_id=None, close_location=None, real_time=None):
-    d = {'column_name': [], 'timeStamp': []}
-    df = MarketDataResponseFrame(pd.DataFrame(data=d))
-    df = df.set_index('timeStamp')
-    return df
-
-
-def test_swap_rate_calc(mocker):
-    replace = Replacer()
-
-    mocker.patch.object(GsDataApi, 'get_mxapi_backtest_data', )
-    bbid_mock = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-
-    mocker.patch.object(GsDataApi, 'get_mxapi_backtest_data', side_effect=my_mocked_mxapi_backtest)
-
-    asset = Currency('MAZ7RWC904JYHYPS', 'USD')
-    bbid_mock.return_value = 'USD'
-    val = tm_rates.swap_rate_calc(asset, swap_tenor='10y', benchmark_type='SOFR', real_time=True, forward_tenor='0b')
-    assert len(val.keys()) == 0
-
-    try:
-        val = tm_rates.swap_rate_calc(asset, swap_tenor='10y', benchmark_type='SOFR', real_time=False)
-        assert True
-    except NotImplementedError:
-        assert False
-
-    try:
-        val = tm_rates.swap_rate_calc(asset, swap_tenor='10x', benchmark_type='SOFR', real_time=True)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        val = tm_rates.swap_rate_calc(asset, swap_tenor='10y', benchmark_type='SOFR', csa='CME', real_time=True)
-        assert True
-    except MqValueError:
-        assert False
-
-    try:
-        # rate option with no defaults specified
-        val = tm_rates.swap_rate_calc(asset, swap_tenor='10y', benchmark_type='NGN-LIBOR-SYNTHETIC', real_time=True)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        # rate option with defaults specified
-        val = tm_rates.swap_rate_calc(asset, swap_tenor='10y', benchmark_type='USD-SOFR-COMPOUND', real_time=True)
-        assert True
-    except MqValueError:
-        assert False
-
-    replace.restore()
-
-
-def my_mocked_mxapi_measure(cls, curve_type=None, curve_asset=None, curve_point=None, curve_tags=None,
-                            measure=None, start_time=None, end_time=None, request_id=None,
-                            close_location=None, real_time=None):
-    d = {'column_name': [], 'timeStamp': []}
-    df = MarketDataResponseFrame(pd.DataFrame(data=d))
-    df = df.set_index('timeStamp')
-    return df
-
-
-def test_curve_measures(mocker):
-    replace = Replacer()
-
-    mocker.patch.object(GsDataApi, 'get_mxapi_curve_measure')
-    bbid_mock = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-
-    mocker.patch.object(GsDataApi, 'get_mxapi_curve_measure', side_effect=my_mocked_mxapi_measure)
-
-    asset = Currency('MAZ7RWC904JYHYPS', 'USD')
-    bbid_mock.return_value = 'USD'
-    val = tm_rates.forward_rate(asset, forward_term='1m')
-    assert len(val.keys()) == 0
-    val = tm_rates.discount_factor(asset, tenor='1m')
-    assert len(val.keys()) == 0
-    val = tm_rates.instantaneous_forward_rate(asset, tenor='1m')
-    assert len(val.keys()) == 0
-    val = tm_rates.index_forward_rate(asset, forward_start_tenor='1m', benchmark_type='LIBOR')
-    assert len(val.keys()) == 0
-
-    try:
-        val = tm_rates.forward_rate(asset)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        val = tm_rates.discount_factor(asset)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        val = tm_rates.index_forward_rate(asset)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        val = tm_rates.instantaneous_forward_rate(asset)
-        assert False
-    except MqValueError:
-        assert True
-
-    try:
-        # rate option with defaults specified
-        val = tm_rates.index_forward_rate(asset, forward_start_tenor='10y', benchmark_type='USD-SOFR-COMPOUND',
-                                          real_time=True)
-        assert True
-    except MqValueError:
-        assert False
-
-    try:
-        # rate option with no defaults specified
-        val = tm_rates.index_forward_rate(asset, forward_start_tenor='10y', benchmark_type='NGN-LIBOR-SYNTHETIC',
-                                          real_time=True)
-        assert False
-    except MqValueError:
-        assert True
-
-    asset = Currency('MA890', 'EGP')
-    bbid_mock.return_value = 'EGP'
-    val = tm_rates.forward_rate(asset, forward_term='1m')
-    assert len(val.keys()) == 0
-
-    replace.restore()
-
-
 def test_check_clearing_house():
     assert tm_rates._ClearingHouse.LCH == tm_rates._check_clearing_house('lch')
     assert tm_rates._ClearingHouse.CME == tm_rates._check_clearing_house(tm_rates._ClearingHouse.CME)
     assert tm_rates._ClearingHouse.LCH == tm_rates._check_clearing_house(None)
     invalid_ch = ['NYSE']
     for ch in invalid_ch:
         with pytest.raises(MqError):
@@ -987,16 +838,15 @@
             "M20",
         ]
 
     }
     return pd.DataFrame(data=d, index=pd.to_datetime([datetime.date(2019, 1, 2)] * 8))
 
 
-def mock_fx_vol(_cls, asset_ids=None, query_type=None, where=None, source=None, real_time=None, request_id=None,
-                parallelize_queries=False):
+def mock_fx_vol(_cls, asset_ids=None, query_type=None, where=None, source=None, real_time=None, request_id=None):
     d = {
         'strikeReference': ['delta', 'spot', 'forward'],
         'relativeStrike': [25, 100, 100],
         'impliedVolatility': [5, 1, 2],
         'forecast': [1.1, 1.1, 1.1]
     }
     if DataContext.current.end_date >= datetime.date.today():
@@ -1172,16 +1022,15 @@
         'fundamentalMetric': [5, 1, 2]
     }
     df = MarketDataResponseFrame(data=d, index=_index * 3)
     df.dataset_ids = _test_datasets
     return df
 
 
-def mock_eq_vol(_cls, asset_ids=None, query_type=None, where=None, source=None, real_time=None, request_id=None,
-                parallelize_queries=False):
+def mock_eq_vol(_cls, asset_ids=None, query_type=None, where=None, source=None, real_time=None, request_id=None):
     d = {
         'impliedVolatility': [5, 1, 2],
     }
     if DataContext.current.end_date >= datetime.date.today():
         end = datetime.datetime.now(pytz.UTC).date()
         periods = 4
         d['impliedVolatility'].append(3)
@@ -1191,15 +1040,15 @@
     df = MarketDataResponseFrame(data=d, index=pd.date_range(end=end, periods=periods, freq='D'))
     df.dataset_ids = _test_datasets
     df.index.freq = None
     return df
 
 
 def mock_eq_vol_last_empty(_cls, asset_ids=None, query_type=None, where=None, source=None, real_time=None,
-                           request_id=None, parallelize_queries=False):
+                           request_id=None):
     d = {
         'impliedVolatility': [5, 1, 2],
     }
     end = datetime.date.today() - datetime.timedelta(days=1)
     df = MarketDataResponseFrame(data=d, index=pd.date_range(end=end, periods=3, freq='D'))
     df.dataset_ids = _test_datasets
     return df
@@ -1495,15 +1344,14 @@
         last_data = tm.get_last_for_measure(['blah'], QueryType.IMPLIED_VOLATILITY, {}, ignore_errors=True)
         assert last_data is None
 
 
 def test_tenor_month_to_year():
     assert tm._tenor_month_to_year('1y') == '1y'
     assert tm._tenor_month_to_year('11m') == '11m'
-    assert tm._tenor_month_to_year('12m') == '1y'
     assert tm._tenor_month_to_year('24m') == '2y'
 
 
 def test_implied_vol_no_last():
     replace = Replacer()
     mock_spx = Index('MA890', AssetClass.Equity, 'SPX')
     idx = pd.date_range(end=datetime.date.today() - datetime.timedelta(days=1), periods=3, freq='D')
@@ -2264,17 +2112,17 @@
     replace.restore()
 
 
 def test_swap_annuity(mocker):
     replace = Replacer()
     args = dict(swap_tenor='10y', benchmark_type=None, floating_rate_tenor=None, forward_tenor='0b', real_time=False)
 
-    mock_nok = Currency('MA891', 'ACU')
+    mock_nok = Currency('MA891', 'PLN')
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-    xrefs.return_value = 'ACU'
+    xrefs.return_value = 'PLN'
     args['asset'] = mock_nok
     with pytest.raises(NotImplementedError):
         tm_rates.swap_annuity(**args)
 
     mock_usd = Currency('MAZ7RWC904JYHYPS', 'USD')
     args['asset'] = mock_usd
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
@@ -2316,17 +2164,17 @@
 
 
 def test_swap_term_structure():
     replace = Replacer()
     args = dict(benchmark_type=None, floating_rate_tenor=None, tenor_type=tm_rates._SwapTenorType.FORWARD_TENOR,
                 tenor='0b', real_time=False)
 
-    mock_nok = Currency('MA891', 'ACU')
+    mock_nok = Currency('MA891', 'PLN')
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-    xrefs.return_value = 'ACU'
+    xrefs.return_value = 'PLN'
     args['asset'] = mock_nok
     with pytest.raises(NotImplementedError):
         tm_rates.swap_term_structure(**args)
 
     mock_usd = Currency('MAZ7RWC904JYHYPS', 'USD')
     args['asset'] = mock_usd
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
@@ -2354,16 +2202,14 @@
         tm_rates.swap_term_structure(**args)
     args['benchmark_type'] = BenchmarkType.LIBOR
 
     bd_mock = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
     bd_mock.return_value = pd.DataFrame(data=dict(date="2020-04-10", exchange="NYC", description="Good Friday"),
                                         index=[pd.Timestamp('2020-04-10')])
     args['pricing_date'] = datetime.date(2020, 4, 10)
-    bd_mock = replace('gs_quant.datetime.gscalendar.GsCalendar.holidays', MagicMock())
-    bd_mock.__iter__.return_value = (datetime.date(2020, 4, 10),)
     with pytest.raises(MqValueError):
         tm_rates.swap_term_structure(**args)
     args['pricing_date'] = None
 
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
     xrefs.return_value = 'USD'
     identifiers_empty = replace('gs_quant.timeseries.measures.GsAssetApi.get_many_assets', Mock())
@@ -2503,16 +2349,14 @@
         tm_rates.basis_swap_term_structure(**args)
     args['reference_benchmark_type'] = BenchmarkType.LIBOR
 
     bd_mock = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
     bd_mock.return_value = pd.DataFrame(data=dict(date="2020-04-10", exchange="NYC", description="Good Friday"),
                                         index=[pd.Timestamp('2020-04-10')])
     args['pricing_date'] = datetime.date(2020, 4, 10)
-    bd_mock = replace('gs_quant.datetime.gscalendar.GsCalendar.holidays', MagicMock())
-    bd_mock.__iter__.return_value = (datetime.date(2020, 4, 10),)
     with pytest.raises(MqValueError):
         tm_rates.basis_swap_term_structure(**args)
     args['pricing_date'] = None
 
     xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
     xrefs.return_value = 'USD'
     identifiers_empty = replace('gs_quant.timeseries.measures.GsAssetApi.get_many_assets', Mock())
@@ -4095,15 +3939,15 @@
         replace = Replacer()
         replace('gs_quant.timeseries.measures.GsDataApi.get_market_data', mock_forward_price)
         mock_ice = CommodityPowerAggregatedNodes('MA001', 'ICE Mid C')
 
         with DataContext(datetime.date(2019, 1, 2), datetime.date(2019, 1, 2)):
             bbId_mock = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
             bbId_mock.return_value = None
-            ISO_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+            ISO_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
             ISO_mock.return_value = {'parameters': {'ISO': 'PJM'}}
 
             # Should work as other usecases where assetId has bbid
             actual = tm.forward_price(mock_ice,
                                       price_method='LMP',
                                       contract_range='2Q20',
                                       bucket='7x24'
@@ -4656,20 +4500,14 @@
 
     actual = tm.price_to_sales(mock_spx, period, direction)
     assert_series_equal(pd.Series([5, 1, 2], index=_index * 3, name='fundamentalMetric'), pd.Series(actual))
     assert actual.dataset_ids == _test_datasets
     with pytest.raises(NotImplementedError):
         tm.price_to_sales(..., period, direction, real_time=True)
 
-    actual = tm.price_to_earnings_positive_exclusive(mock_spx, period, direction)
-    assert_series_equal(pd.Series([5, 1, 2], index=_index * 3, name='fundamentalMetric'), pd.Series(actual))
-    assert actual.dataset_ids == _test_datasets
-    with pytest.raises(NotImplementedError):
-        tm.price_to_earnings_positive_exclusive(..., period, direction, real_time=True)
-
     actual = tm.return_on_equity(mock_spx, period, direction)
     assert_series_equal(pd.Series([5, 1, 2], index=_index * 3, name='fundamentalMetric'), pd.Series(actual))
     assert actual.dataset_ids == _test_datasets
     with pytest.raises(NotImplementedError):
         tm.return_on_equity(..., period, direction, real_time=True)
 
     actual = tm.sales_per_share(mock_spx, period, direction)
@@ -5229,95 +5067,14 @@
         actual = tm.forward_curve(mock_CAISO, bucket='Peak')
         assert_series_equal(pd.Series(target['Peak_CAISO'], index=[datetime.date(2020, 9, 1)], name='forwardPrice'),
                             pd.Series(actual))
 
     replace.restore()
 
 
-def mock_us_gas_forward_curve(_cls, _q, ignore_errors=False):
-    d = {
-        'forwardPrice': [1.614, 1.685, 1.814],
-        'priceMethod': ["GDD", "GDD", "GDD"],
-        'contract': ["H24", "J24", "K24"]
-    }
-    date = datetime.date(2020, 8, 20)
-    df = MarketDataResponseFrame(data=d, index=pd.to_datetime([date, date, date]))
-    df.dataset_ids = _test_datasets
-    return df
-
-
-def test_us_gas_forward_curve():
-    replace = Replacer()
-    asset = CommodityNaturalGasHub('MAA66', 'HENRY')
-    mock_get_data = replace('gs_quant.data.dataset.Dataset.get_data_last', Mock())
-    expeted_output = [1.614, 1.685, 1.814]
-    expected_dates = [datetime.date(2024, 3, 1), datetime.date(2024, 4, 1), datetime.date(2024, 5, 1)]
-    with DataContext(datetime.date(2023, 12, 20), datetime.date(2024, 5, 20)):  # G24, H24, J24, K24
-        # Normal case with range contracts between (2023, 12, 20) - (2024, 5, 20)
-        replace('gs_quant.timeseries.measures.GsDataApi.get_market_data',
-                mock_us_gas_forward_curve)
-        mock_get_data.return_value = pd.DataFrame(data=[0], index=[datetime.date(2024, 2, 16)])
-        actual = tm.forward_curve_ng(asset, market_date='20240216')
-        assert_series_equal(pd.Series(expeted_output, index=expected_dates, name='forwardPrice'),
-                            pd.Series(actual))
-
-        # market date is a holiday (2024, 2, 19) -> Washington's Birthday
-        replace('gs_quant.timeseries.measures.GsDataApi.get_market_data',
-                mock_us_gas_forward_curve)
-        mock_get_data.return_value = pd.DataFrame(data=[0], index=[datetime.date(2024, 2, 16)])
-        actual = tm.forward_curve_ng(asset, market_date='20240219')
-        assert_series_equal(pd.Series(expeted_output, index=expected_dates, name='forwardPrice'),
-                            pd.Series(actual))
-
-        # Test for an empty data query result
-        replace('gs_quant.timeseries.measures.GsDataApi.get_market_data', mock_empty_forward_curve)
-        mock_get_data.return_value = pd.DataFrame(data=[0], index=[datetime.date(2024, 2, 16)])
-        actual = tm.forward_curve_ng(asset, market_date='20240219')
-        assert actual.empty
-
-        # Test for default date always returning a weekday
-        replace('gs_quant.timeseries.measures.GsDataApi.get_market_data', mock_us_gas_forward_curve)
-        mock_todate = replace('pandas.Timestamp.today', Mock())
-        mock_todate.return_value = pd.Timestamp('2024-02-18')
-        mock_get_data.return_value = pd.DataFrame(data=[0], index=[datetime.date(2020, 8, 20)])
-        actual = tm.forward_curve_ng(asset)
-        assert_series_equal(pd.Series(expeted_output, index=expected_dates, name='forwardPrice'),
-                            pd.Series(actual))
-
-        # Test for intra day frequency error
-        with pytest.raises(MqValueError):
-            tm.forward_curve_ng(asset, market_date='20240216', real_time=True)
-
-        # Test for future date query
-        with pytest.raises(MqValueError):
-            tm.forward_curve_ng(asset, market_date='20400820')
-
-        # Test for weekend date query
-        with pytest.raises(MqValueError):
-            tm.forward_curve_ng(asset, market_date='20240217')
-
-        # Test for term structure for market date beyond end date which is an invalid scenario
-        with pytest.raises(MqValueError):
-            tm.forward_curve_ng(asset, market_date='20240320')
-
-        # Test for empty market date in parameters, will fail as end date for this test is in past
-        with pytest.raises(MqValueError):
-            mock_todate = replace('pandas.Timestamp.today', Mock())
-            mock_todate.return_value = pd.Timestamp('2024-10-18')
-            actual = tm.forward_curve_ng(asset)
-
-        # Test for invalid market_date data type
-        with pytest.raises(MqTypeError):
-            actual = tm.forward_curve_ng(asset, market_date=20201001)
-
-        # Test for invalid market_date string format
-        with pytest.raises(MqValueError):
-            actual = tm.forward_curve_ng(asset, market_date='9, Jan 2020')
-
-
 def test_eu_ng_hub_to_swap():
     # Test for Id provider to return an instrument
     replace = Replacer()
     mock_EU_asset = CommodityEUNaturalGasHub('MA001', 'TTF')
     mock_EU_swap_asset = Swap('MA002', AssetClass.Commod, 'Swap NatGas TTF')
     mock_EU_swap_asset.id = 'MA002'
     assets = replace('gs_quant.timeseries.measures.GsAssetApi.get_many_assets', Mock())
@@ -5337,48 +5094,48 @@
 def test_settlement_price():
     # Tests for settlement price function
     replace = Replacer()
 
     with DataContext(datetime.date(2021, 6, 2), datetime.date(2021, 6, 2)):
         # Test for EEX Asset
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'DEBM')
-        EEX_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        EEX_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         EEX_mock.return_value = {'parameters': {'exchange': 'EEX', 'productGroup': 'PowerFutures'}}
         EEX_ds = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
         EEX_ds.return_value = pd.DataFrame(data=dict(settlementPrice=20.20, contract='K21'),
                                            index=[datetime.date(2021, 6, 2)])
         actual = pd.Series(tm.settlement_price(Asset_Mock, contract='K21'))
         expected = pd.Series([20.20], index=[datetime.date(2021, 6, 2)], name='settlementPrice')
         assert_series_equal(expected, actual)
 
         # Test for CarbonCredit Asset
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'RGGI V19')
-        CC_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        CC_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         CC_mock.return_value = {'parameters': {'exchange': 'ICE', 'productGroup': 'Physical Environment'}}
         CC_ds = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
         CC_ds.return_value = pd.DataFrame(data=dict(settlementPrice=21.21, contract='K21'),
                                           index=[datetime.date(2021, 6, 2)])
         actual = pd.Series(tm.settlement_price(Asset_Mock, contract='K21'))
         expected = pd.Series([21.21], index=[datetime.date(2021, 6, 2)], name='settlementPrice')
         assert_series_equal(expected, actual)
 
         # Test for ICE Power Asset
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'GAB')
-        CC_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        CC_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         CC_mock.return_value = {'parameters': {'exchange': 'ICE', 'productGroup': 'PowerFutures'}}
         CC_ds = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
         CC_ds.return_value = pd.DataFrame(data=dict(settlementPrice=22.22, contract='K21'),
                                           index=[datetime.date(2021, 6, 2)])
         actual = pd.Series(tm.settlement_price(Asset_Mock, contract='K21'))
         expected = pd.Series([22.22], index=[datetime.date(2021, 6, 2)], name='settlementPrice')
         assert_series_equal(expected, actual)
 
         # Test for NASDAQ Power Asset
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'ENOFUTBL')
-        CC_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        CC_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         CC_mock.return_value = {'parameters': {'exchange': 'NASDAQ', 'productGroup': 'PowerFutures'}}
         CC_ds = replace('gs_quant.data.dataset.Dataset.get_data', Mock())
         CC_ds.return_value = pd.DataFrame(data=dict(settlementPrice=23.23, contract='K21'),
                                           index=[datetime.date(2021, 6, 2)])
         actual = pd.Series(tm.settlement_price(Asset_Mock, contract='K21'))
         expected = pd.Series([23.23], index=[datetime.date(2021, 6, 2)], name='settlementPrice')
         assert_series_equal(expected, actual)
@@ -5387,31 +5144,31 @@
         CC_ds.return_value = pd.DataFrame()
         actual = pd.Series(tm.settlement_price(Asset_Mock, contract='K21'))
         expected = pd.Series(dtype=float)
         assert_series_equal(expected, actual)
 
         # Test for asset with no exchange info
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'XYZ')
-        empty_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        empty_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         empty_mock.return_value = {'parameters': {}}
 
         with pytest.raises(MqTypeError):
             tm.settlement_price(Asset_Mock, contract='F21')
 
         # Test for asset with any only some asset params filled
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'XYZ')
-        empty_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        empty_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         empty_mock.return_value = {'parameters': {'exchange': 'OTHER_EXCHANGE'}}
 
         with pytest.raises(MqTypeError):
             tm.settlement_price(Asset_Mock, contract='F21')
 
         # Test for asset with any other exchange, currently not covered
         Asset_Mock = FutureMarket('MA001', AssetClass.Commod, 'XYZ')
-        empty_mock = replace('gs_quant.entities.entity.Entity.get_entity', Mock())
+        empty_mock = replace('gs_quant.timeseries.measures.Asset.get_entity', Mock())
         empty_mock.return_value = {'parameters': {'exchange': 'OTHER_EXCHANGE', 'productGroup': 'OTHER_PRODUCT'}}
 
         with pytest.raises(MqTypeError):
             tm.settlement_price(Asset_Mock, contract='F21')
 
         # Test for real time data setting on query
         with pytest.raises(MqValueError):
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_countries.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_countries.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_fx_vol.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_fx_vol.py`

 * *Files 4% similar despite different names*

```diff
@@ -29,15 +29,14 @@
 from gs_quant.api.gs.data import GsDataApi, MarketDataResponseFrame, QueryType
 from gs_quant.errors import MqError, MqValueError
 from gs_quant.session import GsSession, Environment
 from gs_quant.target.common import PricingLocation
 from gs_quant.test.timeseries.utils import mock_request
 from gs_quant.timeseries import Currency, Cross, Bond, CurrencyEnum, SecurityMaster
 from gs_quant.timeseries.measures_fx_vol import _currencypair_to_tdapi_fxo_asset, _currencypair_to_tdapi_fxfwd_asset
-from gs_quant.timeseries.measures_helper import VolReference
 
 _index = [pd.Timestamp('2021-03-30')]
 _test_datasets = ('TEST_DATASET',)
 
 
 def test_currencypair_to_tdapi_fxfwd_asset():
     mock_eur = Cross('MA8RY265Q34P7TWZ', 'EURUSD')
@@ -340,14 +339,87 @@
     expected.dataset_ids = _test_datasets
     assert_series_equal(expected, actual)
     assert actual.dataset_ids == _test_datasets
 
     replace.restore()
 
 
+def test_fx_vol_measure_legacy(mocker):
+    replace = Replacer()
+    args = dict(tenor='1m', strike_reference=tm_fxo.VolReference('delta_neutral'), relative_strike=0,
+                location=None, legacy_implementation=True)
+
+    mock_gbp = Cross('MA26QSMPX9990G66', 'GBPUSD')
+    args['asset'] = mock_gbp
+    expected = tm.ExtendedSeries([1, 2, 3], index=_index * 3, name='impliedVolatility')
+    expected.dataset_ids = _test_datasets
+    mocker.patch.object(tm_rates, 'get_historical_and_last_for_measure',
+                        return_value=expected)
+    mocker.patch.object(tm_rates, '_extract_series_from_df',
+                        return_value=expected)
+    xrefs = replace('gs_quant.timeseries.measures.cross_stored_direction_for_fx_vol', Mock())
+    xrefs.return_value = 'MA26QSMPX9990G66'
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+    replace.restore()
+
+    args['legacy_implementation'] = False
+    xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
+    xrefs.return_value = None
+    with pytest.raises(MqValueError):
+        tm_fxo.implied_volatility_fxvol(**args)
+
+    xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
+    xrefs.return_value = 'GBPUSD'
+    xrefs = replace('gs_quant.timeseries.measures._cross_stored_direction_helper', Mock())
+    xrefs.return_value = 'GBPUSD'
+    mocker.patch.object(tm_fxo, 'implied_volatility_new',
+                        return_value=expected)
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
+    xrefs.return_value = 'USDUSD'
+    xrefs = replace('gs_quant.timeseries.measures_fx_vol._cross_stored_direction_helper', Mock())
+    xrefs.return_value = 'GBPUSD'
+    assets = replace('gs_quant.markets.securities.SecurityMaster.get_asset', Mock())
+    assets.return_value = mock_gbp
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    args['strike_reference'] = tm_fxo.VolReference('delta_call')
+    args['relative_strike'] = 25
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    args['strike_reference'] = tm_fxo.VolReference('delta_put')
+    args['relative_strike'] = 25
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    args['strike_reference'] = tm_fxo.VolReference('spot')
+    args['relative_strike'] = 100
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    args['strike_reference'] = tm_fxo.VolReference('forward')
+    args['relative_strike'] = 100
+    actual = tm_fxo.implied_volatility_fxvol(**args)
+    assert_series_equal(expected, actual)
+
+    args['strike_reference'] = tm_fxo.VolReference('normalized')
+    args['relative_strike'] = 100
+    xrefs = replace('gs_quant.timeseries.measures_fx_vol._preprocess_implied_vol_strikes_fx', Mock())
+    xrefs.return_value = ['normalized', 0]
+    with pytest.raises(MqValueError):
+        tm_fxo.implied_volatility_fxvol(**args)
+
+    replace.restore()
+
+
 def mock_df():
     d = {
         'strikeVol': [5, 1, 2],
     }
     df = MarketDataResponseFrame(data=d, index=_index * 3)
     df.dataset_ids = "FX_VOLATILITY_SWAP"
     return df
@@ -446,87 +518,9 @@
     assert_series_equal(tm_rates._extract_series_from_df(mock_df(), QueryType.STRIKE_VOL), actual)
 
     actual = tm_fxo.vol_swap_strike(base, "1y", None, real_time=False)
     assert_series_equal(tm_rates._extract_series_from_df(mock_df(), QueryType.STRIKE_VOL), actual)
     replace.restore()
 
 
-def test_implied_volatility_fxvol(mocker):
-    replace = Replacer()
-
-    args = dict(tenor="1y", location=None)
-    mock_eur = Cross('MAGZMXVM0J282ZTR', 'EURUSD')
-    args['asset'] = mock_eur
-
-    xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-    xrefs.return_value = 'EURUSD'
-    xrefs = replace('gs_quant.timeseries.measures_fx_vol._cross_stored_direction_helper', Mock())
-    xrefs.return_value = 'GBPUSD'
-    assets = replace('gs_quant.markets.securities.SecurityMaster.get_asset', Mock())
-    assets.return_value = mock_eur
-
-    preprocess_impl_vol = replace('gs_quant.timeseries.measures_fx_vol._preprocess_implied_vol_strikes_fx', Mock())
-    replace('gs_quant.timeseries.measures_fx_vol._get_tdapi_fxo_assets', Mock())
-    mocker.patch.object(GsDataApi, 'get_market_data', return_value=mock_curr(None, None))
-    expected = tm.ExtendedSeries([1, 2, 3], index=_index * 3, name='impliedVolatility')
-
-    args['strike_reference'] = VolReference.DELTA_CALL
-    args['relative_strike'] = 50
-    preprocess_impl_vol.return_value = ['abc', 50]
-    with pytest.raises(MqValueError):
-        tm_fxo.implied_volatility_fxvol(**args)
-
-    args['strike_reference'] = VolReference.DELTA_CALL
-    args['relative_strike'] = 50
-    preprocess_impl_vol.return_value = ['delta', 50]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    args['strike_reference'] = VolReference.DELTA_PUT
-    args['relative_strike'] = 25
-    preprocess_impl_vol.return_value = ['delta', -25]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    args['strike_reference'] = VolReference.DELTA_CALL
-    args['relative_strike'] = 0
-    preprocess_impl_vol.return_value = ['delta', 0]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    args['strike_reference'] = VolReference.SPOT
-    args['relative_strike'] = 100
-    preprocess_impl_vol.return_value = ['spot', 100]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    args['strike_reference'] = VolReference.FORWARD
-    args['relative_strike'] = 100
-    preprocess_impl_vol.return_value = ['forward', 100]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    args['strike_reference'] = VolReference.NORMALIZED
-    args['relative_strike'] = 100
-    preprocess_impl_vol = replace('gs_quant.timeseries.measures_fx_vol._preprocess_implied_vol_strikes_fx', Mock())
-    preprocess_impl_vol.return_value = ['normalized', 0]
-    with pytest.raises(MqValueError):
-        tm_fxo.implied_volatility_fxvol(**args)
-
-    xrefs = replace('gs_quant.timeseries.measures_fx_vol._cross_stored_direction_helper', Mock())
-    xrefs.return_value = 'EURUSD'
-    args['strike_reference'] = VolReference.DELTA_CALL
-    args['relative_strike'] = 50
-    preprocess_impl_vol.return_value = ['delta', 50]
-    actual = tm_fxo.implied_volatility_fxvol(**args)
-    assert_series_equal(expected, actual)
-
-    xrefs = replace('gs_quant.timeseries.measures.Asset.get_identifier', Mock())
-    xrefs.return_value = None
-    with pytest.raises(MqValueError):
-        tm_fxo.implied_volatility_fxvol(**args)
-
-    replace.restore()
-
-
 if __name__ == '__main__':
     pytest.main(args=["test_measures_fx_vol.py"])
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_inflation.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_inflation.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_rates.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_rates.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_reports.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_reports.py`

 * *Files 13% similar despite different names*

```diff
@@ -9,17 +9,15 @@
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
-import copy
 import datetime
-import math
 
 import pandas
 import pandas as pd
 import pytest
 from testfixtures import Replacer
 from testfixtures.mock import Mock
 
@@ -61,132 +59,40 @@
                                parameters=ReportParameters(risk_model='risk_model_id'),
                                status='new')
 
 factor_data = [
     {
         'date': '2020-11-23',
         'reportId': 'report_id',
-        'factor': 'Factor Name',
+        'factor': 'factor_id',
         'factorCategory': 'CNT',
         'pnl': 11.23,
         'exposure': -11.23,
         'proportionOfRisk': 1
     },
     {
         'date': '2020-11-24',
         'reportId': 'report_id',
-        'factor': 'Factor Name',
+        'factor': 'factor_id',
         'factorCategory': 'CNT',
         'pnl': 11.24,
         'exposure': -11.24,
         'proportionOfRisk': 2
     },
     {
         'date': '2020-11-25',
         'reportId': 'report_id',
-        'factor': 'Factor Name',
+        'factor': 'factor_id',
         'factorCategory': 'CNT',
         'pnl': 11.25,
         'exposure': -11.25,
         'proportionOfRisk': 3
-    },
-    {
-        'date': '2020-11-23',
-        'reportId': 'report_id',
-        'factor': 'Total',
-        'factorCategory': 'CNT',
-        'pnl': 19.23,
-        'exposure': -11.23,
-        'proportionOfRisk': 1
-    },
-    {
-        'date': '2020-11-24',
-        'reportId': 'report_id',
-        'factor': 'Total',
-        'factorCategory': 'CNT',
-        'pnl': 14.24,
-        'exposure': -11.24,
-        'proportionOfRisk': 2
-    },
-    {
-        'date': '2020-11-25',
-        'reportId': 'report_id',
-        'factor': 'Total',
-        'factorCategory': 'CNT',
-        'pnl': 21.25,
-        'exposure': -11.25,
-        'proportionOfRisk': 3
     }
 ]
 
-
-factor_exposure_data = [
-    {
-        'date': '2024-03-14',
-        'reportId': 'report_id',
-        'factor': 'Factor_1',
-        'factorCategory': 'Style',
-        'pnl': 19.23,
-        'exposure': 100,
-        'proportionOfRisk': 1
-    },
-    {
-        'date': '2024-03-14',
-        'reportId': 'report_id',
-        'factor': 'Factor_2',
-        'factorCategory': 'Style',
-        'pnl': 14.24,
-        'exposure': 100,
-        'proportionOfRisk': 2
-    },
-    {
-        'date': '2024-03-14',
-        'reportId': 'report_id',
-        'factor': 'Factor_3',
-        'factorCategory': 'Style',
-        'pnl': 21.25,
-        'exposure': 100,
-        'proportionOfRisk': 3
-    }
-]
-
-
-factor_return_data = [
-    {
-        "date": "2024-03-13",
-        "factor": "Factor_1",
-        "return": 2
-    },
-    {
-        "date": "2024-03-13",
-        "factor": "Factor_2",
-        "return": 3
-    },
-    {
-        "date": "2024-03-13",
-        "factor": "Factor_3",
-        "return": 2
-    },
-    {
-        "date": "2024-03-14",
-        "factor": "Factor_1",
-        "return": 2
-    },
-    {
-        "date": "2024-03-14",
-        "factor": "Factor_2",
-        "return": 3
-    },
-    {
-        "date": "2024-03-14",
-        "factor": "Factor_3",
-        "return": 2
-    },
-]
-
 aggregate_factor_data = [
     {
         'date': '2020-11-23',
         'reportId': 'report_id',
         'factor': 'Factor',
         'factorCategory': 'CNT',
         'pnl': 11.23,
@@ -403,26 +309,14 @@
         "thematicExposure": 2,
         "thematicBeta": 1,
         "updateTime": "2021-07-20T23:43:38Z"
     }
 ]
 
 
-def compute_geometric_aggregation_calculations(aum: dict, pnl: dict, dates: list):
-    daily_returns = [0]
-    for i in range(2, len(dates)):
-        daily_returns.append(pnl[dates[i]] / aum[dates[i - 1]])
-
-    expected_values = [daily_returns[0]]
-    for i in range(1, len(daily_returns)):
-        expected_values.append((1 + expected_values[i - 1]) * (1 + daily_returns[i]) - 1)
-
-    return [v * 100 for v in expected_values]
-
-
 def mock_risk_model():
     risk_model = RiskModel(coverage=RiskModelCoverage.Country, id_='model_id', name='Fake Risk Model',
                            term=RiskModelTerm.Long, universe_identifier=RiskModelUniverseIdentifier.gsid, vendor='GS',
                            version=1.0)
 
     replace = Replacer()
 
@@ -551,14 +445,18 @@
     # mock getting risk model entity()
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model', Mock())
     mock.return_value = risk_model
 
     mock = replace('gs_quant.api.gs.reports.GsReportApi.get_report', Mock())
     mock.return_value = factor_risk_report
 
+    # mock getting report factor data
+    mock = replace('gs_quant.api.gs.reports.GsReportApi.get_factor_risk_report_results', Mock())
+    mock.return_value = factor_data
+
     # mock getting risk model dates
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model_dates', Mock())
     mock.return_value = ['2010-01-01']
 
     # mock getting risk model factor category
     mock = replace('gs_quant.api.gs.risk_models.GsFactorRiskModelApi.get_risk_model_data', Mock())
     mock.return_value = {
@@ -575,49 +473,25 @@
         'identifier': 'factor_id',
         'type': 'Factor',
         'name': 'Factor Name',
         'factorCategory': 'Factor Name'
     }]
 
     with DataContext(datetime.date(2020, 11, 23), datetime.date(2020, 11, 25)):
-        # mock getting report factor data
-        mock = replace('gs_quant.api.gs.reports.GsReportApi.get_factor_risk_report_results', Mock())
-        mock.return_value = factor_data
-
         actual = mr.factor_pnl('report_id', 'Factor Name')
         assert all(actual.values == [11.23, 11.24, 11.25])
 
-    with DataContext(datetime.date(2020, 11, 22), datetime.date(2020, 11, 25)):
-        # mock getting report factor data with first day set to 0
-        factor_data_copy = copy.copy(factor_data)
-        factor_data_copy.insert(0, {
-            'date': '2020-11-22',
-            'reportId': 'report_id',
-            'factor': 'Factor Name',
-            'factorCategory': 'CNT',
-            'pnl': 0,
-            'exposure': -11.23,
-            'proportionOfRisk': 1
-        })
-        mock = replace('gs_quant.api.gs.reports.GsReportApi.get_factor_risk_report_results', Mock())
-        mock.return_value = factor_data_copy
-
-        actual = mr.factor_pnl('report_id', 'Factor Name')
-        assert all(actual.values == [0.0, 11.23, 11.24, 11.25])
-
     with pytest.raises(MqValueError):
         mr.factor_pnl('report_id', 'Wrong Factor Name')
     replace.restore()
 
 
 def test_factor_pnl_percent():
     replace = Replacer()
 
-    aum = {'2020-11-22': 200, '2020-11-23': 400, '2020-11-24': 400, '2020-11-25': 400}
-
     # mock getting risk model entity()
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model', Mock())
     mock.return_value = risk_model
 
     mock = replace('gs_quant.api.gs.reports.GsReportApi.get_report', Mock())
     mock.return_value = factor_risk_report
 
@@ -644,79 +518,87 @@
     mock.return_value = [{
         'identifier': 'factor_id',
         'type': 'Factor',
         'name': 'Factor Name',
         'factorCategory': 'Factor Name'
     }]
 
-    mock = replace('gs_quant.markets.report.PerformanceReport.get_aum', Mock())
-    mock.return_value = aum
-
-    # Each team uses pnl today/aum yesterday
-    expected_values = [0, 0, 2.8844318, 5.7471343]
-
     with DataContext(datetime.date(2020, 11, 23), datetime.date(2020, 11, 25)):
         # mock getting aum source
         mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
         mock.return_value = RiskAumSource.Long
 
         # mock getting performance report
         mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
         mock.return_value = PerformanceReport(id='ID')
 
         # mock getting aum
         mock = replace('gs_quant.markets.report.PerformanceReport.get_long_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'longExposure': aum.values()})
+        mock.return_value = pandas.DataFrame.from_dict({'date': ['2020-11-25'], 'longExposure': [100]})
         actual = mr.factor_pnl('report_id', 'Factor Name', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
+        assert all(actual.values == [11.23, 11.24, 11.25])
 
     with DataContext(datetime.date(2020, 11, 23), datetime.date(2020, 11, 25)):
         # mock getting aum source
         mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
         mock.return_value = RiskAumSource.Short
 
         # mock getting performance report
         mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
         mock.return_value = PerformanceReport(id='ID')
 
         # mock getting aum
         mock = replace('gs_quant.markets.report.PerformanceReport.get_short_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'shortExposure': aum.values()})
+        mock.return_value = pandas.DataFrame.from_dict({'date': ['2020-11-25'], 'shortExposure': [100]})
         actual = mr.factor_pnl('report_id', 'Factor Name', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
+        assert all(actual.values == [11.23, 11.24, 11.25])
 
     with DataContext(datetime.date(2020, 11, 23), datetime.date(2020, 11, 25)):
         # mock getting aum source
         mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
         mock.return_value = RiskAumSource.Gross
 
         # mock getting performance report
         mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
         mock.return_value = PerformanceReport(id='ID')
 
         # mock getting aum
         mock = replace('gs_quant.markets.report.PerformanceReport.get_gross_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'grossExposure': aum.values()})
+        mock.return_value = pandas.DataFrame.from_dict({'date': ['2020-11-25'], 'grossExposure': [400]})
         actual = mr.factor_pnl('report_id', 'Factor Name', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
+        assert all(actual.values == [11.23 / 4, 11.24 / 4, 11.25 / 4])
 
     with DataContext(datetime.date(2020, 11, 23), datetime.date(2020, 11, 25)):
         # mock getting aum source
         mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
         mock.return_value = RiskAumSource.Net
 
         # mock getting performance report
         mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
         mock.return_value = PerformanceReport(id='ID')
 
         # mock getting aum
         mock = replace('gs_quant.markets.report.PerformanceReport.get_net_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'netExposure': aum.values()})
+        mock.return_value = pandas.DataFrame.from_dict({'date': ['2020-11-25'], 'netExposure': [200]})
         actual = mr.factor_pnl('report_id', 'Factor Name', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
+        assert all(actual.values == [11.23 / 2, 11.24 / 2, 11.25 / 2])
+
+    with pytest.raises(MqValueError):
+        # mock getting aum source
+        mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
+        mock.return_value = RiskAumSource.Net
+
+        # mock getting performance report
+        mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
+        mock.return_value = PerformanceReport(id='ID')
+
+        # mock getting aum
+        mock = replace('gs_quant.markets.report.PerformanceReport.get_net_exposure', Mock())
+        mock.return_value = pandas.DataFrame.from_dict({'date': ['2020-11-24'], 'netExposure': [200]})
+        mr.factor_pnl('report_id', 'Factor Name', 'Percent')
 
     replace.restore()
 
 
 def test_asset_factor_pnl_percent():
     replace = Replacer()
 
@@ -1127,130 +1009,9 @@
     with DataContext(datetime.date(2022, 7, 1), datetime.date(2022, 7, 3)):
         actual = mr.aum('RP1')
         assert all(actual.values == [100, 200])
 
     replace.restore()
 
 
-def test_pnl():
-    replace = Replacer()
-
-    # mock PerformanceReport.get()
-    mock = replace('gs_quant.markets.report.PerformanceReport.get', Mock())
-    mock.return_value = PerformanceReport(report_id='RP1',
-                                          position_source_type='Portfolio',
-                                          position_source_id='MP1',
-                                          report_type='Portfolio Performance Analytics',
-                                          parameters=ReportParameters(transaction_cost_model='FIXED'))
-
-    # mock PerformanceReport.get_pnl()
-    mock = replace('gs_quant.markets.report.PerformanceReport.get_pnl', Mock())
-    mock.return_value = pandas.DataFrame.from_dict(
-        {'date': ['2022-07-01', '2022-07-02', '2022-07-03'], 'pnl': [200, 400, 600]})
-
-    with DataContext(datetime.date(2022, 7, 1), datetime.date(2022, 7, 3)):
-        actual = mr.pnl('RP1')
-        assert all(actual.values == [200, 400, 600])
-
-    replace.restore()
-
-
-def test_pnl_percent():
-    replace = Replacer()
-
-    # mock PerformanceReport.get()
-    mock = replace('gs_quant.markets.report.PerformanceReport.get', Mock())
-    mock.return_value = PerformanceReport(report_id='RP1',
-                                          position_source_type='Portfolio',
-                                          position_source_id='MP1',
-                                          report_type='Portfolio Performance Analytics',
-                                          parameters=ReportParameters(transaction_cost_model='FIXED'))
-
-    pnl = {'2022-07-01': 200, '2022-07-02': 400, '2022-07-03': 600}
-    aum = {'2022-06-30': 2000, '2022-07-01': 3000, '2022-07-02': 3000, '2022-07-03': 4000}
-
-    # mock PerformanceReport.get_pnl()
-    mock = replace('gs_quant.markets.report.PerformanceReport.get_pnl', Mock())
-    mock.return_value = pandas.DataFrame.from_dict({'date': list(pnl.keys()), 'pnl': list(pnl.values())})
-
-    mock = replace('gs_quant.markets.report.PerformanceReport.get_aum_source', Mock())
-    mock.return_value = RiskAumSource.Long
-
-    # mock getting performance report
-    mock = replace('gs_quant.markets.portfolio_manager.PortfolioManager.get_performance_report', Mock())
-    mock.return_value = PerformanceReport(id='ID')
-
-    mock = replace('gs_quant.markets.report.PerformanceReport.get_aum', Mock())
-    mock.return_value = aum
-
-    # Each team uses pnl today/aum yesterday
-    expected_values = compute_geometric_aggregation_calculations(aum, pnl, list(aum.keys()))
-
-    with DataContext(datetime.date(2022, 7, 1), datetime.date(2022, 7, 3)):
-        # mock getting aum
-        mock = replace('gs_quant.markets.report.PerformanceReport.get_long_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'longExposure': aum.values()})
-
-        actual = mr.pnl('report_id', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
-
-    # with one day's aum missed to test forward filling logic
-    with DataContext(datetime.date(2022, 7, 1), datetime.date(2022, 7, 3)):
-        # mock getting aum with one day missed to test forward filling logic
-        aum = {'2022-06-30': 2000, '2022-07-01': 3000, '2022-07-03': 4000}
-        mock = replace('gs_quant.markets.report.PerformanceReport.get_long_exposure', Mock())
-        mock.return_value = pandas.DataFrame.from_dict({'date': aum.keys(), 'longExposure': aum.values()})
-
-        actual = mr.pnl('report_id', 'Percent')
-        assert all([a == pytest.approx(e) for a, e in zip(actual.values, expected_values)])
-
-    replace.restore()
-
-
-def test_historical_simulation_estimated_pnl():
-    replace = Replacer()
-
-    # mock getting report
-    mock = replace('gs_quant.api.gs.reports.GsReportApi.get_report', Mock())
-    mock.return_value = factor_risk_report
-
-    # mock getting report factor data
-    mock = replace('gs_quant.api.gs.reports.GsReportApi.get_factor_risk_report_results', Mock())
-    mock.return_value = factor_exposure_data
-
-    # mock sending data request
-    mock = replace('gs_quant.api.gs.data.GsDataApi.execute_query', Mock())
-    mock.return_value = {"data": factor_return_data}
-
-    with DataContext(datetime.date(2024, 3, 13), datetime.date(2024, 3, 14)):
-        actual = mr.historical_simulation_estimated_pnl('report_id')
-        actual_values = list(actual.values)
-        assert all([math.isclose(x, actual_values[i]) for i, x in enumerate([7.0, 14.17])])
-
-    replace.restore()
-
-
-def test_historical_simulation_estimated_factor_attribution():
-    replace = Replacer()
-
-    # mock getting report
-    mock = replace('gs_quant.api.gs.reports.GsReportApi.get_report', Mock())
-    mock.return_value = factor_risk_report
-
-    # mock getting report factor data
-    mock = replace('gs_quant.api.gs.reports.GsReportApi.get_factor_risk_report_results', Mock())
-    mock.return_value = factor_exposure_data
-
-    # mock sending data request
-    mock = replace('gs_quant.api.gs.data.GsDataApi.execute_query', Mock())
-    mock.return_value = {"data": [data for data in factor_return_data if data['factor'] == 'Factor_1']}
-
-    with DataContext(datetime.date(2024, 3, 13), datetime.date(2024, 3, 14)):
-        actual = mr.historical_simulation_estimated_factor_attribution('report_id', "Factor_1")
-        actual_values = list(actual.values)
-        assert all([math.isclose(x, actual_values[i]) for i, x in enumerate([2.0, 4.04])])
-
-    replace.restore()
-
-
 if __name__ == '__main__':
     pytest.main(args=[__file__])
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_risk_models.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_risk_models.py`

 * *Files 2% similar despite different names*

```diff
@@ -79,26 +79,14 @@
 
 mock_covariance_curve = {
     '2020-01-01': 1.01,
     '2020-01-02': 1.02,
     '2020-01-03': 1.03
 }
 
-mock_volatility_curve = {
-    '2020-01-01': sqrt(1.01),
-    '2020-01-02': sqrt(1.02),
-    '2020-01-03': sqrt(1.03)
-}
-
-mock_correlation_curve = {
-    '2020-01-01': 1.0,
-    '2020-01-02': 1.0,
-    '2020-01-03': 1.0
-}
-
 
 def mock_risk_model():
     replace = Replacer()
 
     # mock getting risk model entity()
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model', Mock())
     mock.return_value = mock_risk_model_obj
@@ -228,16 +216,16 @@
     mock.return_value = mock_risk_model_obj
 
     # mock getting risk model dates
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model_dates', Mock())
     mock.return_value = ['2020-01-01', '2020-01-02', '2020-01-03']
 
     # mock getting covariances
-    mock = replace('gs_quant.markets.factor.Factor.volatility', Mock())
-    mock.return_value = mock_volatility_curve
+    mock = replace('gs_quant.markets.factor.Factor.variance', Mock())
+    mock.return_value = mock_covariance_curve
 
     with DataContext(datetime.date(2020, 1, 1), datetime.date(2020, 1, 3)):
         actual = mrm.factor_volatility(mock_risk_model(), 'Factor Name')
         assert all(actual.values == [sqrt(1.01) * 100, sqrt(1.02) * 100, sqrt(1.03) * 100])
 
     with pytest.raises(MqValueError):
         mrm.factor_covariance(mock_risk_model(), 'Wrong Factor Name', 'Factor Name')
@@ -260,20 +248,20 @@
     mock.return_value = mock_risk_model_obj
 
     # mock getting risk model dates
     mock = replace('gs_quant.api.gs.risk_models.GsRiskModelApi.get_risk_model_dates', Mock())
     mock.return_value = ['2020-01-01', '2020-01-02', '2020-01-03']
 
     # mock getting covariances
-    mock = replace('gs_quant.markets.factor.Factor.correlation', Mock())
-    mock.return_value = mock_correlation_curve
+    mock = replace('gs_quant.markets.factor.Factor.covariance', Mock())
+    mock.return_value = mock_covariance_curve
 
     with DataContext(datetime.date(2020, 1, 1), datetime.date(2020, 1, 3)):
         actual = mrm.factor_correlation(mock_risk_model(), 'Factor Name', 'Factor Name')
-        assert all(actual.values == [1, 1, 1])
+        assert all(actual.values == [1.0000000000000002, 1, 1])
     replace.restore()
 
 
 def test_factor_performance():
     replace = Replacer()
 
     # mock getting risk model factor entity
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_measures_xccy.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_measures_xccy.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_rolling.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_rolling.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_statistics.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_statistics.py`

 * *Files 1% similar despite different names*

```diff
@@ -41,20 +41,20 @@
 
 
 def test_generate_series():
     x = generate_series(100)
 
     assert (len(x) == 100)
     assert (x.index[0] == datetime.date.today())
-    assert (x.iloc[0] == 100)
+    assert (x[0] == 100)
 
     x = generate_series(100, Direction.END_TODAY)
     assert (len(x) == 100)
     assert (x.index[-1] == datetime.date.today())
-    assert (x.iloc[0] == 100)
+    assert (x[0] == 100)
 
 
 def test_min():
     dates = [
         date(2019, 1, 1),
         date(2019, 1, 2),
         date(2019, 1, 3),
@@ -392,15 +392,15 @@
         for i in range(1, len(ts)):
             weights = (1 - alpha) * alpha ** np.arange(i, -1, -1)
             weights[0] /= (1 - alpha)
             x = ts.to_numpy()[:i + 1]
             ema = sum(weights * x) / sum(weights)
             debias_fact = sum(weights) ** 2 / (sum(weights) ** 2 - sum(weights ** 2))
             var = debias_fact * sum(weights * (x - ema) ** 2) / sum(weights)
-            std.iloc[i] = np.sqrt(var)
+            std[i] = np.sqrt(var)
         std[0] = np.NaN
         return std
 
     dates = [
         date(2019, 1, 1),
         date(2019, 1, 2),
         date(2019, 1, 3),
@@ -550,44 +550,35 @@
         date(2019, 1, 4),
         date(2019, 1, 7),
         date(2019, 1, 8),
     ]
 
     x = pd.Series([3.0, 2.0, 3.0, 1.0, 3.0, 6.0], index=dates)
     y = pd.Series([3.5, 1.8, 2.9, 1.2, 3.1, 6.0], index=dates)
-    y_with_mismatched_index = pd.Series([3.5, 1.8, 2.9, 1.2, 3.1], index=dates[:-1])
 
     assert_series_equal(percentiles(pd.Series(dtype=float), y), pd.Series(dtype=float))
     assert_series_equal(percentiles(x, pd.Series(dtype=float)), pd.Series(dtype=float))
     assert_series_equal(percentiles(x, y, Window(7, 0)), pd.Series(dtype=float))
 
     result = percentiles(x, y, 2)
     expected = pd.Series([50.0, 50.0, 100.0, 75.0], index=dates[2:])
     assert_series_equal(result, expected, obj="percentiles with window length 2")
 
     result = percentiles(x, y, Window(2, 0))
     expected = pd.Series([100.0, 0.0, 50.0, 50.0, 100.0, 75.0], index=dates)
     assert_series_equal(result, expected, obj="percentiles with window 2 and ramp 0")
 
-    result = percentiles(x, y_with_mismatched_index, Window(2, 0))
-    expected = pd.Series([100.0, 0.0, 50.0, 50.0, 100.0], index=dates[:-1])
-    assert_series_equal(result, expected, obj="percentiles with mismatched y index")
-
     result = percentiles(x, y, Window('1w', 0))
     expected = pd.Series([100.0, 0.0, 33.333333, 25.0, 100.0, 90.0], index=dates)
     assert_series_equal(result, expected, obj="percentiles with window 1w")
 
     result = percentiles(x, y, Window('1w', '3d'))
     expected = pd.Series([25.0, 100.0, 90.0], index=dates[3:])
     assert_series_equal(result, expected, obj="percentiles with window 1w and ramp 3d")
 
-    result = percentiles(x, y, Window(5, '3d'))
-    expected = pd.Series([25.0, 100.0, 90.0], index=dates[3:])
-    assert_series_equal(result, expected, obj="percentiles with window 5 and ramp 3d")
-
     result = percentiles(x)
     expected = pd.Series([50.0, 25.0, 66.667, 12.500, 70.0, 91.667], index=dates)
     assert_series_equal(result, expected, obj="percentiles over historical values")
 
     result = percentiles(x, y)
     expected = pd.Series([100.0, 0.0, 33.333, 25.0, 100.0, 91.667], index=dates)
     assert_series_equal(result, expected, obj="percentiles without window length", rtol=1e-3)
@@ -743,15 +734,15 @@
 
     assert sir.beta() == beta
     assert sir.gamma() == gamma
 
     sir1 = SIRModel(beta, gamma, s, i, r, n, fit=False)
 
     with DataContext(end=dt.date.today() + dt.timedelta(days=d - 1)):
-        sir2 = SIRModel(beta, gamma, s.iloc[0], i, r.iloc[0], n, fit=False)
+        sir2 = SIRModel(beta, gamma, s[0], i, r[0], n, fit=False)
 
     assert sir1.beta() == sir1.beta()
     assert sir2.gamma() == sir2.gamma()
     assert (sir1.predict_i() == sir2.predict_i()).all()
     assert (sir1.predict_r() == sir2.predict_r()).all()
     assert (sir1.predict_s() == sir2.predict_s()).all()
 
@@ -814,15 +805,15 @@
     assert seir.beta() == beta
     assert seir.gamma() == gamma
     assert seir.sigma() == sigma
 
     seir1 = SEIRModel(beta, gamma, sigma, s, e, i, r, n, fit=False)
 
     with DataContext(end=dt.date.today() + dt.timedelta(days=d - 1)):
-        seir2 = SEIRModel(beta, gamma, sigma, s.iloc[0], e.iloc[0], i, r.iloc[0], n, fit=False)
+        seir2 = SEIRModel(beta, gamma, sigma, s[0], e[0], i, r[0], n, fit=False)
 
     assert seir1.beta() == seir1.beta()
     assert seir2.gamma() == seir2.gamma()
     assert seir2.sigma() == seir2.sigma()
     assert (seir1.predict_i() == seir2.predict_i()).all()
     assert (seir1.predict_e() == seir2.predict_e()).all()
     assert (seir1.predict_r() == seir2.predict_r()).all()
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_tca.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_tca.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_technicals.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_technicals.py`

 * *Files 2% similar despite different names*

```diff
@@ -198,17 +198,17 @@
 
 
 def test_exponential_moving_average():
 
     def ema_by_hand(ts, alpha=0.75):
         R = ts.copy()
         R *= 0
-        R.iloc[0] = ts.iloc[0]
+        R[0] = ts[0]
         for i in range(1, len(ts)):
-            R.iloc[i] = alpha * R.iloc[i - 1] + (1 - alpha) * ts.iloc[i]
+            R[i] = alpha * R[i - 1] + (1 - alpha) * ts[i]
         return R
 
     dates = [
         date(2019, 1, 1),
         date(2019, 1, 2),
         date(2019, 1, 3),
         date(2019, 1, 4),
@@ -258,15 +258,15 @@
     assert len(res) == len(long_x)
     assert np.isclose(res[int(len(res) / 2)], long_x[int(len(res) / 2)], 0.1)
     assert res.notnull().any()
     with pytest.raises(ValueError):
         trend(long_x, SeasonalModel.MULTIPLICATIVE)  # Should not be all NaN, make sure it's correct length
     res = trend(long_x + 1, SeasonalModel.MULTIPLICATIVE)  # Should not be all NaN, make sure it's correct length
     assert len(res) == len(long_x)
-    assert np.isclose((res.iloc[int(len(res) / 2)] - 1), long_x.iloc[int(len(res) / 2)], 0.1)
+    assert np.isclose((res[int(len(res) / 2)] - 1), long_x[int(len(res) / 2)], 0.1)
     assert res.notnull().any()
     with pytest.raises(MqValueError):
         x = pd.Series(range(10))
         trend(x)
 
 
 def test_seasonality_adjusted():
```

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/test_timeseries.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/test_timeseries.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/timeseries/utils.py` & `gs_quant-1.0.9/gs_quant/test/timeseries/utils.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/test/utils/mock_calc.py` & `gs_quant-1.0.9/gs_quant/test/utils/mock_calc.py`

 * *Files 13% similar despite different names*

```diff
@@ -10,14 +10,15 @@
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime
+import hashlib
 import inspect
 from pathlib import Path
 
 from gs_quant.api.gs.risk import GsRiskApi
 from gs_quant.datetime import business_day_offset
 from gs_quant.target.common import CompositeScenario
 from gs_quant.test.utils.mock_request import MockRequest
@@ -37,28 +38,27 @@
         for pos in request.positions:
             if pos.instrument.name is None:
                 raise ValueError('Positions must have names to be mocked')
         identifier += '_'
         identifier += '-'.join([pos.instrument.name for pos in request.positions])
         identifier += '-'.join([r.__repr__() for r in request.measures])
         date = request.pricing_and_market_data_as_of[0].pricing_date.strftime('%Y%b%d')
-        today_pre = business_day_offset(datetime.date.today(), 0, roll='preceding').strftime('%Y%b%d')
-        today_post = business_day_offset(datetime.date.today(), 0, roll='following').strftime('%Y%b%d')
-        identifier += 'today' if date in (today_post, today_pre) else date
+        today = business_day_offset(datetime.date.today(), 0, roll='preceding').strftime('%Y%b%d')
+        identifier += 'today' if date == today else date
         if request.scenario is not None:
             if isinstance(request.scenario.scenario, CompositeScenario):
                 underlying_scenarios = request.scenario.scenario.scenarios
                 if any([scen.name is None for scen in underlying_scenarios]):
                     raise RuntimeError('Please provide unique names for your scenarios for testing')
                 identifier += '+'.join(sorted([r.name for r in underlying_scenarios]))
             else:
                 if request.scenario.scenario.name is None:
                     raise RuntimeError('Please provide unique names for your scenarios for testing')
                 identifier += request.scenario.scenario.name
-    return identifier
+    return hashlib.md5(identifier.encode('utf-8')).hexdigest()
 
 
 class MockCalc(MockRequest):
     api = GsRiskApi
     method = '_exec'
     api_method = GsRiskApi._exec
 
@@ -83,13 +83,14 @@
             return this_json
 
         result = get_json(*args, **kwargs)
         result_json = orjson.dumps(result,
                                    option=orjson.OPT_SERIALIZE_NUMPY | orjson.OPT_NON_STR_KEYS | orjson.OPT_SORT_KEYS)
         request_id = self.get_request_id(args, kwargs)
         self.create_files(request_id, result_json)
+
         return result
 
     def get_request_id(self, args, kwargs):
         request = kwargs.get('request') or args[0]
         request_id = get_risk_request_id(request)
         return request_id
```

### Comparing `gs_quant-1.0.80/gs_quant/test/utils/mock_data.py` & `gs_quant-1.0.9/gs_quant/test/utils/mock_data.py`

 * *Files 6% similar despite different names*

```diff
@@ -9,14 +9,15 @@
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
+import hashlib
 import inspect
 from pathlib import Path
 
 from gs_quant.api.gs.data import GsDataApi
 from gs_quant.test.utils.mock_request import MockRequest
 
 
@@ -60,8 +61,9 @@
             v = query[k]
             if k != 'where':
                 v_str = stringify_values(v)
             else:
                 v_str = '_'.join([f'{where_k}:{stringify_values(where_v)}' for where_k, where_v in v.items()])
             parts.append(f'{k}:{v_str}')
         query_str = '_'.join(parts)
-        return f'{args[1]}_{query_str}'
+        identifier = f'{args[1]}_{query_str}'
+        return hashlib.md5(identifier.encode('utf-8')).hexdigest()
```

### Comparing `gs_quant-1.0.80/gs_quant/test/utils/test_utils.py` & `gs_quant-1.0.9/gs_quant/test/utils/test_utils.py`

 * *Files 21% similar despite different names*

```diff
@@ -14,47 +14,26 @@
 under the License.
 """
 import json
 import pathlib
 from json.encoder import JSONEncoder
 
 import pytest
-
-from gs_quant.test.mock_data_test_utils import did_anything_fail, did_anything_run
 from gs_quant.test.utils.mock_request import MockRequest
 
 
-@pytest.mark.second_to_last
-@pytest.mark.fixmockdata
-def test_fix_mock_data():
-    # This will only be run if you use "--fixmockdata" option to pytest
-    if did_anything_fail():
-        pytest.skip("Skipping test as another test failed")
-    if not did_anything_run():
-        pytest.skip("Skipping test as nothing ran or not setup correctly")
-    MockRequest.reindex_test_files()
-    MockRequest.remove_unused_files()
-
-
 @pytest.mark.last
-def test_mock_data_file_sanity():
+def test_all_cache_files_used():
     # Important that this test runs last, it asserts all the test files are used so we can cleanup unused ones
     saved_files = MockRequest.get_saved_files()
     assert [] == saved_files, 'Did you accidentally commit with save_files=True?!'
 
-    tests_passed = not did_anything_fail()
-
-    suffix = '(Other tests FAILED this is probably a red herring)' if not tests_passed else \
-        'Run pytest with --fixmockdata to fix this!'
-
-    bad_index = MockRequest.reindex_test_files(report_only=True, log=tests_passed)
-    assert bad_index == tuple(), f'Files with bad index. {suffix}'
-
-    unused_files = MockRequest.get_unused_files(log=tests_passed)
-    assert unused_files == tuple(), f'Cleanup your unused test files! {suffix}'
+    unused_files = MockRequest.get_unused_files()
+    print(unused_files)
+    assert unused_files == [], 'Cleanup your unused test files!'
 
 
 def _remove_unwanted(json_text):
     json_dict = json.loads(json_text)
     if "asOfTime" in json_dict:
         del json_dict["asOfTime"]
     return json_dict
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/__init__.py` & `gs_quant-1.0.9/gs_quant/timeseries/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/algebra.py` & `gs_quant-1.0.9/gs_quant/timeseries/algebra.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,14 +15,15 @@
 # should be fully documented: docstrings should describe parameters and the return value, and provide a 1-line
 # description. Type annotations should be provided for parameters.
 
 
 import math
 from functools import reduce
 
+from gs_quant.errors import MqTypeError
 from .datetime import *
 from .helper import plot_function
 
 """
 Algebra library contains basic numerical and algebraic operations, including addition, division, multiplication,
 division and other functions on timeseries
 """
@@ -463,15 +464,15 @@
     **Usage**
 
     Return the absolute value of :math:`X`. For each value in time series :math:`X_t`, return :math:`X_t` if :math:`X_t`
     is greater than or equal to 0; otherwise return :math:`-X_t`:
 
     :math:`R_t = |X_t|`
 
-    Equivalent to :math:`R_t = sqrt{X_t^2}`
+    Equivalent to :math:`R_t = \sqrt{X_t^2}`
 
     **Examples**
 
     Generate price series and take absolute value of :math:`X_t-100`
 
     >>> prices = generate_series(100) - 100
     >>> abs_(prices)
@@ -803,22 +804,7 @@
         )
     )
 
     # reindex inputs and calculate
     series = [s.reindex(cal) for s in series]
     weights = [pd.Series(w, index=cal) for w in weights]
     return sum(series[i] * weights[i] for i in range(len(series))) / sum(weights)
-
-
-@plot_function
-def geometrically_aggregate(series: pd.Series) -> pd.Series:
-    """
-    Geometrically aggregate a series.
-
-    :param series: list of time series
-    :return: time series of geometrically aggregated results
-
-    **Usage**
-
-    Used to aggregate daily returns when expressed as weights
-    """
-    return series.add(1).cumprod() - 1
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/analysis.py` & `gs_quant-1.0.9/gs_quant/timeseries/analysis.py`

 * *Files 4% similar despite different names*

```diff
@@ -10,40 +10,34 @@
 # specific language governing permissions and limitations
 # under the License.
 #
 #
 # Chart Service will attempt to make public functions (not prefixed with _) from this module available. Such functions
 # should be fully documented: docstrings should describe parameters and the return value, and provide a 1-line
 # description. Type annotations should be provided for parameters.
+import re
 
 from gs_quant.datetime import relative_date_add
 from gs_quant.timeseries.datetime import *
 from .helper import plot_function
 
 """
 Timeseries analysis library contains functions used to analyze properties of timeseries, including laging, differencing,
 autocorrelation, co-integration and other operations
 """
 
 
-class ThresholdType(str, Enum):
-    percentage = "percentage"
-    absolute = "absolute"
-
-
 @plot_function
-def smooth_spikes(x: pd.Series, threshold: float,
-                  threshold_type: ThresholdType = ThresholdType.percentage) -> pd.Series:
+def smooth_spikes(x: pd.Series, threshold: float) -> pd.Series:
     """
     Smooth out the spikes of a series. If a point is larger/smaller than (1 +/- threshold) times both neighbors, replace
     it with the average of those neighbours. Note: the first and last points in the input series are dropped.
 
     :param x: timeseries
     :param threshold: minimum increment to trigger filter
-    :param threshold_type: type of threshold check
     :return: smoothed timeseries
 
     **Usage**
 
     Returns series where values that exceed the threshold relative to both neighbors are replaced.
 
     **Examples**
@@ -53,39 +47,27 @@
     >>> prices = generate_series(100)
     >>> smooth_spikes(prices, 0.5)
 
     **See also**
 
     :func:`exponential_moving_average`
     """
-
-    def check_percentage(previous, current, next_, multiplier) -> bool:
-        current_higher = current > previous * multiplier and current > next_ * multiplier
-        current_lower = previous > current * multiplier and next_ > current * multiplier
-        return current_higher or current_lower
-
-    def check_absolute(previous, current, next_, absolute) -> bool:
-        current_higher = current > previous + absolute and current > next_ + absolute
-        current_lower = previous > current + absolute and next_ > current + absolute
-        return current_higher or current_lower
-
     if len(x) < 3:
         return pd.Series(dtype=float)
 
-    threshold_value, check_spike = (threshold, check_absolute) if threshold_type == ThresholdType.absolute else (
-        (1 + threshold), check_percentage)
-
     result = x.copy()
+    multiplier = (1 + threshold)
     current, next_ = x.iloc[0:2]
     for i in range(1, len(x) - 1):
         previous = current
         current = next_
         next_ = x.iloc[i + 1]
 
-        if check_spike(previous, current, next_, threshold_value):
+        scaled = current * multiplier
+        if (current > previous * multiplier and current > next_ * multiplier) or (previous > scaled and next_ > scaled):
             result.iloc[i] = (previous + next_) / 2
 
     return result[1:-1]
 
 
 @plot_function
 def repeat(x: pd.Series, n: int = 1) -> pd.Series:
@@ -131,15 +113,15 @@
     >>> returns = first(series)
 
     **See also**
 
     :func:`last`
 
     """
-    return pd.Series(x.iloc[0], x.index)
+    return pd.Series(x[0], x.index)
 
 
 @plot_function
 def last(x: pd.Series) -> pd.Series:
     """
     Last value of series (as a series)
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/backtesting.py` & `gs_quant-1.0.9/gs_quant/timeseries/backtesting.py`

 * *Files 1% similar despite different names*

```diff
@@ -331,15 +331,15 @@
             return pd.Series(dtype=float)
 
         vols = vol_data.pivot_table('impliedVolatility', ['date'], 'assetId')
         vols.reindex(self.get_marquee_ids(), axis=1)
         vols.index.name = None
 
         # Necessary when current values appended - set weights index to match vols index
-        actual_weights = actual_weights.reindex(vols.index).ffill()
+        actual_weights = actual_weights.reindex(vols.index).fillna(method='pad')
 
         return actual_weights.mul(vols).sum(axis=1, skipna=False)
 
     @requires_session
     @plot_method
     def average_realized_volatility(self, tenor: str, returns_type: Returns = Returns.LOGARITHMIC, *,
                                     real_time: bool = False, request_id: Optional[str] = None) -> pd.Series:
@@ -359,15 +359,15 @@
         spot_df = self.get_spot_data(request_id=request_id)
         actual_weights = self.get_actual_weights(request_id=request_id)
 
         vols = [volatility(spot_df[asset_id], Window(tenor, tenor), returns_type) for asset_id in spot_df]
         vols = pd.concat(vols, axis=1)
         vols.columns = list(spot_df)
         # Necessary when current values appended - set weights index to match vols index
-        actual_weights = actual_weights.reindex(vols.index).ffill()
+        actual_weights = actual_weights.reindex(vols.index).fillna(method='pad')
 
         return actual_weights.mul(vols, axis=1).sum(axis=1, skipna=False)
 
     @requires_session
     @plot_method
     def average_realized_correlation(self, w: Union[Window, int, str] = Window(None, 0),
                                      *, real_time: bool = False, request_id: Optional[str] = None) -> pd.Series:
@@ -456,10 +456,10 @@
                                    name='forwardVol')
             s[asset_id] = series
 
         vols = pd.DataFrame(s)
         actual_weights = self.get_actual_weights(request_id)
 
         # Necessary when current values appended - set weights index to match vols index
-        actual_weights = actual_weights.reindex(pd.DatetimeIndex(vols.index)).ffill()
+        actual_weights = actual_weights.reindex(pd.DatetimeIndex(vols.index)).fillna(method='pad')
 
         return actual_weights.mul(vols).sum(axis=1, skipna=False)
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/datetime.py` & `gs_quant-1.0.9/gs_quant/timeseries/datetime.py`

 * *Files 4% similar despite different names*

```diff
@@ -124,18 +124,18 @@
     if method == Interpolate.TIME:
         new_x, new_y = x.align(y, 'outer')
         new_x.interpolate('time', limit_area='inside', inplace=True)
         new_y.interpolate('time', limit_area='inside', inplace=True)
         return [new_x, new_y]
     if method == Interpolate.STEP:
         new_x, new_y = x.align(y, 'outer')
-        new_x.ffill(inplace=True)
-        new_y.ffill(inplace=True)
-        new_x.bfill(inplace=True)
-        new_y.bfill(inplace=True)
+        new_x.fillna(method='ffill', inplace=True)
+        new_y.fillna(method='ffill', inplace=True)
+        new_x.fillna(method='bfill', inplace=True)
+        new_y.fillna(method='bfill', inplace=True)
         return [new_x, new_y]
     else:
         raise MqValueError('Unknown intersection type: ' + method)
 
 
 @plot_function
 def interpolate(x: pd.Series, dates: Union[List[date], List[time], pd.Series] = None,
@@ -245,15 +245,15 @@
 
     **See also**
 
     :func:`interpolate`
     """
 
     values = interpolate(x, [date], method)
-    return None if values.empty else values.iloc[0]
+    return values.get(0)
 
 
 @plot_function
 def day(x: pd.Series) -> pd.Series:
     """
     Day of each value in series
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/econometrics.py` & `gs_quant-1.0.9/gs_quant/timeseries/econometrics.py`

 * *Files 0% similar despite different names*

```diff
@@ -104,15 +104,15 @@
     else:
         if interpolation_method is not Interpolate.NAN:
             raise MqValueError(f'If w is not a relative date, method must be nan. You specified method: '
                                f'{interpolation_method.value}.')
         starting = [0] * rolling
         starting.extend([a for a in range(1, len(levels) - rolling + 1)])
         points = list(
-            map(lambda d, v, i: pow(v / levels.iloc[i], 365.25 / (d - levels.index[i]).days) - 1, levels.index[1:],
+            map(lambda d, v, i: pow(v / levels[i], 365.25 / (d - levels.index[i]).days) - 1, levels.index[1:],
                 levels.values[1:], starting[1:]))
     points.insert(0, 0)
     return pd.Series(points, index=levels.index)
 
 
 def get_ratio_pure(er: pd.Series, w: Union[Window, int, str],
                    interpolation_method: Interpolate = Interpolate.NAN) -> pd.Series:
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/helper.py` & `gs_quant-1.0.9/gs_quant/timeseries/helper.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measure_registry.py` & `gs_quant-1.0.9/gs_quant/timeseries/measure_registry.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,35 +15,40 @@
 from collections import namedtuple
 from numbers import Real
 
 import cachetools.func
 import inflection
 import numpy as np
 from dateutil import tz
-from pandas import DatetimeIndex, Series
-from pandas.tseries.holiday import AbstractHolidayCalendar, Holiday, USLaborDay, USMemorialDay, USThanksgivingDay, \
-    sunday_to_monday
-from pydash import chunk, flatten
-
-from gs_quant.api.gs.data import MarketDataResponseFrame, QueryType
+from gs_quant.api.gs.data import MarketDataResponseFrame
+from gs_quant.api.gs.data import QueryType
 from gs_quant.api.gs.indices import GsIndexApi
 from gs_quant.data.core import DataContext
 from gs_quant.data.fields import Fields
 from gs_quant.data.log import log_debug, log_warning
 from gs_quant.datetime import DAYS_IN_YEAR
 from gs_quant.datetime.gscalendar import GsCalendar
 from gs_quant.datetime.point import relative_date_add
 from gs_quant.markets.securities import *
-from gs_quant.markets.securities import Asset, AssetIdentifier, AssetType as SecAssetType, SecurityMaster
+from gs_quant.markets.securities import Asset, AssetIdentifier, SecurityMaster, AssetType as SecAssetType
 from gs_quant.target.common import AssetClass, AssetType
-from gs_quant.timeseries import Basket, RelativeDate, Returns, Window, sqrt, volatility
-from gs_quant.timeseries.helper import (_month_to_tenor, _split_where_conditions, _tenor_to_month, _to_offset,
-                                        check_forward_looking, get_dataset_data_with_retries, get_df_with_retries,
-                                        log_return, plot_measure)
+from gs_quant.timeseries import volatility, Window, Returns, sqrt, Basket, RelativeDate
+from gs_quant.timeseries.helper import (
+    log_return,
+    plot_measure,
+    _to_offset,
+    check_forward_looking,
+    get_df_with_retries,
+    get_dataset_data_with_retries, _tenor_to_month, _month_to_tenor, _split_where_conditions
+)
 from gs_quant.timeseries.measures_helper import EdrDataReference, VolReference, preprocess_implied_vol_strikes_eq
+from pandas import Series, DatetimeIndex
+from pandas.tseries.holiday import Holiday, AbstractHolidayCalendar, USMemorialDay, USLaborDay, USThanksgivingDay, \
+    sunday_to_monday
+from pydash import chunk, flatten
 
 GENERIC_DATE = Union[datetime.date, str]
 ASSET_SPEC = Union[Asset, str]
 TD_ONE = datetime.timedelta(days=1)
 
 _logger = logging.getLogger(__name__)
 
@@ -262,16 +267,15 @@
     'USD': 'USD OIS',
     'EUR': 'EUR OIS',
     'GBP': 'GBP OIS',
     'JPY': 'JPY OIS',
     'CAD': 'CAD OIS',
     'NOK': 'NOK OIS',
     'NZD': 'NZD OIS',
-    'SEK': 'SEK OIS',
-    'CHF': 'CHF OIS'
+    'SEK': 'SEK OIS'
 }
 
 CURRENCY_TO_DEFAULT_RATE_BENCHMARK = {
     'USD': 'USD-LIBOR-BBA',
     'EUR': 'EUR-EURIBOR-Telerate',
     'GBP': 'GBP-LIBOR-BBA',
     'JPY': 'JPY-LIBOR-BBA'
@@ -795,26 +799,24 @@
 
 
 @plot_measure((AssetClass.Equity, AssetClass.Commod,), None,
               [MeasureDependency(id_provider=cross_stored_direction_for_fx_vol,
                                  query_type=QueryType.IMPLIED_VOLATILITY)],
               asset_type_excluded=(AssetType.CommodityNaturalGasHub,))
 def implied_volatility(asset: Asset, tenor: str, strike_reference: VolReference = None,
-                       relative_strike: Real = None, parallelize_queries: bool = True, *, source: str = None,
-                       real_time: bool = False, request_id: Optional[str] = None) -> Series:
+                       relative_strike: Real = None, *, source: str = None, real_time: bool = False,
+                       request_id: Optional[str] = None) -> Series:
     """
     Volatility of an asset implied by observations of market prices.
 
     :param asset: asset object loaded from security master
     :param tenor: relative date representation of expiration date e.g. 1m
             or absolute calendar strips e.g. 'Cal20', 'F20-G20'
     :param strike_reference: reference for strike level
     :param relative_strike: strike relative to reference
-    :param parallelize_queries: send parallel queries to the measures API
-    chunked over an interval of a year based on the date context
     :param source: name of function caller
     :param real_time: whether to retrieve intraday data instead of EOD
     :param request_id: service request id, if any
     :return: implied volatility curve
     """
 
     if asset.asset_class == AssetClass.Commod and asset.get_type() not in (SecAssetType.ETF, SecAssetType.STOCK):
@@ -831,16 +833,15 @@
 
     log_debug(request_id, _logger, 'where tenor=%s, strikeReference=%s, relativeStrike=%s', tenor, ref_string,
               relative_strike)
     tenor = _tenor_month_to_year(tenor)
     where = dict(tenor=tenor, strikeReference=ref_string, relativeStrike=relative_strike)
     # Parallel calls when fetching / appending last results
     df = get_historical_and_last_for_measure([asset_id], QueryType.IMPLIED_VOLATILITY, where, source=source,
-                                             real_time=real_time, request_id=request_id,
-                                             parallelize_queries=parallelize_queries)
+                                             real_time=real_time, request_id=request_id)
 
     s = _extract_series_from_df(df, QueryType.IMPLIED_VOLATILITY)
     return s
 
 
 def _tenor_month_to_year(tenor: str):
     matched = re.fullmatch('(\\d+)m', tenor)
@@ -929,17 +930,16 @@
         float(top_n)
     except (ValueError, TypeError):
         raise MqValueError(f'top_n should be a number, not a {type(top_n).__name__}')
 
 
 @plot_measure((AssetClass.Equity,), (AssetType.Index, AssetType.ETF,), [QueryType.IMPLIED_CORRELATION])
 def implied_correlation(asset: Asset, tenor: str, strike_reference: EdrDataReference, relative_strike: Real,
-                        top_n_of_index: Optional[int] = None, composition_date: Optional[GENERIC_DATE] = None,
-                        *, source: str = None, real_time: bool = False,
-                        request_id: Optional[str] = None) -> Series:
+                        top_n_of_index: Optional[int] = None, composition_date: Optional[GENERIC_DATE] = None, *,
+                        source: str = None, real_time: bool = False, request_id: Optional[str] = None) -> Series:
     """
     Correlation of an asset implied by observations of market prices.
 
     :param asset: asset object loaded from security master
     :param tenor: relative date representation of expiration date e.g. 1m
     :param strike_reference: reference for strike level
     :param relative_strike: strike relative to reference
@@ -1171,15 +1171,15 @@
                                   'the full list')
 
     if top_n_of_index is not None:
         constituents = _get_index_constituent_weights(asset, top_n_of_index, composition_date)
 
         ref_string, relative_strike = preprocess_implied_vol_strikes_eq(VolReference(strike_reference.value),
                                                                         relative_strike)
-        tenor = _tenor_month_to_year(tenor)
+
         log_debug(request_id, _logger, 'where tenor=%s, strikeReference=%s, relativeStrike=%s', tenor, ref_string,
                   relative_strike)
         where = dict(tenor=tenor, strikeReference=ref_string, relativeStrike=relative_strike)
 
         asset_ids = constituents.index.to_list()
         df = get_historical_and_last_for_measure(asset_ids=asset_ids, query_type=QueryType.IMPLIED_VOLATILITY,
                                                  where=where, source=source, real_time=real_time, request_id=request_id,
@@ -2689,20 +2689,20 @@
     :param asset: marquee asset
     :param contract_range: tenor in case of instruments, calendar strip for underliers
     :param query_type: dataset query type
     :param measure_field: dataset measure column name
     :return:
     """
     start_date_interval = _string_to_date_interval(contract_range.split("-")[0])
-    if isinstance(start_date_interval, str):
+    if type(start_date_interval) == str:
         raise MqValueError(start_date_interval)
     start_contract_range = start_date_interval['start_date']
     if "-" in contract_range:
         end_date_interval = _string_to_date_interval(contract_range.split("-")[1])
-        if isinstance(end_date_interval, str):
+        if type(end_date_interval) == str:
             raise MqValueError(end_date_interval)
         end_contract_range = end_date_interval['end_date']
     else:
         end_contract_range = start_date_interval['end_date']
 
     dates_contract_range = get_contract_range(start_contract_range, end_contract_range, None)
 
@@ -2758,20 +2758,20 @@
     log_debug(request_id, _logger, 'q %s', q)
     df = _market_data_timed(q, request_id)
     return _extract_series_from_df(df, QueryType.FAIR_PRICE)
 
 
 def _get_start_and_end_dates(contract_range: str) -> (int, int):
     start_date_interval = _string_to_date_interval(contract_range.split("-")[0])
-    if isinstance(start_date_interval, str):
+    if type(start_date_interval) == str:
         raise MqValueError(start_date_interval)
     start_contract_range = start_date_interval['start_date']
     if "-" in contract_range:
         end_date_interval = _string_to_date_interval(contract_range.split("-")[1])
-        if isinstance(end_date_interval, str):
+        if type(end_date_interval) == str:
             raise MqValueError(end_date_interval)
         end_contract_range = end_date_interval['end_date']
     else:
         end_contract_range = start_date_interval['end_date']
     return (start_contract_range, end_contract_range)
 
 
@@ -2821,15 +2821,15 @@
 
 def _forward_price_elec(asset: Asset, price_method: str = 'LMP', bucket: str = 'PEAK',
                         contract_range: str = 'F20', *, source: str = None, real_time: bool = False) -> pd.Series:
     """
         Us Power Forward Prices
 
         :param asset: asset object loaded from security master
-        :param price_method: price method between LMP, MCP, SPP, Physical: Default value = LMP
+        :param price_method: price method between LMP, MCP, SPP: Default value = LMP
         :param bucket: bucket type among '7x24', 'peak', 'offpeak', '2x16h', '7x16' and '7x8': Default value = 7x24
         :param contract_range: e.g. inputs - 'Cal20', 'F20-G20', '2Q20', '2H20', 'Cal20-Cal21': Default Value = F20
         :param source: name of function caller: default source = None
         :param real_time: whether to retrieve intraday data instead of EOD: default value = False
         :return: Us Power Forward Prices
     """
 
@@ -2839,27 +2839,19 @@
     start, end = DataContext.current.start_date, DataContext.current.end_date
 
     contracts_to_query = weights['contract'].unique().tolist()
     quantitybuckets_to_query = weights['quantityBucket'].unique().tolist()
 
     where = dict(priceMethod=price_method.upper(), quantityBucket=quantitybuckets_to_query, contract=contracts_to_query)
     with DataContext(start, end):
-        def _query_fwd(asset_, where_):
-            q = GsDataApi.build_market_data_query([asset_.get_marquee_id()], QueryType.FORWARD_PRICE,
-                                                  where=where_, source=None,
-                                                  real_time=False)
-            _logger.debug('q %s', q)
-            return _market_data_timed(q)
-
-        forwards_data = _query_fwd(asset, where)
-        if forwards_data.empty:
-            # For cases where uppercase priceMethod dont fetch data, try user input as is
-            where['priceMethod'] = price_method
-            forwards_data = _query_fwd(asset, where)
-
+        q = GsDataApi.build_market_data_query([asset.get_marquee_id()], QueryType.FORWARD_PRICE,
+                                              where=where, source=None,
+                                              real_time=False)
+        _logger.debug('q %s', q)
+        forwards_data = _market_data_timed(q)
         dataset_ids = getattr(forwards_data, 'dataset_ids', ())
 
     if forwards_data.empty:
         result = ExtendedSeries(dtype='float64')
     else:
         forwards_data['dates'] = forwards_data.index.date
         keys = ['quantityBucket', 'contract', 'dates']
@@ -3043,26 +3035,18 @@
     # in local time and then converted to UTC time
     start_time = datetime.datetime.combine(start_date, datetime.datetime.min.time(), tzinfo=from_zone) \
         .astimezone(to_zone)
     end_time = datetime.datetime.combine(end_date, datetime.datetime.max.time(), tzinfo=from_zone).astimezone(to_zone)
 
     where = dict(priceMethod=price_method.upper())
     with DataContext(start_time, end_time):
-        def _query_prices(asset_, where_):
-            q = GsDataApi.build_market_data_query([asset_.get_marquee_id()], QueryType.PRICE, where=where_,
-                                                  source=source,
-                                                  real_time=True)
-            log_debug(request_id, _logger, 'q %s', q)
-            return _market_data_timed(q, request_id)
-
-        df = _query_prices(asset, where)
-        if df.empty:
-            # For cases where uppercase priceMethod dont fetch data, try user input as is
-            where['priceMethod'] = price_method
-            df = _query_prices(asset, where)
+        q = GsDataApi.build_market_data_query([asset.get_marquee_id()], QueryType.PRICE, where=where, source=source,
+                                              real_time=True)
+        log_debug(request_id, _logger, 'q %s', q)
+        df = _market_data_timed(q, request_id)
 
     dataset_ids = getattr(df, 'dataset_ids', ())
 
     if df.empty:
         series = ExtendedSeries(dtype=float)
     else:
         df = df.tz_convert(timezone)
@@ -3444,47 +3428,14 @@
     q['queries'][0]['vendor'] = 'Goldman Sachs'
     log_debug(request_id, _logger, 'q %s', q)
     df = _market_data_timed(q, request_id)
     return _extract_series_from_df(df, QueryType.FUNDAMENTAL_METRIC)
 
 
 @plot_measure((AssetClass.Equity,), None, [QueryType.FUNDAMENTAL_METRIC])
-def price_to_earnings_positive_exclusive(asset: Asset, period: str, period_direction: FundamentalMetricPeriodDirection,
-                                         *, source: str = None, real_time: bool = False,
-                                         request_id: Optional[str] = None) -> Series:
-    """
-    Price to Earnings Positive of the single stock or the asset-weighted average value of a composite's underliers
-    excluding negative EPS stocks.
-
-    1y forward: time-weighted average of one fiscal year (FY1) and two fiscal year (FY2) fwd-looking estimates.
-    2y forward: time-weighted average of two fiscal year (FY2) and three fiscal year (FY3) fwd-looking estimates.
-    3y forward: time-weighted average of three fiscal year (FY3) and four fiscal year (FY4) fwd-looking estimates.
-    1y trailing: time-weighted average of latest reported fiscal year (FY0) data and one fiscal year (FY1) fwd-looking
-    estimate.
-
-    :param asset: asset object loaded from security master
-    :param period: the relative fiscal period from now. e.g. 1y
-    :param period_direction: whether the period is forward-looking or backward-looking e.g. forward
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :param request_id: service request id, if any
-    :return: Price to Earnings Positive Exclusive
-    """
-    if real_time:
-        raise NotImplementedError('real-time price_to_earnings_positive_exclusive not implemented')
-
-    mqid = asset.get_marquee_id()
-    metric = DataMeasure.PRICE_TO_EARNINGS_POSITIVE_EXCLUSIVE.value
-
-    _logger.debug('where assetId=%s, metric=%s, period=%s, periodDirection=%s', mqid, metric, period, period_direction)
-
-    return _fundamentals_md_query(mqid, period, period_direction, metric, source, real_time, request_id)
-
-
-@plot_measure((AssetClass.Equity,), None, [QueryType.FUNDAMENTAL_METRIC])
 def price_to_sales(asset: Asset, period: str, period_direction: FundamentalMetricPeriodDirection,
                    *, source: str = None, real_time: bool = False, request_id: Optional[str] = None) -> Series:
     """
     Price to Sales of the single stock or the asset-weighted average value of a composite's underliers.
 
     1y forward: time-weighted average of one fiscal year (FY1) and two fiscal year (FY2) fwd-looking estimates.
     2y forward: time-weighted average of two fiscal year (FY2) and three fiscal year (FY3) fwd-looking estimates.
@@ -4254,77 +4205,58 @@
     )
     log_debug(request_id, _logger, 'q %s', q)
     df = _market_data_timed(q, request_id)
     series = _extract_series_from_df(df, query_type)
     return series
 
 
-def _get_marketdate_validation(market_date, start_date, end_date, timezone=None):
+@plot_measure((AssetClass.Commod,), (AssetType.Index, AssetType.CommodityPowerAggregatedNodes,
+                                     AssetType.CommodityPowerNode,), [QueryType.FORWARD_PRICE])
+def forward_curve(asset: Asset, bucket: str = 'PEAK', market_date: str = "",
+                  *, source: str = None, real_time: bool = False) -> pd.Series:
     """
-    Validates the market date provided by the user
-    @param market_date: date string provided by the user
-    @param start_date: passed form data context
-    @param end_date: passed form data context
-    @param timezone: passed for power forward curve
-    @return: modifies market_date, start_date if applied
+    Forward Curve for Futures Data
+
+    :param asset: asset object loaded from security master
+    :param bucket: bucket type among '7x24', 'Peak', 'Offpeak', '2x16h', '7x16' and '7x8': Default value = Peak
+    :param market_date: Date for which forward curve to be plotted, format-YYYYMMDD: default value = today
+    :param source: name of function caller: default source = None
+    :param real_time: whether to retrieve intraday data instead of EOD: default value = False
+    :return: Term structure or price projection for future contracts for a given date
     """
-    if not isinstance(market_date, str):
+    if real_time:
+        raise MqValueError('Forward Curve uses daily frequency instead of intraday')
+
+    # Validations for date inputs
+    start, end = DataContext.current.start_date, DataContext.current.end_date
+    if type(market_date) != str:
         raise MqTypeError('Market date should be of string data type as \'YYYYMMDD\'')
     # If no date entered by user, assign last weekday or convert entered string format to date object
     if len(market_date) == 0:
         market_date = pd.Timestamp.today().date()
         while market_date.weekday() > 4:
             market_date -= datetime.timedelta(days=1)
     else:
         try:
             market_date = dt.datetime.strptime(market_date, "%Y%m%d").date()
         except ValueError:
             raise MqValueError('Market date should be of format as \'YYYYMMDD\'')
 
     # Check if market date is future date for the given asset
-    if timezone:
-        today_date = pd.Timestamp.today(tz=timezone).date()
-
-    else:
-        today_date = pd.Timestamp.today().date()
-    if market_date > today_date:
+    timezone = _get_iso_data(asset.name.split()[0])[0]
+    if market_date > pd.Timestamp.today(tz=timezone).date():
         raise MqValueError('Market date cannot be a future date')
     # Check if market date is weekend
     if market_date.weekday() > 4:
         raise MqValueError('Market date cannot be a weekend')
     # Check if market date is within end and start date ranges
-    if market_date > end_date:
+    if market_date > end:
         raise MqValueError('Market date should be within end date for query')
-    if market_date > start_date:
-        start_date = market_date
-
-    return market_date, start_date
-
-
-@plot_measure((AssetClass.Commod,), (AssetType.Index, AssetType.CommodityPowerAggregatedNodes,
-                                     AssetType.CommodityPowerNode,), [QueryType.FORWARD_PRICE])
-def forward_curve(asset: Asset, bucket: str = 'PEAK', market_date: str = "",
-                  *, source: str = None, real_time: bool = False) -> pd.Series:
-    """
-    Forward Curve for Futures Data
-
-    :param asset: asset object loaded from security master
-    :param bucket: bucket type among '7x24', 'Peak', 'Offpeak', '2x16h', '7x16' and '7x8': Default value = Peak
-    :param market_date: Date for which forward curve to be plotted, format-YYYYMMDD: default value = today
-    :param source: name of function caller: default source = None
-    :param real_time: whether to retrieve intraday data instead of EOD: default value = False
-    :return: Term structure or price projection for future contracts for a given date
-    """
-    if real_time:
-        raise MqValueError('Forward Curve uses daily frequency instead of intraday')
-
-    # Validations for date inputs
-    start, end = DataContext.current.start_date, DataContext.current.end_date
-    timezone = _get_iso_data(asset.name.split()[0])[0]
-    market_date, start = _get_marketdate_validation(market_date, start, end, timezone)
+    if market_date > start:
+        start = market_date
 
     # Check if market date do not have an entry, a holiday or value not entered yet, if so get prev date value
     ds = Dataset('COMMOD_US_ELEC_ENERGY_FORWARD_PRICES')
     last_data = ds.get_data_last(as_of=market_date)
     last_date = pd.Timestamp(last_data.index.unique().values[0])
     if market_date > last_date.date():
         market_date = last_date
@@ -4379,85 +4311,14 @@
     result = ExtendedSeries(df['forwardPrice'], index=df.index)
     result = result.rename_axis(None, axis='index')
     result.dataset_ids = dataset_ids
 
     return result
 
 
-@plot_measure((AssetClass.Commod,), (AssetType.CommodityNaturalGasHub,), [QueryType.FORWARD_PRICE],
-              display_name='forward_curve')
-def forward_curve_ng(asset: Asset, price_method: str = 'GDD', market_date: str = "", *, source: str = None,
-                     real_time: bool = False) -> pd.Series:
-    """
-    Forward Curve for Us gas Data
-
-    :param asset: asset object loaded from security master
-    :param price_method: Price method for forward curve for us gas eg: GDD
-    :param market_date: Date for which forward curve to be plotted, format-YYYYMMDD: default value = today
-    :param source: name of function caller: default source = None
-    :param real_time: whether to retrieve intraday data instead of EOD: default value = False
-    :return: Term structure or price projection for future contracts for a given date
-    """
-    if real_time:
-        raise MqValueError('Forward Curve uses daily frequency instead of intraday')
-
-    # Validations for date inputs
-    start, end = DataContext.current.start_date, DataContext.current.end_date
-    market_date, start = _get_marketdate_validation(market_date=market_date, start_date=start, end_date=end)
-
-    # Check if market date do not have an entry, a holiday or value not entered yet, if so get prev date value
-    ds = Dataset('COMMOD_US_NG_FORWARD_PRICES')
-    last_data = ds.get_data_last(as_of=market_date)
-    last_date = pd.Timestamp(last_data.index.unique().values[0])
-    if market_date > last_date.date():
-        market_date = last_date
-
-    # Find valid contracts, use until end of month for end date
-    contracts_to_query_df = get_contract_range(start, end, timezone=None)
-    contracts_to_query = contracts_to_query_df['contract_month'].unique().tolist()
-    # Get data for given asset for given market date for valid contracts and buckets
-    where = dict(contract=contracts_to_query, priceMethod=price_method.upper())
-    with DataContext(market_date, market_date):
-        q = GsDataApi.build_market_data_query([asset.get_marquee_id()], QueryType.FORWARD_PRICE,
-                                              where=where, source=None,
-                                              real_time=False)
-        forward_price = _market_data_timed(q)
-        dataset_ids = getattr(forward_price, 'dataset_ids', ())
-
-    # If no data received
-    if forward_price.empty:
-        return ExtendedSeries(dtype=float)
-
-    # Get plot dates for valid contract_months
-    forward_dates_to_plot = dict()
-    for month in contracts_to_query:
-        start_date_month = _string_to_date_interval(month)["start_date"]
-        forward_dates_to_plot[month] = start_date_month
-
-    # Create a dataframe with required columns
-    forward_curve_plot = {'contract': forward_price['contract'],
-                          'forwardPrice': forward_price['forwardPrice'],
-                          'priceMethod': forward_price['priceMethod']}
-    df = pd.DataFrame(forward_curve_plot)
-    df = df.reset_index(drop=True)
-
-    # Map contract to plot date and format output
-    for row in df.itertuples():
-        df.at[row.Index, 'contract'] = forward_dates_to_plot[df.at[row.Index, 'contract']]
-    df = df.sort_values(by=['contract'])
-    df = df.set_index('contract')
-
-    # Create Extended Series for return
-    result = ExtendedSeries(df['forwardPrice'], index=df.index)
-    result = result.rename_axis(None, axis='index')
-    result.dataset_ids = dataset_ids
-
-    return result
-
-
 def _forward_price_eu_natgas(asset: Asset, contract_range: str = 'F20', price_method: str = 'ICE', *,
                              source: str = None, real_time: bool = False) -> pd.Series:
     """'
     EU NG Forward Price - function to map the assets to right instruments and fetch the forward
     prices for given hub for required contracts
 
     :param asset: asset object loaded from security master
@@ -4679,53 +4540,33 @@
     result = pd.concat([df, df_l])
     result["dummy"] = result.index  # drop_duplicates ignores indexes, so we need to include it as a column first
     result = result.drop_duplicates().drop(columns=["dummy"])
     result.dataset_ids = tuple(set(getattr(df, 'dataset_ids', ())).union(getattr(df_l, 'dataset_ids', ())))
     return result
 
 
-def get_market_data_tasks(asset_ids: List[str],
-                          query_type,
-                          where: dict,
-                          *,
-                          source: str = None,
-                          real_time: bool = False,
-                          request_id: Optional[str] = None,
-                          chunk_size: int = 5,
-                          ignore_errors: bool = False,
-                          parallelize_queries: bool = False) -> list:
-    tasks = []
-    for i, chunked_assets in enumerate(chunk(asset_ids, chunk_size)):
-        queries = GsDataApi.build_market_data_query(
-            chunked_assets,
-            query_type,
-            where=where,
-            source=source,
-            real_time=real_time,
-            parallelize_queries=parallelize_queries)
-
-        queries = [queries] if not isinstance(queries, list) else queries
-        tasks.extend(
-            partial(_market_data_timed, query, request_id, ignore_errors=ignore_errors) for query in queries)
-    return tasks
-
-
 def get_historical_and_last_for_measure(asset_ids: List[str],
                                         query_type,
                                         where: dict,
                                         *,
                                         source: str = None,
                                         real_time: bool = False,
                                         request_id: Optional[str] = None,
                                         chunk_size: int = 5,
-                                        ignore_errors: bool = False,
-                                        parallelize_queries: bool = False):
-    tasks = get_market_data_tasks(asset_ids, query_type, where, source=source, real_time=real_time,
-                                  request_id=request_id, chunk_size=chunk_size, ignore_errors=ignore_errors,
-                                  parallelize_queries=parallelize_queries)
+                                        ignore_errors: bool = False):
+    tasks = []
+    for i, chunked_assets in enumerate(chunk(asset_ids, chunk_size)):
+        query = GsDataApi.build_market_data_query(
+            chunked_assets,
+            query_type,
+            where=where,
+            source=source,
+            real_time=real_time)
+
+        tasks.append(partial(_market_data_timed, query, request_id, ignore_errors=ignore_errors))
 
     if not real_time and DataContext.current.end_date >= datetime.date.today():
         where_list = _split_where_conditions(where)
         for w in where_list:
             tasks.append(partial(get_last_for_measure, asset_ids=asset_ids, query_type=query_type, where=w,
                                  source=source, request_id=request_id, ignore_errors=ignore_errors))
 
@@ -4889,15 +4730,15 @@
 
     if 'Pct' in measure.value:
         measures_to_sum = [measure.value.replace('Pct', '')]
         if 'Shares' in measure.value:
             measures_to_sum.append(RetailMeasures.SHARES.value)
         else:
             measures_to_sum.append(RetailMeasures.NOTIONAL.value)
-        category_sums = retail_data.groupby([retail_data.index])[measures_to_sum].agg("sum")
+        category_sums = retail_data.groupby([retail_data.index])[measures_to_sum].agg(sum)
         category_sums[measure.value] = 100 * category_sums[measures_to_sum[0]] / category_sums[
             measures_to_sum[1]]
         category_sums.drop(columns=measures_to_sum)
     else:
         category_sums = retail_data.groupby([retail_data.index])[[measure.value]].agg(sum)
     series = ExtendedSeries(category_sums[measure.value], name=measure.value)
     series.dataset_ids = ds.id
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_countries.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_countries.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_fx_vol.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_fx_vol.py`

 * *Files 2% similar despite different names*

```diff
@@ -11,30 +11,32 @@
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import logging
 from enum import Enum
-from numbers import Real
 from typing import Union, Optional
 
 import pandas as pd
+from numbers import Real
 from pandas import Series
 
 from gs_quant.api.gs.assets import GsAssetApi
 from gs_quant.api.gs.data import QueryType, GsDataApi
 from gs_quant.errors import MqValueError
 from gs_quant.markets.securities import AssetIdentifier, Asset, SecurityMaster
 from gs_quant.target.common import AssetClass, AssetType, PricingLocation
 from gs_quant.timeseries import ASSET_SPEC, plot_measure, MeasureDependency
 from gs_quant.timeseries import ExtendedSeries, measures_rates as tm_rates
+from gs_quant.timeseries import measures as tm
 from gs_quant.timeseries.measures import _asset_from_spec, _market_data_timed, _cross_stored_direction_helper, \
     _preprocess_implied_vol_strikes_fx, _tenor_month_to_year
 from gs_quant.timeseries.measures_helper import VolReference
+from gs_quant.data.log import log_debug
 
 _logger = logging.getLogger(__name__)
 
 
 class OptionType(Enum):
     CALL = 'Call'
     PUT = 'Put'
@@ -548,41 +550,84 @@
 
     series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df['impliedVolatility'])
     series.dataset_ids = getattr(df, 'dataset_ids', ())
     return series
 
 
 """
+Legacy implementation
+"""
+
+
+def legacy_implied_volatility(asset: Asset, tenor: str, strike_reference: VolReference = None,
+                              relative_strike: Real = None, *, source: str = None, real_time: bool = False,
+                              request_id: Optional[str] = None) -> Series:
+    """
+    Volatility of an asset implied by observations of market prices.
+
+    :param asset: asset object loaded from security master
+    :param tenor: relative date representation of expiration date e.g. 1m
+            or absolute calendar strips e.g. 'Cal20', 'F20-G20'
+    :param strike_reference: reference for strike level
+    :param relative_strike: strike relative to reference
+    :param source: name of function caller
+    :param real_time: whether to retrieve intraday data instead of EOD
+    :param request_id: service request id, if any
+    :return: implied volatility curve
+    """
+
+    asset_id = tm.cross_stored_direction_for_fx_vol(asset.get_marquee_id())
+    ref_string, relative_strike = tm._preprocess_implied_vol_strikes_fx(strike_reference, relative_strike)
+
+    log_debug(request_id, _logger, 'where tenor=%s, strikeReference=%s, relativeStrike=%s', tenor, ref_string,
+              relative_strike)
+    tenor = tm._tenor_month_to_year(tenor)
+    where = dict(tenor=tenor, strikeReference=ref_string, relativeStrike=relative_strike)
+    # Parallel calls when fetching / appending last results
+    df = tm.get_historical_and_last_for_measure([asset_id], QueryType.IMPLIED_VOLATILITY, where, source=source,
+                                                real_time=real_time, request_id=request_id)
+
+    s = tm._extract_series_from_df(df, QueryType.IMPLIED_VOLATILITY)
+    return s
+
+
+"""
 New Implementation
 """
 
 
 @plot_measure((AssetClass.FX,), (AssetType.Cross,),
               [MeasureDependency(id_provider=cross_stored_direction_for_fx_vol,
                                  query_type=QueryType.IMPLIED_VOLATILITY)],
               display_name="implied_volatility")
 def implied_volatility_fxvol(asset: Asset, tenor: str, strike_reference: VolReference = None,
                              relative_strike: Real = None, location: Optional[PricingLocation] = None,
                              legacy_implementation: bool = False, *,
-                             source: str = None, real_time: bool = False) -> Series:
+                             source: str = None, real_time: bool = False,
+                             request_id: Optional[str] = None) -> Series:
     """
     Volatility of an asset implied by observations of market prices.
 
     :param asset: asset object loaded from security master
     :param tenor: relative date representation of expiration date e.g. 1m
             or absolute calendar strips e.g. 'Cal20', 'F20-G20'
     :param strike_reference: reference for strike level
     :param relative_strike: strike relative to reference
     :param location: location of the data snapshot Example - "HKG", "LDN", "NYC"
-    :param legacy_implementation: Deprecated (supplied values are ignored)
+    :param legacy_implementation: use FX_IVOl over  FX_VANILLA_OPTIONS_VOLS
     :param source: name of function caller
     :param real_time: whether to retrieve intraday data instead of EOD
+    :param request_id: service request id, if any
     :return: implied volatility curve
     """
 
+    if legacy_implementation:
+        return (legacy_implied_volatility(asset, tenor, strike_reference, relative_strike,
+                                          source=source, real_time=real_time, request_id=request_id))
+
     bbid = asset.get_identifier(AssetIdentifier.BLOOMBERG_ID)
     if bbid is not None:
         cross = _cross_stored_direction_helper(bbid)
         if cross != bbid:
             cross_asset = SecurityMaster.get_asset(cross, AssetIdentifier.BLOOMBERG_ID)
             if strike_reference.value == VolReference.DELTA_CALL.value:
                 strike_reference = VolReference.DELTA_PUT
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_helper.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_helper.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_inflation.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_inflation.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_rates.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_rates.py`

 * *Files 4% similar despite different names*

```diff
@@ -18,25 +18,23 @@
 import logging
 import re
 from collections import OrderedDict
 from enum import Enum
 from typing import Optional, Union, Dict, List
 
 import pandas as pd
-from gs_quant.instrument import IRSwap
-
 from pandas import Series
 
 from gs_quant.api.gs.assets import GsAssetApi
 from gs_quant.api.gs.data import QueryType, GsDataApi
 from gs_quant.data import DataContext, Dataset
 from gs_quant.datetime.gscalendar import GsCalendar
 from gs_quant.errors import MqValueError
 from gs_quant.markets.securities import AssetIdentifier, Asset
-from gs_quant.target.common import Currency as CurrencyEnum, AssetClass, AssetType, PricingLocation, SwapClearingHouse
+from gs_quant.target.common import Currency as CurrencyEnum, AssetClass, AssetType, PricingLocation
 from gs_quant.timeseries import currency_to_default_ois_asset, convert_asset_for_rates_data_set, RatesConversionType
 from gs_quant.timeseries.helper import _to_offset, check_forward_looking, plot_measure
 from gs_quant.timeseries.measures import _market_data_timed, _range_from_pricing_date, \
     _get_custom_bd, ExtendedSeries, SwaptionTenorType, _extract_series_from_df, GENERIC_DATE, \
     _asset_from_spec, ASSET_SPEC, MeasureDependency, _logger
 
 
@@ -104,138 +102,113 @@
             if field in entry:
                 value = entry[field][0] if isinstance(entry[field], list) else entry[field]
         return value
 
 
 SWAPTION_DEFAULTS = {
     "CURRENCIES": {
-        "AUD": [{"benchmarkType": "BBR", "floatingRateOption": "AUD-BBR-BBSW", "floatingRateTenor": ["6m", "3m"],
-                 "assetIdForAvailabilityCheck": "MAQHSC1PAF4X5H4B",
-                 "pricingLocation": ["TKO"]}],
         "EUR": [
             {"benchmarkType": "LIBOR", "floatingRateOption": "EUR-EURIBOR-TELERATE", "floatingRateTenor": ["6m", "3m"],
              "assetIdForAvailabilityCheck": "MAZB3PAH8JFVVT80",
-             "pricingLocation": ["LDN"]},
-            {"benchmarkType": "EURIBOR", "floatingRateOption": "EUR-EURIBOR-TELERATE",
-             "floatingRateTenor": ["6m", "3m"],
-             "assetIdForAvailabilityCheck": "MAZB3PAH8JFVVT80",
-             "pricingLocation": ["LDN"]}
-        ],
-        "GBP": [{"benchmarkType": "LIBOR", "floatingRateOption": "GBP-LIBOR-BBA", "floatingRateTenor": ["6m", "3m"],
-                 "assetIdForAvailabilityCheck": "MAX2SBXZRPYR3NTY",
-                 "pricingLocation": ["LDN"]},
-                {"benchmarkType": "SONIA", "floatingRateOption": "GBP-SONIA-COMPOUND",
-                 "floatingRateTenor": ["1y", "6m", "3m"],
-                 "assetIdForAvailabilityCheck": "MAQC2E5J9X6WGGCJ",
-                 "pricingLocation": ["LDN"]}
-                ],
-        "JPY": [{"benchmarkType": "LIBOR", "floatingRateOption": "JPY-LIBOR-BBA", "floatingRateTenor": ["6m"],
-                 "assetIdForAvailabilityCheck": "MATT7CA7PRA4B8YB",
-                 "pricingLocation": ["TKO"], }],
-        "KRW": [{"benchmarkType": "KSDA", "floatingRateOption": "KRW-CD-KSDA-BLOOMBERG", "floatingRateTenor": ["3m"],
-                 "assetIdForAvailabilityCheck": "MAMNSGB00G4ZCWMP",
-                 "pricingLocation": ["TKO"]}],
-        "NZD": [{"benchmarkType": "BBR", "floatingRateOption": "NZD-BBR-FRA", "floatingRateTenor": ["3m"],
-                 "assetIdForAvailabilityCheck": "MAHGK129ZCWCEG33",
-                 "pricingLocation": ["TKO"], }],
+             "pricingLocation": ["LDN"]}],
         "USD": [{"benchmarkType": "LIBOR", "floatingRateOption": "USD-LIBOR-BBA", "floatingRateTenor": ["3m", "6m"],
                  "assetIdForAvailabilityCheck": "MAY0X3KRD4AN77E2",
                  "strikeReference": ["ATM"],
                  "pricingLocation": ["NYC"]},
                 {"benchmarkType": "SOFR", "floatingRateOption": "USD-SOFR-COMPOUND",
                  "floatingRateTenor": ["1y", "6m", "3m"],
                  "assetIdForAvailabilityCheck": "MANYJ1AWNEX5C7FY",
                  "strikeReference": ["ATM"],
                  "pricingLocation": ["NYC"]}
                 ],
+        "GBP": [{"benchmarkType": "LIBOR", "floatingRateOption": "GBP-LIBOR-BBA", "floatingRateTenor": ["6m", "3m"],
+                 "assetIdForAvailabilityCheck": "MAX2SBXZRPYR3NTY",
+                 "pricingLocation": ["LDN"]},
+                {"benchmarkType": "SONIA", "floatingRateOption": "GBP-SONIA-COMPOUND",
+                 "floatingRateTenor": ["1y", "6m", "3m"],
+                 "assetIdForAvailabilityCheck": "MAQC2E5J9X6WGGCJ",
+                 "pricingLocation": ["LDN"]}
+                ],
+        "AUD": [{"benchmarkType": "BBR", "floatingRateOption": "AUD-BBR-BBSW", "floatingRateTenor": ["6m", "3m"],
+                 "assetIdForAvailabilityCheck": "MAQHSC1PAF4X5H4B",
+                 "pricingLocation": ["TKO"]}],
+        "JPY": [{"benchmarkType": "LIBOR", "floatingRateOption": "JPY-LIBOR-BBA", "floatingRateTenor": ["6m"],
+                 "assetIdForAvailabilityCheck": "MATT7CA7PRA4B8YB",
+                 "pricingLocation": ["TKO"], }]
     },
     "COMMON": {
         "strikeReference": "ATM",
         "clearingHouse": "LCH",
         "terminationTenor": "5y",
         "expirationTenor": "1y",
         "effectiveDate": "0b"
     }
 }
 swaptions_defaults_provider = TdapiRatesDefaultsProvider(SWAPTION_DEFAULTS)
 
 CURRENCY_TO_SWAP_RATE_BENCHMARK = {
-    'AUD': OrderedDict([('BBR', 'AUD-BBR-BBSW'), ('AONIA', 'AUD-AONIA-OIS-COMPOUND')]),
-    'BRL': {'CDI': 'BRR-CDI-COMPOUNDED'},
-    'CAD': OrderedDict([('CDOR', 'CAD-BA-CDOR'), ('CORRA', 'CAD-CORRA-OIS-COMP')]),
     'CHF': OrderedDict([('LIBOR', 'CHF-LIBOR-BBA'), ('SARON', 'CHF-SARON-OIS-COMPOUND')]),
-    'CLP': {'TNA': 'CLP-ICP-CAMARA'},
-    'CNY': {'REPO': 'CNY-REPO RATE'},
-    'COP': {'IBR': 'COP-IBR-ON'},
-    'CZK': {'PRIBOR': 'CZK-PRIBOR-PRBO'},
-    'DKK': OrderedDict([('CIBOR', 'DKK-CIBOR2-DKNA13'), ('OIS', 'DKK-DKKOIS-OIS-COMPOUND')]),
     'EUR': OrderedDict([('EURIBOR', 'EUR-EURIBOR-TELERATE'), ('EONIA', 'EUR-EONIA-OIS-COMPOUND'),
                         ('EUROSTR', 'EUR-EUROSTR-COMPOUND')]),
     'GBP': OrderedDict([('LIBOR', 'GBP-LIBOR-BBA'), ('SONIA', 'GBP-SONIA-COMPOUND')]),
-    'HKD': {'HIBOR': 'HKD-HIBOR-HKAB'},
-    'HUF': {'BIBOR': 'HUF-BIBOR-BUB'},
-    'ILS': {'TELBOR': 'ILS-TELBOR-FCI'},
-    'INR': {'MIBOR': 'INR-MIBOR-OIS-COMPOUND'},
     'JPY': OrderedDict([('LIBOR', 'JPY-LIBOR-BBA'), ('TONA', 'JPY-TONA-OIS-COMPOUND')]),
-    'KRW': {'KSDA': 'KRW-CD-KSDA-BLOOMBERG'},
-    'MXN': {'TIIE': 'MXN-TIIE-FX'},
-    'NOK': OrderedDict([('NIBOR', 'NOK-NIBOR-BBA'), ('NOWA', 'NOK-NOWA-OIS-COMPOUND')]),
-    'NZD': OrderedDict([('BBR', 'NZD-BBR-FRA'), ('NZIONA', 'NZD-NZIONA-OIS-COMPOUND')]),
-    'PLN': {'WIBOR': 'PLZ-WIBOR-WIBO'},
-    'RUB': {'MOSPRIME': 'RUB-MOSPRIME-NFEA'},
-    'SEK': OrderedDict([('STIBOR', 'SEK-STIBOR-SIDE'), ('SIOR', 'SEK-SIOR-OIS-COMPOUND')]),
-    'SGD': OrderedDict([('SOR', 'SGD-SOR-VWAP'), ('SORA', 'SGD-SORA-COMPOUND')]),
-    'THB': {'THOR': 'THB-THOR-COMPOUND'},
     'USD': OrderedDict(
         [('LIBOR', 'USD-LIBOR-BBA'), ('Fed_Funds', 'USD-Federal Funds-H.15-OIS-COMP'), ('SOFR', 'USD-SOFR-COMPOUND')]),
-    'ZAR': {'JIBAR': 'ZAR-JIBAR-SAFEX'},
+    'SEK': OrderedDict([('STIBOR', 'SEK-STIBOR-SIDE'), ('SIOR', 'SEK-SIOR-OIS-COMPOUND')]),
+    'NOK': OrderedDict([('NIBOR', 'NOK-NIBOR-BBA'), ('NOWA', 'NOK-NOWA-OIS-COMPOUND')]),
+    'DKK': OrderedDict([('CIBOR', 'DKK-CIBOR2-DKNA13'), ('OIS', 'DKK-DKKOIS-OIS-COMPOUND')]),
+    'AUD': OrderedDict([('BBR', 'AUD-BBR-BBSW'), ('AONIA', 'AUD-AONIA-OIS-COMPOUND')]),
+    'CAD': OrderedDict([('CDOR', 'CAD-BA-CDOR'), ('CORRA', 'CAD-CORRA-OIS-COMP')]),
+    'NZD': OrderedDict([('BBR', 'NZD-BBR-FRA'), ('NZIONA', 'NZD-NZIONA-OIS-COMPOUND')]),
+    'KRW': {'KSDA': 'KRW-CD-KSDA-BLOOMBERG'},
+    'CNY': {'REPO': 'CNY-REPO RATE'},
+    'SGD': {'SOR': 'SGD-SOR-VWAP'},
+    'HKD': {'HIBOR': 'HKD-HIBOR-HKAB'},
+    'INR': {'MIBOR': 'INR-MIBOR-OIS-COMPOUND'},
+    'BRL': {'CDI': 'BRR-CDI-COMPOUNDED'},
+    'CLP': {'TNA': 'CLP-ICP-CAMARA'},
+    'COP': {'IBR': 'COP-IBR-ON'},
+    'MXN': {'TIIE': 'MXN-TIIE-FX'}
 }
 # TODO Join into single object.
 BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS = {
-    'BRR-CDI-COMPOUNDED': '1b',
-    'AUD-BBR-BBSW': '6m',
-    'AUD-AONIA-OIS-COMPOUND': '1y',
-    'CAD-BA-CDOR': '3m',
-    'CAD-CORRA-OIS-COMP': '3m',
     'CHF-LIBOR-BBA': '6m',
     'CHF-SARON-OIS-COMPOUND': '1y',
-    'CLP-ICP-CAMARA': '1b',
-    'CNY-REPO RATE': '1w',
-    'COP-IBR-ON': '1b',
-    'CZK-PRIBOR-PRBO': '6m',
-    'DKK-CIBOR2-DKNA13': '6m',
-    'DKK-DKKOIS-OIS-COMPOUND': '1y',
     'EUR-EURIBOR-TELERATE': '6m',
     'EUR-EUROSTR-COMPOUND': '1y',
     'EUR-EONIA-OIS-COMPOUND': '1y',
     'GBP-LIBOR-BBA': '6m',
     'GBP-SONIA-COMPOUND': '1y',
-    'HKD-HIBOR-HKAB': '3m',
-    'HUF-BIBOR-BUB': '6m',
-    'INR-MIBOR-OIS-COMPOUND': '6m',
-    'ILS-TELBOR-FCI': '3m',
     'JPY-LIBOR-BBA': '6m',
     'JPY-TONA-OIS-COMPOUND': '1y',
-    'KRW-CD-KSDA-BLOOMBERG': '3m',
-    'MXN-TIIE-FX': '28d',
-    'NOK-NIBOR-BBA': '6m',
-    'NOK-NOWA-OIS-COMPOUND': '1y',
-    'NZD-BBR-FRA': '3m',
-    'NZD-NZIONA-OIS-COMPOUND': '1y',
-    'PLZ-WIBOR-WIBO': '6m',
-    'RUB-MOSPRIME-NFEA': '3m',
     'SEK-STIBOR-SIDE': '6m',
     'SEK-SIOR-OIS-COMPOUND': '1y',
-    'SGD-SOR-VWAP': '6m',
-    'SGD-SORA-COMPOUND': '3m',
-    'THB-THOR-COMPOUND': '3m',
     'USD-LIBOR-BBA': '3m',
     'USD-Federal Funds-H.15-OIS-COMP': '1y',
     'USD-SOFR-COMPOUND': '1y',
-    'ZAR-JIBAR-SAFEX': '3m',
+    'NOK-NIBOR-BBA': '6m',
+    'NOK-NOWA-OIS-COMPOUND': '1y',
+    'DKK-CIBOR2-DKNA13': '6m',
+    'DKK-DKKOIS-OIS-COMPOUND': '1y',
+    'AUD-BBR-BBSW': '6m',
+    'AUD-AONIA-OIS-COMPOUND': '1y',
+    'CAD-BA-CDOR': '3m',
+    'CAD-CORRA-OIS-COMP': '3m',
+    'NZD-BBR-FRA': '3m',
+    'NZD-NZIONA-OIS-COMPOUND': '1y',
+    'KRW-CD-KSDA-BLOOMBERG': '3m',
+    'CNY-REPO RATE': '1w',
+    'SGD-SOR-VWAP': '6m',
+    'HKD-HIBOR-HKAB': '3m',
+    'INR-MIBOR-OIS-COMPOUND': '6m',
+    'BRR-CDI-COMPOUNDED': '1b',
+    'CLP-ICP-CAMARA': '1b',
+    'COP-IBR-ON': '1b',
+    'MXN-TIIE-FX': '28d'
+
 }
 CURRENCY_TO_PRICING_LOCATION = {
     CurrencyEnum.JPY: PricingLocation.TKO,
     CurrencyEnum.USD: PricingLocation.NYC,
     CurrencyEnum.AUD: PricingLocation.TKO,
     CurrencyEnum.NZD: PricingLocation.TKO,
     CurrencyEnum.CNY: PricingLocation.HKG,
@@ -275,47 +248,28 @@
     'SGD': 'MA5CQFHYBPH9E5BS',
     'BRL': 'MATPPVN02HJ4M9NS',
     'COP': 'MADA0AGFQ65CTMWF',
     'CLP': 'MAP8A0SHH9Q86SXC',
     'MXN': 'MAAJ9RAHYBAXGYD2'
 }
 
-SUPPORTED_INTRADAY_CURRENCY_TO_DUMMY_SWAP_BBID = {
-    'CHF': 'MACF6R4J5FY4KGBZ',
-    'EUR': 'MACF6R4J5FY4KGBZ',
-    'GBP': 'MACF6R4J5FY4KGBZ',
-    'JPY': 'MACF6R4J5FY4KGBZ',
-    'SEK': 'MACF6R4J5FY4KGBZ',
-    'USD': 'MACF6R4J5FY4KGBZ',
-    'DKK': 'MACF6R4J5FY4KGBZ',
-    'NOK': 'MACF6R4J5FY4KGBZ',
-    'NZD': 'MACF6R4J5FY4KGBZ',
-    'AUD': 'MACF6R4J5FY4KGBZ',
-    'CAD': 'MACF6R4J5FY4KGBZ'
-}
-
 # FXFwd XCCYSwap rates Defaults
 CROSS_BBID_TO_DUMMY_OISXCCY_ASSET = {
     'EURUSD': 'MA1VJC1E3SZW8E4S',
     'GBPUSD': 'MA3JTR4HSC63H4V6',
     'AUDUSD': 'MAD4VBRWYXFSY1N4',
     'NZDUSD': 'MA1YHQMZVTM3VBWT',
     'USDSEK': 'MA2APZREBGDMME83',
     'USDNOK': 'MA0K3W6FKH6K1KJE',
     'USDDKK': 'MA328HZB86DYSWSJ',
     'USDCAD': 'MAT8JNEE2GN5NES6',
     'USDCHF': 'MABNGGTNB9A0TKCG',
     'USDJPY': 'MAMZ9YG8AF3HQ18C',
 }
 
-CURRENCY_TO_CSA_DEFAULT_MAP = {
-    'USD': 'USD-SOFR',
-    'EUR': 'EUR-EUROSTR'
-}
-
 
 def _pricing_location_normalized(location: PricingLocation, ccy: CurrencyEnum) -> PricingLocation:
     if location == PricingLocation.HKG or location == PricingLocation.TKO:
         if ccy in CURRENCY_TO_PRICING_LOCATION.keys() and \
                 PricingLocation.HKG == CURRENCY_TO_PRICING_LOCATION.get(ccy, PricingLocation.LDN):
             return PricingLocation.HKG
         else:
@@ -343,18 +297,14 @@
     asset = _asset_from_spec(asset_spec)
     bbid = asset.get_identifier(AssetIdentifier.BLOOMBERG_ID)
     # for each currency, get a dummy asset for checking availability
     result = CURRENCY_TO_DUMMY_SWAP_BBID.get(bbid, asset.get_marquee_id())
     return result
 
 
-def _currency_to_tdapi_swap_rate_asset_for_intraday(asset_spec: ASSET_SPEC) -> str:
-    return 'MACF6R4J5FY4KGBZ'
-
-
 def _currency_to_tdapi_asset_base(asset_spec: ASSET_SPEC, allowed_bbids=None) -> str:
     asset = _asset_from_spec(asset_spec)
     bbid = asset.get_identifier(AssetIdentifier.BLOOMBERG_ID)
     if bbid is None or (allowed_bbids and bbid not in allowed_bbids):
         return asset.get_marquee_id()
     try:
         result = swaptions_defaults_provider.get_swaption_parameter(bbid, "assetIdForAvailabilityCheck")
@@ -499,32 +449,28 @@
     AONIA = 'AONIA'
     NZIONA = 'NZIONA'
     NOWA = 'NOWA'
     CORRA = 'CORRA'
     SIOR = 'SIOR'
 
 
-def _check_benchmark_type(currency, benchmark_type: Union[BenchmarkType, str], nothrow: bool = False) \
-        -> Union[BenchmarkType, str]:
+def _check_benchmark_type(currency, benchmark_type: Union[BenchmarkType, str]) -> BenchmarkType:
     if isinstance(benchmark_type, str):
         if benchmark_type.upper() in BenchmarkType.__members__:
             benchmark_type = BenchmarkType[benchmark_type.upper()]
         elif benchmark_type in ['fed_funds', 'Fed_Funds', 'FED_FUNDS']:
             benchmark_type = BenchmarkType.Fed_Funds
         elif benchmark_type in ['estr', 'ESTR', 'eurostr', 'EuroStr']:
             benchmark_type = BenchmarkType.EUROSTR
-        elif not nothrow:
-            raise MqValueError(f'{benchmark_type} is not valid, pick one among ' +
-                               ', '.join([x.value for x in BenchmarkType]))
         else:
-            return benchmark_type
+            raise MqValueError('%s is not valid, pick one among ' + ', '.join([x.value for x in BenchmarkType]))
 
     if isinstance(benchmark_type, BenchmarkType) and \
             benchmark_type.value not in CURRENCY_TO_SWAP_RATE_BENCHMARK[currency.value].keys():
-        raise MqValueError(f'{benchmark_type.value} is not supported for {currency.value}')
+        raise MqValueError('%s is not supported for %s', benchmark_type.value, currency.value)
     else:
         return benchmark_type
 
 
 def _check_clearing_house(clearing_house: Union[_ClearingHouse, str]) -> _ClearingHouse:
     if isinstance(clearing_house, str) and clearing_house.upper() in _ClearingHouse.__members__:
         clearing_house = _ClearingHouse[clearing_house.upper()]
@@ -560,41 +506,30 @@
         raise MqValueError('invalid swap tenor ' + tenor)
     else:
         tenor_to_plot = 'effectiveTenor'
         tenor_dataset_field = 'asset_parameters_termination_date'
     return dict(tenor=tenor, tenor_to_plot=tenor_to_plot, tenor_dataset_field=tenor_dataset_field)
 
 
-def _get_benchmark_type(currency: CurrencyEnum, benchmark_type: BenchmarkType = None):
+def _get_swap_leg_defaults(currency: CurrencyEnum, benchmark_type: BenchmarkType = None,
+                           floating_rate_tenor: str = None) -> dict:
+    pricing_location = CURRENCY_TO_PRICING_LOCATION.get(currency, PricingLocation.LDN)
+    # default benchmark types
     if benchmark_type is None:
         if currency == CurrencyEnum.EUR:
             benchmark_type = BenchmarkType.EURIBOR
         elif currency == CurrencyEnum.SEK:
             benchmark_type = BenchmarkType.STIBOR
         else:
             benchmark_type = BenchmarkType(str(list(CURRENCY_TO_SWAP_RATE_BENCHMARK[currency.value].keys())[0]))
     benchmark_type_input = CURRENCY_TO_SWAP_RATE_BENCHMARK[currency.value][benchmark_type.value]
 
-    return benchmark_type_input
-
-
-def _get_swap_leg_defaults(currency: CurrencyEnum, benchmark_type: Union[BenchmarkType, str] = None,
-                           floating_rate_tenor: str = None) -> dict:
-    pricing_location = CURRENCY_TO_PRICING_LOCATION.get(currency, PricingLocation.LDN)
-    # default benchmark types
-    if not isinstance(benchmark_type, str):
-        benchmark_type_input = _get_benchmark_type(currency, benchmark_type)
-    else:
-        benchmark_type_input = benchmark_type
     # default floating index
     if floating_rate_tenor is None:
-        if benchmark_type_input in BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS:
-            floating_rate_tenor = BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS[benchmark_type_input]
-        else:
-            raise MqValueError(f"{benchmark_type_input} has no default fixing tenor, please specify one")
+        floating_rate_tenor = BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS[benchmark_type_input]
 
     return dict(currency=currency, benchmark_type=benchmark_type_input,
                 floating_rate_tenor=floating_rate_tenor, pricing_location=pricing_location)
 
 
 def _get_swap_csa_terms(curr: str, benchmark_type: str) -> dict:
     euribor_index = CURRENCY_TO_SWAP_RATE_BENCHMARK['EUR'][BenchmarkType.EURIBOR.value]
@@ -670,47 +605,14 @@
     q = GsDataApi.build_market_data_query([rate_mqid], query_type, where=where, source=source,
                                           real_time=real_time)
     _logger.debug('q %s', q)
     df = _market_data_timed(q)
     return df
 
 
-def _get_swap_data_calc(asset: Asset, swap_tenor: str, benchmark_type: str = None, floating_rate_tenor: str = None,
-                        forward_tenor: Optional[GENERIC_DATE] = None, csa: str = None,
-                        real_time: bool = False, location: PricingLocation = None) -> pd.DataFrame:
-    currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
-
-    benchmark_type = _check_benchmark_type(currency, benchmark_type, True)
-
-    clearing_house = SwapClearingHouse.LCH
-    if csa in ['EUREX', 'JSCC', 'CME']:
-        clearing_house = SwapClearingHouse(csa)
-
-    defaults = _get_swap_leg_defaults(currency, benchmark_type, floating_rate_tenor)
-
-    if not re.fullmatch('(\\d+)([bdwmy])', swap_tenor):
-        raise MqValueError('invalid swap tenor ' + swap_tenor)
-
-    forward_tenor = _check_forward_tenor(forward_tenor)
-
-    builder = IRSwap(notional_currency=currency, clearing_house=clearing_house,
-                     floating_rate_designated_maturity=defaults['floating_rate_tenor'],
-                     floating_rate_option=defaults['benchmark_type'],
-                     fixed_rate=0.0, termination_date=swap_tenor)
-
-    if forward_tenor:
-        builder.effective_date = forward_tenor
-
-    _logger.debug(f'where builder={builder.as_dict()}')
-
-    location = location or PricingLocation.NYC
-    q = GsDataApi.get_mxapi_backtest_data(builder, close_location=location.value, real_time=real_time, csa=csa)
-    return q
-
-
 def _get_term_struct_date(tenor: Union[str, datetime.datetime], index: datetime.datetime,
                           business_day) -> datetime.datetime:
     if isinstance(tenor, (datetime.datetime, datetime.date)):
         return tenor
     try:
         year, month, day = tenor.split('-')
         return datetime.datetime(int(year), int(month), int(day))
@@ -1284,204 +1186,14 @@
                         real_time=real_time, query_type=QueryType.SWAP_RATE, location=location)
 
     series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df['swapRate'])
     series.dataset_ids = getattr(df, 'dataset_ids', ())
     return series
 
 
-@plot_measure((AssetClass.Cash,), (AssetType.Currency,),
-              [MeasureDependency(id_provider=_currency_to_tdapi_swap_rate_asset_for_intraday,
-                                 query_type=QueryType.SPOT)])
-def swap_rate_calc(asset: Asset, swap_tenor: str, benchmark_type: str = None, floating_rate_tenor: str = None,
-                   forward_tenor: Optional[GENERIC_DATE] = None, csa: str = None,
-                   location: PricingLocation = None, *,
-                   source: str = None, real_time: bool = False) -> Series:
-    """
-    GS intra-day Fixed-Floating interest rate swap (IRS) curves across major currencies.
-    This API runs on-the-fly calculations
-
-
-    :param asset: asset object loaded from security master
-    :param swap_tenor: relative date representation of expiration date e.g. 1m
-    :param benchmark_type: benchmark type e.g. LIBOR
-    :param floating_rate_tenor: floating index rate
-    :param forward_tenor: absolute / relative date representation of forward starting point eg: '1y' or 'Spot' for
-            spot starting swaps, 'imm1' or 'frb1'
-    :param csa: Collateral type or clearing house for cleared swaps - set to Default for standard domestic funding.
-    :param location: Example - "TKO", "LDN", "NYC"
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :return: swap rate curve
-    """
-
-    df = _get_swap_data_calc(asset=asset, swap_tenor=swap_tenor, benchmark_type=benchmark_type,
-                             floating_rate_tenor=floating_rate_tenor, forward_tenor=forward_tenor,
-                             csa=csa, real_time=real_time, location=location)
-
-    series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df['ATMRate'])
-    series.dataset_ids = ()
-    return series
-
-
-@plot_measure((AssetClass.Cash,), (AssetType.Currency,),
-              [MeasureDependency(id_provider=_currency_to_tdapi_swap_rate_asset_for_intraday,
-                                 query_type=QueryType.SPOT)])
-def forward_rate(asset: Asset, forward_start_tenor: str = None, forward_term: str = None,
-                 csa: str = None,
-                 close_location: str = None, *, source: str = None, real_time: bool = False) -> Series:
-    """
-    GS Forward Rate across major currencies.
-    This API computes forward rates off stored forward/discount curves
-
-
-    :param asset: asset object loaded from security master
-    :param forward_start_tenor: Relative date of start of forward e.g. 1y
-    :param forward_term:    Term of forward, e.g. 3m
-    :param csa: Collateral code of curve, e.g. GBP-1. If set to default, default CSA is chosen
-    :param close_location: For EOD data, gives location of close
-    :param source: name of function caller
-    :param real_time: whether to retrieve intra-day data instead of EOD
-    :return: annualised instantaneous forward rate
-    """
-
-    currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
-    csa = csa or 'Default'
-    close_location = close_location or 'NYC'
-    if not forward_term:
-        raise MqValueError("Forward rate term not specified")
-
-    if not forward_start_tenor:
-        forward_start_tenor = '0d'
-
-    measure = f'FR:{forward_start_tenor}:{forward_term}'
-    df = GsDataApi.get_mxapi_curve_measure('DISCOUNT CURVE', currency.value, [], [csa], measure,
-                                           close_location=close_location, real_time=real_time)
-
-    series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df[measure])
-    series.dataset_ids = ()
-    return series
-
-
-@plot_measure((AssetClass.Cash,), (AssetType.Currency,),
-              [MeasureDependency(id_provider=_currency_to_tdapi_swap_rate_asset_for_intraday,
-                                 query_type=QueryType.SPOT)])
-def discount_factor(asset: Asset, tenor: str = None, csa: str = None, close_location: str = None,
-                    *, source: str = None, real_time: bool = False) -> Series:
-    """
-    GS Discount Factor across major currencies.
-    This API computes discount factor off stored forward/discount curves
-
-
-    :param asset: asset object loaded from security master
-    :param tenor: tenor of discount factor e.g. 1m
-    :param csa: Collateral code of curve to fetch discount factor, e.g. GBP-1. If not specified, default CSA is chosen
-    :param close_location: For EOD data, gives location of close
-    :param source: name of function caller
-    :param real_time: whether to retrieve intra-day data instead of EOD
-    :return: annualised instantaneous forward rate
-    """
-
-    currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
-    close_location = close_location or 'NYC'
-    if not tenor:
-        raise MqValueError("Discount Curve start and end date not specified")
-
-    csa = csa or 'Default'
-
-    measure = f'DF:{tenor}'
-    df = GsDataApi.get_mxapi_curve_measure('DISCOUNT CURVE', currency.value, [], [csa], measure,
-                                           close_location=close_location, real_time=real_time)
-
-    series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df[measure])
-    series.dataset_ids = ()
-    return series
-
-
-@plot_measure((AssetClass.Cash,), (AssetType.Currency,),
-              [MeasureDependency(id_provider=_currency_to_tdapi_swap_rate_asset_for_intraday,
-                                 query_type=QueryType.SPOT)])
-def instantaneous_forward_rate(asset: Asset, tenor: str = None, csa: str = None,
-                               close_location: str = None,
-                               *, source: str = None, real_time: bool = False) -> Series:
-    """
-    GS Floating Rate Benchmark annualised instantaneous forward rates across major currencies.
-    This API computes IFR off stored forward/discount curves
-
-
-    :param asset: asset object loaded from security master
-    :param tenor: tenor of IFR e.g. 1m
-    :param csa: Collateral code of curve to fetch IFR. Set to default for default collateral
-    :param close_location: For EOD data, gives location of close
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :return: annualised instantaneous forward rate
-    """
-
-    currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
-    close_location = close_location or 'NYC'
-    if not tenor:
-        raise MqValueError("Forward rate tenor not specified")
-
-    csa = csa or 'Default'
-
-    measure = f'IFR:{tenor}'
-    df = GsDataApi.get_mxapi_curve_measure('DISCOUNT CURVE', currency.value, [], [csa], measure,
-                                           close_location=close_location, real_time=real_time)
-
-    series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df[measure])
-    series.dataset_ids = ()
-    return series
-
-
-@plot_measure((AssetClass.Cash,), (AssetType.Currency,),
-              [MeasureDependency(id_provider=_currency_to_tdapi_swap_rate_asset_for_intraday,
-                                 query_type=QueryType.SPOT)])
-def index_forward_rate(asset: Asset, forward_start_tenor: str = None, benchmark_type: str = None,
-                       fixing_tenor: str = None, close_location: str = None, *,
-                       source: str = None, real_time: bool = False) -> Series:
-    """
-    GS annualised forward rates across floating rate benchmark
-    This API computes index forward rate off stored index forward curves
-
-
-    :param asset: asset object loaded from security master
-    :param forward_start_tenor: relative start rate of forward e.g. 1m
-    :param benchmark_type: benchmark type of floating rate option e.g. LIBOR
-    :param fixing_tenor: Fixing tenor of the given benchmark type. Leave empty to use default e.g. 3m
-    :param close_location: For EOD data, gives location of close
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :return: annualised forward rate
-    """
-    currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
-    close_location = close_location or 'NYC'
-    if not forward_start_tenor:
-        raise MqValueError("Forward rate start date not specified")
-
-    benchmark_type = _check_benchmark_type(currency, benchmark_type, True)
-    if not isinstance(benchmark_type, str):
-        benchmark_type_input = _get_benchmark_type(currency, benchmark_type)
-    else:
-        benchmark_type_input = benchmark_type
-
-    if fixing_tenor is None:
-        if benchmark_type_input not in BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS:
-            raise MqValueError("Please provide fixing tenor: " +
-                               f"default fixing tenor not specified for {benchmark_type_input}")
-        fixing_tenor = BENCHMARK_TO_DEFAULT_FLOATING_RATE_TENORS[benchmark_type_input]
-
-    measure = f'FR:{forward_start_tenor}:{fixing_tenor}'
-    df = GsDataApi.get_mxapi_curve_measure('INDEX CURVE', benchmark_type_input, [fixing_tenor], [f'{currency.value}-1'],
-                                           measure, close_location=close_location, real_time=real_time)
-
-    series = ExtendedSeries(dtype=float) if df.empty else ExtendedSeries(df[measure])
-    series.dataset_ids = ()
-    return series
-
-
 def _get_basis_swap_kwargs(asset: Asset, spread_benchmark_type: str = None, spread_tenor: str = None,
                            reference_benchmark_type: str = None, reference_tenor: str = None,
                            forward_tenor: Optional[GENERIC_DATE] = None, clearing_house: _ClearingHouse = None,
                            location: PricingLocation = None) -> dict:
     currency = CurrencyEnum(asset.get_identifier(AssetIdentifier.BLOOMBERG_ID))
     if currency.value not in ['JPY', 'EUR', 'USD', 'GBP', 'CHF', 'DKK', 'NOK', 'SEK', 'CAD', 'AUD', 'NZD']:
         raise NotImplementedError('Data not available for {} basis swap rates'.format(currency.value))
@@ -2063,15 +1775,15 @@
 
 def parse_meeting_date(valuation_date: Optional[GENERIC_DATE] = None):
     if isinstance(valuation_date, str):
         if len(valuation_date.split('-')) == 3:
             year, month, day = valuation_date.split('-')
             return datetime.date(int(year), int(month), int(day))
         else:
-            start, valuation_date = _range_from_pricing_date('USD', valuation_date)
+            start, valuation_date = _range_from_pricing_date(None, valuation_date)
             return valuation_date.date() if isinstance(valuation_date, pd.Timestamp) else valuation_date
     elif isinstance(valuation_date, datetime.date) or valuation_date is None:
         start, valuation_date = _range_from_pricing_date(None, valuation_date)
         return valuation_date.date() if isinstance(valuation_date, pd.Timestamp) else valuation_date
     else:
         raise MqValueError(
             'valuation_date must be of type datetime.date or string YYYY-MM-DD or relative date strings like 1m, 1y')
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_reports.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_reports.py`

 * *Files 12% similar despite different names*

```diff
@@ -11,33 +11,29 @@
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 """
 import datetime as dt
 from enum import Enum
-from typing import Optional, Union, List
+from typing import Optional
 
 import pandas as pd
-import numpy as np
-import math
 from pandas.tseries.offsets import BDay
 from pydash import decapitalize
 
-from gs_quant.api.gs.data import QueryType, GsDataApi, DataQuery
+from gs_quant.api.gs.data import QueryType
 from gs_quant.data.core import DataContext
 from gs_quant.entities.entity import EntityType
 from gs_quant.errors import MqValueError
 from gs_quant.markets.portfolio_manager import PortfolioManager
-from gs_quant.markets.report import FactorRiskReport, PerformanceReport, ThematicReport, ReturnFormat, \
-    format_aum_for_return_calculation, get_pnl_percent, get_factor_pnl_percent_for_single_factor
+from gs_quant.markets.report import FactorRiskReport, PerformanceReport, ThematicReport, ReturnFormat
 from gs_quant.models.risk_model import FactorRiskModel
 from gs_quant.target.reports import PositionSourceType
 from gs_quant.timeseries import plot_measure_entity
-from gs_quant.timeseries.algebra import geometrically_aggregate
 from gs_quant.timeseries.measures import _extract_series_from_df, SecurityMaster, AssetIdentifier
 
 
 class Unit(Enum):
     NOTIONAL = 'Notional'
     PERCENT = 'Percent'
 
@@ -307,161 +303,51 @@
     df = pd.DataFrame(aum_dict)
     if not df.empty:
         df.set_index('date', inplace=True)
         df.index = pd.to_datetime(df.index)
     return _extract_series_from_df(df, QueryType.AUM)
 
 
-@plot_measure_entity(EntityType.REPORT, [QueryType.PNL])
-def pnl(report_id: str, unit: str = 'Notional', *, source: str = None,
-        real_time: bool = False, request_id: Optional[str] = None) -> pd.Series:
-    """
-    PNL from all holdings, if unit is Percent, geometrically aggregate over time frame
-
-    :param report_id: id of performance report
-    :param unit: by default uses mode as Notional, but can also be set to Percent
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :param request_id: server request id
-    :return: portfolio pnl
-    """
-    start_date = DataContext.current.start_time.date()
-    end_date = DataContext.current.end_time.date()
-    performance_report = PerformanceReport.get(report_id)
-    pnl_df = performance_report.get_pnl(start_date, end_date)
-
-    if unit == Unit.PERCENT.value:
-        return get_pnl_percent(performance_report, pnl_df, 'pnl', start_date, end_date)
-    else:
-        pnl_df.set_index('date', inplace=True)
-        return pd.Series(pnl_df['pnl'], name="pnl")
-
-
-@plot_measure_entity(EntityType.REPORT)
-def historical_simulation_estimated_pnl(report_id: str, *, source: str = None,
-                                        real_time: bool = False, request_id: Optional[str] = None) -> pd.Series:
-    """
-    Estimated Pnl from replaying a historical simulation scenario on your latest positions
-    :param report_id: id of performance report
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :param request_id: server request id
-    :return: portfolio estimated pnl
-    """
-
-    factor_attributed_pnl = _replay_historical_factor_moves_on_latest_positions(report_id, [])
-    total_factor_attributed_pnl = factor_attributed_pnl.apply(np.sum, axis=1).to_frame("estimatedPnl")
-
-    total_factor_attributed_pnl.index = pd.to_datetime(total_factor_attributed_pnl.index)
-    return total_factor_attributed_pnl.squeeze()
-
-
-@plot_measure_entity(EntityType.REPORT)
-def historical_simulation_estimated_factor_attribution(report_id: str, factor_name: str, *, source: str = None,
-                                                       real_time: bool = False,
-                                                       request_id: Optional[str] = None) -> pd.Series:
-    """
-    Estimated Pnl attributed to the factor after replaying a historical simulation scenario on a portfolio's latest
-    positions
-    :param report_id: id of performance report
-    :param factor_name: name of the factor
-    :param source: name of function caller
-    :param real_time: whether to retrieve intraday data instead of EOD
-    :param request_id: server request id
-    :return: portfolio estimated pnl
-    """
-
-    factor_attributed_pnl = _replay_historical_factor_moves_on_latest_positions(report_id, [factor_name])
-    factor_attributed_pnl.index = pd.to_datetime(factor_attributed_pnl.index)
-
-    return factor_attributed_pnl.squeeze()
-
-
-def _replay_historical_factor_moves_on_latest_positions(report_id: str, factors: List[str]) -> \
-        Union[pd.Series, pd.DataFrame]:
-    start_date = DataContext.current.start_time.date()
-    end_date = DataContext.current.end_time.date()
-    risk_report = FactorRiskReport.get(report_id)
-    risk_model_id = risk_report.get_risk_model_id()
-
-    # Get data in batches of 365 days
-    date_range = pd.bdate_range(start_date, end_date)
-    batches = np.array_split([d.date() for d in date_range.tolist()], math.ceil(len(date_range.tolist()) / 365))
-    data_query_results = []
-    query = {"riskModel": risk_model_id}
-    if factors:
-        query.update({"factor": factors})
-    for batch in batches:
-        data_query_results += GsDataApi.execute_query(
-            'RISK_MODEL_FACTOR',
-            DataQuery(
-                where=query,
-                start_date=batch[0],
-                end_date=batch[-1]
-            )
-        ).get('data', [])
-
-    return_data = pd.DataFrame(data_query_results).pivot(columns="factor", index="date", values="return").sort_index()
-    return_data_aggregated = (return_data / 100).apply(geometrically_aggregate)
-
-    latest_report_date = risk_report.latest_end_date
-    factor_exposures = risk_report.get_results(
-        start_date=latest_report_date,
-        end_date=latest_report_date,
-        return_format=ReturnFormat.JSON
-    )
-    factor_exposure_df = pd.DataFrame(factor_exposures).pivot(columns="factor",
-                                                              index="date",
-                                                              values="exposure").sort_index()
-
-    factor_exposure_df = factor_exposure_df.reindex(columns=return_data_aggregated.columns)
-    factor_attributed_pnl_values = return_data_aggregated.values * factor_exposure_df.values
-    factor_attributed_pnl = pd.DataFrame(factor_attributed_pnl_values, index=return_data_aggregated.index,
-                                         columns=return_data_aggregated.columns)
-
-    return factor_attributed_pnl
-
-
 def _get_factor_data(report_id: str, factor_name: str, query_type: QueryType, unit: Unit = Unit.NOTIONAL) -> pd.Series:
     # Check params
     report = FactorRiskReport.get(report_id)
     if factor_name not in ['Factor', 'Specific', 'Total']:
         if query_type in [QueryType.DAILY_RISK, QueryType.ANNUAL_RISK]:
             raise MqValueError('Please pick a factor name from the following: ["Total", "Factor", "Specific"]')
         model = FactorRiskModel.get(report.get_risk_model_id())
         factor = model.get_factor(factor_name)
         factor_name = factor.name
 
     # Extract relevant data for each date
     col_name = query_type.value.replace(' ', '')
     col_name = decapitalize(col_name)
     data_type = decapitalize(col_name[6:]) if col_name.startswith('factor') else col_name
-    include_total_factor = factor_name != 'Total' and unit == Unit.PERCENT and query_type == QueryType.FACTOR_PNL
-    factors_to_query = [factor_name, 'Total'] if include_total_factor else [factor_name]
+
     factor_data = report.get_results(
-        factors=factors_to_query,
+        factors=[factor_name],
         start_date=DataContext.current.start_date,
         end_date=DataContext.current.end_date,
         return_format=ReturnFormat.JSON
     )
-    total_data = [d for d in factor_data if d.get(data_type) is not None and d.get('factor') == 'Total']
-    factor_data = [d for d in factor_data if d.get(data_type) is not None and d.get('factor') == factor_name]
+    factor_data = [d for d in factor_data if d.get(data_type)]
     if unit == Unit.PERCENT:
         if report.position_source_type != PositionSourceType.Portfolio:
             raise MqValueError('Unit can only be set to percent for portfolio reports')
         pm = PortfolioManager(report.position_source_id)
-        tags = dict((tag.name, tag.value) for tag in report.parameters.tags) if report.parameters.tags else None
-        performance_report = pm.get_performance_report(tags=tags)
-        start_date = dt.datetime.strptime(min([d['date'] for d in factor_data]), '%Y-%m-%d').date()
-        end_date = dt.datetime.strptime(max([d['date'] for d in factor_data]), '%Y-%m-%d').date()
+        performance_report = pm.get_performance_report()
         if query_type == QueryType.FACTOR_PNL:
-            # Factor Pnl needs to be geometrically aggregated if unit is %
-            aum_df = format_aum_for_return_calculation(performance_report, start_date, end_date)
-            return get_factor_pnl_percent_for_single_factor(factor_data, total_data, aum_df, start_date)
+            last_date = dt.datetime.strptime(max([d['date'] for d in factor_data]), '%Y-%m-%d').date()
+            aum = performance_report.get_aum(start_date=last_date, end_date=last_date)
+            last_aum = aum.get(last_date.strftime('%Y-%m-%d'))
+            if last_aum is None:
+                raise MqValueError('Cannot convert to percent: Missing AUM on the last date in the date range')
+            factor_exposures = [{'date': d['date'], col_name: d[data_type] / last_aum * 100} for d in factor_data]
         else:
+            start_date = dt.datetime.strptime(min([d['date'] for d in factor_data]), '%Y-%m-%d').date()
+            end_date = dt.datetime.strptime(max([d['date'] for d in factor_data]), '%Y-%m-%d').date()
             aum = performance_report.get_aum(start_date=start_date, end_date=end_date)
             for data in factor_data:
                 if aum.get(data['date']) is None:
                     raise MqValueError('Cannot convert to percent: Missing AUM on some dates in the date range')
             factor_exposures = [{
                 'date': d['date'],
                 col_name: d[data_type] / aum.get(d['date']) * 100
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_risk_models.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_risk_models.py`

 * *Files 1% similar despite different names*

```diff
@@ -18,18 +18,17 @@
 import pandas as pd
 from pydash import decapitalize
 
 from gs_quant.api.gs.data import QueryType
 from gs_quant.data.core import DataContext
 from gs_quant.entities.entity import EntityType
 from gs_quant.markets.securities import Asset, AssetIdentifier
-from gs_quant.models.risk_model import FactorRiskModel, MarqueeRiskModel
-from gs_quant.markets.factor import ReturnFormat
+from gs_quant.models.risk_model import FactorRiskModel, ReturnFormat, MarqueeRiskModel
 from gs_quant.target.common import AssetClass, AssetType
-from gs_quant.target.risk_models import RiskModelDataMeasure, RiskModelDataAssetsRequest, \
+from gs_quant.target.risk_models import RiskModelDataMeasure, RiskModelDataAssetsRequest,\
     RiskModelUniverseIdentifierRequest
 from gs_quant.timeseries import plot_measure_entity, plot_measure, prices
 from gs_quant.timeseries.measures import _extract_series_from_df
 
 
 @plot_measure((AssetClass.Equity,), (AssetType.Single_Stock,), [QueryType.FACTOR_RETURN])
 def factor_zscore(asset: Asset, risk_model_id: str, factor_name: str, *,
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/measures_xccy.py` & `gs_quant-1.0.9/gs_quant/timeseries/measures_xccy.py`

 * *Files 10% similar despite different names*

```diff
@@ -35,15 +35,14 @@
 
 
 class CrossCurrencyRateOptionType(Enum):
     LIBOR = 'LIBOR'
     OIS = 'OIS'
     EUROSTR = 'EUROSTR'
     SOFR = 'SOFR'
-    SOFRVLIBOR = 'SOFRVLIBOR'
     TestRateOption = 'TestRateOption'
 
 
 class TdapiCrossCurrencyRatesDefaultsProvider:
     # flag to indicate that a given property should not  be included in asset query
     EMPTY_PROPERTY = "null"
 
@@ -65,75 +64,41 @@
 
     def get_maturity_for_benchmark(self, currency: CurrencyEnum, benchmark: str):
         return self.defaults.get("MATURITIES").get(currency.value).get(benchmark)
 
 
 CROSSCURRENCY_RATES_DEFAULTS = {
     "CURRENCIES": {
-        "AUD": [
-            {"BenchmarkType": "LIBOR",
-             "rateOption": "AUD-BBR-BBSW",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "AUD-AONIA-OIS-COMPOUND",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
-            {"BenchmarkType": "SOFRVLIBOR",
-             "rateOption": "AUD-BBR-BBSW",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
-        ],
-        "CAD": [
-            {"BenchmarkType": "LIBOR",
-             "rateOption": "CAD-BA-CDOR",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["NYC"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "CAD-BA-CDOR",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["NYC"]},
-        ],
-        "CHF": [
+        "EUR": [
             {"BenchmarkType": "LIBOR",
-             "rateOption": "CHF-LIBOR-BBA",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "CHF-SARON-OIS-COMPOUND",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
-            {"BenchmarkType": "SOFRVLIBOR",
-             "rateOption": "CHF-LIBOR-BBA",
+             "rateOption": "EUR-EURIBOR-TELERATE",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
-        ],
-        "DKK": [
-            {"BenchmarkType": "LIBOR",
-             "rateOption": "DKK-CIBOR2-DKNA13",
+            {"BenchmarkType": "OIS",
+             "rateOption": "EUR-EONIA-OIS-COMPOUND",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
             {"BenchmarkType": "SOFR",
-             "rateOption": "DKK-CIBOR2-DKNA13",
+             "rateOption": "EUR-EUROSTR-COMPOUND",
              "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
+             "pricingLocation": ["LDN"]}
         ],
-        "EUR": [
+        "USD": [
             {"BenchmarkType": "LIBOR",
-             "rateOption": "EUR-EURIBOR-TELERATE",
+             "rateOption": "USD-LIBOR-BBA",
              "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
+             "pricingLocation": ["NYC"]},
             {"BenchmarkType": "OIS",
-             "rateOption": "EUR-EONIA-OIS-COMPOUND",
+             "rateOption": "USD-FEDERAL FUNDS-H.15-OIS-COMP",
              "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
+             "pricingLocation": ["NYC"]},
             {"BenchmarkType": "SOFR",
-             "rateOption": "EUR-EUROSTR-COMPOUND",
+             "rateOption": "USD-SOFR-COMPOUND",
              "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]}
+             "pricingLocation": ["NYC"]}
         ],
         "GBP": [
             {"BenchmarkType": "LIBOR",
              "rateOption": "GBP-LIBOR-BBA",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
             {"BenchmarkType": "OIS",
@@ -155,120 +120,94 @@
              "designatedMaturity": "3m",
              "pricingLocation": ["TKO"]},
             {"BenchmarkType": "SOFR",
              "rateOption": "JPY-TONA-OIS-COMPOUND",
              "designatedMaturity": "3m",
              "pricingLocation": ["TKO"]}
         ],
-        "NOK": [
+        "CHF": [
             {"BenchmarkType": "LIBOR",
-             "rateOption": "NOK-NIBOR-BBA",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["LDN"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "NOK-NIBOR-BBA",
+             "rateOption": "CHF-LIBOR-BBA",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
         ],
-        "NZD": [
+        "DKK": [
             {"BenchmarkType": "LIBOR",
-             "rateOption": "NZD-BBR-FRA",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "NZD-NZIONA-OIS-COMPOUND",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
-            {"BenchmarkType": "SOFRVLIBOR",
-             "rateOption": "NZD-BBR-FRA",
+             "rateOption": "DKK-CIBOR2-DKNA13",
              "designatedMaturity": "3m",
-             "pricingLocation": ["TKO"]},
+             "pricingLocation": ["LDN"]},
         ],
         "SEK": [
             {"BenchmarkType": "LIBOR",
              "rateOption": "SEK-STIBOR-SIDE",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "SEK-STIBOR-SIDE",
+        ],
+        "NOK": [
+            {"BenchmarkType": "LIBOR",
+             "rateOption": "NOK-NIBOR-BBA",
              "designatedMaturity": "3m",
              "pricingLocation": ["LDN"]},
         ],
-        "SGD": [
-            {"BenchmarkType": "SOFR",
-             "rateOption": "SGD-SORA-COMPOUND",
+        "AUD": [
+            {"BenchmarkType": "LIBOR",
+             "rateOption": "AUD-BBR-BBSW",
              "designatedMaturity": "3m",
              "pricingLocation": ["TKO"]},
         ],
-        "USD": [
+        "NZD": [
             {"BenchmarkType": "LIBOR",
-             "rateOption": "USD-LIBOR-BBA",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["NYC"]},
-            {"BenchmarkType": "OIS",
-             "rateOption": "USD-FEDERAL FUNDS-H.15-OIS-COMP",
+             "rateOption": "NZD-BBR-FRA",
              "designatedMaturity": "3m",
-             "pricingLocation": ["NYC"]},
-            {"BenchmarkType": "SOFR",
-             "rateOption": "USD-SOFR-COMPOUND",
+             "pricingLocation": ["TKO"]},
+        ],
+        "CAD": [
+            {"BenchmarkType": "LIBOR",
+             "rateOption": "CAD-BA-CDOR",
              "designatedMaturity": "3m",
              "pricingLocation": ["NYC"]},
-            {"BenchmarkType": "SOFRVLIBOR",
-             "rateOption": "USD-SOFR-COMPOUND",
-             "designatedMaturity": "3m",
-             "pricingLocation": ["NYC"]}
         ],
     },
     "COMMON": {
         "payerSpread": "ATM",
         "clearingHouse": "NONE",
         "terminationTenor": "5y",
         "effectiveDate": "0b"
     }
 }
 crossCurrencyRates_defaults_provider = TdapiCrossCurrencyRatesDefaultsProvider(CROSSCURRENCY_RATES_DEFAULTS)
 
 CURRENCY_TO_XCCY_SWAP_RATE_BENCHMARK = {
-    'AUD': OrderedDict(
-        [('LIBOR', 'AUD-BBR-BBSW'), ('SOFR', 'AUD-AONIA-OIS-COMPOUND'), ('SOFRVLIBOR', 'AUD-BBR-BBSW')]),
-    'CAD': OrderedDict(
-        [('LIBOR', 'CAD-BA-CDOR'), ('SOFR', 'CAD-BA-CDOR')]),
-    'CHF': OrderedDict([('LIBOR', 'CHF-LIBOR-BBA'), ('OIS', 'CHF-SARON-OIS-COMPOUND'),
-                        ('SOFR', 'CHF-SARON-OIS-COMPOUND'), ('SOFRVLIBOR', 'CHF-LIBOR-BBA')]),
-    'DKK': OrderedDict([('LIBOR', 'DKK-CIBOR2-DKNA13'), ('SOFR', 'DKK-CIBOR2-DKNA13')]),
+    'CHF': OrderedDict([('LIBOR', 'CHF-LIBOR-BBA'), ('OIS', 'CHF-SARON-OIS-COMPOUND')]),
     'EUR': OrderedDict([('LIBOR', 'EUR-EURIBOR-TELERATE'), ('OIS', 'EUR-EONIA-OIS-COMPOUND'),
                         ('SOFR', 'EUR-EUROSTR-COMPOUND')]),
     'GBP': OrderedDict([('LIBOR', 'GBP-LIBOR-BBA'), ('OIS', 'GBP-SONIA-COMPOUND'), ('SOFR', 'GBP-SONIA-COMPOUND')]),
     'JPY': OrderedDict([('LIBOR', 'JPY-LIBOR-BBA'), ('OIS', 'JPY-TONA-OIS-COMPOUND'),
                         ('SOFR', 'JPY-TONA-OIS-COMPOUND')]),
-    'NOK': OrderedDict(
-        [('LIBOR', 'NOK-NIBOR-BBA'), ('SOFR', 'NOK-NIBOR-BBA')]),
-    'NZD': OrderedDict(
-        [('LIBOR', 'NZD-BBR-FRA'), ('SOFR', 'NZD-NZIONA-OIS-COMPOUND'), ('SOFRVLIBOR', 'NZD-BBR-FRA')]),
-    'SEK': OrderedDict(
-        [('LIBOR', 'SEK-STIBOR-SIDE'), ('SOFR', 'SEK-STIBOR-SIDE')]),
-    'SGD': OrderedDict(
-        [('SOFR', 'SGD-SORA-COMPOUND')]),
     'USD': OrderedDict(
-        [('LIBOR', 'USD-LIBOR-BBA'), ('OIS', 'USD-FEDERAL FUNDS-H.15-OIS-COMP'), ('SOFR', 'USD-SOFR-COMPOUND'),
-         ('SOFRVLIBOR', 'USD-SOFR-COMPOUND')]),
+        [('LIBOR', 'USD-LIBOR-BBA'), ('OIS', 'USD-FEDERAL FUNDS-H.15-OIS-COMP'), ('SOFR', 'USD-SOFR-COMPOUND')]),
+    'SEK': {'LIBOR': 'SEK-STIBOR-SIDE'},
+    'NOK': {'LIBOR': 'NOK-NIBOR-BBA'},
+    'DKK': {'LIBOR': 'DKK-CIBOR2-DKNA13'},
+    'AUD': {'LIBOR': 'AUD-BBR-BBSW'},
+    'CAD': {'LIBOR': 'CAD-BA-CDOR'},
+    'NZD': {'LIBOR': 'NZD-BBR-FRA'},
 }
 
 CURRENCY_TO_DUMMY_CROSSCURRENCY_SWAP_BBID = {
     'EUR': 'MAW8SAXPSKYA94E2',
     'GBP': 'MATDD783JM1C2GGD',
     'JPY': 'MAFMW4HJC5TDE51H',
     'CHF': 'MA5YSMR2VN8A5T0N',
     'NOK': 'MA44T4N363CWAQWN',
     'DKK': 'MAF8ZEM0Q7R2D0R3',
     'SEK': 'MADQDFZH81GX4NDP',
     'AUD': 'MAHN46BVXFAZ354E',
     'NZD': 'MAW1MNKPQWYJPX3A',
     'CAD': 'MAPRDGWMZSQJ8CZ0',
-    'SGD': 'MA7B3JT80Q617KGQ',
 }
 
 
 def _currency_to_tdapi_crosscurrency_swap_rate_asset(asset_spec: ASSET_SPEC) -> str:
     asset = _asset_from_spec(asset_spec)
     bbid = asset.get_identifier(AssetIdentifier.BLOOMBERG_ID)
     # for each currency, get a dummy asset for checking availability
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/statistics.py` & `gs_quant-1.0.9/gs_quant/timeseries/statistics.py`

 * *Files 1% similar despite different names*

```diff
@@ -12,24 +12,23 @@
 #
 #
 # Marquee Plot Service will attempt to make public functions (not prefixed with _) from this module available.
 # Such functions should be fully documented: docstrings should describe parameters and the return value, and provide
 # a 1-line description. Type annotations should be provided for parameters.
 
 import datetime
-
 import numpy
+import pandas as pd
 import scipy.stats.mstats as stats
-import statsmodels.api as sm
 from scipy.stats import percentileofscore
 from statsmodels.regression.rolling import RollingOLS
-
 from .algebra import *
-from ..data import DataContext
+import statsmodels.api as sm
 from ..models.epidemiology import SIR, SEIR, EpidemicModel
+from ..data import DataContext
 
 """
 Stats library is for basic arithmetic and statistical operations on timeseries.
 These include basic algebraic operations, probability and distribution analysis.
 Generally not finance-specific routines.
 """
 
@@ -728,16 +727,15 @@
             return pd.Series([0.0], index=x.index, dtype=np.dtype(float))
 
         clean_series = x.dropna()
         zscore_series = pd.Series(stats.zscore(clean_series, ddof=1), clean_series.index, dtype=np.dtype(float))
         return interpolate(zscore_series, x, Interpolate.NAN)
     if not isinstance(w.w, int):
         w = normalize_window(x, w)
-        dt_idx = pd.DatetimeIndex(x.index).date
-        values = [_zscore(x.loc[(dt_idx > (idx - w.w).date()) & (dt_idx <= idx)]) for idx in dt_idx]
+        values = [_zscore(x.loc[(x.index > (idx - w.w).date()) & (x.index <= idx)]) for idx in x.index]
         return apply_ramp(pd.Series(values, index=x.index, dtype=np.dtype(float)), w)
     else:
         return apply_ramp(x.rolling(w.w, 0).apply(_zscore, raw=False), w)
 
 
 @plot_function
 def winsorize(x: pd.Series, limit: float = 2.5, w: Union[Window, int, str] = Window(None, 0)) -> pd.Series:
@@ -884,41 +882,37 @@
     >>> percentiles(a, b, 22)
 
     **See also**
 
     :func:`zscores`
 
     """
+    w = normalize_window(x, w)
     if x.empty:
         return x
 
     if y is None:
         y = x.copy()
-    w = normalize_window(y, w)
 
     if isinstance(w.r, int) and w.r > len(y):
         raise ValueError('Ramp value must be less than the length of the series y.')
 
     if isinstance(w.w, int) and w.w > len(x):
         return pd.Series(dtype=float)
 
     res = pd.Series(dtype=np.dtype(float))
-    convert_to_date = not isinstance(x.index, pd.DatetimeIndex)
+    for idx, val in y.items():
+        sample = x.loc[(x.index > (idx - w.w).date()) & (x.index <= idx)] if isinstance(w.w, pd.DateOffset) \
+            else x[:idx][-w.w:]
+        res.loc[idx] = percentileofscore(sample, val, kind='mean')
 
-    if isinstance(w.w, pd.DateOffset):
-        for idx, val in y.items():
-            sample = x.loc[(x.index > ((idx - w.w).date() if convert_to_date else idx - w.w)) & (x.index <= idx)]
-            res.loc[idx] = percentileofscore(sample, val, kind='mean')
-    elif not y.empty:
-        min_periods = 0 if isinstance(w.r, pd.DateOffset) else w.r
-        rolling_window = x[:y.index[-1]].rolling(w.w, min_periods)
-        percentile_on_x_index = rolling_window.apply(lambda a: percentileofscore(a, y[a.index[-1]:][0], kind="mean"))
-        joined_index = pd.concat([x, y], axis=1).index
-        res = percentile_on_x_index.reindex(joined_index, method="ffill")[y.index]
-    return apply_ramp(res, w)
+    if isinstance(w.r, pd.DateOffset):
+        return res.loc[(res.index[0] + w.r).date():]
+    else:
+        return res[w.r:]
 
 
 @plot_function
 def percentile(x: pd.Series, n: float, w: Union[Window, int, str] = None) -> Union[pd.Series, float]:
     """
     Returns the nth percentile of a series.
 
@@ -1196,17 +1190,17 @@
         data_start.append(DataContext.current.start_date)
         start_date = max(data_start)
 
         data_end = [ts.index.max().date() for ts in [s, i, r] if isinstance(ts, pd.Series)]
         data_end.append(DataContext.current.end_date)
         end_date = max(data_end)
 
-        self.s = s if isinstance(s, pd.Series) else pd.Series([s])
-        self.i = i if isinstance(i, pd.Series) else pd.Series([i])
-        self.r = r if isinstance(r, pd.Series) else pd.Series([r])
+        self.s = s if isinstance(s, pd.Series) else [s]
+        self.i = i if isinstance(i, pd.Series) else [i]
+        self.r = r if isinstance(r, pd.Series) else [r]
         self.n = n
         self.beta_init = beta
         self.gamma_init = gamma
         self.fit = fit
         self.fit_period = fit_period
         self.beta_fixed = not (self.fit or (self.beta_init is None))
         self.gamma_fixed = not (self.fit or (self.gamma_init is None))
@@ -1214,18 +1208,18 @@
         lens = [len(x) for x in (self.s, self.i, self.r)]
         dtype = float if max(lens) == min(lens) else object
         data = np.array([self.s, self.i, self.r], dtype=dtype).T
 
         beta_init = self.beta_init if self.beta_init is not None else 0.9
         gamma_init = self.gamma_init if self.gamma_init is not None else 0.01
 
-        parameters, initial_conditions = SIR.get_parameters(self.s.iloc[0], self.i.iloc[0], self.r.iloc[0], n,
-                                                            beta=beta_init, gamma=gamma_init,
-                                                            beta_fixed=self.beta_fixed, gamma_fixed=self.gamma_fixed,
-                                                            S0_fixed=True, I0_fixed=True, R0_fixed=True)
+        parameters, initial_conditions = SIR.get_parameters(self.s[0], self.i[0], self.r[0], n, beta=beta_init,
+                                                            gamma=gamma_init, beta_fixed=self.beta_fixed,
+                                                            gamma_fixed=self.gamma_fixed, S0_fixed=True, I0_fixed=True,
+                                                            R0_fixed=True)
         self.parameters = parameters
 
         self._model = EpidemicModel(SIR, parameters=parameters, data=data, initial_conditions=initial_conditions,
                                     fit_period=self.fit_period)
         if self.fit:
             self._model.fit(verbose=False)
 
@@ -1381,18 +1375,18 @@
         data_start.append(DataContext.current.start_date)
         start_date = max(data_start)
 
         data_end = [ts.index.max().date() for ts in [s, i, r] if isinstance(ts, pd.Series)]
         data_end.append(DataContext.current.end_date)
         end_date = max(data_end)
 
-        self.s = s if isinstance(s, pd.Series) else pd.Series([s])
-        self.e = e if isinstance(e, pd.Series) else pd.Series([e])
-        self.i = i if isinstance(i, pd.Series) else pd.Series([i])
-        self.r = r if isinstance(r, pd.Series) else pd.Series([r])
+        self.s = s if isinstance(s, pd.Series) else [s]
+        self.e = e if isinstance(e, pd.Series) else [e]
+        self.i = i if isinstance(i, pd.Series) else [i]
+        self.r = r if isinstance(r, pd.Series) else [r]
         self.n = n
         self.beta_init = beta
         self.gamma_init = gamma
         self.sigma_init = sigma
         self.fit = fit
         self.fit_period = fit_period
         self.beta_fixed = not (self.fit or (self.beta is None))
@@ -1403,16 +1397,15 @@
         dtype = float if max(lens) == min(lens) else object
         data = np.array([self.s, self.e, self.i, self.r], dtype=dtype).T
 
         beta_init = self.beta_init if self.beta_init is not None else 0.9
         gamma_init = self.gamma_init if self.gamma_init is not None else 0.01
         sigma_init = self.sigma_init if self.sigma_init is not None else 0.2
 
-        parameters, initial_conditions = SEIR.get_parameters(self.s.iloc[0], self.e.iloc[0],
-                                                             self.i.iloc[0], self.r.iloc[0], n,
+        parameters, initial_conditions = SEIR.get_parameters(self.s[0], self.e[0], self.i[0], self.r[0], n,
                                                              beta=beta_init, gamma=gamma_init, sigma=sigma_init,
                                                              beta_fixed=self.beta_fixed,
                                                              gamma_fixed=self.gamma_fixed,
                                                              sigma_fixed=self.sigma_fixed,
                                                              S0_fixed=True, I0_fixed=True,
                                                              R0_fixed=True, E0_fixed=True, S0_max=5e6, I0_max=5e6,
                                                              E0_max=10e6, R0_max=10e6)
```

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/tca.py` & `gs_quant-1.0.9/gs_quant/timeseries/tca.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant/timeseries/technicals.py` & `gs_quant-1.0.9/gs_quant/timeseries/technicals.py`

 * *Files 0% similar despite different names*

```diff
@@ -170,28 +170,27 @@
     """
     w = normalize_window(x, w)
     window_size = w.w
     ramp = w.r
     means = apply_ramp(mean(x, Window(window_size, 0)), w)
     if means.size < 1:
         return pd.Series(dtype=float)
-    initial_moving_average = means.iloc[0]
+    initial_moving_average = means[0]
     if (isinstance(ramp, int) and ramp > 0) or isinstance(ramp, pd.DateOffset):
         x = apply_ramp(x, w)
 
     smoothed_moving_averages = x.copy()
     smoothed_moving_averages *= 0
-    smoothed_moving_averages.iloc[0] = initial_moving_average
+    smoothed_moving_averages[0] = initial_moving_average
     for i in range(1, len(x)):
         if isinstance(window_size, int):
             window_num_elem = window_size
         else:
             window_num_elem = len(x[(x.index > (x.index[i] - window_size).date()) & (x.index <= x.index[i])])
-        smoothed_moving_averages.iloc[i] = ((window_num_elem - 1) *
-                                            smoothed_moving_averages.iloc[i - 1] + x.iloc[i]) / window_num_elem
+        smoothed_moving_averages[i] = ((window_num_elem - 1) * smoothed_moving_averages[i - 1] + x[i]) / window_num_elem
     return smoothed_moving_averages
 
 
 @plot_function
 def relative_strength_index(x: pd.Series, w: Union[Window, int, str] = 14) -> pd.DataFrame:
     """
     Relative Strength Index
@@ -232,18 +231,18 @@
     moving_avg_losses = smoothed_moving_average(losses, w)
 
     rsi_len = len(moving_avg_gains)
     rsi = moving_avg_gains.copy()
     rsi *= 0
 
     for index in range(0, rsi_len):
-        if moving_avg_losses.iloc[index] == 0:
-            rsi.iloc[index] = 100
+        if moving_avg_losses[index] == 0:
+            rsi[index] = 100
         else:
-            relative_strength = moving_avg_gains.iloc[index] / moving_avg_losses.iloc[index]
+            relative_strength = moving_avg_gains[index] / moving_avg_losses[index]
             rsi[index] = 100 - (100 / (1 + relative_strength))
 
     return rsi
 
 
 @plot_function
 def exponential_moving_average(x: pd.Series, beta: float = 0.75) -> pd.Series:
```

### Comparing `gs_quant-1.0.80/gs_quant/tracing/__init__.py` & `gs_quant-1.0.9/gs_quant/tracing/__init__.py`

 * *Files identical despite different names*

### Comparing `gs_quant-1.0.80/gs_quant.egg-info/PKG-INFO` & `gs_quant-1.0.9/gs_quant.egg-info/PKG-INFO`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gs-quant
-Version: 1.0.80
+Version: 1.0.9
 Summary: Goldman Sachs Quant
 Home-page: https://marquee.gs.com
 Author: Goldman Sachs
 Author-email: developer@gs.com
 License: http://www.apache.org/licenses/LICENSE-2.0
 Description: # GS Quant
         
@@ -27,15 +27,15 @@
         
         ## Examples
         
         You can find examples, guides and tutorials in the respective folders as well as on [Goldman Sachs Developer](https://developer.gs.com/docs/gsquant/).
         
         ## Contributions
         
-        Contributions are encouraged! Please see [CONTRIBUTING](CONTRIBUTING.md) for more details.
+        Contributions are encouraged! Please see CONTRIBUTING.MD for more details.
         
         ## Help
         
         Please reach out to `gs-quant@gs.com` with any questions, comments or feedback.
         
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

### Comparing `gs_quant-1.0.80/gs_quant.egg-info/SOURCES.txt` & `gs_quant-1.0.9/gs_quant.egg-info/SOURCES.txt`

 * *Files 1% similar despite different names*

```diff
@@ -42,16 +42,14 @@
 gs_quant/analytics/processors/special_processors.py
 gs_quant/analytics/processors/statistics_processors.py
 gs_quant/analytics/processors/utility_processors.py
 gs_quant/analytics/workspaces/__init__.py
 gs_quant/analytics/workspaces/components.py
 gs_quant/analytics/workspaces/workspace.py
 gs_quant/api/__init__.py
-gs_quant/api/api_cache.py
-gs_quant/api/api_session.py
 gs_quant/api/data.py
 gs_quant/api/risk.py
 gs_quant/api/utils.py
 gs_quant/api/fred/__init__.py
 gs_quant/api/fred/data.py
 gs_quant/api/fred/fred_query.py
 gs_quant/api/gs/__init__.py
@@ -72,17 +70,15 @@
 gs_quant/api/gs/parser.py
 gs_quant/api/gs/plots.py
 gs_quant/api/gs/portfolios.py
 gs_quant/api/gs/price.py
 gs_quant/api/gs/reports.py
 gs_quant/api/gs/risk.py
 gs_quant/api/gs/risk_models.py
-gs_quant/api/gs/scenarios.py
 gs_quant/api/gs/screens.py
-gs_quant/api/gs/secmaster.py
 gs_quant/api/gs/thematics.py
 gs_quant/api/gs/users.py
 gs_quant/api/gs/workspaces.py
 gs_quant/backtests/__init__.py
 gs_quant/backtests/action_handler.py
 gs_quant/backtests/actions.py
 gs_quant/backtests/backtest_engine.py
@@ -111,15 +107,14 @@
 gs_quant/data/coordinate.py
 gs_quant/data/core.py
 gs_quant/data/dataset.py
 gs_quant/data/fields.py
 gs_quant/data/log.py
 gs_quant/data/query.py
 gs_quant/data/stream.py
-gs_quant/data/utilities.py
 gs_quant/datetime/__init__.py
 gs_quant/datetime/date.py
 gs_quant/datetime/gscalendar.py
 gs_quant/datetime/point.py
 gs_quant/datetime/relative_date.py
 gs_quant/datetime/rules.py
 gs_quant/datetime/time.py
@@ -202,15 +197,14 @@
 gs_quant/docs/gs_quant.timeseries.technicals.exponential_volatility.html
 gs_quant/docs/gs_quant.timeseries.technicals.moving_average.html
 gs_quant/docs/gs_quant.timeseries.technicals.relative_strength_index.html
 gs_quant/docs/gs_quant.timeseries.technicals.smoothed_moving_average.html
 gs_quant/entities/__init__.py
 gs_quant/entities/entitlements.py
 gs_quant/entities/entity.py
-gs_quant/entities/entity_utils.py
 gs_quant/entities/tree_entity.py
 gs_quant/instrument/__init__.py
 gs_quant/instrument/core.py
 gs_quant/instrument/overrides.py
 gs_quant/markets/__init__.py
 gs_quant/markets/baskets.py
 gs_quant/markets/core.py
@@ -221,18 +215,16 @@
 gs_quant/markets/indices_utils.py
 gs_quant/markets/markets.py
 gs_quant/markets/optimizer.py
 gs_quant/markets/portfolio.py
 gs_quant/markets/portfolio_manager.py
 gs_quant/markets/portfolio_manager_utils.py
 gs_quant/markets/position_set.py
-gs_quant/markets/position_set_utils.py
 gs_quant/markets/report.py
 gs_quant/markets/report_utils.py
-gs_quant/markets/scenario.py
 gs_quant/markets/screens.py
 gs_quant/markets/securities.py
 gs_quant/models/__init__.py
 gs_quant/models/epidemiology.py
 gs_quant/models/risk_model.py
 gs_quant/models/risk_model_utils.py
 gs_quant/quote_reports/__init__.py
@@ -265,22 +257,20 @@
 gs_quant/target/monitor.py
 gs_quant/target/portfolios.py
 gs_quant/target/positions_v2_pricing.py
 gs_quant/target/price.py
 gs_quant/target/reports.py
 gs_quant/target/risk.py
 gs_quant/target/risk_models.py
-gs_quant/target/scenarios.py
 gs_quant/target/screens.py
 gs_quant/target/secmaster.py
 gs_quant/target/trades.py
 gs_quant/target/workflow_quote.py
 gs_quant/target/workspaces_markets.py
 gs_quant/test/__init__.py
-gs_quant/test/mock_data_test_utils.py
 gs_quant/test/test_base.py
 gs_quant/test/test_session.py
 gs_quant/test/analytics/__init__.py
 gs_quant/test/analytics/test_datagrid.py
 gs_quant/test/analytics/test_sorting_and_filtering.py
 gs_quant/test/analytics/test_workspace.py
 gs_quant/test/api/__init__.py
@@ -299,52 +289,46 @@
 gs_quant/test/api/test_instruments.py
 gs_quant/test/api/test_json.py
 gs_quant/test/api/test_monitor.py
 gs_quant/test/api/test_portfolios.py
 gs_quant/test/api/test_reports.py
 gs_quant/test/api/test_risk.py
 gs_quant/test/api/test_risk_models.py
-gs_quant/test/api/test_scenarios.py
 gs_quant/test/api/test_target.py
 gs_quant/test/api/test_thread_manager.py
 gs_quant/test/api/test_users.py
 gs_quant/test/backtest/__init__.py
 gs_quant/test/backtest/test_backtest_eq_vol_engine.py
 gs_quant/test/backtest/test_backtest_flow_vol.py
 gs_quant/test/backtest/test_backtest_predefined.py
 gs_quant/test/backtest/test_generic_engine.py
 gs_quant/test/backtest/test_triggers.py
 gs_quant/test/data/__init__.py
-gs_quant/test/data/test_data_caching.py
 gs_quant/test/data/test_data_coordinate.py
 gs_quant/test/data/test_dataset.py
-gs_quant/test/data/test_query.py
 gs_quant/test/datetime_/__init__.py
 gs_quant/test/datetime_/test_date.py
 gs_quant/test/datetime_/test_gscalendar.py
 gs_quant/test/datetime_/test_point.py
 gs_quant/test/datetime_/test_relative_date.py
 gs_quant/test/datetime_/test_time.py
 gs_quant/test/fixtures/__init__.py
 gs_quant/test/fixtures/content.py
 gs_quant/test/markets/__init__.py
 gs_quant/test/markets/test_baskets.py
 gs_quant/test/markets/test_hedger.py
 gs_quant/test/markets/test_instrument.py
 gs_quant/test/markets/test_portfolio.py
 gs_quant/test/markets/test_portfolio_manager.py
-gs_quant/test/markets/test_position_set.py
 gs_quant/test/markets/test_pricing_context.py
 gs_quant/test/markets/test_report.py
-gs_quant/test/markets/test_scenarios.py
 gs_quant/test/markets/test_securities.py
 gs_quant/test/models/__init__.py
 gs_quant/test/models/test_epidemiology.py
 gs_quant/test/models/test_risk_model.py
-gs_quant/test/models/test_risk_model_utils.py
 gs_quant/test/timeseries/__init__.py
 gs_quant/test/timeseries/test_algebra.py
 gs_quant/test/timeseries/test_analysis.py
 gs_quant/test/timeseries/test_backtesting.py
 gs_quant/test/timeseries/test_datetime.py
 gs_quant/test/timeseries/test_econometrics.py
 gs_quant/test/timeseries/test_helper.py
@@ -390,10 +374,8 @@
 gs_quant/timeseries/measures_reports.py
 gs_quant/timeseries/measures_risk_models.py
 gs_quant/timeseries/measures_xccy.py
 gs_quant/timeseries/statistics.py
 gs_quant/timeseries/tca.py
 gs_quant/timeseries/technicals.py
 gs_quant/tracing/__init__.py
-gs_quant/tracing/tracing.py
-gs_quant/workflow/__init__.py
-gs_quant/workflow/workflow.py
+gs_quant/tracing/tracing.py
```

### Comparing `gs_quant-1.0.80/gs_quant.egg-info/requires.txt` & `gs_quant-1.0.9/gs_quant.egg-info/requires.txt`

 * *Files 10% similar despite different names*

```diff
@@ -1,12 +1,13 @@
+asteval<0.9.24
 aenum
 backoff
 cachetools
 certifi
-dataclasses_json
+dataclasses_json>=0.5.6
 deprecation
 funcsigs
 inflection
 lmfit
 more_itertools
 msgpack
 nest-asyncio
@@ -15,29 +16,28 @@
 python-dateutil>=2.7.0
 requests
 tqdm
 websockets
 
 [:python_version < "3.7"]
 dataclasses
-contextvars
 pandas<2.0.0,>1.0.0
 scipy<1.6.0,>=1.2.0
 statsmodels<=0.12.2
 typing
 
 [:python_version < "3.8"]
 scipy<1.8.0,>=1.2.0
 
 [:python_version > "3.6"]
 httpx>=0.23.3
 statsmodels>=0.13.0
 
 [:python_version > "3.7"]
-pandas<2.2,>=1.4
+pandas>=1.4
 
 [:python_version > "3.8"]
 scipy>=1.2.0
 
 [develop]
 wheel
 sphinx
@@ -63,10 +63,11 @@
 pytest-cov
 pytest-mock
 pytest-ordering
 testfixtures
 nbconvert
 nbformat
 jupyter_client
+pipreqs
 
 [turbo]
 quant-extensions
```

### Comparing `gs_quant-1.0.80/setup.py` & `gs_quant-1.0.9/setup.py`

 * *Files 2% similar despite different names*

```diff
@@ -49,31 +49,31 @@
     long_description=long_description,
     long_description_content_type="text/markdown",
     url="https://marquee.gs.com",
     license="http://www.apache.org/licenses/LICENSE-2.0",
     packages=setuptools.find_packages(),
     include_package_data=True,
     install_requires=[
+        "asteval<0.9.24",
         "aenum",
         "backoff",
         "cachetools",
         "certifi",
         "dataclasses;python_version<'3.7'",
-        "contextvars;python_version<'3.7'",
-        "dataclasses_json",
+        "dataclasses_json>=0.5.6",
         "deprecation",
         "funcsigs",
         "inflection",
         "lmfit",
         "more_itertools",
         "msgpack",
         "nest-asyncio",
         "opentracing",
         "pandas>1.0.0,<2.0.0;python_version<'3.7'",
-        "pandas>=1.4,<2.2;python_version>'3.7'",
+        "pandas>=1.4;python_version>'3.7'",
         "pydash<7.0.0",
         "python-dateutil>=2.7.0",
         "requests",
         "httpx>=0.23.3;python_version>'3.6'",
         "scipy>=1.2.0;python_version>'3.8'",
         "scipy>=1.2.0,<1.6.0;python_version<'3.7'",
         "scipy>=1.2.0,<1.8.0;python_version<'3.8'",
@@ -84,15 +84,15 @@
         "websockets"
     ],
     extras_require={
         "internal": ["gs_quant_internal>=1.4.9"],
         "turbo": ["quant-extensions"],
         "notebook": ["jupyter", "matplotlib", "seaborn", "treelib"],
         "test": ["pytest", "pytest-cov", "pytest-mock", "pytest-ordering", "testfixtures", "nbconvert", "nbformat",
-                 "jupyter_client"],
+                 "jupyter_client", "pipreqs"],
         "develop": ["wheel", "sphinx", "sphinx_rtd_theme", "sphinx_autodoc_typehints", "pytest", "pytest-cov",
                     "pytest-mock", "pytest-ordering", "testfixtures"]
     },
     classifiers=[
         "Programming Language :: Python :: 3",
         "Programming Language :: Python :: 3.7",
         "Programming Language :: Python :: 3.8",
```

### Comparing `gs_quant-1.0.80/versioneer.py` & `gs_quant-1.0.9/versioneer.py`

 * *Files identical despite different names*

